var QuantumWeasel=function(t){var e={};function r(n){if(e[n])return e[n].exports;var i=e[n]={i:n,l:!1,exports:{}};return t[n].call(i.exports,i,i.exports,r),i.l=!0,i.exports}return r.m=t,r.c=e,r.d=function(t,e,n){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},r.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)r.d(n,i,function(e){return t[e]}.bind(null,i));return n},r.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="",r(r.s=23)}([function(t,e,r){"use strict";const n=2.3283064365386963e-10;class i{constructor(){this._seed=0,this._s0=0,this._s1=0,this._s2=0,this._c=0}getSeed(){return this._seed}setSeed(t){return t=t<1?1/t:t,this._seed=t,this._s0=(t>>>0)*n,t=69069*t+1>>>0,this._s1=t*n,t=69069*t+1>>>0,this._s2=t*n,this._c=1,this}getUniform(){let t=2091639*this._s0+this._c*n;return this._s0=this._s1,this._s1=this._s2,this._c=0|t,this._s2=t-this._c,this._s2}getUniformInt(t,e){let r=Math.max(t,e),n=Math.min(t,e);return Math.floor(this.getUniform()*(r-n+1))+n}getNormal(t=0,e=1){let r,n,i;do{i=(r=2*this.getUniform()-1)*r+(n=2*this.getUniform()-1)*n}while(i>1||0==i);return t+r*Math.sqrt(-2*Math.log(i)/i)*e}getPercentage(){return 1+Math.floor(100*this.getUniform())}getItem(t){return t.length?t[Math.floor(this.getUniform()*t.length)]:null}shuffle(t){let e=[],r=t.slice();for(;r.length;){let t=r.indexOf(this.getItem(r));e.push(r.splice(t,1)[0])}return e}getWeightedValue(t){let e=0;for(let r in t)e+=t[r];let r,n=this.getUniform()*e,i=0;for(r in t)if(n<(i+=t[r]))return r;return r}getState(){return[this._s0,this._s1,this._s2,this._c]}setState(t){return this._s0=t[0],this._s1=t[1],this._s2=t[2],this._c=t[3],this}clone(){return(new i).setState(this.getState())}}e.a=(new i).setSeed(Date.now())},function(t,e,r){"use strict";function n(t,e){return(t%e+e)%e}function i(t,e=0,r=1){return t<e?e:t>r?r:t}function o(t){return t.charAt(0).toUpperCase()+t.substring(1)}function s(t,...e){let r=s.map;return t.replace(/%(?:([a-z]+)|(?:{([^}]+)}))/gi,(function(n,i,s,a){if("%"==t.charAt(a-1))return n.substring(1);if(!e.length)return n;let u=e[0],l=(i||s).split(","),c=l.shift()||"",h=r[c.toLowerCase()];if(!h)return n;let f=(u=e.shift())[h].apply(u,l),d=c.charAt(0);return d!=d.toLowerCase()&&(f=o(f)),f}))}r.r(e),r.d(e,"mod",(function(){return n})),r.d(e,"clamp",(function(){return i})),r.d(e,"capitalize",(function(){return o})),r.d(e,"format",(function(){return s})),s.map={s:"toString"}},function(t,e,r){"use strict";r.r(e),r.d(e,"fromString",(function(){return o})),r.d(e,"add",(function(){return s})),r.d(e,"add_",(function(){return a})),r.d(e,"multiply",(function(){return u})),r.d(e,"multiply_",(function(){return l})),r.d(e,"interpolate",(function(){return c})),r.d(e,"lerp",(function(){return h})),r.d(e,"interpolateHSL",(function(){return f})),r.d(e,"lerpHSL",(function(){return d})),r.d(e,"randomize",(function(){return p})),r.d(e,"rgb2hsl",(function(){return _})),r.d(e,"hsl2rgb",(function(){return m})),r.d(e,"toRGB",(function(){return v})),r.d(e,"toHex",(function(){return y}));var n=r(1),i=r(0);function o(t){let e,r;if(t in b)e=b[t];else{if("#"==t.charAt(0)){let r=(t.match(/[0-9a-f]/gi)||[]).map(t=>parseInt(t,16));if(3==r.length)e=r.map(t=>17*t);else{for(let t=0;t<3;t++)r[t+1]+=16*r[t],r.splice(t,1);e=r}}else e=(r=t.match(/rgb\(([0-9, ]+)\)/i))?r[1].split(/\s*,\s*/).map(t=>parseInt(t)):[0,0,0];b[t]=e}return e.slice()}function s(t,...e){let r=t.slice();for(let t=0;t<3;t++)for(let n=0;n<e.length;n++)r[t]+=e[n][t];return r}function a(t,...e){for(let r=0;r<3;r++)for(let n=0;n<e.length;n++)t[r]+=e[n][r];return t}function u(t,...e){let r=t.slice();for(let t=0;t<3;t++){for(let n=0;n<e.length;n++)r[t]*=e[n][t]/255;r[t]=Math.round(r[t])}return r}function l(t,...e){for(let r=0;r<3;r++){for(let n=0;n<e.length;n++)t[r]*=e[n][r]/255;t[r]=Math.round(t[r])}return t}function c(t,e,r=.5){let n=t.slice();for(let i=0;i<3;i++)n[i]=Math.round(n[i]+r*(e[i]-t[i]));return n}const h=c;function f(t,e,r=.5){let n=_(t),i=_(e);for(let t=0;t<3;t++)n[t]+=r*(i[t]-n[t]);return m(n)}const d=f;function p(t,e){e instanceof Array||(e=Math.round(i.a.getNormal(0,e)));let r=t.slice();for(let t=0;t<3;t++)r[t]+=e instanceof Array?Math.round(i.a.getNormal(0,e[t])):e;return r}function _(t){let e,r=t[0]/255,n=t[1]/255,i=t[2]/255,o=Math.max(r,n,i),s=Math.min(r,n,i),a=0,u=(o+s)/2;if(o==s)e=0;else{let t=o-s;switch(e=u>.5?t/(2-o-s):t/(o+s),o){case r:a=(n-i)/t+(n<i?6:0);break;case n:a=(i-r)/t+2;break;case i:a=(r-n)/t+4}a/=6}return[a,e,u]}function g(t,e,r){return r<0&&(r+=1),r>1&&(r-=1),r<1/6?t+6*(e-t)*r:r<.5?e:r<2/3?t+(e-t)*(2/3-r)*6:t}function m(t){let e=t[2];if(0==t[1])return[e=Math.round(255*e),e,e];{let r=t[1],n=e<.5?e*(1+r):e+r-e*r,i=2*e-n,o=g(i,n,t[0]+1/3),s=g(i,n,t[0]),a=g(i,n,t[0]-1/3);return[Math.round(255*o),Math.round(255*s),Math.round(255*a)]}}function v(t){return`rgb(${t.map(t=>Object(n.clamp)(t,0,255)).join(",")})`}function y(t){return`#${t.map(t=>Object(n.clamp)(t,0,255).toString(16).padStart(2,"0")).join("")}`}const b={black:[0,0,0],navy:[0,0,128],darkblue:[0,0,139],mediumblue:[0,0,205],blue:[0,0,255],darkgreen:[0,100,0],green:[0,128,0],teal:[0,128,128],darkcyan:[0,139,139],deepskyblue:[0,191,255],darkturquoise:[0,206,209],mediumspringgreen:[0,250,154],lime:[0,255,0],springgreen:[0,255,127],aqua:[0,255,255],cyan:[0,255,255],midnightblue:[25,25,112],dodgerblue:[30,144,255],forestgreen:[34,139,34],seagreen:[46,139,87],darkslategray:[47,79,79],darkslategrey:[47,79,79],limegreen:[50,205,50],mediumseagreen:[60,179,113],turquoise:[64,224,208],royalblue:[65,105,225],steelblue:[70,130,180],darkslateblue:[72,61,139],mediumturquoise:[72,209,204],indigo:[75,0,130],darkolivegreen:[85,107,47],cadetblue:[95,158,160],cornflowerblue:[100,149,237],mediumaquamarine:[102,205,170],dimgray:[105,105,105],dimgrey:[105,105,105],slateblue:[106,90,205],olivedrab:[107,142,35],slategray:[112,128,144],slategrey:[112,128,144],lightslategray:[119,136,153],lightslategrey:[119,136,153],mediumslateblue:[123,104,238],lawngreen:[124,252,0],chartreuse:[127,255,0],aquamarine:[127,255,212],maroon:[128,0,0],purple:[128,0,128],olive:[128,128,0],gray:[128,128,128],grey:[128,128,128],skyblue:[135,206,235],lightskyblue:[135,206,250],blueviolet:[138,43,226],darkred:[139,0,0],darkmagenta:[139,0,139],saddlebrown:[139,69,19],darkseagreen:[143,188,143],lightgreen:[144,238,144],mediumpurple:[147,112,216],darkviolet:[148,0,211],palegreen:[152,251,152],darkorchid:[153,50,204],yellowgreen:[154,205,50],sienna:[160,82,45],brown:[165,42,42],darkgray:[169,169,169],darkgrey:[169,169,169],lightblue:[173,216,230],greenyellow:[173,255,47],paleturquoise:[175,238,238],lightsteelblue:[176,196,222],powderblue:[176,224,230],firebrick:[178,34,34],darkgoldenrod:[184,134,11],mediumorchid:[186,85,211],rosybrown:[188,143,143],darkkhaki:[189,183,107],silver:[192,192,192],mediumvioletred:[199,21,133],indianred:[205,92,92],peru:[205,133,63],chocolate:[210,105,30],tan:[210,180,140],lightgray:[211,211,211],lightgrey:[211,211,211],palevioletred:[216,112,147],thistle:[216,191,216],orchid:[218,112,214],goldenrod:[218,165,32],crimson:[220,20,60],gainsboro:[220,220,220],plum:[221,160,221],burlywood:[222,184,135],lightcyan:[224,255,255],lavender:[230,230,250],darksalmon:[233,150,122],violet:[238,130,238],palegoldenrod:[238,232,170],lightcoral:[240,128,128],khaki:[240,230,140],aliceblue:[240,248,255],honeydew:[240,255,240],azure:[240,255,255],sandybrown:[244,164,96],wheat:[245,222,179],beige:[245,245,220],whitesmoke:[245,245,245],mintcream:[245,255,250],ghostwhite:[248,248,255],salmon:[250,128,114],antiquewhite:[250,235,215],linen:[250,240,230],lightgoldenrodyellow:[250,250,210],oldlace:[253,245,230],red:[255,0,0],fuchsia:[255,0,255],magenta:[255,0,255],deeppink:[255,20,147],orangered:[255,69,0],tomato:[255,99,71],hotpink:[255,105,180],coral:[255,127,80],darkorange:[255,140,0],lightsalmon:[255,160,122],orange:[255,165,0],lightpink:[255,182,193],pink:[255,192,203],gold:[255,215,0],peachpuff:[255,218,185],navajowhite:[255,222,173],moccasin:[255,228,181],bisque:[255,228,196],mistyrose:[255,228,225],blanchedalmond:[255,235,205],papayawhip:[255,239,213],lavenderblush:[255,240,245],seashell:[255,245,238],cornsilk:[255,248,220],lemonchiffon:[255,250,205],floralwhite:[255,250,240],snow:[255,250,250],yellow:[255,255,0],lightyellow:[255,255,224],ivory:[255,255,240],white:[255,255,255]}},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});class n{constructor(t,e){this.y=t,this.x=e}id(t){return this.y*t+this.x}pos(t){return[this.y*t,this.x*t]}get top(){return n.importCoord({y:this.y-1,x:this.x})}get bottom(){return n.importCoord({y:this.y+1,x:this.x})}get left(){return n.importCoord({y:this.y,x:this.x-1})}get right(){return n.importCoord({y:this.y,x:this.x+1})}get adjacent(){return[this.top,this.right,this.bottom,this.left]}get array(){return[this.y,this.x]}isAdjacent(t){return t.isIncludedIn(this.adjacent)}equal(t){return this.x===t.x&&this.y===t.y}isIncludedIn(t){return t.filter(t=>this.equal(t)).length>0}toString(){return`[Y:${this.y}, X:${this.x}]`}exportCoord(){return{y:this.y,x:this.x}}static importCoord(t){return new n(t.y,t.x)}static fromId(t,e){const r=t%e,i=Math.floor(t/e);return n.importCoord({y:i,x:r})}}e.default=n},function(t,e,r){"use strict";var n=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e};Object.defineProperty(e,"__esModule",{value:!0});var i=n(r(7)),o=function(){function t(t,e,r){if(e!==r.length)throw new Error("Coordinates ["+r+"] array is of length "+r.length+", not "+e+".");this.name=t,this.coordNames=r,this.size=e}return t.polarization=function(){return new t("polarisation",2,["H","V"])},t.direction=function(){return new t("direction",4,[">","^","<","v"])},t.spin=function(){return new t("spin",2,["u","d"])},t.position=function(e,r){return void 0===r&&(r="x"),new t(r,e,i.range(e).map((function(t){return t.toString()})))},t.prototype.toString=function(){return"#Dimension ["+this.name+"] of size ["+this.size.toString()+"] has coordinates named: ["+this.coordNames+"]"},Object.defineProperty(t.prototype,"coordString",{get:function(){return this.coordNames.join("")},enumerable:!0,configurable:!0}),t.prototype.isEqual=function(t){return this.name===t.name&&this.size===t.size&&i.isEqual(this.coordNames,t.coordNames)},t.prototype.coordNameToIndex=function(t){var e=this.coordNames.indexOf(t);if(e<0)throw new Error(t+" is not in ["+this.coordNames+"]");return e},t.concatDimNames=function(t){var e="";return t.forEach((function(t){e+=t.coordString})),e},t.checkDimensions=function(t,e){if(t.length!==e.length)throw console.error("Dimensions with unequal number of components "+t.length+" !== "+e.length+".\n\n        Dimensions 1:\n"+t.join("\n")+"\n\n        Dimensions 2:\n"+e.join("\n")),new Error("Dimensions array size mismatch...");i.range(t.length).forEach((function(r){if(!t[r].isEqual(e[r]))throw console.error("Dimensions have the same number of components, but the component "+r+" is\n"+t[r]+"\nvs\n"+e[r]+".\n\n          Dimensions 1:\n"+t.join("\n")+"\n\n          Dimensions 2:\n"+e.join("\n")),new Error("Dimensions array order mismatch...")}))},t.stringToCoordIndices=function(t,e){if(e.length!==t.length)throw"dimensions.length ("+e.length+") !== string.length ("+t.length+")";return i.range(e.length).map((function(r){return e[r].coordNameToIndex(t[r])}))},t}();e.default=o},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r(9),i=function(){function t(t,e){void 0===e&&(e=0),this.re=t,this.im=e}return Object.defineProperty(t.prototype,"r",{get:function(){return this.abs()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"phi",{get:function(){return this.arg()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"phiTau",{get:function(){return this.arg()/n.TAU},enumerable:!0,configurable:!0}),t.prototype.abs2=function(){return Math.pow(this.re,2)+Math.pow(this.im,2)},t.prototype.abs=function(){return Math.sqrt(Math.pow(this.re,2)+Math.pow(this.im,2))},t.prototype.arg=function(){var t=Math.atan2(this.im,this.re);return t<0&&(t+=n.TAU),t},t.prototype.add=function(e){return new t(this.re+e.re,this.im+e.im)},t.prototype.sub=function(e){return new t(this.re-e.re,this.im-e.im)},t.prototype.mul=function(e){return new t(this.re*e.re-this.im*e.im,this.re*e.im+this.im*e.re)},t.prototype.conj=function(){return new t(this.re,-this.im)},t.prototype.normalize=function(){if(0!==this.r)return new t(this.re/this.r,this.im/this.r);throw new Error("Cannot normalize a 0 length vector...")},t.prototype.equal=function(t){return this.re===t.re&&this.im===t.im},t.prototype.isZero=function(){return 0===this.re&&0===this.im},t.prototype.toString=function(t,e){switch(void 0===t&&(t="cartesian"),void 0===e&&(e=2),t){case"cartesian":return"("+this.re.toFixed(e)+" "+(this.im>=0?"+":"")+this.im.toFixed(e)+"i)";case"polar":return this.r.toFixed(e)+" exp("+this.phi.toFixed(e)+"i)";case"polarTau":return this.r.toFixed(e)+" exp("+this.phiTau.toFixed(e)+"τi)";default:throw new Error("complexFormat '"+t+"' is not in ['cartesian', 'polar', 'polarTau'].")}},t.fromPolar=function(e,r){return new t(e*Math.cos(r),e*Math.sin(r))},t}();e.default=i,e.Cx=function(t,e){return void 0===e&&(e=0),new i(t,e)}},function(t,e,r){"use strict";r.d(e,"a",(function(){return n}));class n{getContainer(){return null}setOptions(t){this._options=t}}},function(t,e,r){(function(t,n){var i;
/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */(function(){var o,s=200,a="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",u="Expected a function",l="__lodash_hash_undefined__",c=500,h="__lodash_placeholder__",f=1,d=2,p=4,_=1,g=2,m=1,v=2,y=4,b=8,w=16,x=32,S=64,E=128,C=256,O=512,k=30,M="...",T=800,A=16,P=1,z=2,I=1/0,V=9007199254740991,K=17976931348623157e292,R=NaN,j=4294967295,D=j-1,L=j>>>1,U=[["ary",E],["bind",m],["bindKey",v],["curry",b],["curryRight",w],["flip",O],["partial",x],["partialRight",S],["rearg",C]],N="[object Arguments]",F="[object Array]",W="[object AsyncFunction]",B="[object Boolean]",Y="[object Date]",$="[object DOMException]",H="[object Error]",X="[object Function]",q="[object GeneratorFunction]",G="[object Map]",Z="[object Number]",Q="[object Null]",J="[object Object]",tt="[object Proxy]",et="[object RegExp]",rt="[object Set]",nt="[object String]",it="[object Symbol]",ot="[object Undefined]",st="[object WeakMap]",at="[object WeakSet]",ut="[object ArrayBuffer]",lt="[object DataView]",ct="[object Float32Array]",ht="[object Float64Array]",ft="[object Int8Array]",dt="[object Int16Array]",pt="[object Int32Array]",_t="[object Uint8Array]",gt="[object Uint8ClampedArray]",mt="[object Uint16Array]",vt="[object Uint32Array]",yt=/\b__p \+= '';/g,bt=/\b(__p \+=) '' \+/g,wt=/(__e\(.*?\)|\b__t\)) \+\n'';/g,xt=/&(?:amp|lt|gt|quot|#39);/g,St=/[&<>"']/g,Et=RegExp(xt.source),Ct=RegExp(St.source),Ot=/<%-([\s\S]+?)%>/g,kt=/<%([\s\S]+?)%>/g,Mt=/<%=([\s\S]+?)%>/g,Tt=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,At=/^\w*$/,Pt=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,zt=/[\\^$.*+?()[\]{}|]/g,It=RegExp(zt.source),Vt=/^\s+|\s+$/g,Kt=/^\s+/,Rt=/\s+$/,jt=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,Dt=/\{\n\/\* \[wrapped with (.+)\] \*/,Lt=/,? & /,Ut=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,Nt=/\\(\\)?/g,Ft=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,Wt=/\w*$/,Bt=/^[-+]0x[0-9a-f]+$/i,Yt=/^0b[01]+$/i,$t=/^\[object .+?Constructor\]$/,Ht=/^0o[0-7]+$/i,Xt=/^(?:0|[1-9]\d*)$/,qt=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,Gt=/($^)/,Zt=/['\n\r\u2028\u2029\\]/g,Qt="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",Jt="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",te="[\\ud800-\\udfff]",ee="["+Jt+"]",re="["+Qt+"]",ne="\\d+",ie="[\\u2700-\\u27bf]",oe="[a-z\\xdf-\\xf6\\xf8-\\xff]",se="[^\\ud800-\\udfff"+Jt+ne+"\\u2700-\\u27bfa-z\\xdf-\\xf6\\xf8-\\xffA-Z\\xc0-\\xd6\\xd8-\\xde]",ae="\\ud83c[\\udffb-\\udfff]",ue="[^\\ud800-\\udfff]",le="(?:\\ud83c[\\udde6-\\uddff]){2}",ce="[\\ud800-\\udbff][\\udc00-\\udfff]",he="[A-Z\\xc0-\\xd6\\xd8-\\xde]",fe="(?:"+oe+"|"+se+")",de="(?:"+he+"|"+se+")",pe="(?:"+re+"|"+ae+")"+"?",_e="[\\ufe0e\\ufe0f]?"+pe+("(?:\\u200d(?:"+[ue,le,ce].join("|")+")[\\ufe0e\\ufe0f]?"+pe+")*"),ge="(?:"+[ie,le,ce].join("|")+")"+_e,me="(?:"+[ue+re+"?",re,le,ce,te].join("|")+")",ve=RegExp("['’]","g"),ye=RegExp(re,"g"),be=RegExp(ae+"(?="+ae+")|"+me+_e,"g"),we=RegExp([he+"?"+oe+"+(?:['’](?:d|ll|m|re|s|t|ve))?(?="+[ee,he,"$"].join("|")+")",de+"+(?:['’](?:D|LL|M|RE|S|T|VE))?(?="+[ee,he+fe,"$"].join("|")+")",he+"?"+fe+"+(?:['’](?:d|ll|m|re|s|t|ve))?",he+"+(?:['’](?:D|LL|M|RE|S|T|VE))?","\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",ne,ge].join("|"),"g"),xe=RegExp("[\\u200d\\ud800-\\udfff"+Qt+"\\ufe0e\\ufe0f]"),Se=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,Ee=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],Ce=-1,Oe={};Oe[ct]=Oe[ht]=Oe[ft]=Oe[dt]=Oe[pt]=Oe[_t]=Oe[gt]=Oe[mt]=Oe[vt]=!0,Oe[N]=Oe[F]=Oe[ut]=Oe[B]=Oe[lt]=Oe[Y]=Oe[H]=Oe[X]=Oe[G]=Oe[Z]=Oe[J]=Oe[et]=Oe[rt]=Oe[nt]=Oe[st]=!1;var ke={};ke[N]=ke[F]=ke[ut]=ke[lt]=ke[B]=ke[Y]=ke[ct]=ke[ht]=ke[ft]=ke[dt]=ke[pt]=ke[G]=ke[Z]=ke[J]=ke[et]=ke[rt]=ke[nt]=ke[it]=ke[_t]=ke[gt]=ke[mt]=ke[vt]=!0,ke[H]=ke[X]=ke[st]=!1;var Me={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},Te=parseFloat,Ae=parseInt,Pe="object"==typeof t&&t&&t.Object===Object&&t,ze="object"==typeof self&&self&&self.Object===Object&&self,Ie=Pe||ze||Function("return this")(),Ve=e&&!e.nodeType&&e,Ke=Ve&&"object"==typeof n&&n&&!n.nodeType&&n,Re=Ke&&Ke.exports===Ve,je=Re&&Pe.process,De=function(){try{var t=Ke&&Ke.require&&Ke.require("util").types;return t||je&&je.binding&&je.binding("util")}catch(t){}}(),Le=De&&De.isArrayBuffer,Ue=De&&De.isDate,Ne=De&&De.isMap,Fe=De&&De.isRegExp,We=De&&De.isSet,Be=De&&De.isTypedArray;function Ye(t,e,r){switch(r.length){case 0:return t.call(e);case 1:return t.call(e,r[0]);case 2:return t.call(e,r[0],r[1]);case 3:return t.call(e,r[0],r[1],r[2])}return t.apply(e,r)}function $e(t,e,r,n){for(var i=-1,o=null==t?0:t.length;++i<o;){var s=t[i];e(n,s,r(s),t)}return n}function He(t,e){for(var r=-1,n=null==t?0:t.length;++r<n&&!1!==e(t[r],r,t););return t}function Xe(t,e){for(var r=null==t?0:t.length;r--&&!1!==e(t[r],r,t););return t}function qe(t,e){for(var r=-1,n=null==t?0:t.length;++r<n;)if(!e(t[r],r,t))return!1;return!0}function Ge(t,e){for(var r=-1,n=null==t?0:t.length,i=0,o=[];++r<n;){var s=t[r];e(s,r,t)&&(o[i++]=s)}return o}function Ze(t,e){return!!(null==t?0:t.length)&&ar(t,e,0)>-1}function Qe(t,e,r){for(var n=-1,i=null==t?0:t.length;++n<i;)if(r(e,t[n]))return!0;return!1}function Je(t,e){for(var r=-1,n=null==t?0:t.length,i=Array(n);++r<n;)i[r]=e(t[r],r,t);return i}function tr(t,e){for(var r=-1,n=e.length,i=t.length;++r<n;)t[i+r]=e[r];return t}function er(t,e,r,n){var i=-1,o=null==t?0:t.length;for(n&&o&&(r=t[++i]);++i<o;)r=e(r,t[i],i,t);return r}function rr(t,e,r,n){var i=null==t?0:t.length;for(n&&i&&(r=t[--i]);i--;)r=e(r,t[i],i,t);return r}function nr(t,e){for(var r=-1,n=null==t?0:t.length;++r<n;)if(e(t[r],r,t))return!0;return!1}var ir=hr("length");function or(t,e,r){var n;return r(t,(function(t,r,i){if(e(t,r,i))return n=r,!1})),n}function sr(t,e,r,n){for(var i=t.length,o=r+(n?1:-1);n?o--:++o<i;)if(e(t[o],o,t))return o;return-1}function ar(t,e,r){return e==e?function(t,e,r){var n=r-1,i=t.length;for(;++n<i;)if(t[n]===e)return n;return-1}(t,e,r):sr(t,lr,r)}function ur(t,e,r,n){for(var i=r-1,o=t.length;++i<o;)if(n(t[i],e))return i;return-1}function lr(t){return t!=t}function cr(t,e){var r=null==t?0:t.length;return r?pr(t,e)/r:R}function hr(t){return function(e){return null==e?o:e[t]}}function fr(t){return function(e){return null==t?o:t[e]}}function dr(t,e,r,n,i){return i(t,(function(t,i,o){r=n?(n=!1,t):e(r,t,i,o)})),r}function pr(t,e){for(var r,n=-1,i=t.length;++n<i;){var s=e(t[n]);s!==o&&(r=r===o?s:r+s)}return r}function _r(t,e){for(var r=-1,n=Array(t);++r<t;)n[r]=e(r);return n}function gr(t){return function(e){return t(e)}}function mr(t,e){return Je(e,(function(e){return t[e]}))}function vr(t,e){return t.has(e)}function yr(t,e){for(var r=-1,n=t.length;++r<n&&ar(e,t[r],0)>-1;);return r}function br(t,e){for(var r=t.length;r--&&ar(e,t[r],0)>-1;);return r}var wr=fr({"À":"A","Á":"A","Â":"A","Ã":"A","Ä":"A","Å":"A","à":"a","á":"a","â":"a","ã":"a","ä":"a","å":"a","Ç":"C","ç":"c","Ð":"D","ð":"d","È":"E","É":"E","Ê":"E","Ë":"E","è":"e","é":"e","ê":"e","ë":"e","Ì":"I","Í":"I","Î":"I","Ï":"I","ì":"i","í":"i","î":"i","ï":"i","Ñ":"N","ñ":"n","Ò":"O","Ó":"O","Ô":"O","Õ":"O","Ö":"O","Ø":"O","ò":"o","ó":"o","ô":"o","õ":"o","ö":"o","ø":"o","Ù":"U","Ú":"U","Û":"U","Ü":"U","ù":"u","ú":"u","û":"u","ü":"u","Ý":"Y","ý":"y","ÿ":"y","Æ":"Ae","æ":"ae","Þ":"Th","þ":"th","ß":"ss","Ā":"A","Ă":"A","Ą":"A","ā":"a","ă":"a","ą":"a","Ć":"C","Ĉ":"C","Ċ":"C","Č":"C","ć":"c","ĉ":"c","ċ":"c","č":"c","Ď":"D","Đ":"D","ď":"d","đ":"d","Ē":"E","Ĕ":"E","Ė":"E","Ę":"E","Ě":"E","ē":"e","ĕ":"e","ė":"e","ę":"e","ě":"e","Ĝ":"G","Ğ":"G","Ġ":"G","Ģ":"G","ĝ":"g","ğ":"g","ġ":"g","ģ":"g","Ĥ":"H","Ħ":"H","ĥ":"h","ħ":"h","Ĩ":"I","Ī":"I","Ĭ":"I","Į":"I","İ":"I","ĩ":"i","ī":"i","ĭ":"i","į":"i","ı":"i","Ĵ":"J","ĵ":"j","Ķ":"K","ķ":"k","ĸ":"k","Ĺ":"L","Ļ":"L","Ľ":"L","Ŀ":"L","Ł":"L","ĺ":"l","ļ":"l","ľ":"l","ŀ":"l","ł":"l","Ń":"N","Ņ":"N","Ň":"N","Ŋ":"N","ń":"n","ņ":"n","ň":"n","ŋ":"n","Ō":"O","Ŏ":"O","Ő":"O","ō":"o","ŏ":"o","ő":"o","Ŕ":"R","Ŗ":"R","Ř":"R","ŕ":"r","ŗ":"r","ř":"r","Ś":"S","Ŝ":"S","Ş":"S","Š":"S","ś":"s","ŝ":"s","ş":"s","š":"s","Ţ":"T","Ť":"T","Ŧ":"T","ţ":"t","ť":"t","ŧ":"t","Ũ":"U","Ū":"U","Ŭ":"U","Ů":"U","Ű":"U","Ų":"U","ũ":"u","ū":"u","ŭ":"u","ů":"u","ű":"u","ų":"u","Ŵ":"W","ŵ":"w","Ŷ":"Y","ŷ":"y","Ÿ":"Y","Ź":"Z","Ż":"Z","Ž":"Z","ź":"z","ż":"z","ž":"z","Ĳ":"IJ","ĳ":"ij","Œ":"Oe","œ":"oe","ŉ":"'n","ſ":"s"}),xr=fr({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});function Sr(t){return"\\"+Me[t]}function Er(t){return xe.test(t)}function Cr(t){var e=-1,r=Array(t.size);return t.forEach((function(t,n){r[++e]=[n,t]})),r}function Or(t,e){return function(r){return t(e(r))}}function kr(t,e){for(var r=-1,n=t.length,i=0,o=[];++r<n;){var s=t[r];s!==e&&s!==h||(t[r]=h,o[i++]=r)}return o}function Mr(t){var e=-1,r=Array(t.size);return t.forEach((function(t){r[++e]=t})),r}function Tr(t){var e=-1,r=Array(t.size);return t.forEach((function(t){r[++e]=[t,t]})),r}function Ar(t){return Er(t)?function(t){var e=be.lastIndex=0;for(;be.test(t);)++e;return e}(t):ir(t)}function Pr(t){return Er(t)?function(t){return t.match(be)||[]}(t):function(t){return t.split("")}(t)}var zr=fr({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"});var Ir=function t(e){var r,n=(e=null==e?Ie:Ir.defaults(Ie.Object(),e,Ir.pick(Ie,Ee))).Array,i=e.Date,Qt=e.Error,Jt=e.Function,te=e.Math,ee=e.Object,re=e.RegExp,ne=e.String,ie=e.TypeError,oe=n.prototype,se=Jt.prototype,ae=ee.prototype,ue=e["__core-js_shared__"],le=se.toString,ce=ae.hasOwnProperty,he=0,fe=(r=/[^.]+$/.exec(ue&&ue.keys&&ue.keys.IE_PROTO||""))?"Symbol(src)_1."+r:"",de=ae.toString,pe=le.call(ee),_e=Ie._,ge=re("^"+le.call(ce).replace(zt,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),me=Re?e.Buffer:o,be=e.Symbol,xe=e.Uint8Array,Me=me?me.allocUnsafe:o,Pe=Or(ee.getPrototypeOf,ee),ze=ee.create,Ve=ae.propertyIsEnumerable,Ke=oe.splice,je=be?be.isConcatSpreadable:o,De=be?be.iterator:o,ir=be?be.toStringTag:o,fr=function(){try{var t=Lo(ee,"defineProperty");return t({},"",{}),t}catch(t){}}(),Vr=e.clearTimeout!==Ie.clearTimeout&&e.clearTimeout,Kr=i&&i.now!==Ie.Date.now&&i.now,Rr=e.setTimeout!==Ie.setTimeout&&e.setTimeout,jr=te.ceil,Dr=te.floor,Lr=ee.getOwnPropertySymbols,Ur=me?me.isBuffer:o,Nr=e.isFinite,Fr=oe.join,Wr=Or(ee.keys,ee),Br=te.max,Yr=te.min,$r=i.now,Hr=e.parseInt,Xr=te.random,qr=oe.reverse,Gr=Lo(e,"DataView"),Zr=Lo(e,"Map"),Qr=Lo(e,"Promise"),Jr=Lo(e,"Set"),tn=Lo(e,"WeakMap"),en=Lo(ee,"create"),rn=tn&&new tn,nn={},on=hs(Gr),sn=hs(Zr),an=hs(Qr),un=hs(Jr),ln=hs(tn),cn=be?be.prototype:o,hn=cn?cn.valueOf:o,fn=cn?cn.toString:o;function dn(t){if(Ma(t)&&!ma(t)&&!(t instanceof mn)){if(t instanceof gn)return t;if(ce.call(t,"__wrapped__"))return fs(t)}return new gn(t)}var pn=function(){function t(){}return function(e){if(!ka(e))return{};if(ze)return ze(e);t.prototype=e;var r=new t;return t.prototype=o,r}}();function _n(){}function gn(t,e){this.__wrapped__=t,this.__actions__=[],this.__chain__=!!e,this.__index__=0,this.__values__=o}function mn(t){this.__wrapped__=t,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=j,this.__views__=[]}function vn(t){var e=-1,r=null==t?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}function yn(t){var e=-1,r=null==t?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}function bn(t){var e=-1,r=null==t?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}function wn(t){var e=-1,r=null==t?0:t.length;for(this.__data__=new bn;++e<r;)this.add(t[e])}function xn(t){var e=this.__data__=new yn(t);this.size=e.size}function Sn(t,e){var r=ma(t),n=!r&&ga(t),i=!r&&!n&&wa(t),o=!r&&!n&&!i&&Ra(t),s=r||n||i||o,a=s?_r(t.length,ne):[],u=a.length;for(var l in t)!e&&!ce.call(t,l)||s&&("length"==l||i&&("offset"==l||"parent"==l)||o&&("buffer"==l||"byteLength"==l||"byteOffset"==l)||$o(l,u))||a.push(l);return a}function En(t){var e=t.length;return e?t[wi(0,e-1)]:o}function Cn(t,e){return us(ro(t),Vn(e,0,t.length))}function On(t){return us(ro(t))}function kn(t,e,r){(r===o||da(t[e],r))&&(r!==o||e in t)||zn(t,e,r)}function Mn(t,e,r){var n=t[e];ce.call(t,e)&&da(n,r)&&(r!==o||e in t)||zn(t,e,r)}function Tn(t,e){for(var r=t.length;r--;)if(da(t[r][0],e))return r;return-1}function An(t,e,r,n){return Ln(t,(function(t,i,o){e(n,t,r(t),o)})),n}function Pn(t,e){return t&&no(e,iu(e),t)}function zn(t,e,r){"__proto__"==e&&fr?fr(t,e,{configurable:!0,enumerable:!0,value:r,writable:!0}):t[e]=r}function In(t,e){for(var r=-1,i=e.length,s=n(i),a=null==t;++r<i;)s[r]=a?o:Ja(t,e[r]);return s}function Vn(t,e,r){return t==t&&(r!==o&&(t=t<=r?t:r),e!==o&&(t=t>=e?t:e)),t}function Kn(t,e,r,n,i,s){var a,u=e&f,l=e&d,c=e&p;if(r&&(a=i?r(t,n,i,s):r(t)),a!==o)return a;if(!ka(t))return t;var h=ma(t);if(h){if(a=function(t){var e=t.length,r=new t.constructor(e);e&&"string"==typeof t[0]&&ce.call(t,"index")&&(r.index=t.index,r.input=t.input);return r}(t),!u)return ro(t,a)}else{var _=Fo(t),g=_==X||_==q;if(wa(t))return Gi(t,u);if(_==J||_==N||g&&!i){if(a=l||g?{}:Bo(t),!u)return l?function(t,e){return no(t,No(t),e)}(t,function(t,e){return t&&no(e,ou(e),t)}(a,t)):function(t,e){return no(t,Uo(t),e)}(t,Pn(a,t))}else{if(!ke[_])return i?t:{};a=function(t,e,r){var n=t.constructor;switch(e){case ut:return Zi(t);case B:case Y:return new n(+t);case lt:return function(t,e){var r=e?Zi(t.buffer):t.buffer;return new t.constructor(r,t.byteOffset,t.byteLength)}(t,r);case ct:case ht:case ft:case dt:case pt:case _t:case gt:case mt:case vt:return Qi(t,r);case G:return new n;case Z:case nt:return new n(t);case et:return function(t){var e=new t.constructor(t.source,Wt.exec(t));return e.lastIndex=t.lastIndex,e}(t);case rt:return new n;case it:return i=t,hn?ee(hn.call(i)):{}}var i}(t,_,u)}}s||(s=new xn);var m=s.get(t);if(m)return m;s.set(t,a),Ia(t)?t.forEach((function(n){a.add(Kn(n,e,r,n,t,s))})):Ta(t)&&t.forEach((function(n,i){a.set(i,Kn(n,e,r,i,t,s))}));var v=h?o:(c?l?zo:Po:l?ou:iu)(t);return He(v||t,(function(n,i){v&&(n=t[i=n]),Mn(a,i,Kn(n,e,r,i,t,s))})),a}function Rn(t,e,r){var n=r.length;if(null==t)return!n;for(t=ee(t);n--;){var i=r[n],s=e[i],a=t[i];if(a===o&&!(i in t)||!s(a))return!1}return!0}function jn(t,e,r){if("function"!=typeof t)throw new ie(u);return is((function(){t.apply(o,r)}),e)}function Dn(t,e,r,n){var i=-1,o=Ze,a=!0,u=t.length,l=[],c=e.length;if(!u)return l;r&&(e=Je(e,gr(r))),n?(o=Qe,a=!1):e.length>=s&&(o=vr,a=!1,e=new wn(e));t:for(;++i<u;){var h=t[i],f=null==r?h:r(h);if(h=n||0!==h?h:0,a&&f==f){for(var d=c;d--;)if(e[d]===f)continue t;l.push(h)}else o(e,f,n)||l.push(h)}return l}dn.templateSettings={escape:Ot,evaluate:kt,interpolate:Mt,variable:"",imports:{_:dn}},dn.prototype=_n.prototype,dn.prototype.constructor=dn,gn.prototype=pn(_n.prototype),gn.prototype.constructor=gn,mn.prototype=pn(_n.prototype),mn.prototype.constructor=mn,vn.prototype.clear=function(){this.__data__=en?en(null):{},this.size=0},vn.prototype.delete=function(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e},vn.prototype.get=function(t){var e=this.__data__;if(en){var r=e[t];return r===l?o:r}return ce.call(e,t)?e[t]:o},vn.prototype.has=function(t){var e=this.__data__;return en?e[t]!==o:ce.call(e,t)},vn.prototype.set=function(t,e){var r=this.__data__;return this.size+=this.has(t)?0:1,r[t]=en&&e===o?l:e,this},yn.prototype.clear=function(){this.__data__=[],this.size=0},yn.prototype.delete=function(t){var e=this.__data__,r=Tn(e,t);return!(r<0)&&(r==e.length-1?e.pop():Ke.call(e,r,1),--this.size,!0)},yn.prototype.get=function(t){var e=this.__data__,r=Tn(e,t);return r<0?o:e[r][1]},yn.prototype.has=function(t){return Tn(this.__data__,t)>-1},yn.prototype.set=function(t,e){var r=this.__data__,n=Tn(r,t);return n<0?(++this.size,r.push([t,e])):r[n][1]=e,this},bn.prototype.clear=function(){this.size=0,this.__data__={hash:new vn,map:new(Zr||yn),string:new vn}},bn.prototype.delete=function(t){var e=jo(this,t).delete(t);return this.size-=e?1:0,e},bn.prototype.get=function(t){return jo(this,t).get(t)},bn.prototype.has=function(t){return jo(this,t).has(t)},bn.prototype.set=function(t,e){var r=jo(this,t),n=r.size;return r.set(t,e),this.size+=r.size==n?0:1,this},wn.prototype.add=wn.prototype.push=function(t){return this.__data__.set(t,l),this},wn.prototype.has=function(t){return this.__data__.has(t)},xn.prototype.clear=function(){this.__data__=new yn,this.size=0},xn.prototype.delete=function(t){var e=this.__data__,r=e.delete(t);return this.size=e.size,r},xn.prototype.get=function(t){return this.__data__.get(t)},xn.prototype.has=function(t){return this.__data__.has(t)},xn.prototype.set=function(t,e){var r=this.__data__;if(r instanceof yn){var n=r.__data__;if(!Zr||n.length<s-1)return n.push([t,e]),this.size=++r.size,this;r=this.__data__=new bn(n)}return r.set(t,e),this.size=r.size,this};var Ln=so(Hn),Un=so(Xn,!0);function Nn(t,e){var r=!0;return Ln(t,(function(t,n,i){return r=!!e(t,n,i)})),r}function Fn(t,e,r){for(var n=-1,i=t.length;++n<i;){var s=t[n],a=e(s);if(null!=a&&(u===o?a==a&&!Ka(a):r(a,u)))var u=a,l=s}return l}function Wn(t,e){var r=[];return Ln(t,(function(t,n,i){e(t,n,i)&&r.push(t)})),r}function Bn(t,e,r,n,i){var o=-1,s=t.length;for(r||(r=Yo),i||(i=[]);++o<s;){var a=t[o];e>0&&r(a)?e>1?Bn(a,e-1,r,n,i):tr(i,a):n||(i[i.length]=a)}return i}var Yn=ao(),$n=ao(!0);function Hn(t,e){return t&&Yn(t,e,iu)}function Xn(t,e){return t&&$n(t,e,iu)}function qn(t,e){return Ge(e,(function(e){return Ea(t[e])}))}function Gn(t,e){for(var r=0,n=(e=$i(e,t)).length;null!=t&&r<n;)t=t[cs(e[r++])];return r&&r==n?t:o}function Zn(t,e,r){var n=e(t);return ma(t)?n:tr(n,r(t))}function Qn(t){return null==t?t===o?ot:Q:ir&&ir in ee(t)?function(t){var e=ce.call(t,ir),r=t[ir];try{t[ir]=o;var n=!0}catch(t){}var i=de.call(t);n&&(e?t[ir]=r:delete t[ir]);return i}(t):function(t){return de.call(t)}(t)}function Jn(t,e){return t>e}function ti(t,e){return null!=t&&ce.call(t,e)}function ei(t,e){return null!=t&&e in ee(t)}function ri(t,e,r){for(var i=r?Qe:Ze,s=t[0].length,a=t.length,u=a,l=n(a),c=1/0,h=[];u--;){var f=t[u];u&&e&&(f=Je(f,gr(e))),c=Yr(f.length,c),l[u]=!r&&(e||s>=120&&f.length>=120)?new wn(u&&f):o}f=t[0];var d=-1,p=l[0];t:for(;++d<s&&h.length<c;){var _=f[d],g=e?e(_):_;if(_=r||0!==_?_:0,!(p?vr(p,g):i(h,g,r))){for(u=a;--u;){var m=l[u];if(!(m?vr(m,g):i(t[u],g,r)))continue t}p&&p.push(g),h.push(_)}}return h}function ni(t,e,r){var n=null==(t=es(t,e=$i(e,t)))?t:t[cs(Ss(e))];return null==n?o:Ye(n,t,r)}function ii(t){return Ma(t)&&Qn(t)==N}function oi(t,e,r,n,i){return t===e||(null==t||null==e||!Ma(t)&&!Ma(e)?t!=t&&e!=e:function(t,e,r,n,i,s){var a=ma(t),u=ma(e),l=a?F:Fo(t),c=u?F:Fo(e),h=(l=l==N?J:l)==J,f=(c=c==N?J:c)==J,d=l==c;if(d&&wa(t)){if(!wa(e))return!1;a=!0,h=!1}if(d&&!h)return s||(s=new xn),a||Ra(t)?To(t,e,r,n,i,s):function(t,e,r,n,i,o,s){switch(r){case lt:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case ut:return!(t.byteLength!=e.byteLength||!o(new xe(t),new xe(e)));case B:case Y:case Z:return da(+t,+e);case H:return t.name==e.name&&t.message==e.message;case et:case nt:return t==e+"";case G:var a=Cr;case rt:var u=n&_;if(a||(a=Mr),t.size!=e.size&&!u)return!1;var l=s.get(t);if(l)return l==e;n|=g,s.set(t,e);var c=To(a(t),a(e),n,i,o,s);return s.delete(t),c;case it:if(hn)return hn.call(t)==hn.call(e)}return!1}(t,e,l,r,n,i,s);if(!(r&_)){var p=h&&ce.call(t,"__wrapped__"),m=f&&ce.call(e,"__wrapped__");if(p||m){var v=p?t.value():t,y=m?e.value():e;return s||(s=new xn),i(v,y,r,n,s)}}if(!d)return!1;return s||(s=new xn),function(t,e,r,n,i,s){var a=r&_,u=Po(t),l=u.length,c=Po(e).length;if(l!=c&&!a)return!1;var h=l;for(;h--;){var f=u[h];if(!(a?f in e:ce.call(e,f)))return!1}var d=s.get(t);if(d&&s.get(e))return d==e;var p=!0;s.set(t,e),s.set(e,t);var g=a;for(;++h<l;){f=u[h];var m=t[f],v=e[f];if(n)var y=a?n(v,m,f,e,t,s):n(m,v,f,t,e,s);if(!(y===o?m===v||i(m,v,r,n,s):y)){p=!1;break}g||(g="constructor"==f)}if(p&&!g){var b=t.constructor,w=e.constructor;b!=w&&"constructor"in t&&"constructor"in e&&!("function"==typeof b&&b instanceof b&&"function"==typeof w&&w instanceof w)&&(p=!1)}return s.delete(t),s.delete(e),p}(t,e,r,n,i,s)}(t,e,r,n,oi,i))}function si(t,e,r,n){var i=r.length,s=i,a=!n;if(null==t)return!s;for(t=ee(t);i--;){var u=r[i];if(a&&u[2]?u[1]!==t[u[0]]:!(u[0]in t))return!1}for(;++i<s;){var l=(u=r[i])[0],c=t[l],h=u[1];if(a&&u[2]){if(c===o&&!(l in t))return!1}else{var f=new xn;if(n)var d=n(c,h,l,t,e,f);if(!(d===o?oi(h,c,_|g,n,f):d))return!1}}return!0}function ai(t){return!(!ka(t)||(e=t,fe&&fe in e))&&(Ea(t)?ge:$t).test(hs(t));var e}function ui(t){return"function"==typeof t?t:null==t?Au:"object"==typeof t?ma(t)?pi(t[0],t[1]):di(t):Lu(t)}function li(t){if(!Zo(t))return Wr(t);var e=[];for(var r in ee(t))ce.call(t,r)&&"constructor"!=r&&e.push(r);return e}function ci(t){if(!ka(t))return function(t){var e=[];if(null!=t)for(var r in ee(t))e.push(r);return e}(t);var e=Zo(t),r=[];for(var n in t)("constructor"!=n||!e&&ce.call(t,n))&&r.push(n);return r}function hi(t,e){return t<e}function fi(t,e){var r=-1,i=ya(t)?n(t.length):[];return Ln(t,(function(t,n,o){i[++r]=e(t,n,o)})),i}function di(t){var e=Do(t);return 1==e.length&&e[0][2]?Jo(e[0][0],e[0][1]):function(r){return r===t||si(r,t,e)}}function pi(t,e){return Xo(t)&&Qo(e)?Jo(cs(t),e):function(r){var n=Ja(r,t);return n===o&&n===e?tu(r,t):oi(e,n,_|g)}}function _i(t,e,r,n,i){t!==e&&Yn(e,(function(s,a){if(i||(i=new xn),ka(s))!function(t,e,r,n,i,s,a){var u=rs(t,r),l=rs(e,r),c=a.get(l);if(c)return void kn(t,r,c);var h=s?s(u,l,r+"",t,e,a):o,f=h===o;if(f){var d=ma(l),p=!d&&wa(l),_=!d&&!p&&Ra(l);h=l,d||p||_?ma(u)?h=u:ba(u)?h=ro(u):p?(f=!1,h=Gi(l,!0)):_?(f=!1,h=Qi(l,!0)):h=[]:Pa(l)||ga(l)?(h=u,ga(u)?h=Ba(u):ka(u)&&!Ea(u)||(h=Bo(l))):f=!1}f&&(a.set(l,h),i(h,l,n,s,a),a.delete(l));kn(t,r,h)}(t,e,a,r,_i,n,i);else{var u=n?n(rs(t,a),s,a+"",t,e,i):o;u===o&&(u=s),kn(t,a,u)}}),ou)}function gi(t,e){var r=t.length;if(r)return $o(e+=e<0?r:0,r)?t[e]:o}function mi(t,e,r){var n=-1;return e=Je(e.length?e:[Au],gr(Ro())),function(t,e){var r=t.length;for(t.sort(e);r--;)t[r]=t[r].value;return t}(fi(t,(function(t,r,i){return{criteria:Je(e,(function(e){return e(t)})),index:++n,value:t}})),(function(t,e){return function(t,e,r){var n=-1,i=t.criteria,o=e.criteria,s=i.length,a=r.length;for(;++n<s;){var u=Ji(i[n],o[n]);if(u){if(n>=a)return u;var l=r[n];return u*("desc"==l?-1:1)}}return t.index-e.index}(t,e,r)}))}function vi(t,e,r){for(var n=-1,i=e.length,o={};++n<i;){var s=e[n],a=Gn(t,s);r(a,s)&&Oi(o,$i(s,t),a)}return o}function yi(t,e,r,n){var i=n?ur:ar,o=-1,s=e.length,a=t;for(t===e&&(e=ro(e)),r&&(a=Je(t,gr(r)));++o<s;)for(var u=0,l=e[o],c=r?r(l):l;(u=i(a,c,u,n))>-1;)a!==t&&Ke.call(a,u,1),Ke.call(t,u,1);return t}function bi(t,e){for(var r=t?e.length:0,n=r-1;r--;){var i=e[r];if(r==n||i!==o){var o=i;$o(i)?Ke.call(t,i,1):Di(t,i)}}return t}function wi(t,e){return t+Dr(Xr()*(e-t+1))}function xi(t,e){var r="";if(!t||e<1||e>V)return r;do{e%2&&(r+=t),(e=Dr(e/2))&&(t+=t)}while(e);return r}function Si(t,e){return os(ts(t,e,Au),t+"")}function Ei(t){return En(du(t))}function Ci(t,e){var r=du(t);return us(r,Vn(e,0,r.length))}function Oi(t,e,r,n){if(!ka(t))return t;for(var i=-1,s=(e=$i(e,t)).length,a=s-1,u=t;null!=u&&++i<s;){var l=cs(e[i]),c=r;if(i!=a){var h=u[l];(c=n?n(h,l,u):o)===o&&(c=ka(h)?h:$o(e[i+1])?[]:{})}Mn(u,l,c),u=u[l]}return t}var ki=rn?function(t,e){return rn.set(t,e),t}:Au,Mi=fr?function(t,e){return fr(t,"toString",{configurable:!0,enumerable:!1,value:ku(e),writable:!0})}:Au;function Ti(t){return us(du(t))}function Ai(t,e,r){var i=-1,o=t.length;e<0&&(e=-e>o?0:o+e),(r=r>o?o:r)<0&&(r+=o),o=e>r?0:r-e>>>0,e>>>=0;for(var s=n(o);++i<o;)s[i]=t[i+e];return s}function Pi(t,e){var r;return Ln(t,(function(t,n,i){return!(r=e(t,n,i))})),!!r}function zi(t,e,r){var n=0,i=null==t?n:t.length;if("number"==typeof e&&e==e&&i<=L){for(;n<i;){var o=n+i>>>1,s=t[o];null!==s&&!Ka(s)&&(r?s<=e:s<e)?n=o+1:i=o}return i}return Ii(t,e,Au,r)}function Ii(t,e,r,n){e=r(e);for(var i=0,s=null==t?0:t.length,a=e!=e,u=null===e,l=Ka(e),c=e===o;i<s;){var h=Dr((i+s)/2),f=r(t[h]),d=f!==o,p=null===f,_=f==f,g=Ka(f);if(a)var m=n||_;else m=c?_&&(n||d):u?_&&d&&(n||!p):l?_&&d&&!p&&(n||!g):!p&&!g&&(n?f<=e:f<e);m?i=h+1:s=h}return Yr(s,D)}function Vi(t,e){for(var r=-1,n=t.length,i=0,o=[];++r<n;){var s=t[r],a=e?e(s):s;if(!r||!da(a,u)){var u=a;o[i++]=0===s?0:s}}return o}function Ki(t){return"number"==typeof t?t:Ka(t)?R:+t}function Ri(t){if("string"==typeof t)return t;if(ma(t))return Je(t,Ri)+"";if(Ka(t))return fn?fn.call(t):"";var e=t+"";return"0"==e&&1/t==-I?"-0":e}function ji(t,e,r){var n=-1,i=Ze,o=t.length,a=!0,u=[],l=u;if(r)a=!1,i=Qe;else if(o>=s){var c=e?null:So(t);if(c)return Mr(c);a=!1,i=vr,l=new wn}else l=e?[]:u;t:for(;++n<o;){var h=t[n],f=e?e(h):h;if(h=r||0!==h?h:0,a&&f==f){for(var d=l.length;d--;)if(l[d]===f)continue t;e&&l.push(f),u.push(h)}else i(l,f,r)||(l!==u&&l.push(f),u.push(h))}return u}function Di(t,e){return null==(t=es(t,e=$i(e,t)))||delete t[cs(Ss(e))]}function Li(t,e,r,n){return Oi(t,e,r(Gn(t,e)),n)}function Ui(t,e,r,n){for(var i=t.length,o=n?i:-1;(n?o--:++o<i)&&e(t[o],o,t););return r?Ai(t,n?0:o,n?o+1:i):Ai(t,n?o+1:0,n?i:o)}function Ni(t,e){var r=t;return r instanceof mn&&(r=r.value()),er(e,(function(t,e){return e.func.apply(e.thisArg,tr([t],e.args))}),r)}function Fi(t,e,r){var i=t.length;if(i<2)return i?ji(t[0]):[];for(var o=-1,s=n(i);++o<i;)for(var a=t[o],u=-1;++u<i;)u!=o&&(s[o]=Dn(s[o]||a,t[u],e,r));return ji(Bn(s,1),e,r)}function Wi(t,e,r){for(var n=-1,i=t.length,s=e.length,a={};++n<i;){var u=n<s?e[n]:o;r(a,t[n],u)}return a}function Bi(t){return ba(t)?t:[]}function Yi(t){return"function"==typeof t?t:Au}function $i(t,e){return ma(t)?t:Xo(t,e)?[t]:ls(Ya(t))}var Hi=Si;function Xi(t,e,r){var n=t.length;return r=r===o?n:r,!e&&r>=n?t:Ai(t,e,r)}var qi=Vr||function(t){return Ie.clearTimeout(t)};function Gi(t,e){if(e)return t.slice();var r=t.length,n=Me?Me(r):new t.constructor(r);return t.copy(n),n}function Zi(t){var e=new t.constructor(t.byteLength);return new xe(e).set(new xe(t)),e}function Qi(t,e){var r=e?Zi(t.buffer):t.buffer;return new t.constructor(r,t.byteOffset,t.length)}function Ji(t,e){if(t!==e){var r=t!==o,n=null===t,i=t==t,s=Ka(t),a=e!==o,u=null===e,l=e==e,c=Ka(e);if(!u&&!c&&!s&&t>e||s&&a&&l&&!u&&!c||n&&a&&l||!r&&l||!i)return 1;if(!n&&!s&&!c&&t<e||c&&r&&i&&!n&&!s||u&&r&&i||!a&&i||!l)return-1}return 0}function to(t,e,r,i){for(var o=-1,s=t.length,a=r.length,u=-1,l=e.length,c=Br(s-a,0),h=n(l+c),f=!i;++u<l;)h[u]=e[u];for(;++o<a;)(f||o<s)&&(h[r[o]]=t[o]);for(;c--;)h[u++]=t[o++];return h}function eo(t,e,r,i){for(var o=-1,s=t.length,a=-1,u=r.length,l=-1,c=e.length,h=Br(s-u,0),f=n(h+c),d=!i;++o<h;)f[o]=t[o];for(var p=o;++l<c;)f[p+l]=e[l];for(;++a<u;)(d||o<s)&&(f[p+r[a]]=t[o++]);return f}function ro(t,e){var r=-1,i=t.length;for(e||(e=n(i));++r<i;)e[r]=t[r];return e}function no(t,e,r,n){var i=!r;r||(r={});for(var s=-1,a=e.length;++s<a;){var u=e[s],l=n?n(r[u],t[u],u,r,t):o;l===o&&(l=t[u]),i?zn(r,u,l):Mn(r,u,l)}return r}function io(t,e){return function(r,n){var i=ma(r)?$e:An,o=e?e():{};return i(r,t,Ro(n,2),o)}}function oo(t){return Si((function(e,r){var n=-1,i=r.length,s=i>1?r[i-1]:o,a=i>2?r[2]:o;for(s=t.length>3&&"function"==typeof s?(i--,s):o,a&&Ho(r[0],r[1],a)&&(s=i<3?o:s,i=1),e=ee(e);++n<i;){var u=r[n];u&&t(e,u,n,s)}return e}))}function so(t,e){return function(r,n){if(null==r)return r;if(!ya(r))return t(r,n);for(var i=r.length,o=e?i:-1,s=ee(r);(e?o--:++o<i)&&!1!==n(s[o],o,s););return r}}function ao(t){return function(e,r,n){for(var i=-1,o=ee(e),s=n(e),a=s.length;a--;){var u=s[t?a:++i];if(!1===r(o[u],u,o))break}return e}}function uo(t){return function(e){var r=Er(e=Ya(e))?Pr(e):o,n=r?r[0]:e.charAt(0),i=r?Xi(r,1).join(""):e.slice(1);return n[t]()+i}}function lo(t){return function(e){return er(Eu(gu(e).replace(ve,"")),t,"")}}function co(t){return function(){var e=arguments;switch(e.length){case 0:return new t;case 1:return new t(e[0]);case 2:return new t(e[0],e[1]);case 3:return new t(e[0],e[1],e[2]);case 4:return new t(e[0],e[1],e[2],e[3]);case 5:return new t(e[0],e[1],e[2],e[3],e[4]);case 6:return new t(e[0],e[1],e[2],e[3],e[4],e[5]);case 7:return new t(e[0],e[1],e[2],e[3],e[4],e[5],e[6])}var r=pn(t.prototype),n=t.apply(r,e);return ka(n)?n:r}}function ho(t){return function(e,r,n){var i=ee(e);if(!ya(e)){var s=Ro(r,3);e=iu(e),r=function(t){return s(i[t],t,i)}}var a=t(e,r,n);return a>-1?i[s?e[a]:a]:o}}function fo(t){return Ao((function(e){var r=e.length,n=r,i=gn.prototype.thru;for(t&&e.reverse();n--;){var s=e[n];if("function"!=typeof s)throw new ie(u);if(i&&!a&&"wrapper"==Vo(s))var a=new gn([],!0)}for(n=a?n:r;++n<r;){var l=Vo(s=e[n]),c="wrapper"==l?Io(s):o;a=c&&qo(c[0])&&c[1]==(E|b|x|C)&&!c[4].length&&1==c[9]?a[Vo(c[0])].apply(a,c[3]):1==s.length&&qo(s)?a[l]():a.thru(s)}return function(){var t=arguments,n=t[0];if(a&&1==t.length&&ma(n))return a.plant(n).value();for(var i=0,o=r?e[i].apply(this,t):n;++i<r;)o=e[i].call(this,o);return o}}))}function po(t,e,r,i,s,a,u,l,c,h){var f=e&E,d=e&m,p=e&v,_=e&(b|w),g=e&O,y=p?o:co(t);return function m(){for(var v=arguments.length,b=n(v),w=v;w--;)b[w]=arguments[w];if(_)var x=Ko(m),S=function(t,e){for(var r=t.length,n=0;r--;)t[r]===e&&++n;return n}(b,x);if(i&&(b=to(b,i,s,_)),a&&(b=eo(b,a,u,_)),v-=S,_&&v<h){var E=kr(b,x);return wo(t,e,po,m.placeholder,r,b,E,l,c,h-v)}var C=d?r:this,O=p?C[t]:t;return v=b.length,l?b=function(t,e){var r=t.length,n=Yr(e.length,r),i=ro(t);for(;n--;){var s=e[n];t[n]=$o(s,r)?i[s]:o}return t}(b,l):g&&v>1&&b.reverse(),f&&c<v&&(b.length=c),this&&this!==Ie&&this instanceof m&&(O=y||co(O)),O.apply(C,b)}}function _o(t,e){return function(r,n){return function(t,e,r,n){return Hn(t,(function(t,i,o){e(n,r(t),i,o)})),n}(r,t,e(n),{})}}function go(t,e){return function(r,n){var i;if(r===o&&n===o)return e;if(r!==o&&(i=r),n!==o){if(i===o)return n;"string"==typeof r||"string"==typeof n?(r=Ri(r),n=Ri(n)):(r=Ki(r),n=Ki(n)),i=t(r,n)}return i}}function mo(t){return Ao((function(e){return e=Je(e,gr(Ro())),Si((function(r){var n=this;return t(e,(function(t){return Ye(t,n,r)}))}))}))}function vo(t,e){var r=(e=e===o?" ":Ri(e)).length;if(r<2)return r?xi(e,t):e;var n=xi(e,jr(t/Ar(e)));return Er(e)?Xi(Pr(n),0,t).join(""):n.slice(0,t)}function yo(t){return function(e,r,i){return i&&"number"!=typeof i&&Ho(e,r,i)&&(r=i=o),e=Ua(e),r===o?(r=e,e=0):r=Ua(r),function(t,e,r,i){for(var o=-1,s=Br(jr((e-t)/(r||1)),0),a=n(s);s--;)a[i?s:++o]=t,t+=r;return a}(e,r,i=i===o?e<r?1:-1:Ua(i),t)}}function bo(t){return function(e,r){return"string"==typeof e&&"string"==typeof r||(e=Wa(e),r=Wa(r)),t(e,r)}}function wo(t,e,r,n,i,s,a,u,l,c){var h=e&b;e|=h?x:S,(e&=~(h?S:x))&y||(e&=~(m|v));var f=[t,e,i,h?s:o,h?a:o,h?o:s,h?o:a,u,l,c],d=r.apply(o,f);return qo(t)&&ns(d,f),d.placeholder=n,ss(d,t,e)}function xo(t){var e=te[t];return function(t,r){if(t=Wa(t),(r=null==r?0:Yr(Na(r),292))&&Nr(t)){var n=(Ya(t)+"e").split("e");return+((n=(Ya(e(n[0]+"e"+(+n[1]+r)))+"e").split("e"))[0]+"e"+(+n[1]-r))}return e(t)}}var So=Jr&&1/Mr(new Jr([,-0]))[1]==I?function(t){return new Jr(t)}:Ku;function Eo(t){return function(e){var r=Fo(e);return r==G?Cr(e):r==rt?Tr(e):function(t,e){return Je(e,(function(e){return[e,t[e]]}))}(e,t(e))}}function Co(t,e,r,i,s,a,l,c){var f=e&v;if(!f&&"function"!=typeof t)throw new ie(u);var d=i?i.length:0;if(d||(e&=~(x|S),i=s=o),l=l===o?l:Br(Na(l),0),c=c===o?c:Na(c),d-=s?s.length:0,e&S){var p=i,_=s;i=s=o}var g=f?o:Io(t),O=[t,e,r,i,s,p,_,a,l,c];if(g&&function(t,e){var r=t[1],n=e[1],i=r|n,o=i<(m|v|E),s=n==E&&r==b||n==E&&r==C&&t[7].length<=e[8]||n==(E|C)&&e[7].length<=e[8]&&r==b;if(!o&&!s)return t;n&m&&(t[2]=e[2],i|=r&m?0:y);var a=e[3];if(a){var u=t[3];t[3]=u?to(u,a,e[4]):a,t[4]=u?kr(t[3],h):e[4]}(a=e[5])&&(u=t[5],t[5]=u?eo(u,a,e[6]):a,t[6]=u?kr(t[5],h):e[6]);(a=e[7])&&(t[7]=a);n&E&&(t[8]=null==t[8]?e[8]:Yr(t[8],e[8]));null==t[9]&&(t[9]=e[9]);t[0]=e[0],t[1]=i}(O,g),t=O[0],e=O[1],r=O[2],i=O[3],s=O[4],!(c=O[9]=O[9]===o?f?0:t.length:Br(O[9]-d,0))&&e&(b|w)&&(e&=~(b|w)),e&&e!=m)k=e==b||e==w?function(t,e,r){var i=co(t);return function s(){for(var a=arguments.length,u=n(a),l=a,c=Ko(s);l--;)u[l]=arguments[l];var h=a<3&&u[0]!==c&&u[a-1]!==c?[]:kr(u,c);return(a-=h.length)<r?wo(t,e,po,s.placeholder,o,u,h,o,o,r-a):Ye(this&&this!==Ie&&this instanceof s?i:t,this,u)}}(t,e,c):e!=x&&e!=(m|x)||s.length?po.apply(o,O):function(t,e,r,i){var o=e&m,s=co(t);return function e(){for(var a=-1,u=arguments.length,l=-1,c=i.length,h=n(c+u),f=this&&this!==Ie&&this instanceof e?s:t;++l<c;)h[l]=i[l];for(;u--;)h[l++]=arguments[++a];return Ye(f,o?r:this,h)}}(t,e,r,i);else var k=function(t,e,r){var n=e&m,i=co(t);return function e(){return(this&&this!==Ie&&this instanceof e?i:t).apply(n?r:this,arguments)}}(t,e,r);return ss((g?ki:ns)(k,O),t,e)}function Oo(t,e,r,n){return t===o||da(t,ae[r])&&!ce.call(n,r)?e:t}function ko(t,e,r,n,i,s){return ka(t)&&ka(e)&&(s.set(e,t),_i(t,e,o,ko,s),s.delete(e)),t}function Mo(t){return Pa(t)?o:t}function To(t,e,r,n,i,s){var a=r&_,u=t.length,l=e.length;if(u!=l&&!(a&&l>u))return!1;var c=s.get(t);if(c&&s.get(e))return c==e;var h=-1,f=!0,d=r&g?new wn:o;for(s.set(t,e),s.set(e,t);++h<u;){var p=t[h],m=e[h];if(n)var v=a?n(m,p,h,e,t,s):n(p,m,h,t,e,s);if(v!==o){if(v)continue;f=!1;break}if(d){if(!nr(e,(function(t,e){if(!vr(d,e)&&(p===t||i(p,t,r,n,s)))return d.push(e)}))){f=!1;break}}else if(p!==m&&!i(p,m,r,n,s)){f=!1;break}}return s.delete(t),s.delete(e),f}function Ao(t){return os(ts(t,o,vs),t+"")}function Po(t){return Zn(t,iu,Uo)}function zo(t){return Zn(t,ou,No)}var Io=rn?function(t){return rn.get(t)}:Ku;function Vo(t){for(var e=t.name+"",r=nn[e],n=ce.call(nn,e)?r.length:0;n--;){var i=r[n],o=i.func;if(null==o||o==t)return i.name}return e}function Ko(t){return(ce.call(dn,"placeholder")?dn:t).placeholder}function Ro(){var t=dn.iteratee||Pu;return t=t===Pu?ui:t,arguments.length?t(arguments[0],arguments[1]):t}function jo(t,e){var r,n,i=t.__data__;return("string"==(n=typeof(r=e))||"number"==n||"symbol"==n||"boolean"==n?"__proto__"!==r:null===r)?i["string"==typeof e?"string":"hash"]:i.map}function Do(t){for(var e=iu(t),r=e.length;r--;){var n=e[r],i=t[n];e[r]=[n,i,Qo(i)]}return e}function Lo(t,e){var r=function(t,e){return null==t?o:t[e]}(t,e);return ai(r)?r:o}var Uo=Lr?function(t){return null==t?[]:(t=ee(t),Ge(Lr(t),(function(e){return Ve.call(t,e)})))}:Fu,No=Lr?function(t){for(var e=[];t;)tr(e,Uo(t)),t=Pe(t);return e}:Fu,Fo=Qn;function Wo(t,e,r){for(var n=-1,i=(e=$i(e,t)).length,o=!1;++n<i;){var s=cs(e[n]);if(!(o=null!=t&&r(t,s)))break;t=t[s]}return o||++n!=i?o:!!(i=null==t?0:t.length)&&Oa(i)&&$o(s,i)&&(ma(t)||ga(t))}function Bo(t){return"function"!=typeof t.constructor||Zo(t)?{}:pn(Pe(t))}function Yo(t){return ma(t)||ga(t)||!!(je&&t&&t[je])}function $o(t,e){var r=typeof t;return!!(e=null==e?V:e)&&("number"==r||"symbol"!=r&&Xt.test(t))&&t>-1&&t%1==0&&t<e}function Ho(t,e,r){if(!ka(r))return!1;var n=typeof e;return!!("number"==n?ya(r)&&$o(e,r.length):"string"==n&&e in r)&&da(r[e],t)}function Xo(t,e){if(ma(t))return!1;var r=typeof t;return!("number"!=r&&"symbol"!=r&&"boolean"!=r&&null!=t&&!Ka(t))||(At.test(t)||!Tt.test(t)||null!=e&&t in ee(e))}function qo(t){var e=Vo(t),r=dn[e];if("function"!=typeof r||!(e in mn.prototype))return!1;if(t===r)return!0;var n=Io(r);return!!n&&t===n[0]}(Gr&&Fo(new Gr(new ArrayBuffer(1)))!=lt||Zr&&Fo(new Zr)!=G||Qr&&"[object Promise]"!=Fo(Qr.resolve())||Jr&&Fo(new Jr)!=rt||tn&&Fo(new tn)!=st)&&(Fo=function(t){var e=Qn(t),r=e==J?t.constructor:o,n=r?hs(r):"";if(n)switch(n){case on:return lt;case sn:return G;case an:return"[object Promise]";case un:return rt;case ln:return st}return e});var Go=ue?Ea:Wu;function Zo(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||ae)}function Qo(t){return t==t&&!ka(t)}function Jo(t,e){return function(r){return null!=r&&(r[t]===e&&(e!==o||t in ee(r)))}}function ts(t,e,r){return e=Br(e===o?t.length-1:e,0),function(){for(var i=arguments,o=-1,s=Br(i.length-e,0),a=n(s);++o<s;)a[o]=i[e+o];o=-1;for(var u=n(e+1);++o<e;)u[o]=i[o];return u[e]=r(a),Ye(t,this,u)}}function es(t,e){return e.length<2?t:Gn(t,Ai(e,0,-1))}function rs(t,e){if(("constructor"!==e||"function"!=typeof t[e])&&"__proto__"!=e)return t[e]}var ns=as(ki),is=Rr||function(t,e){return Ie.setTimeout(t,e)},os=as(Mi);function ss(t,e,r){var n=e+"";return os(t,function(t,e){var r=e.length;if(!r)return t;var n=r-1;return e[n]=(r>1?"& ":"")+e[n],e=e.join(r>2?", ":" "),t.replace(jt,"{\n/* [wrapped with "+e+"] */\n")}(n,function(t,e){return He(U,(function(r){var n="_."+r[0];e&r[1]&&!Ze(t,n)&&t.push(n)})),t.sort()}(function(t){var e=t.match(Dt);return e?e[1].split(Lt):[]}(n),r)))}function as(t){var e=0,r=0;return function(){var n=$r(),i=A-(n-r);if(r=n,i>0){if(++e>=T)return arguments[0]}else e=0;return t.apply(o,arguments)}}function us(t,e){var r=-1,n=t.length,i=n-1;for(e=e===o?n:e;++r<e;){var s=wi(r,i),a=t[s];t[s]=t[r],t[r]=a}return t.length=e,t}var ls=function(t){var e=aa(t,(function(t){return r.size===c&&r.clear(),t})),r=e.cache;return e}((function(t){var e=[];return 46===t.charCodeAt(0)&&e.push(""),t.replace(Pt,(function(t,r,n,i){e.push(n?i.replace(Nt,"$1"):r||t)})),e}));function cs(t){if("string"==typeof t||Ka(t))return t;var e=t+"";return"0"==e&&1/t==-I?"-0":e}function hs(t){if(null!=t){try{return le.call(t)}catch(t){}try{return t+""}catch(t){}}return""}function fs(t){if(t instanceof mn)return t.clone();var e=new gn(t.__wrapped__,t.__chain__);return e.__actions__=ro(t.__actions__),e.__index__=t.__index__,e.__values__=t.__values__,e}var ds=Si((function(t,e){return ba(t)?Dn(t,Bn(e,1,ba,!0)):[]})),ps=Si((function(t,e){var r=Ss(e);return ba(r)&&(r=o),ba(t)?Dn(t,Bn(e,1,ba,!0),Ro(r,2)):[]})),_s=Si((function(t,e){var r=Ss(e);return ba(r)&&(r=o),ba(t)?Dn(t,Bn(e,1,ba,!0),o,r):[]}));function gs(t,e,r){var n=null==t?0:t.length;if(!n)return-1;var i=null==r?0:Na(r);return i<0&&(i=Br(n+i,0)),sr(t,Ro(e,3),i)}function ms(t,e,r){var n=null==t?0:t.length;if(!n)return-1;var i=n-1;return r!==o&&(i=Na(r),i=r<0?Br(n+i,0):Yr(i,n-1)),sr(t,Ro(e,3),i,!0)}function vs(t){return(null==t?0:t.length)?Bn(t,1):[]}function ys(t){return t&&t.length?t[0]:o}var bs=Si((function(t){var e=Je(t,Bi);return e.length&&e[0]===t[0]?ri(e):[]})),ws=Si((function(t){var e=Ss(t),r=Je(t,Bi);return e===Ss(r)?e=o:r.pop(),r.length&&r[0]===t[0]?ri(r,Ro(e,2)):[]})),xs=Si((function(t){var e=Ss(t),r=Je(t,Bi);return(e="function"==typeof e?e:o)&&r.pop(),r.length&&r[0]===t[0]?ri(r,o,e):[]}));function Ss(t){var e=null==t?0:t.length;return e?t[e-1]:o}var Es=Si(Cs);function Cs(t,e){return t&&t.length&&e&&e.length?yi(t,e):t}var Os=Ao((function(t,e){var r=null==t?0:t.length,n=In(t,e);return bi(t,Je(e,(function(t){return $o(t,r)?+t:t})).sort(Ji)),n}));function ks(t){return null==t?t:qr.call(t)}var Ms=Si((function(t){return ji(Bn(t,1,ba,!0))})),Ts=Si((function(t){var e=Ss(t);return ba(e)&&(e=o),ji(Bn(t,1,ba,!0),Ro(e,2))})),As=Si((function(t){var e=Ss(t);return e="function"==typeof e?e:o,ji(Bn(t,1,ba,!0),o,e)}));function Ps(t){if(!t||!t.length)return[];var e=0;return t=Ge(t,(function(t){if(ba(t))return e=Br(t.length,e),!0})),_r(e,(function(e){return Je(t,hr(e))}))}function zs(t,e){if(!t||!t.length)return[];var r=Ps(t);return null==e?r:Je(r,(function(t){return Ye(e,o,t)}))}var Is=Si((function(t,e){return ba(t)?Dn(t,e):[]})),Vs=Si((function(t){return Fi(Ge(t,ba))})),Ks=Si((function(t){var e=Ss(t);return ba(e)&&(e=o),Fi(Ge(t,ba),Ro(e,2))})),Rs=Si((function(t){var e=Ss(t);return e="function"==typeof e?e:o,Fi(Ge(t,ba),o,e)})),js=Si(Ps);var Ds=Si((function(t){var e=t.length,r=e>1?t[e-1]:o;return r="function"==typeof r?(t.pop(),r):o,zs(t,r)}));function Ls(t){var e=dn(t);return e.__chain__=!0,e}function Us(t,e){return e(t)}var Ns=Ao((function(t){var e=t.length,r=e?t[0]:0,n=this.__wrapped__,i=function(e){return In(e,t)};return!(e>1||this.__actions__.length)&&n instanceof mn&&$o(r)?((n=n.slice(r,+r+(e?1:0))).__actions__.push({func:Us,args:[i],thisArg:o}),new gn(n,this.__chain__).thru((function(t){return e&&!t.length&&t.push(o),t}))):this.thru(i)}));var Fs=io((function(t,e,r){ce.call(t,r)?++t[r]:zn(t,r,1)}));var Ws=ho(gs),Bs=ho(ms);function Ys(t,e){return(ma(t)?He:Ln)(t,Ro(e,3))}function $s(t,e){return(ma(t)?Xe:Un)(t,Ro(e,3))}var Hs=io((function(t,e,r){ce.call(t,r)?t[r].push(e):zn(t,r,[e])}));var Xs=Si((function(t,e,r){var i=-1,o="function"==typeof e,s=ya(t)?n(t.length):[];return Ln(t,(function(t){s[++i]=o?Ye(e,t,r):ni(t,e,r)})),s})),qs=io((function(t,e,r){zn(t,r,e)}));function Gs(t,e){return(ma(t)?Je:fi)(t,Ro(e,3))}var Zs=io((function(t,e,r){t[r?0:1].push(e)}),(function(){return[[],[]]}));var Qs=Si((function(t,e){if(null==t)return[];var r=e.length;return r>1&&Ho(t,e[0],e[1])?e=[]:r>2&&Ho(e[0],e[1],e[2])&&(e=[e[0]]),mi(t,Bn(e,1),[])})),Js=Kr||function(){return Ie.Date.now()};function ta(t,e,r){return e=r?o:e,e=t&&null==e?t.length:e,Co(t,E,o,o,o,o,e)}function ea(t,e){var r;if("function"!=typeof e)throw new ie(u);return t=Na(t),function(){return--t>0&&(r=e.apply(this,arguments)),t<=1&&(e=o),r}}var ra=Si((function(t,e,r){var n=m;if(r.length){var i=kr(r,Ko(ra));n|=x}return Co(t,n,e,r,i)})),na=Si((function(t,e,r){var n=m|v;if(r.length){var i=kr(r,Ko(na));n|=x}return Co(e,n,t,r,i)}));function ia(t,e,r){var n,i,s,a,l,c,h=0,f=!1,d=!1,p=!0;if("function"!=typeof t)throw new ie(u);function _(e){var r=n,s=i;return n=i=o,h=e,a=t.apply(s,r)}function g(t){var r=t-c;return c===o||r>=e||r<0||d&&t-h>=s}function m(){var t=Js();if(g(t))return v(t);l=is(m,function(t){var r=e-(t-c);return d?Yr(r,s-(t-h)):r}(t))}function v(t){return l=o,p&&n?_(t):(n=i=o,a)}function y(){var t=Js(),r=g(t);if(n=arguments,i=this,c=t,r){if(l===o)return function(t){return h=t,l=is(m,e),f?_(t):a}(c);if(d)return qi(l),l=is(m,e),_(c)}return l===o&&(l=is(m,e)),a}return e=Wa(e)||0,ka(r)&&(f=!!r.leading,s=(d="maxWait"in r)?Br(Wa(r.maxWait)||0,e):s,p="trailing"in r?!!r.trailing:p),y.cancel=function(){l!==o&&qi(l),h=0,n=c=i=l=o},y.flush=function(){return l===o?a:v(Js())},y}var oa=Si((function(t,e){return jn(t,1,e)})),sa=Si((function(t,e,r){return jn(t,Wa(e)||0,r)}));function aa(t,e){if("function"!=typeof t||null!=e&&"function"!=typeof e)throw new ie(u);var r=function(){var n=arguments,i=e?e.apply(this,n):n[0],o=r.cache;if(o.has(i))return o.get(i);var s=t.apply(this,n);return r.cache=o.set(i,s)||o,s};return r.cache=new(aa.Cache||bn),r}function ua(t){if("function"!=typeof t)throw new ie(u);return function(){var e=arguments;switch(e.length){case 0:return!t.call(this);case 1:return!t.call(this,e[0]);case 2:return!t.call(this,e[0],e[1]);case 3:return!t.call(this,e[0],e[1],e[2])}return!t.apply(this,e)}}aa.Cache=bn;var la=Hi((function(t,e){var r=(e=1==e.length&&ma(e[0])?Je(e[0],gr(Ro())):Je(Bn(e,1),gr(Ro()))).length;return Si((function(n){for(var i=-1,o=Yr(n.length,r);++i<o;)n[i]=e[i].call(this,n[i]);return Ye(t,this,n)}))})),ca=Si((function(t,e){var r=kr(e,Ko(ca));return Co(t,x,o,e,r)})),ha=Si((function(t,e){var r=kr(e,Ko(ha));return Co(t,S,o,e,r)})),fa=Ao((function(t,e){return Co(t,C,o,o,o,e)}));function da(t,e){return t===e||t!=t&&e!=e}var pa=bo(Jn),_a=bo((function(t,e){return t>=e})),ga=ii(function(){return arguments}())?ii:function(t){return Ma(t)&&ce.call(t,"callee")&&!Ve.call(t,"callee")},ma=n.isArray,va=Le?gr(Le):function(t){return Ma(t)&&Qn(t)==ut};function ya(t){return null!=t&&Oa(t.length)&&!Ea(t)}function ba(t){return Ma(t)&&ya(t)}var wa=Ur||Wu,xa=Ue?gr(Ue):function(t){return Ma(t)&&Qn(t)==Y};function Sa(t){if(!Ma(t))return!1;var e=Qn(t);return e==H||e==$||"string"==typeof t.message&&"string"==typeof t.name&&!Pa(t)}function Ea(t){if(!ka(t))return!1;var e=Qn(t);return e==X||e==q||e==W||e==tt}function Ca(t){return"number"==typeof t&&t==Na(t)}function Oa(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=V}function ka(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}function Ma(t){return null!=t&&"object"==typeof t}var Ta=Ne?gr(Ne):function(t){return Ma(t)&&Fo(t)==G};function Aa(t){return"number"==typeof t||Ma(t)&&Qn(t)==Z}function Pa(t){if(!Ma(t)||Qn(t)!=J)return!1;var e=Pe(t);if(null===e)return!0;var r=ce.call(e,"constructor")&&e.constructor;return"function"==typeof r&&r instanceof r&&le.call(r)==pe}var za=Fe?gr(Fe):function(t){return Ma(t)&&Qn(t)==et};var Ia=We?gr(We):function(t){return Ma(t)&&Fo(t)==rt};function Va(t){return"string"==typeof t||!ma(t)&&Ma(t)&&Qn(t)==nt}function Ka(t){return"symbol"==typeof t||Ma(t)&&Qn(t)==it}var Ra=Be?gr(Be):function(t){return Ma(t)&&Oa(t.length)&&!!Oe[Qn(t)]};var ja=bo(hi),Da=bo((function(t,e){return t<=e}));function La(t){if(!t)return[];if(ya(t))return Va(t)?Pr(t):ro(t);if(De&&t[De])return function(t){for(var e,r=[];!(e=t.next()).done;)r.push(e.value);return r}(t[De]());var e=Fo(t);return(e==G?Cr:e==rt?Mr:du)(t)}function Ua(t){return t?(t=Wa(t))===I||t===-I?(t<0?-1:1)*K:t==t?t:0:0===t?t:0}function Na(t){var e=Ua(t),r=e%1;return e==e?r?e-r:e:0}function Fa(t){return t?Vn(Na(t),0,j):0}function Wa(t){if("number"==typeof t)return t;if(Ka(t))return R;if(ka(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=ka(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=t.replace(Vt,"");var r=Yt.test(t);return r||Ht.test(t)?Ae(t.slice(2),r?2:8):Bt.test(t)?R:+t}function Ba(t){return no(t,ou(t))}function Ya(t){return null==t?"":Ri(t)}var $a=oo((function(t,e){if(Zo(e)||ya(e))no(e,iu(e),t);else for(var r in e)ce.call(e,r)&&Mn(t,r,e[r])})),Ha=oo((function(t,e){no(e,ou(e),t)})),Xa=oo((function(t,e,r,n){no(e,ou(e),t,n)})),qa=oo((function(t,e,r,n){no(e,iu(e),t,n)})),Ga=Ao(In);var Za=Si((function(t,e){t=ee(t);var r=-1,n=e.length,i=n>2?e[2]:o;for(i&&Ho(e[0],e[1],i)&&(n=1);++r<n;)for(var s=e[r],a=ou(s),u=-1,l=a.length;++u<l;){var c=a[u],h=t[c];(h===o||da(h,ae[c])&&!ce.call(t,c))&&(t[c]=s[c])}return t})),Qa=Si((function(t){return t.push(o,ko),Ye(au,o,t)}));function Ja(t,e,r){var n=null==t?o:Gn(t,e);return n===o?r:n}function tu(t,e){return null!=t&&Wo(t,e,ei)}var eu=_o((function(t,e,r){null!=e&&"function"!=typeof e.toString&&(e=de.call(e)),t[e]=r}),ku(Au)),ru=_o((function(t,e,r){null!=e&&"function"!=typeof e.toString&&(e=de.call(e)),ce.call(t,e)?t[e].push(r):t[e]=[r]}),Ro),nu=Si(ni);function iu(t){return ya(t)?Sn(t):li(t)}function ou(t){return ya(t)?Sn(t,!0):ci(t)}var su=oo((function(t,e,r){_i(t,e,r)})),au=oo((function(t,e,r,n){_i(t,e,r,n)})),uu=Ao((function(t,e){var r={};if(null==t)return r;var n=!1;e=Je(e,(function(e){return e=$i(e,t),n||(n=e.length>1),e})),no(t,zo(t),r),n&&(r=Kn(r,f|d|p,Mo));for(var i=e.length;i--;)Di(r,e[i]);return r}));var lu=Ao((function(t,e){return null==t?{}:function(t,e){return vi(t,e,(function(e,r){return tu(t,r)}))}(t,e)}));function cu(t,e){if(null==t)return{};var r=Je(zo(t),(function(t){return[t]}));return e=Ro(e),vi(t,r,(function(t,r){return e(t,r[0])}))}var hu=Eo(iu),fu=Eo(ou);function du(t){return null==t?[]:mr(t,iu(t))}var pu=lo((function(t,e,r){return e=e.toLowerCase(),t+(r?_u(e):e)}));function _u(t){return Su(Ya(t).toLowerCase())}function gu(t){return(t=Ya(t))&&t.replace(qt,wr).replace(ye,"")}var mu=lo((function(t,e,r){return t+(r?"-":"")+e.toLowerCase()})),vu=lo((function(t,e,r){return t+(r?" ":"")+e.toLowerCase()})),yu=uo("toLowerCase");var bu=lo((function(t,e,r){return t+(r?"_":"")+e.toLowerCase()}));var wu=lo((function(t,e,r){return t+(r?" ":"")+Su(e)}));var xu=lo((function(t,e,r){return t+(r?" ":"")+e.toUpperCase()})),Su=uo("toUpperCase");function Eu(t,e,r){return t=Ya(t),(e=r?o:e)===o?function(t){return Se.test(t)}(t)?function(t){return t.match(we)||[]}(t):function(t){return t.match(Ut)||[]}(t):t.match(e)||[]}var Cu=Si((function(t,e){try{return Ye(t,o,e)}catch(t){return Sa(t)?t:new Qt(t)}})),Ou=Ao((function(t,e){return He(e,(function(e){e=cs(e),zn(t,e,ra(t[e],t))})),t}));function ku(t){return function(){return t}}var Mu=fo(),Tu=fo(!0);function Au(t){return t}function Pu(t){return ui("function"==typeof t?t:Kn(t,f))}var zu=Si((function(t,e){return function(r){return ni(r,t,e)}})),Iu=Si((function(t,e){return function(r){return ni(t,r,e)}}));function Vu(t,e,r){var n=iu(e),i=qn(e,n);null!=r||ka(e)&&(i.length||!n.length)||(r=e,e=t,t=this,i=qn(e,iu(e)));var o=!(ka(r)&&"chain"in r&&!r.chain),s=Ea(t);return He(i,(function(r){var n=e[r];t[r]=n,s&&(t.prototype[r]=function(){var e=this.__chain__;if(o||e){var r=t(this.__wrapped__),i=r.__actions__=ro(this.__actions__);return i.push({func:n,args:arguments,thisArg:t}),r.__chain__=e,r}return n.apply(t,tr([this.value()],arguments))})})),t}function Ku(){}var Ru=mo(Je),ju=mo(qe),Du=mo(nr);function Lu(t){return Xo(t)?hr(cs(t)):function(t){return function(e){return Gn(e,t)}}(t)}var Uu=yo(),Nu=yo(!0);function Fu(){return[]}function Wu(){return!1}var Bu=go((function(t,e){return t+e}),0),Yu=xo("ceil"),$u=go((function(t,e){return t/e}),1),Hu=xo("floor");var Xu,qu=go((function(t,e){return t*e}),1),Gu=xo("round"),Zu=go((function(t,e){return t-e}),0);return dn.after=function(t,e){if("function"!=typeof e)throw new ie(u);return t=Na(t),function(){if(--t<1)return e.apply(this,arguments)}},dn.ary=ta,dn.assign=$a,dn.assignIn=Ha,dn.assignInWith=Xa,dn.assignWith=qa,dn.at=Ga,dn.before=ea,dn.bind=ra,dn.bindAll=Ou,dn.bindKey=na,dn.castArray=function(){if(!arguments.length)return[];var t=arguments[0];return ma(t)?t:[t]},dn.chain=Ls,dn.chunk=function(t,e,r){e=(r?Ho(t,e,r):e===o)?1:Br(Na(e),0);var i=null==t?0:t.length;if(!i||e<1)return[];for(var s=0,a=0,u=n(jr(i/e));s<i;)u[a++]=Ai(t,s,s+=e);return u},dn.compact=function(t){for(var e=-1,r=null==t?0:t.length,n=0,i=[];++e<r;){var o=t[e];o&&(i[n++]=o)}return i},dn.concat=function(){var t=arguments.length;if(!t)return[];for(var e=n(t-1),r=arguments[0],i=t;i--;)e[i-1]=arguments[i];return tr(ma(r)?ro(r):[r],Bn(e,1))},dn.cond=function(t){var e=null==t?0:t.length,r=Ro();return t=e?Je(t,(function(t){if("function"!=typeof t[1])throw new ie(u);return[r(t[0]),t[1]]})):[],Si((function(r){for(var n=-1;++n<e;){var i=t[n];if(Ye(i[0],this,r))return Ye(i[1],this,r)}}))},dn.conforms=function(t){return function(t){var e=iu(t);return function(r){return Rn(r,t,e)}}(Kn(t,f))},dn.constant=ku,dn.countBy=Fs,dn.create=function(t,e){var r=pn(t);return null==e?r:Pn(r,e)},dn.curry=function t(e,r,n){var i=Co(e,b,o,o,o,o,o,r=n?o:r);return i.placeholder=t.placeholder,i},dn.curryRight=function t(e,r,n){var i=Co(e,w,o,o,o,o,o,r=n?o:r);return i.placeholder=t.placeholder,i},dn.debounce=ia,dn.defaults=Za,dn.defaultsDeep=Qa,dn.defer=oa,dn.delay=sa,dn.difference=ds,dn.differenceBy=ps,dn.differenceWith=_s,dn.drop=function(t,e,r){var n=null==t?0:t.length;return n?Ai(t,(e=r||e===o?1:Na(e))<0?0:e,n):[]},dn.dropRight=function(t,e,r){var n=null==t?0:t.length;return n?Ai(t,0,(e=n-(e=r||e===o?1:Na(e)))<0?0:e):[]},dn.dropRightWhile=function(t,e){return t&&t.length?Ui(t,Ro(e,3),!0,!0):[]},dn.dropWhile=function(t,e){return t&&t.length?Ui(t,Ro(e,3),!0):[]},dn.fill=function(t,e,r,n){var i=null==t?0:t.length;return i?(r&&"number"!=typeof r&&Ho(t,e,r)&&(r=0,n=i),function(t,e,r,n){var i=t.length;for((r=Na(r))<0&&(r=-r>i?0:i+r),(n=n===o||n>i?i:Na(n))<0&&(n+=i),n=r>n?0:Fa(n);r<n;)t[r++]=e;return t}(t,e,r,n)):[]},dn.filter=function(t,e){return(ma(t)?Ge:Wn)(t,Ro(e,3))},dn.flatMap=function(t,e){return Bn(Gs(t,e),1)},dn.flatMapDeep=function(t,e){return Bn(Gs(t,e),I)},dn.flatMapDepth=function(t,e,r){return r=r===o?1:Na(r),Bn(Gs(t,e),r)},dn.flatten=vs,dn.flattenDeep=function(t){return(null==t?0:t.length)?Bn(t,I):[]},dn.flattenDepth=function(t,e){return(null==t?0:t.length)?Bn(t,e=e===o?1:Na(e)):[]},dn.flip=function(t){return Co(t,O)},dn.flow=Mu,dn.flowRight=Tu,dn.fromPairs=function(t){for(var e=-1,r=null==t?0:t.length,n={};++e<r;){var i=t[e];n[i[0]]=i[1]}return n},dn.functions=function(t){return null==t?[]:qn(t,iu(t))},dn.functionsIn=function(t){return null==t?[]:qn(t,ou(t))},dn.groupBy=Hs,dn.initial=function(t){return(null==t?0:t.length)?Ai(t,0,-1):[]},dn.intersection=bs,dn.intersectionBy=ws,dn.intersectionWith=xs,dn.invert=eu,dn.invertBy=ru,dn.invokeMap=Xs,dn.iteratee=Pu,dn.keyBy=qs,dn.keys=iu,dn.keysIn=ou,dn.map=Gs,dn.mapKeys=function(t,e){var r={};return e=Ro(e,3),Hn(t,(function(t,n,i){zn(r,e(t,n,i),t)})),r},dn.mapValues=function(t,e){var r={};return e=Ro(e,3),Hn(t,(function(t,n,i){zn(r,n,e(t,n,i))})),r},dn.matches=function(t){return di(Kn(t,f))},dn.matchesProperty=function(t,e){return pi(t,Kn(e,f))},dn.memoize=aa,dn.merge=su,dn.mergeWith=au,dn.method=zu,dn.methodOf=Iu,dn.mixin=Vu,dn.negate=ua,dn.nthArg=function(t){return t=Na(t),Si((function(e){return gi(e,t)}))},dn.omit=uu,dn.omitBy=function(t,e){return cu(t,ua(Ro(e)))},dn.once=function(t){return ea(2,t)},dn.orderBy=function(t,e,r,n){return null==t?[]:(ma(e)||(e=null==e?[]:[e]),ma(r=n?o:r)||(r=null==r?[]:[r]),mi(t,e,r))},dn.over=Ru,dn.overArgs=la,dn.overEvery=ju,dn.overSome=Du,dn.partial=ca,dn.partialRight=ha,dn.partition=Zs,dn.pick=lu,dn.pickBy=cu,dn.property=Lu,dn.propertyOf=function(t){return function(e){return null==t?o:Gn(t,e)}},dn.pull=Es,dn.pullAll=Cs,dn.pullAllBy=function(t,e,r){return t&&t.length&&e&&e.length?yi(t,e,Ro(r,2)):t},dn.pullAllWith=function(t,e,r){return t&&t.length&&e&&e.length?yi(t,e,o,r):t},dn.pullAt=Os,dn.range=Uu,dn.rangeRight=Nu,dn.rearg=fa,dn.reject=function(t,e){return(ma(t)?Ge:Wn)(t,ua(Ro(e,3)))},dn.remove=function(t,e){var r=[];if(!t||!t.length)return r;var n=-1,i=[],o=t.length;for(e=Ro(e,3);++n<o;){var s=t[n];e(s,n,t)&&(r.push(s),i.push(n))}return bi(t,i),r},dn.rest=function(t,e){if("function"!=typeof t)throw new ie(u);return Si(t,e=e===o?e:Na(e))},dn.reverse=ks,dn.sampleSize=function(t,e,r){return e=(r?Ho(t,e,r):e===o)?1:Na(e),(ma(t)?Cn:Ci)(t,e)},dn.set=function(t,e,r){return null==t?t:Oi(t,e,r)},dn.setWith=function(t,e,r,n){return n="function"==typeof n?n:o,null==t?t:Oi(t,e,r,n)},dn.shuffle=function(t){return(ma(t)?On:Ti)(t)},dn.slice=function(t,e,r){var n=null==t?0:t.length;return n?(r&&"number"!=typeof r&&Ho(t,e,r)?(e=0,r=n):(e=null==e?0:Na(e),r=r===o?n:Na(r)),Ai(t,e,r)):[]},dn.sortBy=Qs,dn.sortedUniq=function(t){return t&&t.length?Vi(t):[]},dn.sortedUniqBy=function(t,e){return t&&t.length?Vi(t,Ro(e,2)):[]},dn.split=function(t,e,r){return r&&"number"!=typeof r&&Ho(t,e,r)&&(e=r=o),(r=r===o?j:r>>>0)?(t=Ya(t))&&("string"==typeof e||null!=e&&!za(e))&&!(e=Ri(e))&&Er(t)?Xi(Pr(t),0,r):t.split(e,r):[]},dn.spread=function(t,e){if("function"!=typeof t)throw new ie(u);return e=null==e?0:Br(Na(e),0),Si((function(r){var n=r[e],i=Xi(r,0,e);return n&&tr(i,n),Ye(t,this,i)}))},dn.tail=function(t){var e=null==t?0:t.length;return e?Ai(t,1,e):[]},dn.take=function(t,e,r){return t&&t.length?Ai(t,0,(e=r||e===o?1:Na(e))<0?0:e):[]},dn.takeRight=function(t,e,r){var n=null==t?0:t.length;return n?Ai(t,(e=n-(e=r||e===o?1:Na(e)))<0?0:e,n):[]},dn.takeRightWhile=function(t,e){return t&&t.length?Ui(t,Ro(e,3),!1,!0):[]},dn.takeWhile=function(t,e){return t&&t.length?Ui(t,Ro(e,3)):[]},dn.tap=function(t,e){return e(t),t},dn.throttle=function(t,e,r){var n=!0,i=!0;if("function"!=typeof t)throw new ie(u);return ka(r)&&(n="leading"in r?!!r.leading:n,i="trailing"in r?!!r.trailing:i),ia(t,e,{leading:n,maxWait:e,trailing:i})},dn.thru=Us,dn.toArray=La,dn.toPairs=hu,dn.toPairsIn=fu,dn.toPath=function(t){return ma(t)?Je(t,cs):Ka(t)?[t]:ro(ls(Ya(t)))},dn.toPlainObject=Ba,dn.transform=function(t,e,r){var n=ma(t),i=n||wa(t)||Ra(t);if(e=Ro(e,4),null==r){var o=t&&t.constructor;r=i?n?new o:[]:ka(t)&&Ea(o)?pn(Pe(t)):{}}return(i?He:Hn)(t,(function(t,n,i){return e(r,t,n,i)})),r},dn.unary=function(t){return ta(t,1)},dn.union=Ms,dn.unionBy=Ts,dn.unionWith=As,dn.uniq=function(t){return t&&t.length?ji(t):[]},dn.uniqBy=function(t,e){return t&&t.length?ji(t,Ro(e,2)):[]},dn.uniqWith=function(t,e){return e="function"==typeof e?e:o,t&&t.length?ji(t,o,e):[]},dn.unset=function(t,e){return null==t||Di(t,e)},dn.unzip=Ps,dn.unzipWith=zs,dn.update=function(t,e,r){return null==t?t:Li(t,e,Yi(r))},dn.updateWith=function(t,e,r,n){return n="function"==typeof n?n:o,null==t?t:Li(t,e,Yi(r),n)},dn.values=du,dn.valuesIn=function(t){return null==t?[]:mr(t,ou(t))},dn.without=Is,dn.words=Eu,dn.wrap=function(t,e){return ca(Yi(e),t)},dn.xor=Vs,dn.xorBy=Ks,dn.xorWith=Rs,dn.zip=js,dn.zipObject=function(t,e){return Wi(t||[],e||[],Mn)},dn.zipObjectDeep=function(t,e){return Wi(t||[],e||[],Oi)},dn.zipWith=Ds,dn.entries=hu,dn.entriesIn=fu,dn.extend=Ha,dn.extendWith=Xa,Vu(dn,dn),dn.add=Bu,dn.attempt=Cu,dn.camelCase=pu,dn.capitalize=_u,dn.ceil=Yu,dn.clamp=function(t,e,r){return r===o&&(r=e,e=o),r!==o&&(r=(r=Wa(r))==r?r:0),e!==o&&(e=(e=Wa(e))==e?e:0),Vn(Wa(t),e,r)},dn.clone=function(t){return Kn(t,p)},dn.cloneDeep=function(t){return Kn(t,f|p)},dn.cloneDeepWith=function(t,e){return Kn(t,f|p,e="function"==typeof e?e:o)},dn.cloneWith=function(t,e){return Kn(t,p,e="function"==typeof e?e:o)},dn.conformsTo=function(t,e){return null==e||Rn(t,e,iu(e))},dn.deburr=gu,dn.defaultTo=function(t,e){return null==t||t!=t?e:t},dn.divide=$u,dn.endsWith=function(t,e,r){t=Ya(t),e=Ri(e);var n=t.length,i=r=r===o?n:Vn(Na(r),0,n);return(r-=e.length)>=0&&t.slice(r,i)==e},dn.eq=da,dn.escape=function(t){return(t=Ya(t))&&Ct.test(t)?t.replace(St,xr):t},dn.escapeRegExp=function(t){return(t=Ya(t))&&It.test(t)?t.replace(zt,"\\$&"):t},dn.every=function(t,e,r){var n=ma(t)?qe:Nn;return r&&Ho(t,e,r)&&(e=o),n(t,Ro(e,3))},dn.find=Ws,dn.findIndex=gs,dn.findKey=function(t,e){return or(t,Ro(e,3),Hn)},dn.findLast=Bs,dn.findLastIndex=ms,dn.findLastKey=function(t,e){return or(t,Ro(e,3),Xn)},dn.floor=Hu,dn.forEach=Ys,dn.forEachRight=$s,dn.forIn=function(t,e){return null==t?t:Yn(t,Ro(e,3),ou)},dn.forInRight=function(t,e){return null==t?t:$n(t,Ro(e,3),ou)},dn.forOwn=function(t,e){return t&&Hn(t,Ro(e,3))},dn.forOwnRight=function(t,e){return t&&Xn(t,Ro(e,3))},dn.get=Ja,dn.gt=pa,dn.gte=_a,dn.has=function(t,e){return null!=t&&Wo(t,e,ti)},dn.hasIn=tu,dn.head=ys,dn.identity=Au,dn.includes=function(t,e,r,n){t=ya(t)?t:du(t),r=r&&!n?Na(r):0;var i=t.length;return r<0&&(r=Br(i+r,0)),Va(t)?r<=i&&t.indexOf(e,r)>-1:!!i&&ar(t,e,r)>-1},dn.indexOf=function(t,e,r){var n=null==t?0:t.length;if(!n)return-1;var i=null==r?0:Na(r);return i<0&&(i=Br(n+i,0)),ar(t,e,i)},dn.inRange=function(t,e,r){return e=Ua(e),r===o?(r=e,e=0):r=Ua(r),function(t,e,r){return t>=Yr(e,r)&&t<Br(e,r)}(t=Wa(t),e,r)},dn.invoke=nu,dn.isArguments=ga,dn.isArray=ma,dn.isArrayBuffer=va,dn.isArrayLike=ya,dn.isArrayLikeObject=ba,dn.isBoolean=function(t){return!0===t||!1===t||Ma(t)&&Qn(t)==B},dn.isBuffer=wa,dn.isDate=xa,dn.isElement=function(t){return Ma(t)&&1===t.nodeType&&!Pa(t)},dn.isEmpty=function(t){if(null==t)return!0;if(ya(t)&&(ma(t)||"string"==typeof t||"function"==typeof t.splice||wa(t)||Ra(t)||ga(t)))return!t.length;var e=Fo(t);if(e==G||e==rt)return!t.size;if(Zo(t))return!li(t).length;for(var r in t)if(ce.call(t,r))return!1;return!0},dn.isEqual=function(t,e){return oi(t,e)},dn.isEqualWith=function(t,e,r){var n=(r="function"==typeof r?r:o)?r(t,e):o;return n===o?oi(t,e,o,r):!!n},dn.isError=Sa,dn.isFinite=function(t){return"number"==typeof t&&Nr(t)},dn.isFunction=Ea,dn.isInteger=Ca,dn.isLength=Oa,dn.isMap=Ta,dn.isMatch=function(t,e){return t===e||si(t,e,Do(e))},dn.isMatchWith=function(t,e,r){return r="function"==typeof r?r:o,si(t,e,Do(e),r)},dn.isNaN=function(t){return Aa(t)&&t!=+t},dn.isNative=function(t){if(Go(t))throw new Qt(a);return ai(t)},dn.isNil=function(t){return null==t},dn.isNull=function(t){return null===t},dn.isNumber=Aa,dn.isObject=ka,dn.isObjectLike=Ma,dn.isPlainObject=Pa,dn.isRegExp=za,dn.isSafeInteger=function(t){return Ca(t)&&t>=-V&&t<=V},dn.isSet=Ia,dn.isString=Va,dn.isSymbol=Ka,dn.isTypedArray=Ra,dn.isUndefined=function(t){return t===o},dn.isWeakMap=function(t){return Ma(t)&&Fo(t)==st},dn.isWeakSet=function(t){return Ma(t)&&Qn(t)==at},dn.join=function(t,e){return null==t?"":Fr.call(t,e)},dn.kebabCase=mu,dn.last=Ss,dn.lastIndexOf=function(t,e,r){var n=null==t?0:t.length;if(!n)return-1;var i=n;return r!==o&&(i=(i=Na(r))<0?Br(n+i,0):Yr(i,n-1)),e==e?function(t,e,r){for(var n=r+1;n--;)if(t[n]===e)return n;return n}(t,e,i):sr(t,lr,i,!0)},dn.lowerCase=vu,dn.lowerFirst=yu,dn.lt=ja,dn.lte=Da,dn.max=function(t){return t&&t.length?Fn(t,Au,Jn):o},dn.maxBy=function(t,e){return t&&t.length?Fn(t,Ro(e,2),Jn):o},dn.mean=function(t){return cr(t,Au)},dn.meanBy=function(t,e){return cr(t,Ro(e,2))},dn.min=function(t){return t&&t.length?Fn(t,Au,hi):o},dn.minBy=function(t,e){return t&&t.length?Fn(t,Ro(e,2),hi):o},dn.stubArray=Fu,dn.stubFalse=Wu,dn.stubObject=function(){return{}},dn.stubString=function(){return""},dn.stubTrue=function(){return!0},dn.multiply=qu,dn.nth=function(t,e){return t&&t.length?gi(t,Na(e)):o},dn.noConflict=function(){return Ie._===this&&(Ie._=_e),this},dn.noop=Ku,dn.now=Js,dn.pad=function(t,e,r){t=Ya(t);var n=(e=Na(e))?Ar(t):0;if(!e||n>=e)return t;var i=(e-n)/2;return vo(Dr(i),r)+t+vo(jr(i),r)},dn.padEnd=function(t,e,r){t=Ya(t);var n=(e=Na(e))?Ar(t):0;return e&&n<e?t+vo(e-n,r):t},dn.padStart=function(t,e,r){t=Ya(t);var n=(e=Na(e))?Ar(t):0;return e&&n<e?vo(e-n,r)+t:t},dn.parseInt=function(t,e,r){return r||null==e?e=0:e&&(e=+e),Hr(Ya(t).replace(Kt,""),e||0)},dn.random=function(t,e,r){if(r&&"boolean"!=typeof r&&Ho(t,e,r)&&(e=r=o),r===o&&("boolean"==typeof e?(r=e,e=o):"boolean"==typeof t&&(r=t,t=o)),t===o&&e===o?(t=0,e=1):(t=Ua(t),e===o?(e=t,t=0):e=Ua(e)),t>e){var n=t;t=e,e=n}if(r||t%1||e%1){var i=Xr();return Yr(t+i*(e-t+Te("1e-"+((i+"").length-1))),e)}return wi(t,e)},dn.reduce=function(t,e,r){var n=ma(t)?er:dr,i=arguments.length<3;return n(t,Ro(e,4),r,i,Ln)},dn.reduceRight=function(t,e,r){var n=ma(t)?rr:dr,i=arguments.length<3;return n(t,Ro(e,4),r,i,Un)},dn.repeat=function(t,e,r){return e=(r?Ho(t,e,r):e===o)?1:Na(e),xi(Ya(t),e)},dn.replace=function(){var t=arguments,e=Ya(t[0]);return t.length<3?e:e.replace(t[1],t[2])},dn.result=function(t,e,r){var n=-1,i=(e=$i(e,t)).length;for(i||(i=1,t=o);++n<i;){var s=null==t?o:t[cs(e[n])];s===o&&(n=i,s=r),t=Ea(s)?s.call(t):s}return t},dn.round=Gu,dn.runInContext=t,dn.sample=function(t){return(ma(t)?En:Ei)(t)},dn.size=function(t){if(null==t)return 0;if(ya(t))return Va(t)?Ar(t):t.length;var e=Fo(t);return e==G||e==rt?t.size:li(t).length},dn.snakeCase=bu,dn.some=function(t,e,r){var n=ma(t)?nr:Pi;return r&&Ho(t,e,r)&&(e=o),n(t,Ro(e,3))},dn.sortedIndex=function(t,e){return zi(t,e)},dn.sortedIndexBy=function(t,e,r){return Ii(t,e,Ro(r,2))},dn.sortedIndexOf=function(t,e){var r=null==t?0:t.length;if(r){var n=zi(t,e);if(n<r&&da(t[n],e))return n}return-1},dn.sortedLastIndex=function(t,e){return zi(t,e,!0)},dn.sortedLastIndexBy=function(t,e,r){return Ii(t,e,Ro(r,2),!0)},dn.sortedLastIndexOf=function(t,e){if(null==t?0:t.length){var r=zi(t,e,!0)-1;if(da(t[r],e))return r}return-1},dn.startCase=wu,dn.startsWith=function(t,e,r){return t=Ya(t),r=null==r?0:Vn(Na(r),0,t.length),e=Ri(e),t.slice(r,r+e.length)==e},dn.subtract=Zu,dn.sum=function(t){return t&&t.length?pr(t,Au):0},dn.sumBy=function(t,e){return t&&t.length?pr(t,Ro(e,2)):0},dn.template=function(t,e,r){var n=dn.templateSettings;r&&Ho(t,e,r)&&(e=o),t=Ya(t),e=Xa({},e,n,Oo);var i,s,a=Xa({},e.imports,n.imports,Oo),u=iu(a),l=mr(a,u),c=0,h=e.interpolate||Gt,f="__p += '",d=re((e.escape||Gt).source+"|"+h.source+"|"+(h===Mt?Ft:Gt).source+"|"+(e.evaluate||Gt).source+"|$","g"),p="//# sourceURL="+(ce.call(e,"sourceURL")?(e.sourceURL+"").replace(/[\r\n]/g," "):"lodash.templateSources["+ ++Ce+"]")+"\n";t.replace(d,(function(e,r,n,o,a,u){return n||(n=o),f+=t.slice(c,u).replace(Zt,Sr),r&&(i=!0,f+="' +\n__e("+r+") +\n'"),a&&(s=!0,f+="';\n"+a+";\n__p += '"),n&&(f+="' +\n((__t = ("+n+")) == null ? '' : __t) +\n'"),c=u+e.length,e})),f+="';\n";var _=ce.call(e,"variable")&&e.variable;_||(f="with (obj) {\n"+f+"\n}\n"),f=(s?f.replace(yt,""):f).replace(bt,"$1").replace(wt,"$1;"),f="function("+(_||"obj")+") {\n"+(_?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(i?", __e = _.escape":"")+(s?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+f+"return __p\n}";var g=Cu((function(){return Jt(u,p+"return "+f).apply(o,l)}));if(g.source=f,Sa(g))throw g;return g},dn.times=function(t,e){if((t=Na(t))<1||t>V)return[];var r=j,n=Yr(t,j);e=Ro(e),t-=j;for(var i=_r(n,e);++r<t;)e(r);return i},dn.toFinite=Ua,dn.toInteger=Na,dn.toLength=Fa,dn.toLower=function(t){return Ya(t).toLowerCase()},dn.toNumber=Wa,dn.toSafeInteger=function(t){return t?Vn(Na(t),-V,V):0===t?t:0},dn.toString=Ya,dn.toUpper=function(t){return Ya(t).toUpperCase()},dn.trim=function(t,e,r){if((t=Ya(t))&&(r||e===o))return t.replace(Vt,"");if(!t||!(e=Ri(e)))return t;var n=Pr(t),i=Pr(e);return Xi(n,yr(n,i),br(n,i)+1).join("")},dn.trimEnd=function(t,e,r){if((t=Ya(t))&&(r||e===o))return t.replace(Rt,"");if(!t||!(e=Ri(e)))return t;var n=Pr(t);return Xi(n,0,br(n,Pr(e))+1).join("")},dn.trimStart=function(t,e,r){if((t=Ya(t))&&(r||e===o))return t.replace(Kt,"");if(!t||!(e=Ri(e)))return t;var n=Pr(t);return Xi(n,yr(n,Pr(e))).join("")},dn.truncate=function(t,e){var r=k,n=M;if(ka(e)){var i="separator"in e?e.separator:i;r="length"in e?Na(e.length):r,n="omission"in e?Ri(e.omission):n}var s=(t=Ya(t)).length;if(Er(t)){var a=Pr(t);s=a.length}if(r>=s)return t;var u=r-Ar(n);if(u<1)return n;var l=a?Xi(a,0,u).join(""):t.slice(0,u);if(i===o)return l+n;if(a&&(u+=l.length-u),za(i)){if(t.slice(u).search(i)){var c,h=l;for(i.global||(i=re(i.source,Ya(Wt.exec(i))+"g")),i.lastIndex=0;c=i.exec(h);)var f=c.index;l=l.slice(0,f===o?u:f)}}else if(t.indexOf(Ri(i),u)!=u){var d=l.lastIndexOf(i);d>-1&&(l=l.slice(0,d))}return l+n},dn.unescape=function(t){return(t=Ya(t))&&Et.test(t)?t.replace(xt,zr):t},dn.uniqueId=function(t){var e=++he;return Ya(t)+e},dn.upperCase=xu,dn.upperFirst=Su,dn.each=Ys,dn.eachRight=$s,dn.first=ys,Vu(dn,(Xu={},Hn(dn,(function(t,e){ce.call(dn.prototype,e)||(Xu[e]=t)})),Xu),{chain:!1}),dn.VERSION="4.17.15",He(["bind","bindKey","curry","curryRight","partial","partialRight"],(function(t){dn[t].placeholder=dn})),He(["drop","take"],(function(t,e){mn.prototype[t]=function(r){r=r===o?1:Br(Na(r),0);var n=this.__filtered__&&!e?new mn(this):this.clone();return n.__filtered__?n.__takeCount__=Yr(r,n.__takeCount__):n.__views__.push({size:Yr(r,j),type:t+(n.__dir__<0?"Right":"")}),n},mn.prototype[t+"Right"]=function(e){return this.reverse()[t](e).reverse()}})),He(["filter","map","takeWhile"],(function(t,e){var r=e+1,n=r==P||3==r;mn.prototype[t]=function(t){var e=this.clone();return e.__iteratees__.push({iteratee:Ro(t,3),type:r}),e.__filtered__=e.__filtered__||n,e}})),He(["head","last"],(function(t,e){var r="take"+(e?"Right":"");mn.prototype[t]=function(){return this[r](1).value()[0]}})),He(["initial","tail"],(function(t,e){var r="drop"+(e?"":"Right");mn.prototype[t]=function(){return this.__filtered__?new mn(this):this[r](1)}})),mn.prototype.compact=function(){return this.filter(Au)},mn.prototype.find=function(t){return this.filter(t).head()},mn.prototype.findLast=function(t){return this.reverse().find(t)},mn.prototype.invokeMap=Si((function(t,e){return"function"==typeof t?new mn(this):this.map((function(r){return ni(r,t,e)}))})),mn.prototype.reject=function(t){return this.filter(ua(Ro(t)))},mn.prototype.slice=function(t,e){t=Na(t);var r=this;return r.__filtered__&&(t>0||e<0)?new mn(r):(t<0?r=r.takeRight(-t):t&&(r=r.drop(t)),e!==o&&(r=(e=Na(e))<0?r.dropRight(-e):r.take(e-t)),r)},mn.prototype.takeRightWhile=function(t){return this.reverse().takeWhile(t).reverse()},mn.prototype.toArray=function(){return this.take(j)},Hn(mn.prototype,(function(t,e){var r=/^(?:filter|find|map|reject)|While$/.test(e),n=/^(?:head|last)$/.test(e),i=dn[n?"take"+("last"==e?"Right":""):e],s=n||/^find/.test(e);i&&(dn.prototype[e]=function(){var e=this.__wrapped__,a=n?[1]:arguments,u=e instanceof mn,l=a[0],c=u||ma(e),h=function(t){var e=i.apply(dn,tr([t],a));return n&&f?e[0]:e};c&&r&&"function"==typeof l&&1!=l.length&&(u=c=!1);var f=this.__chain__,d=!!this.__actions__.length,p=s&&!f,_=u&&!d;if(!s&&c){e=_?e:new mn(this);var g=t.apply(e,a);return g.__actions__.push({func:Us,args:[h],thisArg:o}),new gn(g,f)}return p&&_?t.apply(this,a):(g=this.thru(h),p?n?g.value()[0]:g.value():g)})})),He(["pop","push","shift","sort","splice","unshift"],(function(t){var e=oe[t],r=/^(?:push|sort|unshift)$/.test(t)?"tap":"thru",n=/^(?:pop|shift)$/.test(t);dn.prototype[t]=function(){var t=arguments;if(n&&!this.__chain__){var i=this.value();return e.apply(ma(i)?i:[],t)}return this[r]((function(r){return e.apply(ma(r)?r:[],t)}))}})),Hn(mn.prototype,(function(t,e){var r=dn[e];if(r){var n=r.name+"";ce.call(nn,n)||(nn[n]=[]),nn[n].push({name:e,func:r})}})),nn[po(o,v).name]=[{name:"wrapper",func:o}],mn.prototype.clone=function(){var t=new mn(this.__wrapped__);return t.__actions__=ro(this.__actions__),t.__dir__=this.__dir__,t.__filtered__=this.__filtered__,t.__iteratees__=ro(this.__iteratees__),t.__takeCount__=this.__takeCount__,t.__views__=ro(this.__views__),t},mn.prototype.reverse=function(){if(this.__filtered__){var t=new mn(this);t.__dir__=-1,t.__filtered__=!0}else(t=this.clone()).__dir__*=-1;return t},mn.prototype.value=function(){var t=this.__wrapped__.value(),e=this.__dir__,r=ma(t),n=e<0,i=r?t.length:0,o=function(t,e,r){var n=-1,i=r.length;for(;++n<i;){var o=r[n],s=o.size;switch(o.type){case"drop":t+=s;break;case"dropRight":e-=s;break;case"take":e=Yr(e,t+s);break;case"takeRight":t=Br(t,e-s)}}return{start:t,end:e}}(0,i,this.__views__),s=o.start,a=o.end,u=a-s,l=n?a:s-1,c=this.__iteratees__,h=c.length,f=0,d=Yr(u,this.__takeCount__);if(!r||!n&&i==u&&d==u)return Ni(t,this.__actions__);var p=[];t:for(;u--&&f<d;){for(var _=-1,g=t[l+=e];++_<h;){var m=c[_],v=m.iteratee,y=m.type,b=v(g);if(y==z)g=b;else if(!b){if(y==P)continue t;break t}}p[f++]=g}return p},dn.prototype.at=Ns,dn.prototype.chain=function(){return Ls(this)},dn.prototype.commit=function(){return new gn(this.value(),this.__chain__)},dn.prototype.next=function(){this.__values__===o&&(this.__values__=La(this.value()));var t=this.__index__>=this.__values__.length;return{done:t,value:t?o:this.__values__[this.__index__++]}},dn.prototype.plant=function(t){for(var e,r=this;r instanceof _n;){var n=fs(r);n.__index__=0,n.__values__=o,e?i.__wrapped__=n:e=n;var i=n;r=r.__wrapped__}return i.__wrapped__=t,e},dn.prototype.reverse=function(){var t=this.__wrapped__;if(t instanceof mn){var e=t;return this.__actions__.length&&(e=new mn(this)),(e=e.reverse()).__actions__.push({func:Us,args:[ks],thisArg:o}),new gn(e,this.__chain__)}return this.thru(ks)},dn.prototype.toJSON=dn.prototype.valueOf=dn.prototype.value=function(){return Ni(this.__wrapped__,this.__actions__)},dn.prototype.first=dn.prototype.head,De&&(dn.prototype[De]=function(){return this}),dn}();Ie._=Ir,(i=function(){return Ir}.call(e,r,e,n))===o||(n.exports=i)}).call(this)}).call(this,r(20),r(26)(t))},function(t,e,r){"use strict";function n(t){for(var r in t)e.hasOwnProperty(r)||(e[r]=t[r])}Object.defineProperty(e,"__esModule",{value:!0});var i=r(4);e.Dimension=i.default;var o=r(13);e.Vector=o.default;var s=r(10);e.Operator=s.default;var a=r(27);e.Photons=a.default;var u=r(5);e.Cx=u.Cx,e.Complex=u.default,n(r(14)),n(r(28)),n(r(9)),n(r(21))},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TAU=2*Math.PI},function(t,e,r){"use strict";var n=this&&this.__spreadArrays||function(){for(var t=0,e=0,r=arguments.length;e<r;e++)t+=arguments[e].length;var n=Array(t),i=0;for(e=0;e<r;e++)for(var o=arguments[e],s=0,a=o.length;s<a;s++,i++)n[i]=o[s];return n},i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var o=r(5),s=r(14),a=i(r(13)),u=i(r(4)),l=i(r(7)),c=function(){function t(t,e,r){void 0===r&&(r=e),this.entries=t,this.dimensionsOut=e,this.dimensionsIn=r}return Object.defineProperty(t.prototype,"dimensions",{get:function(){return[this.dimensionsOut,this.dimensionsIn]},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"sizeOut",{get:function(){return this.dimensionsOut.map((function(t){return t.size}))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"sizeIn",{get:function(){return this.dimensionsIn.map((function(t){return t.size}))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"totalSizeOut",{get:function(){return this.sizeOut.reduce((function(t,e){return t*e}))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"totalSizeIn",{get:function(){return this.sizeIn.reduce((function(t,e){return t*e}))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"namesOut",{get:function(){return this.dimensionsOut.map((function(t){return t.name}))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"namesIn",{get:function(){return this.dimensionsIn.map((function(t){return t.name}))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"coordNamesOut",{get:function(){return this.dimensionsOut.map((function(t){return t.coordNames}))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"coordNamesIn",{get:function(){return this.dimensionsIn.map((function(t){return t.coordNames}))},enumerable:!0,configurable:!0}),t.prototype.conj=function(){return new t(this.entries.map((function(t){return new s.OperatorEntry(n(t.coordOut),n(t.coordIn),t.value.conj())})),this.dimensionsOut,this.dimensionsIn)},t.prototype.transpose=function(){return new t(this.entries.map((function(t){return new s.OperatorEntry(n(t.coordIn),n(t.coordOut),t.value)})),this.dimensionsIn,this.dimensionsOut)},t.prototype.dag=function(){return new t(this.entries.map((function(t){return new s.OperatorEntry(n(t.coordIn),n(t.coordOut),t.value.conj())})),this.dimensionsIn,this.dimensionsOut)},t.prototype.outer=function(e){var r=this.dimensionsOut.concat(e.dimensionsOut),n=this.dimensionsIn.concat(e.dimensionsIn),i=[];return this.entries.forEach((function(t){return e.entries.forEach((function(e){return i.push(t.outer(e))}))})),new t(i,r,n)},t.prototype.add=function(e){var r=this;return u.default.checkDimensions(r.dimensionsIn,e.dimensionsIn),u.default.checkDimensions(r.dimensionsOut,e.dimensionsOut),new t(l.default.chain(r.entries.concat(e.entries)).groupBy((function(t){return t.coordOut.toString()+"-"+t.coordIn.toString()+" "})).values().map((function(t){var e=n(t[0].coordOut),r=n(t[0].coordIn),i=t.map((function(t){return t.value})).reduce((function(t,e){return t.add(e)}));return new s.OperatorEntry(e,r,i)})).value(),r.dimensionsOut,r.dimensionsIn)},t.prototype.mulConstant=function(e){return new t(this.entries.map((function(t){return new s.OperatorEntry(t.coordOut,t.coordIn,t.value.mul(e))})),this.dimensionsOut,this.dimensionsIn)},t.prototype.sub=function(t){return this.add(t.mulConstant(o.Cx(-1)))},t.prototype.mulVec=function(t){var e=this;u.default.checkDimensions(e.dimensionsIn,t.dimensions);var r=new Map;t.cells.forEach((function(t){r.set(t.coord.toString(),t.value)}));var n=l.default.chain(e.entries).groupBy((function(t){return t.coordOut.toString()})).values().map((function(t){var e=t[0].coordOut,n=t.map((function(t){var e=t.coordIn.toString(),n=r.get(e)||o.Cx(0);return t.value.mul(n)})).reduce((function(t,e){return t.add(e)}));return new s.VectorEntry(e,n)})).filter((function(t){return!t.value.isZero()})).value();return new a.default(n,e.dimensionsOut)},t.prototype.mulVecPartial=function(t,e){var r=this;if(!l.default.chain(t).sortBy().sortedUniq().isEqual(t))throw"Entries of coordIndices "+t+" are not sorted unique.";u.default.checkDimensions(r.dimensionsIn,l.default.at(e.dimensions,t));var i=l.default.range(e.dimensions.length).filter((function(e){return l.default.includes(t,e)})),c=l.default.cloneDeep(e.dimensions);l.default.range(t.length).forEach((function(e){return c[t[e]]=r.dimensionsOut[e]}));var h=l.default.chain(e.cells).groupBy((function(t){return l.default.at(t.coord,i)})).values().map((function(e){var i=new Map;return e.forEach((function(e){var r=l.default.at(e.coord,t);i.set(r.toString(),e.value)})),l.default.chain(r.entries).groupBy((function(t){return t.coordOut.toString()})).values().map((function(r){var a=r[0].coordOut,u=n(e[0].coord);l.default.range(t.length).forEach((function(e){return u[t[e]]=a[e]}));var c=r.map((function(t){var e=t.coordIn.toString(),r=i.get(e)||o.Cx(0);return t.value.mul(r)})).reduce((function(t,e){return t.add(e)}));return new s.VectorEntry(u,c)})).filter((function(t){return!t.value.isZero()})).value()})).flatten().value();return new a.default(h,e.dimensions)},t.prototype.toString=function(t,e,r){var n=this;return void 0===t&&(t="cartesian"),void 0===e&&(e=2),void 0===r&&(r=" + "),"Operator with "+this.entries.length+" entires of max size [["+this.sizeOut+"], ["+this.sizeIn+"]] with dimensions [["+this.namesOut+"], ["+this.namesIn+"]]"+"\n"+this.entries.map((function(r){var i=r.coordOut.map((function(t,e){return n.coordNamesOut[e][t]})),o=r.coordIn.map((function(t,e){return n.coordNamesIn[e][t]}));return r.value.toString(t,e)+" |"+i+"⟩⟨"+o+"|"})).join(r)+"\n"},t.identity=function(e){var r=e.map((function(t){return t.size})),n=r.reduce((function(t,e){return t*e}));return new t(l.default.range(n).map((function(t){return s.OperatorEntry.fromIndexIndexValue(t,t,r,r,o.Cx(1,0))})),e,e)},t.shift=function(e,r){var n=Math.max(0,-r),i=Math.min(e.size,e.size-r);return new t(l.default.range(n,i).map((function(t){return s.OperatorEntry.fromIndexIndexValue(t+r,t,[e.size],[e.size],o.Cx(1,0))})),[e],[e])},t.zeros=function(e,r){return void 0===r&&(r=e),new t([],e,r)},t.fromArray=function(e,r,n,i){void 0===n&&(n=r),void 0===i&&(i=!0);var o=r.map((function(t){return t.size})),a=o.reduce((function(t,e){return t*e})),u=n.map((function(t){return t.size})),c=u.reduce((function(t,e){return t*e})),h=e.map((function(t){return t.length}));if(l.default.min(h)!==l.default.max(h))throw new Error("Is not a rectangular array. Row sizes "+l.default.min(h)+" to "+l.default.max(h)+".");if(e.length!==a||e[0].length!==c)throw new Error("Dimension inconsistency: array is ["+e.length+", "+e[0].length+"] and dimensions total sizes are ["+a+", "+c+"]");var f=[];return e.forEach((function(t,e){return t.forEach((function(t,r){return f.push([e,r,t])}))})),new t(f.filter((function(t){t[0],t[1];var e=t[2];return!i||!e.isZero()})).map((function(t){var e=t[0],r=t[1],n=t[2];return s.OperatorEntry.fromIndexIndexValue(e,r,o,u,n)})),r,n)},t.indicator=function(e,r){var n=u.default.stringToCoordIndices(r,e);return new t([new s.OperatorEntry(n,n,o.Cx(1))],e,e)},t.fromSparseCoordNames=function(e,r,n){return void 0===n&&(n=r),new t(e.map((function(t){var e=t[0],i=t[1],o=t[2];return new s.OperatorEntry(u.default.stringToCoordIndices(e,r),u.default.stringToCoordIndices(i,n),o)})),r,n)},t.outer=function(t){return t.reduce((function(t,e){return t.outer(e)}))},t.add=function(t){return t.reduce((function(t,e){return t.add(e)}))},t}();e.default=c},function(t,e,r){"use strict";var n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});const i=n(r(3)),o=r(12),s=r(8);class a extends i.default{constructor(t,e,r=1,n=0,i=s.Cx(1),o=s.Cx(0),a=[{coord:t,direction:e,intensity:r,phase:n,a:i,b:o}]){super(t.y,t.x),this.coord=t,this.direction=e,this.intensity=r,this.phase=n,this.a=i,this.b=o,this.path=a}get origin(){return this.path[0].coord}get alive(){return this.intensity>0}get clone(){return new a(this.coord,this.direction,this.intensity,this.phase)}get isVertical(){return 0===this.direction||180===this.direction}get opacity(){const t=Math.pow(this.a.abs2()+this.b.abs2(),.5);return t>1?1:t}get pathParticle(){const t=[];return this.path.forEach(e=>{t.push(a.importParticle(e))}),t}on(t){return this.coord.equal(t.coord)}stepsToExit(t,e){switch(this.direction%360){case 0:return this.y;case 90:return t-this.x-1;case 180:return e-this.y-1;case 270:return this.x;default:throw new Error("Something went wrong with directions...")}}next(t=1){for(let e=0;e<t;e++){switch(this.direction%360){case 0:this.coord=this.coord.right;break;case 90:this.coord=this.coord.top;break;case 180:this.coord=this.coord.left;break;case 270:this.coord=this.coord.bottom;break;default:throw Error("Something went wrong with particles and direction.")}this.path.push({coord:this.coord,direction:this.direction,intensity:this.intensity,phase:this.phase,a:this.a,b:this.b})}return this}exportParticle(){return{coord:this.coord,direction:this.direction,intensity:this.intensity,phase:this.phase,a:this.a,b:this.b}}toString(){return`Particle @ ${this.coord.toString()} moving ${this.direction}° with ${o.toPercent(this.intensity)} intensity and polarization | A:${this.a.re} + ${this.a.im}i & B:${this.b.re} + ${this.b.im}i\n`}static importParticle(t){return new a(t.coord,t.direction,t.intensity,t.phase,t.a,t.b)}static manyToString(t){let e="";return t.forEach(t=>{e+=t.toString()}),e}}e.default=a},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const n=r(18);e.angleToSymbol=function(t){switch(t%=360){case 0:return"↑";case 45:return"↗";case 90:return"→";case 135:return"↘";case 180:return"↓";case 225:return"↙";case 270:return"←";case 315:return"↖";default:throw new Error("Something is wrong with provided angle.")}},e.symbolToAngle=function(t){switch(t){case"↑":return 0;case"↗":return 45;case"→":return 90;case"↘":return 135;case"↓":return 180;case"↙":return 225;case"←":return 270;case"↖":return 315;default:throw new Error("Something is wrong with provided direction string.")}},e.padLeft=function(t,e,r){const n=r||" ";for(;t.length<e;)t=n+t;return t},e.padRight=function(t,e,r){const n=r||" ";for(;t.length<e;)t+=n;return t},e.toPercent=function(t){return`${(100*t).toFixed(2)}%`},e.hsl2hexrgb=function(t=.45,e=0,r=.5){t>=1&&(t=1),e>=1&&(e=1),r>=1&&(e=1);const i=n.Color.hsl2rgb([t,e,r]);return n.Color.toHex(i)},e.scaleOpacity=function(t){t>=1&&(t=1);const e=n.Color.hsl2rgb([.333,.333,t]);return n.Color.toHex(e)},e.displayText=function(t,e){document.getElementById(t).textContent=e}},function(t,e,r){"use strict";var n=this&&this.__spreadArrays||function(){for(var t=0,e=0,r=arguments.length;e<r;e++)t+=arguments[e].length;var n=Array(t),i=0;for(e=0;e<r;e++)for(var o=arguments[e],s=0,a=o.length;s<a;s++,i++)n[i]=o[s];return n},i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var o=r(5),s=r(14),a=i(r(4)),u=i(r(7)),l=function(){function t(t,e){this.cells=t,this.dimensions=e}return Object.defineProperty(t.prototype,"size",{get:function(){return this.dimensions.map((function(t){return t.size}))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"totalSize",{get:function(){return this.size.reduce((function(t,e){return t*e}))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"names",{get:function(){return this.dimensions.map((function(t){return t.name}))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"coordNames",{get:function(){return this.dimensions.map((function(t){return t.coordNames}))},enumerable:!0,configurable:!0}),t.prototype.conj=function(){return new t(this.cells.map((function(t){return new s.VectorEntry(n(t.coord),t.value.conj())})),this.dimensions)},t.prototype.add=function(e){return a.default.checkDimensions(this.dimensions,e.dimensions),new t(u.default.chain(this.cells.concat(e.cells)).groupBy((function(t){return t.coord.toString()})).values().map((function(t){var e=n(t[0].coord),r=t.map((function(t){return t.value})).reduce((function(t,e){return t.add(e)}));return new s.VectorEntry(e,r)})).value(),this.dimensions)},t.prototype.mulConstant=function(e){return new t(this.cells.map((function(t){return new s.VectorEntry(t.coord,t.value.mul(e))})),this.dimensions)},t.prototype.sub=function(t){return this.add(t.mulConstant(o.Cx(-1)))},t.prototype.dot=function(t){return a.default.checkDimensions(this.dimensions,t.dimensions),u.default.chain(this.cells.concat(t.cells)).groupBy((function(t){return t.coord.toString()})).values().map((function(t){return 2===t.length?t[0].value.mul(t[1].value):o.Cx(0,0)})).reduce((function(t,e){return t.add(e)})).value()},t.prototype.outer=function(e){var r=this.dimensions.concat(e.dimensions),n=[];return this.cells.forEach((function(t){return e.cells.forEach((function(e){return n.push(t.outer(e))}))})),new t(n,r)},t.prototype.toString=function(t,e,r){var n=this;return void 0===t&&(t="cartesian"),void 0===e&&(e=2),void 0===r&&(r=" + "),"Vector with "+this.cells.length+" entries of max size ["+this.size+"] with dimensions ["+this.names+"]"+"\n"+this.cells.map((function(r){var i=r.coord.map((function(t,e){return n.coordNames[e][t]}));return r.value.toString(t,e)+" |"+i+"⟩"})).join(r)+"\n"},t.fromArray=function(e,r,n){void 0===n&&(n=!0);var i=r.map((function(t){return t.size})),o=i.reduce((function(t,e){return t*e}));if(e.length!==o)throw new Error("Dimension inconsistency: cell count "+e.length+" != total: "+o);return new t(e.map((function(t,e){return[e,t]})).filter((function(t){t[0];var e=t[1];return!n||!e.isZero()})).map((function(t){var e=t[0],r=t[1];return s.VectorEntry.fromIndexValue(e,i,r)})),r)},t.indicator=function(e,r){var n=a.default.stringToCoordIndices(r,e);return new t([new s.VectorEntry(n,o.Cx(1))],e)},t.fromSparseCoordNames=function(e,r){return new t(e.map((function(t){var e=t[0],n=t[1];return new s.VectorEntry(a.default.stringToCoordIndices(e,r),n)})),r)},t.outer=function(t){return t.reduce((function(t,e){return t.outer(e)}))},t.add=function(t){return t.reduce((function(t,e){return t.add(e)}))},t}();e.default=l},function(t,e,r){"use strict";function n(t,e){var r=t;return e.map((function(t){var e=r%t;return r=(r-e)/t,e}))}Object.defineProperty(e,"__esModule",{value:!0}),e.CoordsFromIndex=n;var i=function(){function t(t,e){this.coord=t,this.value=e}return t.prototype.outer=function(e){return new t(this.coord.concat(e.coord),this.value.mul(e.value))},t.prototype.toString=function(){return"Sparse vector entry ["+this.coord.toString()+"] has value "+this.value.toString()},t.fromIndexValue=function(e,r,i){return new t(n(e,r),i)},t}();e.VectorEntry=i;var o=function(){function t(t,e,r){this.coordOut=t,this.coordIn=e,this.value=r}return t.prototype.outer=function(e){return new t(this.coordOut.concat(e.coordOut),this.coordIn.concat(e.coordIn),this.value.mul(e.value))},t.prototype.toString=function(){return"Sparse operator entry ["+this.coordOut.toString()+", "+this.coordIn.toString()+"] has value "+this.value.toString()},t.fromIndexIndexValue=function(e,r,i,o,s){return new t(n(e,i),n(r,o),s)},t}();e.OperatorEntry=o},function(t,e,r){"use strict";var n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}},i=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e};Object.defineProperty(e,"__esModule",{value:!0});const o=r(16),s=n(r(17)),a=i(r(8));class u{constructor(t,e,r="",n="",i=!1,o=0,a=0,u=[" "," "," "," "," "," "," "," "],l=[[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0]],c=new s.default(" ",[0,0])){this.id=t,this.name=e,this.group=r,this.description=n,this.active=i,this.absorption=o,this.phase=a,this.ascii=u,this.tiles=l,this.glyph=c}transition(t){switch(this.name){case"mirror":return a.mirror(t);case"beamsplitter":return a.beamSplitter(t);case"filter":return a.attenuator(Math.SQRT1_2);case"phaseinc":return a.vacuumJar();case"phasedec":return a.glassSlab();case"detector":return a.attenuator(0);case"sugar":return a.sugarSolution();case"polarsplitter":return 0===t?a.polarizingBeamsplitter(135):a.polarizingBeamsplitter(45);case"mine":case"rock":case"wall":default:return a.attenuator(0)}}get rotationAngle(){return 360/this.ascii.length}toString(){return`${this.name} (Phase: ${this.phase}, Absorption: ${100*this.absorption}%)`}exportElement(){return{id:this.id,name:this.name,group:this.group,description:this.description,active:this.active,absorption:this.absorption,phase:this.phase,ascii:this.ascii,tiles:this.tiles}}static importElement(t){return new u(t.id,t.name,t.group,t.description,t.active,t.absorption,t.phase,t.ascii,t.tiles)}static fromName(t){const e=o.jsonElements.find(e=>e.name===t);return u.importElement(e)}}e.default=u},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.jsonGroups={Basic:["void","wall","gate"],Emitter:["laser"],Direction:["mirror","beamsplitter","coatedsplitter","polarsplitter"],Absorption:["detector","mine","rock","omnidetector","filter"],Polarization:["absorb-polarizer","waveplate","sugar","faraday"],Phase:["phaseinc","phasedec"]},e.jsonElements=[{name:"laser",group:"Emitter",description:"An on-demand single photon source.",active:!0,absorption:0,phase:0,id:0,ascii:[">","^","<","v"],tiles:[[0,0],[0,1],[0,2],[0,3]]},{name:"rock",group:"Absorption",description:"Dark and immersive as your sweetheart's depth of eyes. Absorbs light. And is sensitive.",active:!1,absorption:1,phase:0,id:1,ascii:["♜"],tiles:[[1,0]]},{name:"absorb-polarizer",group:"Polarization",description:"A polarization filter WE...Anisotropic polymer strands capture electric oscillations parallel to them. Used in photography.",active:!1,absorption:0,phase:0,id:2,ascii:["🡢","🡥","🡡","🡤","🡠","🡧","🡣","🡦"],tiles:[[2,0],[2,1],[2,2],[2,3],[2,4],[2,5],[2,6],[2,7]]},{name:"waveplate",group:"Polarization",description:"It delays one polarization (with darker lines) by λ/4. When applied correctly, it can change linear polarization into circular, and vice versa.",active:!1,absorption:0,phase:0,id:3,ascii:["🡪","🡭","🡩","🡬","🡨","🡯","🡫","🡮"],tiles:[[3,0],[3,1],[3,2],[3,3],[3,4],[3,5],[3,6],[3,7]]},{name:"detector",group:"Absorption",description:"Detects and amplifies electric signal from each single photon, from a single direction. Your goal is to get photon there!",active:!1,absorption:1,phase:0,id:4,ascii:["⭲","⭱","⭰","⭳"],tiles:[[4,0],[4,1],[4,2],[4,3]]},{name:"omnidetector",group:"Absorption",description:"Detects and amplifies electric signal from each single photon, from all directions. Typically, it is the goal to get the photon here.",active:!1,absorption:1,phase:0,id:7,ascii:["O"],tiles:[[7,0],[7,1],[7,2],[7,3]]},{name:"sugar",group:"Polarization",description:"Table sugar is a chiral molecule – it does not look the same as its mirror reflection. We put it in an amount, so it rotates polarization by 45°.",active:!1,absorption:0,phase:0,id:8,ascii:["S"],tiles:[[8,0]]},{name:"coatedsplitter",group:"Direction",description:"A thin slab of glass with a reflective layer - reflecting half the beam and transmitting the other half of it.",active:!1,absorption:0,phase:0,id:9,ascii:["⇒","⇗","⇑","⇖","⇐","⇙","⇓","⇘"],tiles:[[9,0],[9,1],[9,2],[9,3],[9,4],[9,5],[9,6],[9,7]]},{name:"mine",group:"Absorption",description:"Once it absorbs a single photon, it sets off. Old french submarine captains can sometimes disarm them.",active:!1,absorption:1,phase:0,id:11,ascii:["!"],tiles:[[11,0]]},{name:"polarsplitter",group:"Direction",description:"Reflects vertical polarization (↕), transmitts horizonal polarization (↔).",active:!1,absorption:0,phase:0,id:12,ascii:["⬲","⟴"],tiles:[[12,0],[12,1]]},{name:"mirror",group:"Direction",description:"Metallic or dielectric mirror.",active:!1,absorption:0,phase:0,id:14,ascii:["-","/","|","\\","-","/","|","\\"],tiles:[[14,0],[14,1],[14,2],[14,3],[14,4],[14,5],[14,6],[14,7]]},{name:"beamsplitter",group:"Direction",description:"A thin slab of glass reflecting half the beam, and transmitting other half of it.",active:!1,absorption:0,phase:0,id:15,ascii:["→","↗","↑","↖","←","↙","↓","↘"],tiles:[[15,0],[15,1],[15,2],[15,3],[15,4],[15,5],[15,6],[15,7]]},{name:"phasedec",group:"Phase",description:"Higher refractive index makes light slower. We set its thickness so it retards the phase by λ/4. Useful for changing interference.",active:!1,absorption:0,phase:-.25,id:16,ascii:["↜"],tiles:[[16,0]]},{name:"phaseinc",group:"Phase",description:"Even air retards light a bit. We set the thickness of vacuum so it advances the phase by λ/4. Useful for changing interference.",active:!1,absorption:0,phase:.25,id:17,ascii:["↝"],tiles:[[17,0]]},{name:"filter",group:"Absorption",description:"Filter with 50% absorption probability.",active:!1,absorption:.5,phase:0,id:18,ascii:["░"],tiles:[[18,0]]},{name:"void",group:"Basic",description:"The void...",active:!1,absorption:0,phase:0,id:19,ascii:["."],tiles:[[19,0]]},{name:"wall",group:"Basic",description:"A standard wall.",active:!1,absorption:1,phase:0,id:20,ascii:["▓"],tiles:[[20,0],[20,1]]},{name:"gate",group:"Basic",description:"A controlled gate.",active:!1,absorption:1,phase:0,id:21,ascii:["W","M"],tiles:[[21,0],[21,1]]},{name:"faraday",group:"Polarization",description:"Rotates polarization with magnetic field by 45°. Has different symmetries than Sugar Solution. A building block for optical diodes.",active:!1,absorption:0,phase:-.25,id:30,ascii:["🠶","🠵","🠴","🠷"],tiles:[[30,0],[30,1],[30,2],[30,3]]}]},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const n=r(16);class i{constructor(t,e,r="black",n="white"){this.character=t,this.backgroundColor=r,this.foregroundColor=n,this.tile=e}exportGlyph(){return{character:this.character,backgroundColor:this.backgroundColor,foregroundColor:this.foregroundColor,tile:this.tile}}static importGlyph(t){return new i(t.character,t.tile,t.backgroundColor,t.foregroundColor)}static processTileMap(t=64){const e={};return n.jsonElements.forEach(r=>{r.tiles.forEach((n,i)=>{const o=r.id*t,s=i*t;e[r.ascii[i]]=[s,o]})}),e["@"]=[0,29*t],e.H=[0*t,22*t],e.V=[1*t,22*t],e.P=[0*t,10*t],e.d=[1*t,10*t],e[8]=[0*t,23*t],e[4]=[1*t,23*t],e}}e.default=i},function(t,e,r){"use strict";r.r(e);var n={};r.r(n),r.d(n,"TYPE_TEXT",(function(){return b})),r.d(n,"TYPE_NEWLINE",(function(){return w})),r.d(n,"TYPE_FG",(function(){return x})),r.d(n,"TYPE_BG",(function(){return S})),r.d(n,"measure",(function(){return E})),r.d(n,"tokenize",(function(){return C}));var i=r(0),o=r(6);class s extends o.a{constructor(){super(),this._ctx=document.createElement("canvas").getContext("2d")}schedule(t){requestAnimationFrame(t)}getContainer(){return this._ctx.canvas}setOptions(t){super.setOptions(t);const e=`${t.fontStyle?`${t.fontStyle} `:""} ${t.fontSize}px ${t.fontFamily}`;this._ctx.font=e,this._updateSize(),this._ctx.font=e,this._ctx.textAlign="center",this._ctx.textBaseline="middle"}clear(){this._ctx.fillStyle=this._options.bg,this._ctx.fillRect(0,0,this._ctx.canvas.width,this._ctx.canvas.height)}eventToPosition(t,e){let r=this._ctx.canvas,n=r.getBoundingClientRect();return t-=n.left,e-=n.top,t*=r.width/n.width,e*=r.height/n.height,t<0||e<0||t>=r.width||e>=r.height?[-1,-1]:this._normalizedEventToPosition(t,e)}}var a=r(1);class u extends s{constructor(){super(),this._spacingX=0,this._spacingY=0,this._hexSize=0}draw(t,e){let[r,n,i,o,s]=t,a=[(r+1)*this._spacingX,n*this._spacingY+this._hexSize];if(this._options.transpose&&a.reverse(),e&&(this._ctx.fillStyle=s,this._fill(a[0],a[1])),!i)return;this._ctx.fillStyle=o;let u=[].concat(i);for(let t=0;t<u.length;t++)this._ctx.fillText(u[t],a[0],Math.ceil(a[1]))}computeSize(t,e){return this._options.transpose&&(t+=e,t-=e=t-e),[Math.floor(t/this._spacingX)-1,Math.floor((e-2*this._hexSize)/this._spacingY+1)]}computeFontSize(t,e){this._options.transpose&&(t+=e,t-=e=t-e);let r=2*t/((this._options.width+1)*Math.sqrt(3))-1,n=e/(2+1.5*(this._options.height-1)),i=Math.min(r,n),o=this._ctx.font;this._ctx.font="100px "+this._options.fontFamily;let s=Math.ceil(this._ctx.measureText("W").width);this._ctx.font=o;let a=s/100,u=2*(i=Math.floor(i)+1)/(this._options.spacing*(1+a/Math.sqrt(3)));return Math.ceil(u)-1}_normalizedEventToPosition(t,e){let r;this._options.transpose?(t+=e,t-=e=t-e,r=this._ctx.canvas.width):r=this._ctx.canvas.height;let n=r/this._options.height;return e=Math.floor(e/n),Object(a.mod)(e,2)?(t-=this._spacingX,t=1+2*Math.floor(t/(2*this._spacingX))):t=2*Math.floor(t/(2*this._spacingX)),[t,e]}_fill(t,e){let r=this._hexSize,n=this._options.border;const i=this._ctx;i.beginPath(),this._options.transpose?(i.moveTo(t-r+n,e),i.lineTo(t-r/2+n,e+this._spacingX-n),i.lineTo(t+r/2-n,e+this._spacingX-n),i.lineTo(t+r-n,e),i.lineTo(t+r/2-n,e-this._spacingX+n),i.lineTo(t-r/2+n,e-this._spacingX+n),i.lineTo(t-r+n,e)):(i.moveTo(t,e-r+n),i.lineTo(t+this._spacingX-n,e-r/2+n),i.lineTo(t+this._spacingX-n,e+r/2-n),i.lineTo(t,e+r-n),i.lineTo(t-this._spacingX+n,e+r/2-n),i.lineTo(t-this._spacingX+n,e-r/2+n),i.lineTo(t,e-r+n)),i.fill()}_updateSize(){const t=this._options,e=Math.ceil(this._ctx.measureText("W").width);let r,n;this._hexSize=Math.floor(t.spacing*(t.fontSize+e/Math.sqrt(3))/2),this._spacingX=this._hexSize*Math.sqrt(3)/2,this._spacingY=1.5*this._hexSize,t.transpose?(r="height",n="width"):(r="width",n="height"),this._ctx.canvas[r]=Math.ceil((t.width+1)*this._spacingX),this._ctx.canvas[n]=Math.ceil((t.height-1)*this._spacingY+2*this._hexSize)}}class l extends s{constructor(){super(),this._spacingX=0,this._spacingY=0,this._canvasCache={}}setOptions(t){super.setOptions(t),this._canvasCache={}}draw(t,e){l.cache?this._drawWithCache(t):this._drawNoCache(t,e)}_drawWithCache(t){let e,[r,n,i,o,s]=t,a=""+i+o+s;if(a in this._canvasCache)e=this._canvasCache[a];else{let t=this._options.border,r=(e=document.createElement("canvas")).getContext("2d");if(e.width=this._spacingX,e.height=this._spacingY,r.fillStyle=s,r.fillRect(t,t,e.width-t,e.height-t),i){r.fillStyle=o,r.font=this._ctx.font,r.textAlign="center",r.textBaseline="middle";let t=[].concat(i);for(let e=0;e<t.length;e++)r.fillText(t[e],this._spacingX/2,Math.ceil(this._spacingY/2))}this._canvasCache[a]=e}this._ctx.drawImage(e,r*this._spacingX,n*this._spacingY)}_drawNoCache(t,e){let[r,n,i,o,s]=t;if(e){let t=this._options.border;this._ctx.fillStyle=s,this._ctx.fillRect(r*this._spacingX+t,n*this._spacingY+t,this._spacingX-t,this._spacingY-t)}if(!i)return;this._ctx.fillStyle=o;let a=[].concat(i);for(let t=0;t<a.length;t++)this._ctx.fillText(a[t],(r+.5)*this._spacingX,Math.ceil((n+.5)*this._spacingY))}computeSize(t,e){return[Math.floor(t/this._spacingX),Math.floor(e/this._spacingY)]}computeFontSize(t,e){let r=Math.floor(t/this._options.width),n=Math.floor(e/this._options.height),i=this._ctx.font;this._ctx.font="100px "+this._options.fontFamily;let o=Math.ceil(this._ctx.measureText("W").width);this._ctx.font=i;let s=o/100*n/r;return s>1&&(n=Math.floor(n/s)),Math.floor(n/this._options.spacing)}_normalizedEventToPosition(t,e){return[Math.floor(t/this._spacingX),Math.floor(e/this._spacingY)]}_updateSize(){const t=this._options,e=Math.ceil(this._ctx.measureText("W").width);this._spacingX=Math.ceil(t.spacing*e),this._spacingY=Math.ceil(t.spacing*t.fontSize),t.forceSquareRatio&&(this._spacingX=this._spacingY=Math.max(this._spacingX,this._spacingY)),this._ctx.canvas.width=t.width*this._spacingX,this._ctx.canvas.height=t.height*this._spacingY}}l.cache=!1;class c extends s{constructor(){super(),this._colorCanvas=document.createElement("canvas")}draw(t,e){let[r,n,i,o,s]=t,a=this._options.tileWidth,u=this._options.tileHeight;if(e&&(this._options.tileColorize?this._ctx.clearRect(r*a,n*u,a,u):(this._ctx.fillStyle=s,this._ctx.fillRect(r*a,n*u,a,u))),!i)return;let l=[].concat(i),c=[].concat(o),h=[].concat(s);for(let t=0;t<l.length;t++){let e=this._options.tileMap[l[t]];if(!e)throw new Error(`Char "${l[t]}" not found in tileMap`);if(this._options.tileColorize){let i=this._colorCanvas,o=i.getContext("2d");o.globalCompositeOperation="source-over",o.clearRect(0,0,a,u);let s=c[t],l=h[t];o.drawImage(this._options.tileSet,e[0],e[1],a,u,0,0,a,u),"transparent"!=s&&(o.fillStyle=s,o.globalCompositeOperation="source-atop",o.fillRect(0,0,a,u)),"transparent"!=l&&(o.fillStyle=l,o.globalCompositeOperation="destination-over",o.fillRect(0,0,a,u)),this._ctx.drawImage(i,r*a,n*u,a,u)}else this._ctx.drawImage(this._options.tileSet,e[0],e[1],a,u,r*a,n*u,a,u)}}computeSize(t,e){return[Math.floor(t/this._options.tileWidth),Math.floor(e/this._options.tileHeight)]}computeFontSize(){throw new Error("Tile backend does not understand font size")}_normalizedEventToPosition(t,e){return[Math.floor(t/this._options.tileWidth),Math.floor(e/this._options.tileHeight)]}_updateSize(){const t=this._options;this._ctx.canvas.width=t.width*t.tileWidth,this._ctx.canvas.height=t.height*t.tileHeight,this._colorCanvas.width=t.tileWidth,this._colorCanvas.height=t.tileHeight}}var h=r(2);class f extends o.a{static isSupported(){return!!document.createElement("canvas").getContext("webgl2",{preserveDrawingBuffer:!0})}constructor(){super(),this._uniforms={};try{this._gl=this._initWebGL()}catch(t){alert(t.message)}}schedule(t){requestAnimationFrame(t)}getContainer(){return this._gl.canvas}setOptions(t){super.setOptions(t),this._updateSize();let e=this._options.tileSet;e&&"complete"in e&&!e.complete?e.addEventListener("load",()=>this._updateTexture(e)):this._updateTexture(e)}draw(t,e){const r=this._gl,n=this._options;let[i,o,s,a,u]=t,l=r.canvas.height-(o+1)*n.tileHeight;if(r.scissor(i*n.tileWidth,l,n.tileWidth,n.tileHeight),e&&(n.tileColorize?r.clearColor(0,0,0,0):r.clearColor(...m(u)),r.clear(r.COLOR_BUFFER_BIT)),!s)return;let c=[].concat(s),h=[].concat(u),f=[].concat(a);r.uniform2fv(this._uniforms.targetPosRel,[i,o]);for(let t=0;t<c.length;t++){let e=this._options.tileMap[c[t]];if(!e)throw new Error(`Char "${c[t]}" not found in tileMap`);r.uniform1f(this._uniforms.colorize,n.tileColorize?1:0),r.uniform2fv(this._uniforms.tilesetPosAbs,e),n.tileColorize&&(r.uniform4fv(this._uniforms.tint,m(f[t])),r.uniform4fv(this._uniforms.bg,m(h[t]))),r.drawArrays(r.TRIANGLE_STRIP,0,4)}}clear(){const t=this._gl;t.clearColor(...m(this._options.bg)),t.scissor(0,0,t.canvas.width,t.canvas.height),t.clear(t.COLOR_BUFFER_BIT)}computeSize(t,e){return[Math.floor(t/this._options.tileWidth),Math.floor(e/this._options.tileHeight)]}computeFontSize(){throw new Error("Tile backend does not understand font size")}eventToPosition(t,e){let r=this._gl.canvas,n=r.getBoundingClientRect();return t-=n.left,e-=n.top,t*=r.width/n.width,e*=r.height/n.height,t<0||e<0||t>=r.width||e>=r.height?[-1,-1]:this._normalizedEventToPosition(t,e)}_initWebGL(){let t=document.createElement("canvas").getContext("webgl2",{preserveDrawingBuffer:!0});window.gl=t;let e=function(t,e,r){const n=t.createShader(t.VERTEX_SHADER);if(t.shaderSource(n,e),t.compileShader(n),!t.getShaderParameter(n,t.COMPILE_STATUS))throw new Error(t.getShaderInfoLog(n)||"");const i=t.createShader(t.FRAGMENT_SHADER);if(t.shaderSource(i,r),t.compileShader(i),!t.getShaderParameter(i,t.COMPILE_STATUS))throw new Error(t.getShaderInfoLog(i)||"");const o=t.createProgram();if(t.attachShader(o,n),t.attachShader(o,i),t.linkProgram(o),!t.getProgramParameter(o,t.LINK_STATUS))throw new Error(t.getProgramInfoLog(o)||"");return o}(t,p,_);return t.useProgram(e),function(t){const e=new Float32Array([0,0,1,0,0,1,1,1]),r=t.createBuffer();t.bindBuffer(t.ARRAY_BUFFER,r),t.bufferData(t.ARRAY_BUFFER,e,t.STATIC_DRAW),t.enableVertexAttribArray(0),t.vertexAttribPointer(0,2,t.FLOAT,!1,0,0)}(t),d.forEach(r=>this._uniforms[r]=t.getUniformLocation(e,r)),this._program=e,t.enable(t.BLEND),t.blendFuncSeparate(t.SRC_ALPHA,t.ONE_MINUS_SRC_ALPHA,t.ONE,t.ONE_MINUS_SRC_ALPHA),t.enable(t.SCISSOR_TEST),t}_normalizedEventToPosition(t,e){return[Math.floor(t/this._options.tileWidth),Math.floor(e/this._options.tileHeight)]}_updateSize(){const t=this._gl,e=this._options,r=[e.width*e.tileWidth,e.height*e.tileHeight];t.canvas.width=r[0],t.canvas.height=r[1],t.viewport(0,0,r[0],r[1]),t.uniform2fv(this._uniforms.tileSize,[e.tileWidth,e.tileHeight]),t.uniform2fv(this._uniforms.targetSize,r)}_updateTexture(t){!function(t,e){let r=t.createTexture();t.bindTexture(t.TEXTURE_2D,r),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MAG_FILTER,t.NEAREST),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,t.NEAREST),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,t.REPEAT),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,t.REPEAT),t.pixelStorei(t.UNPACK_FLIP_Y_WEBGL,0),t.texImage2D(t.TEXTURE_2D,0,t.RGBA,t.RGBA,t.UNSIGNED_BYTE,e)}(this._gl,t)}}const d=["targetPosRel","tilesetPosAbs","tileSize","targetSize","colorize","bg","tint"],p="\n#version 300 es\n\nin vec2 tilePosRel;\nout vec2 tilesetPosPx;\n\nuniform vec2 tilesetPosAbs;\nuniform vec2 tileSize;\nuniform vec2 targetSize;\nuniform vec2 targetPosRel;\n\nvoid main() {\n\tvec2 targetPosPx = (targetPosRel + tilePosRel) * tileSize;\n\tvec2 targetPosNdc = ((targetPosPx / targetSize)-0.5)*2.0;\n\ttargetPosNdc.y *= -1.0;\n\n\tgl_Position = vec4(targetPosNdc, 0.0, 1.0);\n\ttilesetPosPx = tilesetPosAbs + tilePosRel * tileSize;\n}".trim(),_="\n#version 300 es\nprecision highp float;\n\nin vec2 tilesetPosPx;\nout vec4 fragColor;\nuniform sampler2D image;\nuniform bool colorize;\nuniform vec4 bg;\nuniform vec4 tint;\n\nvoid main() {\n\tfragColor = vec4(0, 0, 0, 1);\n\n\tvec4 texel = texelFetch(image, ivec2(tilesetPosPx), 0);\n\n\tif (colorize) {\n\t\ttexel.rgb = tint.a * tint.rgb + (1.0-tint.a) * texel.rgb;\n\t\tfragColor.rgb = texel.a*texel.rgb + (1.0-texel.a)*bg.rgb;\n\t\tfragColor.a = texel.a + (1.0-texel.a)*bg.a;\n\t} else {\n\t\tfragColor = texel;\n\t}\n}".trim();let g={};function m(t){if(!(t in g)){let e;if("transparent"==t)e=[0,0,0,0];else if(t.indexOf("rgba")>-1){e=(t.match(/[\d.]+/g)||[]).map(Number);for(let t=0;t<3;t++)e[t]=e[t]/255}else(e=h.fromString(t).map(t=>t/255)).push(1);g[t]=e}return g[t]}var v=r(19);const y=/%([bc]){([^}]*)}/g,b=0,w=1,x=2,S=3;function E(t,e){let r={width:0,height:1},n=C(t,e),i=0;for(let t=0;t<n.length;t++){let e=n[t];switch(e.type){case b:i+=e.value.length;break;case w:r.height++,r.width=Math.max(r.width,i),i=0}}return r.width=Math.max(r.width,i),r}function C(t,e){let r=[],n=0;t.replace(y,(function(e,i,o,s){let a=t.substring(n,s);return a.length&&r.push({type:b,value:a}),r.push({type:"c"==i?x:S,value:o.trim()}),n=s+e.length,""}));let i=t.substring(n);return i.length&&r.push({type:b,value:i}),function(t,e){e||(e=1/0);let r=0,n=0,i=-1;for(;r<t.length;){let o=t[r];if(o.type==w&&(n=0,i=-1),o.type!=b){r++;continue}for(;0==n&&" "==o.value.charAt(0);)o.value=o.value.substring(1);let s=o.value.indexOf("\n");if(-1!=s){o.value=O(t,r,s,!0);let e=o.value.split("");for(;e.length&&" "==e[e.length-1];)e.pop();o.value=e.join("")}if(o.value.length){if(n+o.value.length>e){let s=-1;for(;;){let t=o.value.indexOf(" ",s+1);if(-1==t)break;if(n+t>e)break;s=t}if(-1!=s)o.value=O(t,r,s,!0);else if(-1!=i){let e=t[i],n=e.value.lastIndexOf(" ");e.value=O(t,i,n,!0),r=i}else o.value=O(t,r,e-n,!1)}else n+=o.value.length,-1!=o.value.indexOf(" ")&&(i=r);r++}else t.splice(r,1)}t.push({type:w});let o=null;for(let e=0;e<t.length;e++){let r=t[e];switch(r.type){case b:o=r;break;case w:if(o){let t=o.value.split("");for(;t.length&&" "==t[t.length-1];)t.pop();o.value=t.join("")}o=null}}return t.pop(),t}(r,e)}function O(t,e,r,n){let i={type:w},o={type:b,value:t[e].value.substring(r+(n?1:0))};return t.splice(e+1,0,i,o),t[e].value.substring(0,r)}let k=80,M=25;const T={4:[[0,-1],[1,0],[0,1],[-1,0]],8:[[0,-1],[1,-1],[1,0],[1,1],[0,1],[-1,1],[-1,0],[-1,-1]],6:[[-1,-1],[1,-1],[2,0],[1,1],[-1,1],[-2,0]]},A={VK_CANCEL:3,VK_HELP:6,VK_BACK_SPACE:8,VK_TAB:9,VK_CLEAR:12,VK_RETURN:13,VK_ENTER:14,VK_SHIFT:16,VK_CONTROL:17,VK_ALT:18,VK_PAUSE:19,VK_CAPS_LOCK:20,VK_ESCAPE:27,VK_SPACE:32,VK_PAGE_UP:33,VK_PAGE_DOWN:34,VK_END:35,VK_HOME:36,VK_LEFT:37,VK_UP:38,VK_RIGHT:39,VK_DOWN:40,VK_PRINTSCREEN:44,VK_INSERT:45,VK_DELETE:46,VK_0:48,VK_1:49,VK_2:50,VK_3:51,VK_4:52,VK_5:53,VK_6:54,VK_7:55,VK_8:56,VK_9:57,VK_COLON:58,VK_SEMICOLON:59,VK_LESS_THAN:60,VK_EQUALS:61,VK_GREATER_THAN:62,VK_QUESTION_MARK:63,VK_AT:64,VK_A:65,VK_B:66,VK_C:67,VK_D:68,VK_E:69,VK_F:70,VK_G:71,VK_H:72,VK_I:73,VK_J:74,VK_K:75,VK_L:76,VK_M:77,VK_N:78,VK_O:79,VK_P:80,VK_Q:81,VK_R:82,VK_S:83,VK_T:84,VK_U:85,VK_V:86,VK_W:87,VK_X:88,VK_Y:89,VK_Z:90,VK_CONTEXT_MENU:93,VK_NUMPAD0:96,VK_NUMPAD1:97,VK_NUMPAD2:98,VK_NUMPAD3:99,VK_NUMPAD4:100,VK_NUMPAD5:101,VK_NUMPAD6:102,VK_NUMPAD7:103,VK_NUMPAD8:104,VK_NUMPAD9:105,VK_MULTIPLY:106,VK_ADD:107,VK_SEPARATOR:108,VK_SUBTRACT:109,VK_DECIMAL:110,VK_DIVIDE:111,VK_F1:112,VK_F2:113,VK_F3:114,VK_F4:115,VK_F5:116,VK_F6:117,VK_F7:118,VK_F8:119,VK_F9:120,VK_F10:121,VK_F11:122,VK_F12:123,VK_F13:124,VK_F14:125,VK_F15:126,VK_F16:127,VK_F17:128,VK_F18:129,VK_F19:130,VK_F20:131,VK_F21:132,VK_F22:133,VK_F23:134,VK_F24:135,VK_NUM_LOCK:144,VK_SCROLL_LOCK:145,VK_CIRCUMFLEX:160,VK_EXCLAMATION:161,VK_DOUBLE_QUOTE:162,VK_HASH:163,VK_DOLLAR:164,VK_PERCENT:165,VK_AMPERSAND:166,VK_UNDERSCORE:167,VK_OPEN_PAREN:168,VK_CLOSE_PAREN:169,VK_ASTERISK:170,VK_PLUS:171,VK_PIPE:172,VK_HYPHEN_MINUS:173,VK_OPEN_CURLY_BRACKET:174,VK_CLOSE_CURLY_BRACKET:175,VK_TILDE:176,VK_COMMA:188,VK_PERIOD:190,VK_SLASH:191,VK_BACK_QUOTE:192,VK_OPEN_BRACKET:219,VK_BACK_SLASH:220,VK_CLOSE_BRACKET:221,VK_QUOTE:222,VK_META:224,VK_ALTGR:225,VK_WIN:91,VK_KANA:21,VK_HANGUL:21,VK_EISU:22,VK_JUNJA:23,VK_FINAL:24,VK_HANJA:25,VK_KANJI:25,VK_CONVERT:28,VK_NONCONVERT:29,VK_ACCEPT:30,VK_MODECHANGE:31,VK_SELECT:41,VK_PRINT:42,VK_EXECUTE:43,VK_SLEEP:95},P={hex:u,rect:l,tile:c,"tile-gl":f,term:v.a},z={width:k,height:M,transpose:!1,layout:"rect",fontSize:15,spacing:1,border:0,forceSquareRatio:!1,fontFamily:"monospace",fontStyle:"",fg:"#ccc",bg:"#000",tileWidth:32,tileHeight:32,tileMap:{},tileSet:null,tileColorize:!1};class I{constructor(t={}){this._data={},this._dirty=!1,this._options={},t=Object.assign({},z,t),this.setOptions(t),this.DEBUG=this.DEBUG.bind(this),this._tick=this._tick.bind(this),this._backend.schedule(this._tick)}DEBUG(t,e,r){let n=[this._options.bg,this._options.fg];this.draw(t,e,null,null,n[r%n.length])}clear(){this._data={},this._dirty=!0}setOptions(t){if(Object.assign(this._options,t),t.width||t.height||t.fontSize||t.fontFamily||t.spacing||t.layout){if(t.layout){let e=P[t.layout];this._backend=new e}this._backend.setOptions(this._options),this._dirty=!0}return this}getOptions(){return this._options}getContainer(){return this._backend.getContainer()}computeSize(t,e){return this._backend.computeSize(t,e)}computeFontSize(t,e){return this._backend.computeFontSize(t,e)}computeTileSize(t,e){return[Math.floor(t/this._options.width),Math.floor(e/this._options.height)]}eventToPosition(t){let e,r;return"touches"in t?(e=t.touches[0].clientX,r=t.touches[0].clientY):(e=t.clientX,r=t.clientY),this._backend.eventToPosition(e,r)}draw(t,e,r,n,i){n||(n=this._options.fg),i||(i=this._options.bg);let o=`${t},${e}`;this._data[o]=[t,e,r,n,i],!0!==this._dirty&&(this._dirty||(this._dirty={}),this._dirty[o]=!0)}drawText(t,e,r,n){let i=null,o=null,s=t,a=e,u=1;n||(n=this._options.width-t);let l=C(r,n);for(;l.length;){let e=l.shift();switch(e.type){case b:let r=!1,n=!1,l=!1,c=!1;for(let t=0;t<e.value.length;t++){let u=e.value.charCodeAt(t),h=e.value.charAt(t);l=u>65280&&u<65377||u>65500&&u<65512||u>65518,r=32==h.charCodeAt(0)||12288==h.charCodeAt(0),!c||l||r||s++,l&&!n&&s++,this.draw(s++,a,h,i,o),n=r,c=l}break;case x:i=e.value||null;break;case S:o=e.value||null;break;case w:s=t,a++,u++}}return u}_tick(){if(this._backend.schedule(this._tick),this._dirty){if(!0===this._dirty){this._backend.clear();for(let t in this._data)this._draw(t,!1)}else for(let t in this._dirty)this._draw(t,!0);this._dirty=!1}}_draw(t,e){let r=this._data[t];r[4]!=this._options.bg&&(e=!0),this._backend.draw(r,e)}}I.Rect=l,I.Hex=u,I.Tile=c,I.TileGL=f,I.Term=v.a;class V{constructor(t){this._options={words:!1,order:3,prior:.001},Object.assign(this._options,t),this._boundary=String.fromCharCode(0),this._suffix=this._boundary,this._prefix=[];for(let t=0;t<this._options.order;t++)this._prefix.push(this._boundary);this._priorValues={},this._priorValues[this._boundary]=this._options.prior,this._data={}}clear(){this._data={},this._priorValues={}}generate(){let t=[this._sample(this._prefix)];for(;t[t.length-1]!=this._boundary;)t.push(this._sample(t));return this._join(t.slice(0,-1))}observe(t){let e=this._split(t);for(let t=0;t<e.length;t++)this._priorValues[e[t]]=this._options.prior;e=this._prefix.concat(e).concat(this._suffix);for(let t=this._options.order;t<e.length;t++){let r=e.slice(t-this._options.order,t),n=e[t];for(let t=0;t<r.length;t++){let e=r.slice(t);this._observeEvent(e,n)}}}getStats(){let t=[],e=Object.keys(this._priorValues).length;e--,t.push("distinct samples: "+e);let r=Object.keys(this._data).length,n=0;for(let t in this._data)n+=Object.keys(this._data[t]).length;return t.push("dictionary size (contexts): "+r),t.push("dictionary size (events): "+n),t.join(", ")}_split(t){return t.split(this._options.words?/\s+/:"")}_join(t){return t.join(this._options.words?" ":"")}_observeEvent(t,e){let r=this._join(t);r in this._data||(this._data[r]={});let n=this._data[r];e in n||(n[e]=0),n[e]++}_sample(t){t=this._backoff(t);let e=this._join(t),r=this._data[e],n={};if(this._options.prior){for(let t in this._priorValues)n[t]=this._priorValues[t];for(let t in r)n[t]+=r[t]}else n=r;return i.a.getWeightedValue(n)}_backoff(t){for(t.length>this._options.order?t=t.slice(-this._options.order):t.length<this._options.order&&(t=this._prefix.slice(0,this._options.order-t.length).concat(t));!(this._join(t)in this._data)&&t.length>0;)t=t.slice(1);return t}}class K{constructor(){this._time=0,this._events=[],this._eventTimes=[]}getTime(){return this._time}clear(){return this._events=[],this._eventTimes=[],this}add(t,e){let r=this._events.length;for(let t=0;t<this._eventTimes.length;t++)if(this._eventTimes[t]>e){r=t;break}this._events.splice(r,0,t),this._eventTimes.splice(r,0,e)}get(){if(!this._events.length)return null;let t=this._eventTimes.splice(0,1)[0];if(t>0){this._time+=t;for(let e=0;e<this._eventTimes.length;e++)this._eventTimes[e]-=t}return this._events.splice(0,1)[0]}getEventTime(t){let e=this._events.indexOf(t);if(-1!=e)return this._eventTimes[e]}remove(t){let e=this._events.indexOf(t);return-1!=e&&(this._remove(e),!0)}_remove(t){this._events.splice(t,1),this._eventTimes.splice(t,1)}}class R{constructor(){this._queue=new K,this._repeat=[],this._current=null}getTime(){return this._queue.getTime()}add(t,e){return e&&this._repeat.push(t),this}getTimeOf(t){return this._queue.getEventTime(t)}clear(){return this._queue.clear(),this._repeat=[],this._current=null,this}remove(t){let e=this._queue.remove(t),r=this._repeat.indexOf(t);return-1!=r&&this._repeat.splice(r,1),this._current==t&&(this._current=null),e}next(){return this._current=this._queue.get(),this._current}}var j={Simple:class extends R{add(t,e){return this._queue.add(t,0),super.add(t,e)}next(){return null!==this._current&&-1!=this._repeat.indexOf(this._current)&&this._queue.add(this._current,0),super.next()}},Speed:class extends R{add(t,e,r){return this._queue.add(t,void 0!==r?r:1/t.getSpeed()),super.add(t,e)}next(){return this._current&&-1!=this._repeat.indexOf(this._current)&&this._queue.add(this._current,1/this._current.getSpeed()),super.next()}},Action:class extends R{constructor(){super(),this._defaultDuration=1,this._duration=this._defaultDuration}add(t,e,r){return this._queue.add(t,r||this._defaultDuration),super.add(t,e)}clear(){return this._duration=this._defaultDuration,super.clear()}remove(t){return t==this._current&&(this._duration=this._defaultDuration),super.remove(t)}next(){return null!==this._current&&-1!=this._repeat.indexOf(this._current)&&(this._queue.add(this._current,this._duration||this._defaultDuration),this._duration=this._defaultDuration),super.next()}setDuration(t){return this._current&&(this._duration=t),this}}};class D{constructor(t,e={}){this._lightPasses=t,this._options=Object.assign({topology:8},e)}_getCircle(t,e,r){let n,i,o,s=[];switch(this._options.topology){case 4:i=1,o=[0,1],n=[T[8][7],T[8][1],T[8][3],T[8][5]];break;case 6:n=T[6],i=1,o=[-1,1];break;case 8:n=T[4],i=2,o=[-1,1];break;default:throw new Error("Incorrect topology for FOV computation")}let a=t+o[0]*r,u=e+o[1]*r;for(let t=0;t<n.length;t++)for(let e=0;e<r*i;e++)s.push([a,u]),a+=n[t][0],u+=n[t][1];return s}}const L=[[-1,0,0,1],[0,-1,1,0],[0,-1,-1,0],[-1,0,0,-1],[1,0,0,-1],[0,1,-1,0],[0,1,1,0],[1,0,0,1]];var U={DiscreteShadowcasting:class extends D{compute(t,e,r,n){if(n(t,e,0,1),!this._lightPasses(t,e))return;let i,o,s,a,u,l=[];for(let c=1;c<=r;c++){let r=this._getCircle(t,e,c),h=360/r.length;for(let t=0;t<r.length;t++)if(s=r[t][0],a=r[t][1],o=(i=h*(t-.5))+h,u=!this._lightPasses(s,a),this._visibleCoords(Math.floor(i),Math.ceil(o),u,l)&&n(s,a,c,1),2==l.length&&0==l[0]&&360==l[1])return}}_visibleCoords(t,e,r,n){if(t<0){let i=this._visibleCoords(0,e,r,n),o=this._visibleCoords(360+t,360,r,n);return i||o}let i=0;for(;i<n.length&&n[i]<t;)i++;if(i==n.length)return r&&n.push(t,e),!0;let o=0;if(i%2){for(;i<n.length&&n[i]<e;)i++,o++;return 0!=o&&(r&&(o%2?n.splice(i-o,o,e):n.splice(i-o,o)),!0)}for(;i<n.length&&n[i]<e;)i++,o++;return(t!=n[i-o]||1!=o)&&(r&&(o%2?n.splice(i-o,o,t):n.splice(i-o,o,t,e)),!0)}},PreciseShadowcasting:class extends D{compute(t,e,r,n){if(n(t,e,0,1),!this._lightPasses(t,e))return;let i,o,s,a,u,l,c=[];for(let h=1;h<=r;h++){let r=this._getCircle(t,e,h),f=r.length;for(let t=0;t<f;t++)if(i=r[t][0],o=r[t][1],a=[t?2*t-1:2*f-1,2*f],u=[2*t+1,2*f],s=!this._lightPasses(i,o),(l=this._checkVisibility(a,u,s,c))&&n(i,o,h,l),2==c.length&&0==c[0][0]&&c[1][0]==c[1][1])return}}_checkVisibility(t,e,r,n){if(t[0]>e[0]){return(this._checkVisibility(t,[t[1],t[1]],r,n)+this._checkVisibility([0,1],e,r,n))/2}let i=0,o=!1;for(;i<n.length;){let e=n[i],r=e[0]*t[1]-t[0]*e[1];if(r>=0){0!=r||i%2||(o=!0);break}i++}let s=n.length,a=!1;for(;s--;){let t=n[s],r=e[0]*t[1]-t[0]*e[1];if(r>=0){0==r&&s%2&&(a=!0);break}}let u,l=!0;if(i==s&&(o||a)?l=!1:o&&a&&i+1==s&&s%2?l=!1:i>s&&i%2&&(l=!1),!l)return 0;let c=s-i+1;if(c%2)if(i%2){let t=n[i];u=(e[0]*t[1]-t[0]*e[1])/(t[1]*e[1]),r&&n.splice(i,c,e)}else{let e=n[s];u=(e[0]*t[1]-t[0]*e[1])/(t[1]*e[1]),r&&n.splice(i,c,t)}else{if(!(i%2))return r&&n.splice(i,c,t,e),1;{let t=n[i],e=n[s];u=(e[0]*t[1]-t[0]*e[1])/(t[1]*e[1]),r&&n.splice(i,c)}}return u/((e[0]*t[1]-t[0]*e[1])/(t[1]*e[1]))}},RecursiveShadowcasting:class extends D{compute(t,e,r,n){n(t,e,0,1);for(let i=0;i<L.length;i++)this._renderOctant(t,e,L[i],r,n)}compute180(t,e,r,n,i){i(t,e,0,1);let o=(n-1+8)%8,s=(n-2+8)%8,a=(n+1+8)%8;this._renderOctant(t,e,L[s],r,i),this._renderOctant(t,e,L[o],r,i),this._renderOctant(t,e,L[n],r,i),this._renderOctant(t,e,L[a],r,i)}compute90(t,e,r,n,i){i(t,e,0,1);let o=(n-1+8)%8;this._renderOctant(t,e,L[n],r,i),this._renderOctant(t,e,L[o],r,i)}_renderOctant(t,e,r,n,i){this._castVisibility(t,e,1,1,0,n+1,r[0],r[1],r[2],r[3],i)}_castVisibility(t,e,r,n,i,o,s,a,u,l,c){if(!(n<i))for(let h=r;h<=o;h++){let r=-h-1,f=-h,d=!1,p=0;for(;r<=0;){let _=t+(r+=1)*s+f*a,g=e+r*u+f*l,m=(r-.5)/(f+.5),v=(r+.5)/(f-.5);if(!(v>n)){if(m<i)break;if(r*r+f*f<o*o&&c(_,g,h,1),d){if(!this._lightPasses(_,g)){p=v;continue}d=!1,n=p}else!this._lightPasses(_,g)&&h<o&&(d=!0,this._castVisibility(t,e,h+1,n,m,o,s,a,u,l,c),p=v)}}if(d)break}}}};class N{constructor(t=k,e=M){this._width=t,this._height=e}_fillMap(t){let e=[];for(let r=0;r<this._width;r++){e.push([]);for(let n=0;n<this._height;n++)e[r].push(t)}return e}}class F extends N{constructor(t,e){super(t,e),this._rooms=[],this._corridors=[]}getRooms(){return this._rooms}getCorridors(){return this._corridors}}class W{}class B extends W{constructor(t,e,r,n,i,o){super(),this._x1=t,this._y1=e,this._x2=r,this._y2=n,this._doors={},void 0!==i&&void 0!==o&&this.addDoor(i,o)}static createRandomAt(t,e,r,n,o){let s=o.roomWidth[0],a=o.roomWidth[1],u=i.a.getUniformInt(s,a);s=o.roomHeight[0],a=o.roomHeight[1];let l=i.a.getUniformInt(s,a);if(1==r){let r=e-Math.floor(i.a.getUniform()*l);return new this(t+1,r,t+u,r+l-1,t,e)}if(-1==r){let r=e-Math.floor(i.a.getUniform()*l);return new this(t-u,r,t-1,r+l-1,t,e)}if(1==n){let r=t-Math.floor(i.a.getUniform()*u);return new this(r,e+1,r+u-1,e+l,t,e)}if(-1==n){let r=t-Math.floor(i.a.getUniform()*u);return new this(r,e-l,r+u-1,e-1,t,e)}throw new Error("dx or dy must be 1 or -1")}static createRandomCenter(t,e,r){let n=r.roomWidth[0],o=r.roomWidth[1],s=i.a.getUniformInt(n,o);n=r.roomHeight[0],o=r.roomHeight[1];let a=i.a.getUniformInt(n,o),u=t-Math.floor(i.a.getUniform()*s),l=e-Math.floor(i.a.getUniform()*a);return new this(u,l,u+s-1,l+a-1)}static createRandom(t,e,r){let n=r.roomWidth[0],o=r.roomWidth[1],s=i.a.getUniformInt(n,o);n=r.roomHeight[0],o=r.roomHeight[1];let a=i.a.getUniformInt(n,o),u=t-s-1,l=e-a-1,c=1+Math.floor(i.a.getUniform()*u),h=1+Math.floor(i.a.getUniform()*l);return new this(c,h,c+s-1,h+a-1)}addDoor(t,e){return this._doors[t+","+e]=1,this}getDoors(t){for(let e in this._doors){let r=e.split(",");t(parseInt(r[0]),parseInt(r[1]))}return this}clearDoors(){return this._doors={},this}addDoors(t){let e=this._x1-1,r=this._x2+1,n=this._y1-1,i=this._y2+1;for(let o=e;o<=r;o++)for(let s=n;s<=i;s++)o!=e&&o!=r&&s!=n&&s!=i||t(o,s)||this.addDoor(o,s);return this}debug(){console.log("room",this._x1,this._y1,this._x2,this._y2)}isValid(t,e){let r=this._x1-1,n=this._x2+1,i=this._y1-1,o=this._y2+1;for(let s=r;s<=n;s++)for(let a=i;a<=o;a++)if(s==r||s==n||a==i||a==o){if(!t(s,a))return!1}else if(!e(s,a))return!1;return!0}create(t){let e=this._x1-1,r=this._x2+1,n=this._y1-1,i=this._y2+1,o=0;for(let s=e;s<=r;s++)for(let a=n;a<=i;a++)t(s,a,o=s+","+a in this._doors?2:s==e||s==r||a==n||a==i?1:0)}getCenter(){return[Math.round((this._x1+this._x2)/2),Math.round((this._y1+this._y2)/2)]}getLeft(){return this._x1}getRight(){return this._x2}getTop(){return this._y1}getBottom(){return this._y2}}class Y extends W{constructor(t,e,r,n){super(),this._startX=t,this._startY=e,this._endX=r,this._endY=n,this._endsWithAWall=!0}static createRandomAt(t,e,r,n,o){let s=o.corridorLength[0],a=o.corridorLength[1],u=i.a.getUniformInt(s,a);return new this(t,e,t+r*u,e+n*u)}debug(){console.log("corridor",this._startX,this._startY,this._endX,this._endY)}isValid(t,e){let r=this._startX,n=this._startY,i=this._endX-r,o=this._endY-n,s=1+Math.max(Math.abs(i),Math.abs(o));i&&(i/=Math.abs(i)),o&&(o/=Math.abs(o));let a=o,u=-i,l=!0;for(let c=0;c<s;c++){let h=r+c*i,f=n+c*o;if(e(h,f)||(l=!1),t(h+a,f+u)||(l=!1),t(h-a,f-u)||(l=!1),!l){s=c,this._endX=h-i,this._endY=f-o;break}}if(0==s)return!1;if(1==s&&t(this._endX+i,this._endY+o))return!1;let c=!t(this._endX+i+a,this._endY+o+u),h=!t(this._endX+i-a,this._endY+o-u);return this._endsWithAWall=t(this._endX+i,this._endY+o),!c&&!h||!this._endsWithAWall}create(t){let e=this._startX,r=this._startY,n=this._endX-e,i=this._endY-r,o=1+Math.max(Math.abs(n),Math.abs(i));n&&(n/=Math.abs(n)),i&&(i/=Math.abs(i));for(let s=0;s<o;s++){t(e+s*n,r+s*i,0)}return!0}createPriorityWalls(t){if(!this._endsWithAWall)return;let e=this._startX,r=this._startY,n=this._endX-e,i=this._endY-r;n&&(n/=Math.abs(n)),i&&(i/=Math.abs(i));let o=i,s=-n;t(this._endX+n,this._endY+i),t(this._endX+o,this._endY+s),t(this._endX-o,this._endY-s)}}const $={room:B,corridor:Y};function H(t,e,r){r[e[t+1]]=r[t],e[r[t]]=e[t+1],r[t]=t+1,e[t+1]=t}function X(t,e,r){r[e[t]]=r[t],e[r[t]]=e[t],r[t]=t,e[t]=t}var q={Arena:class extends N{create(t){let e=this._width-1,r=this._height-1;for(let n=0;n<=e;n++)for(let i=0;i<=r;i++){t(n,i,n&&i&&n<e&&i<r?0:1)}return this}},Uniform:class extends F{constructor(t,e,r){super(t,e),this._options={roomWidth:[3,9],roomHeight:[3,5],roomDugPercentage:.1,timeLimit:1e3},Object.assign(this._options,r),this._map=[],this._dug=0,this._roomAttempts=20,this._corridorAttempts=20,this._connected=[],this._unconnected=[],this._digCallback=this._digCallback.bind(this),this._canBeDugCallback=this._canBeDugCallback.bind(this),this._isWallCallback=this._isWallCallback.bind(this)}create(t){let e=Date.now();for(;;){if(Date.now()-e>this._options.timeLimit)return null;if(this._map=this._fillMap(1),this._dug=0,this._rooms=[],this._unconnected=[],this._generateRooms(),!(this._rooms.length<2)&&this._generateCorridors())break}if(t)for(let e=0;e<this._width;e++)for(let r=0;r<this._height;r++)t(e,r,this._map[e][r]);return this}_generateRooms(){let t,e=this._width-2,r=this._height-2;do{if(t=this._generateRoom(),this._dug/(e*r)>this._options.roomDugPercentage)break}while(t)}_generateRoom(){let t=0;for(;t<this._roomAttempts;){t++;let e=B.createRandom(this._width,this._height,this._options);if(e.isValid(this._isWallCallback,this._canBeDugCallback))return e.create(this._digCallback),this._rooms.push(e),e}return null}_generateCorridors(){let t=0;for(;t<this._corridorAttempts;){t++,this._corridors=[],this._map=this._fillMap(1);for(let t=0;t<this._rooms.length;t++){let e=this._rooms[t];e.clearDoors(),e.create(this._digCallback)}for(this._unconnected=i.a.shuffle(this._rooms.slice()),this._connected=[],this._unconnected.length&&this._connected.push(this._unconnected.pop());;){let t=i.a.getItem(this._connected);if(!t)break;let e=this._closestRoom(this._unconnected,t);if(!e)break;let r=this._closestRoom(this._connected,e);if(!r)break;if(!this._connectRooms(e,r))break;if(!this._unconnected.length)return!0}}return!1}_closestRoom(t,e){let r=1/0,n=e.getCenter(),i=null;for(let e=0;e<t.length;e++){let o=t[e],s=o.getCenter(),a=s[0]-n[0],u=s[1]-n[1],l=a*a+u*u;l<r&&(r=l,i=o)}return i}_connectRooms(t,e){let r,n,i,o,s,a,u,l=t.getCenter(),c=e.getCenter(),h=c[0]-l[0],f=c[1]-l[1];if(Math.abs(h)<Math.abs(f)?(o=((i=f>0?2:0)+2)%4,s=e.getLeft(),a=e.getRight(),u=0):(o=((i=h>0?1:3)+2)%4,s=e.getTop(),a=e.getBottom(),u=1),!(r=this._placeInWall(t,i)))return!1;if(r[u]>=s&&r[u]<=a){n=r.slice();let t=0;switch(o){case 0:t=e.getTop()-1;break;case 1:t=e.getRight()+1;break;case 2:t=e.getBottom()+1;break;case 3:t=e.getLeft()-1}n[(u+1)%2]=t,this._digLine([r,n])}else if(r[u]<s-1||r[u]>a+1){let t=r[u]-c[u],i=0;switch(o){case 0:case 1:i=t<0?3:1;break;case 2:case 3:i=t<0?1:3}if(o=(o+i)%4,!(n=this._placeInWall(e,o)))return!1;let s=[0,0];s[u]=r[u];let a=(u+1)%2;s[a]=n[a],this._digLine([r,s,n])}else{let t=(u+1)%2;if(!(n=this._placeInWall(e,o)))return!1;let i=Math.round((n[t]+r[t])/2),s=[0,0],a=[0,0];s[u]=r[u],s[t]=i,a[u]=n[u],a[t]=i,this._digLine([r,s,a,n])}return t.addDoor(r[0],r[1]),e.addDoor(n[0],n[1]),-1!=(u=this._unconnected.indexOf(t))&&(this._unconnected.splice(u,1),this._connected.push(t)),-1!=(u=this._unconnected.indexOf(e))&&(this._unconnected.splice(u,1),this._connected.push(e)),!0}_placeInWall(t,e){let r=[0,0],n=[0,0],o=0;switch(e){case 0:n=[1,0],r=[t.getLeft(),t.getTop()-1],o=t.getRight()-t.getLeft()+1;break;case 1:n=[0,1],r=[t.getRight()+1,t.getTop()],o=t.getBottom()-t.getTop()+1;break;case 2:n=[1,0],r=[t.getLeft(),t.getBottom()+1],o=t.getRight()-t.getLeft()+1;break;case 3:n=[0,1],r=[t.getLeft()-1,t.getTop()],o=t.getBottom()-t.getTop()+1}let s=[],a=-2;for(let t=0;t<o;t++){let e=r[0]+t*n[0],i=r[1]+t*n[1];s.push(null),1==this._map[e][i]?a!=t-1&&(s[t]=[e,i]):(a=t,t&&(s[t-1]=null))}for(let t=s.length-1;t>=0;t--)s[t]||s.splice(t,1);return s.length?i.a.getItem(s):null}_digLine(t){for(let e=1;e<t.length;e++){let r=t[e-1],n=t[e],i=new Y(r[0],r[1],n[0],n[1]);i.create(this._digCallback),this._corridors.push(i)}}_digCallback(t,e,r){this._map[t][e]=r,0==r&&this._dug++}_isWallCallback(t,e){return!(t<0||e<0||t>=this._width||e>=this._height)&&1==this._map[t][e]}_canBeDugCallback(t,e){return!(t<1||e<1||t+1>=this._width||e+1>=this._height)&&1==this._map[t][e]}},Cellular:class extends N{constructor(t,e,r={}){super(t,e),this._options={born:[5,6,7,8],survive:[4,5,6,7,8],topology:8},this.setOptions(r),this._dirs=T[this._options.topology],this._map=this._fillMap(0)}randomize(t){for(let e=0;e<this._width;e++)for(let r=0;r<this._height;r++)this._map[e][r]=i.a.getUniform()<t?1:0;return this}setOptions(t){Object.assign(this._options,t)}set(t,e,r){this._map[t][e]=r}create(t){let e=this._fillMap(0),r=this._options.born,n=this._options.survive;for(let t=0;t<this._height;t++){let i=1,o=0;6==this._options.topology&&(i=2,o=t%2);for(let s=o;s<this._width;s+=i){let i=this._map[s][t],o=this._getNeighbors(s,t);i&&-1!=n.indexOf(o)?e[s][t]=1:i||-1==r.indexOf(o)||(e[s][t]=1)}}this._map=e,t&&this._serviceCallback(t)}_serviceCallback(t){for(let e=0;e<this._height;e++){let r=1,n=0;6==this._options.topology&&(r=2,n=e%2);for(let i=n;i<this._width;i+=r)t(i,e,this._map[i][e])}}_getNeighbors(t,e){let r=0;for(let n=0;n<this._dirs.length;n++){let i=this._dirs[n],o=t+i[0],s=e+i[1];o<0||o>=this._width||s<0||s>=this._height||(r+=1==this._map[o][s]?1:0)}return r}connect(t,e,r){e||(e=0);let n=[],o={},s=1,a=[0,0];6==this._options.topology&&(s=2,a=[0,1]);for(let t=0;t<this._height;t++)for(let r=a[t%2];r<this._width;r+=s)if(this._freeSpace(r,t,e)){let e=[r,t];o[this._pointKey(e)]=e,n.push([r,t])}let u=n[i.a.getUniformInt(0,n.length-1)],l=this._pointKey(u),c={};for(c[l]=u,delete o[l],this._findConnected(c,o,[u],!1,e);Object.keys(o).length>0;){let t=this._getFromTo(c,o),n=t[0],i=t[1],s={};s[this._pointKey(n)]=n,this._findConnected(s,o,[n],!0,e),(6==this._options.topology?this._tunnelToConnected6:this._tunnelToConnected).call(this,i,n,c,o,e,r);for(let t in s){let r=s[t];this._map[r[0]][r[1]]=e,c[t]=r,delete o[t]}}t&&this._serviceCallback(t)}_getFromTo(t,e){let r,n=[0,0],o=[0,0],s=Object.keys(t),a=Object.keys(e);for(let u=0;u<5;u++){if(s.length<a.length){let r=s;o=t[r[i.a.getUniformInt(0,r.length-1)]],n=this._getClosest(o,e)}else{let r=a;n=e[r[i.a.getUniformInt(0,r.length-1)]],o=this._getClosest(n,t)}if((r=(n[0]-o[0])*(n[0]-o[0])+(n[1]-o[1])*(n[1]-o[1]))<64)break}return[n,o]}_getClosest(t,e){let r=null,n=null;for(let i in e){let o=e[i],s=(o[0]-t[0])*(o[0]-t[0])+(o[1]-t[1])*(o[1]-t[1]);(null==n||s<n)&&(n=s,r=o)}return r}_findConnected(t,e,r,n,i){for(;r.length>0;){let o,s=r.splice(0,1)[0];o=6==this._options.topology?[[s[0]+2,s[1]],[s[0]+1,s[1]-1],[s[0]-1,s[1]-1],[s[0]-2,s[1]],[s[0]-1,s[1]+1],[s[0]+1,s[1]+1]]:[[s[0]+1,s[1]],[s[0]-1,s[1]],[s[0],s[1]+1],[s[0],s[1]-1]];for(let s=0;s<o.length;s++){let a=this._pointKey(o[s]);null==t[a]&&this._freeSpace(o[s][0],o[s][1],i)&&(t[a]=o[s],n||delete e[a],r.push(o[s]))}}}_tunnelToConnected(t,e,r,n,i,o){let s,a;e[0]<t[0]?(s=e,a=t):(s=t,a=e);for(let t=s[0];t<=a[0];t++){this._map[t][s[1]]=i;let e=[t,s[1]],o=this._pointKey(e);r[o]=e,delete n[o]}o&&s[0]<a[0]&&o(s,[a[0],s[1]]);let u=a[0];e[1]<t[1]?(s=e,a=t):(s=t,a=e);for(let t=s[1];t<a[1];t++){this._map[u][t]=i;let e=[u,t],o=this._pointKey(e);r[o]=e,delete n[o]}o&&s[1]<a[1]&&o([a[0],s[1]],[a[0],a[1]])}_tunnelToConnected6(t,e,r,n,i,o){let s,a;e[0]<t[0]?(s=e,a=t):(s=t,a=e);let u=s[0],l=s[1];for(;u!=a[0]||l!=a[1];){let t=2;l<a[1]?(l++,t=1):l>a[1]&&(l--,t=1),u<a[0]?u+=t:u>a[0]?u-=t:a[1]%2?u-=t:u+=t,this._map[u][l]=i;let e=[u,l],o=this._pointKey(e);r[o]=e,delete n[o]}o&&o(e,t)}_freeSpace(t,e,r){return t>=0&&t<this._width&&e>=0&&e<this._height&&this._map[t][e]==r}_pointKey(t){return t[0]+"."+t[1]}},Digger:class extends F{constructor(t,e,r={}){super(t,e),this._options=Object.assign({roomWidth:[3,9],roomHeight:[3,5],corridorLength:[3,10],dugPercentage:.2,timeLimit:1e3},r),this._features={room:4,corridor:4},this._map=[],this._featureAttempts=20,this._walls={},this._dug=0,this._digCallback=this._digCallback.bind(this),this._canBeDugCallback=this._canBeDugCallback.bind(this),this._isWallCallback=this._isWallCallback.bind(this),this._priorityWallCallback=this._priorityWallCallback.bind(this)}create(t){this._rooms=[],this._corridors=[],this._map=this._fillMap(1),this._walls={},this._dug=0;let e=(this._width-2)*(this._height-2);this._firstRoom();let r,n=Date.now();do{if(r=0,Date.now()-n>this._options.timeLimit)break;let t=this._findWall();if(!t)break;let e=t.split(","),i=parseInt(e[0]),o=parseInt(e[1]),s=this._getDiggingDirection(i,o);if(!s)continue;let a=0;do{if(a++,this._tryFeature(i,o,s[0],s[1])){this._removeSurroundingWalls(i,o),this._removeSurroundingWalls(i-s[0],o-s[1]);break}}while(a<this._featureAttempts);for(let t in this._walls)this._walls[t]>1&&r++}while(this._dug/e<this._options.dugPercentage||r);if(this._addDoors(),t)for(let e=0;e<this._width;e++)for(let r=0;r<this._height;r++)t(e,r,this._map[e][r]);return this._walls={},this._map=[],this}_digCallback(t,e,r){0==r||2==r?(this._map[t][e]=0,this._dug++):this._walls[t+","+e]=1}_isWallCallback(t,e){return!(t<0||e<0||t>=this._width||e>=this._height)&&1==this._map[t][e]}_canBeDugCallback(t,e){return!(t<1||e<1||t+1>=this._width||e+1>=this._height)&&1==this._map[t][e]}_priorityWallCallback(t,e){this._walls[t+","+e]=2}_firstRoom(){let t=Math.floor(this._width/2),e=Math.floor(this._height/2),r=B.createRandomCenter(t,e,this._options);this._rooms.push(r),r.create(this._digCallback)}_findWall(){let t=[],e=[];for(let r in this._walls){2==this._walls[r]?e.push(r):t.push(r)}let r=e.length?e:t;if(!r.length)return null;let n=i.a.getItem(r.sort());return delete this._walls[n],n}_tryFeature(t,e,r,n){let o=i.a.getWeightedValue(this._features),s=$[o].createRandomAt(t,e,r,n,this._options);return!!s.isValid(this._isWallCallback,this._canBeDugCallback)&&(s.create(this._digCallback),s instanceof B&&this._rooms.push(s),s instanceof Y&&(s.createPriorityWalls(this._priorityWallCallback),this._corridors.push(s)),!0)}_removeSurroundingWalls(t,e){let r=T[4];for(let n=0;n<r.length;n++){let i=r[n],o=t+i[0],s=e+i[1];delete this._walls[o+","+s],o=t+2*i[0],s=e+2*i[1],delete this._walls[o+","+s]}}_getDiggingDirection(t,e){if(t<=0||e<=0||t>=this._width-1||e>=this._height-1)return null;let r=null,n=T[4];for(let i=0;i<n.length;i++){let o=n[i],s=t+o[0],a=e+o[1];if(!this._map[s][a]){if(r)return null;r=o}}return r?[-r[0],-r[1]]:null}_addDoors(){let t=this._map;function e(e,r){return 1==t[e][r]}for(let t=0;t<this._rooms.length;t++){let r=this._rooms[t];r.clearDoors(),r.addDoors(e)}}},EllerMaze:class extends N{create(t){let e,r=this._fillMap(1),n=Math.ceil((this._width-2)/2),o=[],s=[];for(let t=0;t<n;t++)o.push(t),s.push(t);for(o.push(n-1),e=1;e+3<this._height;e+=2)for(let t=0;t<n;t++){let n=2*t+1,a=e;r[n][a]=0,t!=o[t+1]&&i.a.getUniform()>.375&&(H(t,o,s),r[n+1][a]=0),t!=o[t]&&i.a.getUniform()>.375?X(t,o,s):r[n][a+1]=0}for(let t=0;t<n;t++){let n=2*t+1,a=e;r[n][a]=0,t!=o[t+1]&&(t==o[t]||i.a.getUniform()>.375)&&(H(t,o,s),r[n+1][a]=0),X(t,o,s)}for(let e=0;e<this._width;e++)for(let n=0;n<this._height;n++)t(e,n,r[e][n]);return this}},DividedMaze:class extends N{constructor(){super(...arguments),this._stack=[],this._map=[]}create(t){let e=this._width,r=this._height;this._map=[];for(let t=0;t<e;t++){this._map.push([]);for(let n=0;n<r;n++){let i=0==t||0==n||t+1==e||n+1==r;this._map[t].push(i?1:0)}}this._stack=[[1,1,e-2,r-2]],this._process();for(let n=0;n<e;n++)for(let e=0;e<r;e++)t(n,e,this._map[n][e]);return this._map=[],this}_process(){for(;this._stack.length;){let t=this._stack.shift();this._partitionRoom(t)}}_partitionRoom(t){let e=[],r=[];for(let r=t[0]+1;r<t[2];r++){let n=this._map[r][t[1]-1],i=this._map[r][t[3]+1];!n||!i||r%2||e.push(r)}for(let e=t[1]+1;e<t[3];e++){let n=this._map[t[0]-1][e],i=this._map[t[2]+1][e];!n||!i||e%2||r.push(e)}if(!e.length||!r.length)return;let n=i.a.getItem(e),o=i.a.getItem(r);this._map[n][o]=1;let s=[],a=[];s.push(a);for(let e=t[0];e<n;e++)this._map[e][o]=1,a.push([e,o]);a=[],s.push(a);for(let e=n+1;e<=t[2];e++)this._map[e][o]=1,a.push([e,o]);a=[],s.push(a);for(let e=t[1];e<o;e++)this._map[n][e]=1,a.push([n,e]);a=[],s.push(a);for(let e=o+1;e<=t[3];e++)this._map[n][e]=1,a.push([n,e]);let u=i.a.getItem(s);for(let t=0;t<s.length;t++){let e=s[t];if(e==u)continue;let r=i.a.getItem(e);this._map[r[0]][r[1]]=0}this._stack.push([t[0],t[1],n-1,o-1]),this._stack.push([n+1,t[1],t[2],o-1]),this._stack.push([t[0],o+1,n-1,t[3]]),this._stack.push([n+1,o+1,t[2],t[3]])}},IceyMaze:class extends N{constructor(t,e,r=0){super(t,e),this._regularity=r,this._map=[]}create(t){let e=this._width,r=this._height,n=this._fillMap(1);e-=e%2?1:2,r-=r%2?1:2;let o=0,s=0,a=0,u=0,l=0,c=!1,h=[[0,0],[0,0],[0,0],[0,0]];do{if(o=1+2*Math.floor(i.a.getUniform()*(e-1)/2),s=1+2*Math.floor(i.a.getUniform()*(r-1)/2),l||(n[o][s]=0),!n[o][s]){this._randomize(h);do{0==Math.floor(i.a.getUniform()*(this._regularity+1))&&this._randomize(h),c=!0;for(let t=0;t<4;t++)if(a=o+2*h[t][0],u=s+2*h[t][1],this._isFree(n,a,u,e,r)){n[a][u]=0,n[o+h[t][0]][s+h[t][1]]=0,o=a,s=u,c=!1,l++;break}}while(!c)}}while(l+1<e*r/4);for(let e=0;e<this._width;e++)for(let r=0;r<this._height;r++)t(e,r,n[e][r]);return this._map=[],this}_randomize(t){for(let e=0;e<4;e++)t[e][0]=0,t[e][1]=0;switch(Math.floor(4*i.a.getUniform())){case 0:t[0][0]=-1,t[1][0]=1,t[2][1]=-1,t[3][1]=1;break;case 1:t[3][0]=-1,t[2][0]=1,t[1][1]=-1,t[0][1]=1;break;case 2:t[2][0]=-1,t[3][0]=1,t[0][1]=-1,t[1][1]=1;break;case 3:t[1][0]=-1,t[0][0]=1,t[3][1]=-1,t[2][1]=1}}_isFree(t,e,r,n,i){return!(e<1||r<1||e>=n||r>=i)&&t[e][r]}},Rogue:class extends N{constructor(t,e,r){super(t,e),this.map=[],this.rooms=[],this.connectedCells=[],(r=Object.assign({cellWidth:3,cellHeight:3},r)).hasOwnProperty("roomWidth")||(r.roomWidth=this._calculateRoomSize(this._width,r.cellWidth)),r.hasOwnProperty("roomHeight")||(r.roomHeight=this._calculateRoomSize(this._height,r.cellHeight)),this._options=r}create(t){if(this.map=this._fillMap(1),this.rooms=[],this.connectedCells=[],this._initRooms(),this._connectRooms(),this._connectUnconnectedRooms(),this._createRandomRoomConnections(),this._createRooms(),this._createCorridors(),t)for(let e=0;e<this._width;e++)for(let r=0;r<this._height;r++)t(e,r,this.map[e][r]);return this}_calculateRoomSize(t,e){let r=Math.floor(t/e*.8),n=Math.floor(t/e*.25);return n<2&&(n=2),r<2&&(r=2),[n,r]}_initRooms(){for(let t=0;t<this._options.cellWidth;t++){this.rooms.push([]);for(let e=0;e<this._options.cellHeight;e++)this.rooms[t].push({x:0,y:0,width:0,height:0,connections:[],cellx:t,celly:e})}}_connectRooms(){let t,e,r,n,o,s,a=i.a.getUniformInt(0,this._options.cellWidth-1),u=i.a.getUniformInt(0,this._options.cellHeight-1),l=!1;do{s=[0,2,4,6],s=i.a.shuffle(s);do{if(l=!1,t=s.pop(),e=a+T[8][t][0],r=u+T[8][t][1],!(e<0||e>=this._options.cellWidth||r<0||r>=this._options.cellHeight)){if((n=this.rooms[a][u]).connections.length>0&&n.connections[0][0]==e&&n.connections[0][1]==r)break;0==(o=this.rooms[e][r]).connections.length&&(o.connections.push([a,u]),this.connectedCells.push([e,r]),a=e,u=r,l=!0)}}while(s.length>0&&0==l)}while(s.length>0)}_connectUnconnectedRooms(){let t,e,r,n=this._options.cellWidth,o=this._options.cellHeight;this.connectedCells=i.a.shuffle(this.connectedCells);for(let s=0;s<this._options.cellWidth;s++)for(let a=0;a<this._options.cellHeight;a++)if(0==(t=this.rooms[s][a]).connections.length){let u=[0,2,4,6];u=i.a.shuffle(u),r=!1;do{let t=u.pop(),i=s+T[8][t][0],l=a+T[8][t][1];if(!(i<0||i>=n||l<0||l>=o)){if(r=!0,0==(e=this.rooms[i][l]).connections.length)break;for(let t=0;t<e.connections.length;t++)if(e.connections[t][0]==s&&e.connections[t][1]==a){r=!1;break}if(r)break}}while(u.length);r?t.connections.push([e.cellx,e.celly]):console.log("-- Unable to connect room.")}}_createRandomRoomConnections(){}_createRooms(){let t,e,r,n,o,s=this._width,a=this._height,u=this._options.cellWidth,l=this._options.cellHeight,c=Math.floor(this._width/u),h=Math.floor(this._height/l),f=this._options.roomWidth,d=this._options.roomHeight;for(let p=0;p<u;p++)for(let u=0;u<l;u++){if(0==(r=c*p)&&(r=1),0==(n=h*u)&&(n=1),t=i.a.getUniformInt(f[0],f[1]),e=i.a.getUniformInt(d[0],d[1]),u>0)for(o=this.rooms[p][u-1];n-(o.y+o.height)<3;)n++;if(p>0)for(o=this.rooms[p-1][u];r-(o.x+o.width)<3;)r++;let l=Math.round(i.a.getUniformInt(0,c-t)/2),_=Math.round(i.a.getUniformInt(0,h-e)/2);for(;r+l+t>=s;)l?l--:t--;for(;n+_+e>=a;)_?_--:e--;r+=l,n+=_,this.rooms[p][u].x=r,this.rooms[p][u].y=n,this.rooms[p][u].width=t,this.rooms[p][u].height=e;for(let i=r;i<r+t;i++)for(let t=n;t<n+e;t++)this.map[i][t]=0}}_getWallPosition(t,e){let r,n,o;return 1==e||3==e?(r=i.a.getUniformInt(t.x+1,t.x+t.width-2),o=1==e?(n=t.y-2)+1:(n=t.y+t.height+1)-1,this.map[r][o]=0):(n=i.a.getUniformInt(t.y+1,t.y+t.height-2),o=2==e?(r=t.x+t.width+1)-1:(r=t.x-2)+1,this.map[o][n]=0),[r,n]}_drawCorridor(t,e){let r,n,o,s,a=e[0]-t[0],u=e[1]-t[1],l=t[0],c=t[1],h=[],f=Math.abs(a),d=Math.abs(u),p=i.a.getUniform(),_=p,g=1-p;for(n=a>0?2:6,o=u>0?4:0,f<d?(r=Math.ceil(d*_),h.push([o,r]),h.push([n,f]),r=Math.floor(d*g),h.push([o,r])):(r=Math.ceil(f*_),h.push([n,r]),h.push([o,d]),r=Math.floor(f*g),h.push([n,r])),this.map[l][c]=0;h.length>0;)for(s=h.pop();s[1]>0;)l+=T[8][s[0]][0],c+=T[8][s[0]][1],this.map[l][c]=0,s[1]=s[1]-1}_createCorridors(){let t,e,r,n,i,o=this._options.cellWidth,s=this._options.cellHeight;for(let a=0;a<o;a++)for(let o=0;o<s;o++){t=this.rooms[a][o];for(let o=0;o<t.connections.length;o++)e=t.connections[o],(r=this.rooms[e[0]][e[1]]).cellx>t.cellx?(n=2,i=4):r.cellx<t.cellx?(n=4,i=2):r.celly>t.celly?(n=3,i=1):(n=1,i=3),this._drawCorridor(this._getWallPosition(t,n),this._getWallPosition(r,i))}}}};class G{}const Z=.5*(Math.sqrt(3)-1),Q=(3-Math.sqrt(3))/6;var J={Simplex:class extends G{constructor(t=256){super(),this._gradients=[[0,-1],[1,-1],[1,0],[1,1],[0,1],[-1,1],[-1,0],[-1,-1]];let e=[];for(let r=0;r<t;r++)e.push(r);e=i.a.shuffle(e),this._perms=[],this._indexes=[];for(let r=0;r<2*t;r++)this._perms.push(e[r%t]),this._indexes.push(this._perms[r]%this._gradients.length)}get(t,e){let r,n,i,o=this._perms,s=this._indexes,u=o.length/2,l=0,c=0,h=0,f=(t+e)*Z,d=Math.floor(t+f),p=Math.floor(e+f),_=(d+p)*Q,g=t-(d-_),m=e-(p-_);g>m?(n=1,i=0):(n=0,i=1);let v=g-n+Q,y=m-i+Q,b=g-1+2*Q,w=m-1+2*Q,x=Object(a.mod)(d,u),S=Object(a.mod)(p,u),E=.5-g*g-m*m;if(E>=0){E*=E,r=s[x+o[S]];let t=this._gradients[r];l=E*E*(t[0]*g+t[1]*m)}let C=.5-v*v-y*y;if(C>=0){C*=C,r=s[x+n+o[S+i]];let t=this._gradients[r];c=C*C*(t[0]*v+t[1]*y)}let O=.5-b*b-w*w;if(O>=0){O*=O,r=s[x+1+o[S+1]];let t=this._gradients[r];h=O*O*(t[0]*b+t[1]*w)}return 70*(l+c+h)}}};class tt{constructor(t,e,r,n={}){this._toX=t,this._toY=e,this._passableCallback=r,this._options=Object.assign({topology:8},n),this._dirs=T[this._options.topology],8==this._options.topology&&(this._dirs=[this._dirs[0],this._dirs[2],this._dirs[4],this._dirs[6],this._dirs[1],this._dirs[3],this._dirs[5],this._dirs[7]])}_getNeighbors(t,e){let r=[];for(let n=0;n<this._dirs.length;n++){let i=this._dirs[n],o=t+i[0],s=e+i[1];this._passableCallback(o,s)&&r.push([o,s])}return r}}var et={Dijkstra:class extends tt{constructor(t,e,r,n){super(t,e,r,n),this._computed={},this._todo=[],this._add(t,e,null)}compute(t,e,r){let n=t+","+e;if(n in this._computed||this._compute(t,e),!(n in this._computed))return;let i=this._computed[n];for(;i;)r(i.x,i.y),i=i.prev}_compute(t,e){for(;this._todo.length;){let r=this._todo.shift();if(r.x==t&&r.y==e)return;let n=this._getNeighbors(r.x,r.y);for(let t=0;t<n.length;t++){let e=n[t],i=e[0],o=e[1];i+","+o in this._computed||this._add(i,o,r)}}}_add(t,e,r){let n={x:t,y:e,prev:r};this._computed[t+","+e]=n,this._todo.push(n)}},AStar:class extends tt{constructor(t,e,r,n={}){super(t,e,r,n),this._todo=[],this._done={}}compute(t,e,r){for(this._todo=[],this._done={},this._fromX=t,this._fromY=e,this._add(this._toX,this._toY,null);this._todo.length;){let r=this._todo.shift(),n=r.x+","+r.y;if(n in this._done)continue;if(this._done[n]=r,r.x==t&&r.y==e)break;let i=this._getNeighbors(r.x,r.y);for(let t=0;t<i.length;t++){let e=i[t],n=e[0],o=e[1];n+","+o in this._done||this._add(n,o,r)}}let n=this._done[t+","+e];if(n)for(;n;)r(n.x,n.y),n=n.prev}_add(t,e,r){let n=this._distance(t,e),i={x:t,y:e,prev:r,g:r?r.g+1:0,h:n},o=i.g+i.h;for(let t=0;t<this._todo.length;t++){let e=this._todo[t],r=e.g+e.h;if(o<r||o==r&&n<e.h)return void this._todo.splice(t,0,i)}this._todo.push(i)}_distance(t,e){switch(this._options.topology){case 4:return Math.abs(t-this._fromX)+Math.abs(e-this._fromY);case 6:let r=Math.abs(t-this._fromX),n=Math.abs(e-this._fromY);return n+Math.max(0,(r-n)/2);case 8:return Math.max(Math.abs(t-this._fromX),Math.abs(e-this._fromY))}}}};class rt{constructor(t){this._scheduler=t,this._lock=1}start(){return this.unlock()}lock(){return this._lock++,this}unlock(){if(!this._lock)throw new Error("Cannot unlock unlocked engine");for(this._lock--;!this._lock;){let t=this._scheduler.next();if(!t)return this.lock();let e=t.act();e&&e.then&&(this.lock(),e.then(this.unlock.bind(this)))}return this}}class nt{constructor(t,e={}){this._reflectivityCallback=t,this._options={},e=Object.assign({passes:1,emissionThreshold:100,range:10},e),this._lights={},this._reflectivityCache={},this._fovCache={},this.setOptions(e)}setOptions(t){return Object.assign(this._options,t),t&&t.range&&this.reset(),this}setFOV(t){return this._fov=t,this._fovCache={},this}setLight(t,e,r){let n=t+","+e;return r?this._lights[n]="string"==typeof r?h.fromString(r):r:delete this._lights[n],this}clearLights(){this._lights={}}reset(){return this._reflectivityCache={},this._fovCache={},this}compute(t){let e={},r={},n={};for(let t in this._lights){let e=this._lights[t];r[t]=[0,0,0],h.add_(r[t],e)}for(let t=0;t<this._options.passes;t++)this._emitLight(r,n,e),t+1!=this._options.passes&&(r=this._computeEmitters(n,e));for(let e in n){let r=e.split(",");t(parseInt(r[0]),parseInt(r[1]),n[e])}return this}_emitLight(t,e,r){for(let n in t){let i=n.split(","),o=parseInt(i[0]),s=parseInt(i[1]);this._emitLightFromCell(o,s,t[n],e),r[n]=1}return this}_computeEmitters(t,e){let r={};for(let n in t){if(n in e)continue;let i,o=t[n];if(n in this._reflectivityCache)i=this._reflectivityCache[n];else{let t=n.split(","),e=parseInt(t[0]),r=parseInt(t[1]);i=this._reflectivityCallback(e,r),this._reflectivityCache[n]=i}if(0==i)continue;let s=[0,0,0],a=0;for(let t=0;t<3;t++){let e=Math.round(o[t]*i);s[t]=e,a+=e}a>this._options.emissionThreshold&&(r[n]=s)}return r}_emitLightFromCell(t,e,r,n){let i,o=t+","+e;i=o in this._fovCache?this._fovCache[o]:this._updateFOV(t,e);for(let t in i){let e,o=i[t];t in n?e=n[t]:(e=[0,0,0],n[t]=e);for(let t=0;t<3;t++)e[t]+=Math.round(r[t]*o)}return this}_updateFOV(t,e){let r=t+","+e,n={};this._fovCache[r]=n;let i=this._options.range;return this._fov.compute(t,e,i,function(t,e,r,o){let s=o*(1-r/i);0!=s&&(n[t+","+e]=s)}.bind(this)),n}}r.d(e,"Util",(function(){return it})),r.d(e,"Color",(function(){return ot})),r.d(e,"Text",(function(){return st})),r.d(e,"RNG",(function(){return i.a})),r.d(e,"Display",(function(){return I})),r.d(e,"StringGenerator",(function(){return V})),r.d(e,"EventQueue",(function(){return K})),r.d(e,"Scheduler",(function(){return j})),r.d(e,"FOV",(function(){return U})),r.d(e,"Map",(function(){return q})),r.d(e,"Noise",(function(){return J})),r.d(e,"Path",(function(){return et})),r.d(e,"Engine",(function(){return rt})),r.d(e,"Lighting",(function(){return nt})),r.d(e,"DEFAULT_WIDTH",(function(){return k})),r.d(e,"DEFAULT_HEIGHT",(function(){return M})),r.d(e,"DIRS",(function(){return T})),r.d(e,"KEYS",(function(){return A}));const it=a,ot=h,st=n},function(t,e,r){"use strict";(function(t){r.d(e,"a",(function(){return s}));var n=r(6),i=r(2);function o(t){let e=i.fromString(t);return 36*Math.floor(e[0]*(6/256))+6*Math.floor(e[1]*(6/256))+1*Math.floor(e[2]*(6/256))+16}class s extends n.a{constructor(){super(),this._offset=[0,0],this._cursor=[-1,-1],this._lastColor=""}schedule(t){setTimeout(t,1e3/60)}setOptions(t){super.setOptions(t);let e=[t.width,t.height],r=this.computeSize();this._offset=r.map((t,r)=>Math.floor((t-e[r])/2))}clear(){t.stdout.write(`[0;48;5;${o(this._options.bg)}m[2J`)}draw(e,r){let[n,i,s,a,u]=e,l=this._offset[0]+n,c=this._offset[1]+i,h=this.computeSize();if(l<0||l>=h[0])return;if(c<0||c>=h[1])return;if(l===this._cursor[0]&&c===this._cursor[1]||(t.stdout.write(function(t,e){return`[${e+1};${t+1}H`}(l,c)),this._cursor[0]=l,this._cursor[1]=c),r&&(s||(s=" ")),!s)return;let f=function(t,e){return`[0;38;5;${o(t)};48;5;${o(e)}m`}(a,u);f!==this._lastColor&&(t.stdout.write(f),this._lastColor=f);let d=[].concat(s);t.stdout.write(d[0]),this._cursor[0]++,this._cursor[0]>=h[0]&&(this._cursor[0]=0,this._cursor[1]++)}computeFontSize(){throw new Error("Terminal backend has no notion of font size")}eventToPosition(t,e){return[t,e]}computeSize(){return[t.stdout.columns,t.stdout.rows]}}}).call(this,r(31))},function(t,e){var r;r=function(){return this}();try{r=r||new Function("return this")()}catch(t){"object"==typeof window&&(r=window)}t.exports=r},function(t,e,r){"use strict";var n=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e},i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var o=n(r(5)),s=i(r(10)),a=i(r(4)),u=r(9),l=a.default.polarization(),c=a.default.direction(),h=s.default.identity([l]),f=s.default.identity([c]),d=function(t){return o.Cx(Math.cos(t),0)},p=function(t){return o.Cx(Math.sin(t),0)},_=function(t,e){return(t%e+e)%e};function g(t,e){var r=[[d(t).mul(d(t)),d(t).mul(p(t))],[d(t).mul(p(t)),p(t).mul(p(t))]];return s.default.fromArray(r,[e])}e.isqrt2=o.Cx(Math.SQRT1_2),e.rotationMatrix=function(t,e){var r=[[d(t),p(-t)],[p(t),d(t)]];return s.default.fromArray(r,[e])},e.projectionMatrix=g,e.phaseShiftForRealEigenvectors=function(t,e,r,n){return s.default.add([g(t,n).mulConstant(o.default.fromPolar(1,e*u.TAU)),g(t+.25*u.TAU,n).mulConstant(o.default.fromPolar(1,r*u.TAU))])},e.reflectPhaseFromLighter=function(){var t=[[o.Cx(-1),o.Cx(0)],[o.Cx(0),o.Cx(1)]];return s.default.fromArray(t,[l],[l])},e.reflectPhaseFromDenser=function(){var t=[[o.Cx(-1),o.Cx(0)],[o.Cx(0),o.Cx(1)]];return s.default.fromArray(t,[l],[l])},e.amplitudeIntensity=function(t,e){return s.default.outer([f,h]).mulConstant(o.default.fromPolar(t,u.TAU*e))},e.reflectFromPlaneDirection=function(t){var e;switch(_(t,180)){case 0:e=[["v","^",o.Cx(1)],["^","v",o.Cx(1)]];break;case 45:e=[["^",">",o.Cx(1)],[">","^",o.Cx(1)],["v","<",o.Cx(1)],["<","v",o.Cx(1)]];break;case 90:e=[["<",">",o.Cx(1)],[">","<",o.Cx(1)]];break;case 135:e=[["v",">",o.Cx(1)],[">","v",o.Cx(1)],["^","<",o.Cx(1)],["<","^",o.Cx(1)]];break;default:throw new Error("Angle "+t+" % 180 isn't in the set [0, 45, 90, 135]")}return s.default.fromSparseCoordNames(e,[c])},e.beamsplitterTransmittionDirections=function(t){switch(_(t,180)){case 0:return s.default.fromSparseCoordNames([["^","^",o.Cx(1)],["v","v",o.Cx(1)]],[c]);case 45:case 135:return f;case 90:return s.default.fromSparseCoordNames([[">",">",o.Cx(1)],["<","<",o.Cx(1)]],[c]);default:throw new Error("Angle "+t+" % 180 isn't in the set [0, 45, 90, 135].")}},e.diodeForDirections=function(t){switch(_(t,360)){case 0:return s.default.fromSparseCoordNames([[">",">",o.Cx(1)]],[c]);case 90:return s.default.fromSparseCoordNames([["^","^",o.Cx(1)]],[c]);case 180:return s.default.fromSparseCoordNames([["<","<",o.Cx(1)]],[c]);case 270:return s.default.fromSparseCoordNames([["v","v",o.Cx(1)]],[c]);default:throw new Error("Angle "+t+" % 360 isn't in the set [0, 90, 180, 270].")}}},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});class n{static waitForInput(t){return new Promise(e=>{void 0!==n.processInputCallback&&n.stopProcessing(),n.resolve=e,n.processInputCallback=e=>n.processInput(e,t),window.addEventListener("keydown",n.processInputCallback)})}static processInput(t,e){e(t)&&n.stopProcessing()}static stopProcessing(){window.removeEventListener("keydown",n.processInputCallback),n.processInputCallback=()=>{},n.resolve()}}e.default=n},function(t,e,r){"use strict";var n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});const i=n(r(24)),o=n(r(25)),s=n(r(34));document.body.onload=()=>{new s.default(o.default.importLevel(i.default),64)}},function(t){t.exports=JSON.parse('{"id":18,"name":"Perpendicular are different","group":"Classic","description":"","grid":{"cols":12,"rows":10,"cells":[{"coord":{"y":1,"x":2},"element":"mirror","rotation":45,"frozen":true,"active":false,"energized":false},{"coord":{"y":1,"x":7},"element":"mirror","rotation":135,"frozen":true,"active":false,"energized":false},{"coord":{"y":3,"x":2},"element":"phasedec","rotation":0,"frozen":true,"active":false,"energized":false},{"coord":{"y":5,"x":0},"element":"mine","rotation":0,"frozen":true,"active":false,"energized":false},{"coord":{"y":5,"x":2},"element":"beamsplitter","rotation":45,"frozen":true,"active":false,"energized":false},{"coord":{"y":5,"x":4},"element":"mirror","rotation":135,"frozen":true,"active":false,"energized":false},{"coord":{"y":5,"x":5},"element":"mirror","rotation":45,"frozen":true,"active":false,"energized":false},{"coord":{"y":5,"x":7},"element":"polarsplitter","rotation":0,"frozen":true,"active":false,"energized":false},{"coord":{"y":5,"x":9},"element":"sugar","rotation":0,"frozen":false,"active":false,"energized":false},{"coord":{"y":5,"x":11},"element":"laser","rotation":180,"frozen":true,"active":true,"energized":false},{"coord":{"y":6,"x":4},"element":"sugar","rotation":0,"frozen":false,"active":false,"energized":false},{"coord":{"y":7,"x":4},"element":"sugar","rotation":0,"frozen":false,"active":false,"energized":false},{"coord":{"y":9,"x":2},"element":"detector","rotation":90,"frozen":true,"active":false,"energized":false},{"coord":{"y":9,"x":4},"element":"mirror","rotation":135,"frozen":true,"active":false,"energized":false},{"coord":{"y":9,"x":5},"element":"mirror","rotation":45,"frozen":true,"active":false,"energized":false}]},"hints":[],"goals":[]}')},function(t,e,r){"use strict";var n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});const i=r(8),o=n(r(29)),s=n(r(32)),a=n(r(33));class u{constructor(t,e,r,n,s=new o.default(8,8),a,u,l){this.id=t,this.group=r,this.name=e,this.description=n,this.grid=s,this.goals=a,this.hints=u,this.completed=l,this.state=new i.Photons(s.cols,s.rows)}toString(){return`LEVEL: ${this.name} [${this.grid.cols}x${this.grid.rows}]\nDESC: ${this.description}\nGROUP: ${this.group}\n${this.grid.toString()}\nGOALS: ${this.goals.map(t=>t.toString())}\nGOALS: ${this.completed?"COMPLETE":"IN PROGRESS"}\nHINTS: ${this.hints.map(t=>t.toString())}\n\n`}exportLevel(){return{id:this.id,name:this.name,group:this.group,description:this.description,grid:this.grid.exportGrid(),hints:this.hints.flatMap(t=>t.exportHint()),goals:this.goals.flatMap(t=>t.exportGoal())}}static importLevel(t){const e=new o.default(t.grid.rows,t.grid.cols);e.importGrid(t.grid.cells);const r=a.default.importGoal(t.goals),n=s.default.importHint(t.hints);return new u(t.id,t.name,t.group,t.description,e,r,n,!1)}}e.default=u},function(t,e){t.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),t.webpackPolyfill=1),t}},function(t,e,r){"use strict";var n=this&&this.__spreadArrays||function(){for(var t=0,e=0,r=arguments.length;e<r;e++)t+=arguments[e].length;var n=Array(t),i=0;for(e=0;e<r;e++)for(var o=arguments[e],s=0,a=o.length;s<a;s++,i++)n[i]=o[s];return n},i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var o=i(r(7)),s=i(r(13)),a=i(r(10)),u=i(r(4)),l=r(5),c=function(){function t(t,e){this.sizeX=t,this.sizeY=e,this.vector=new s.default([],[]),this.nPhotons=0,this.dimX=u.default.position(t,"x"),this.dimY=u.default.position(e,"y")}return t.prototype.createPhoton=function(t,e,r,n){var i=[this.dimX,this.dimY,u.default.direction(),u.default.polarization()],o=[t.toString(),e.toString(),r,n];return s.default.indicator(i,o)},t.prototype.addPhotonIndicator=function(t,e,r,n){var i=this.createPhoton(t,e,r,n),o=this.vector;if(this.nPhotons+=1,1===this.nPhotons)this.vector=i;else{if(2!==this.nPhotons)throw"Adding 3 or more particles not yet implemented";if(!i.dot(this.vector).isZero)throw"Adding photons not yet implemented for non-ortogonal states. Old photon:\n"+this.vector+"\nand new photon:\n"+i;this.vector=s.default.add([o.outer(i),i.outer(o)]).mulConstant(l.Cx(Math.SQRT1_2))}},t.prototype.createPhotonPropagator=function(t){void 0===t&&(t=!0);var e=u.default.direction(),r=this.dimX,n=this.dimY,i=t?1:-1;return a.default.add([a.default.outer([a.default.shift(r,1),a.default.identity([n]),a.default.indicator([e],[">"])]),a.default.outer([a.default.shift(r,-1),a.default.identity([n]),a.default.indicator([e],["<"])]),a.default.outer([a.default.identity([r]),a.default.shift(n,+i),a.default.indicator([e],["v"])]),a.default.outer([a.default.identity([r]),a.default.shift(n,-i),a.default.indicator([e],["^"])])])},t.prototype.propagatePhotons=function(t){if(void 0===t&&(t=!0),1!==this.nPhotons)throw"Right now implemented only for 1 photon. Here we have "+this.nPhotons+" photons.";var e=this.createPhotonPropagator(t);this.vector=e.outer(a.default.identity([u.default.polarization()])).mulVec(this.vector)},t.prototype.createLocalizedOperator=function(t,e,r){return a.default.outer([a.default.indicator([this.dimX,this.dimY],[""+e,""+r]),t])},t.prototype.createSinglePhotonInteraction=function(t){var e=this,r=t.map((function(t){var r=t[0],n=t[1],i=t[2].sub(a.default.identity([u.default.direction(),u.default.polarization()]));return e.createLocalizedOperator(i,r,n)}));return a.default.add(n([a.default.identity([this.dimX,this.dimY,u.default.direction(),u.default.polarization()])],r))},t.prototype.actOnSinglePhotons=function(t){if(1!==this.nPhotons)throw"Right now implemented only for 1 photon. Here we have "+this.nPhotons+" photons.";var e=this.createSinglePhotonInteraction(t);this.vector=e.mulVec(this.vector)},t.prototype.aggregatePolarization=function(){if(1!==this.nPhotons)throw"Right now implemented only for 1 photon. Here we have "+this.nPhotons+" photons.";return o.default.chain(this.vector.cells).groupBy((function(t){return o.default.at(t.coord,[0,1,2])})).values().map((function(t){var e=t[0].coord,r=e[0],n=e[1],i=e[2],o=(e[3],[l.Cx(0),l.Cx(0)]);return t.forEach((function(t){o[t.coord[3]]=t.value})),{x:r,y:n,direction:90*i,are:o[0].re,aim:o[0].im,bre:o[1].re,bim:o[1].im}})).value()},t.prototype.totalIntensityPerTile=function(){if(1!==this.nPhotons)throw"Right now implemented only for 1 photon. Here we have "+this.nPhotons+" photons.";return o.default.chain(this.vector.cells).groupBy((function(t){return o.default.at(t.coord,[0,1])})).values().map((function(t){var e=t[0].coord,r=e[0],n=e[1];e[2],e[3];return{x:r,y:n,probability:t.map((function(t){return t.value.abs2()})).reduce((function(t,e){return t+e}))}})).value()},t}();e.default=c},function(t,e,r){"use strict";var n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}},i=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e};Object.defineProperty(e,"__esModule",{value:!0});var o=n(r(7)),s=r(5),a=n(r(4)),u=n(r(10)),l=r(9),c=i(r(21)),h=a.default.polarization(),f=a.default.direction(),d=u.default.identity([h]),p=u.default.identity([f]),_=u.default.indicator([h],"H"),g=u.default.indicator([h],"V"),m=function(t,e){return(t%e+e)%e};function v(t,e){return u.default.add([u.default.outer([c.diodeForDirections(t),c.projectionMatrix(e*l.TAU,h)]),u.default.outer([c.diodeForDirections(t+180),c.projectionMatrix(-e*l.TAU,h)])])}function y(t,e,r){return void 0===r&&(r=.25),u.default.add([u.default.outer([c.diodeForDirections(t),c.phaseShiftForRealEigenvectors(e*l.TAU,0,r,h)]),u.default.outer([c.diodeForDirections(t+180),c.phaseShiftForRealEigenvectors(-e*l.TAU,0,r,h)])])}e.sugarSolution=function(t){return void 0===t&&(t=.125),u.default.outer([p,c.rotationMatrix(t*l.TAU,h)])},e.attenuator=function(t){return void 0===t&&(t=Math.SQRT1_2),c.amplitudeIntensity(t,0)},e.vacuumJar=function(){return c.amplitudeIntensity(1,-.25)},e.glassSlab=function(){return c.amplitudeIntensity(1,.25)},e.mirror=function(t){return u.default.outer([c.reflectFromPlaneDirection(t),c.reflectPhaseFromDenser()])},e.beamSplitter=function(t){return u.default.outer([c.reflectFromPlaneDirection(t),c.reflectPhaseFromDenser()]).mulConstant(s.Cx(0,1)).add(c.beamsplitterTransmittionDirections(t).outer(d)).mulConstant(c.isqrt2)},e.cornerCube=function(){return u.default.outer([u.default.fromSparseCoordNames([["<",">",s.Cx(1)],["v","^",s.Cx(1)],[">","<",s.Cx(1)],["^","v",s.Cx(1)]],[f]),d])},e.polarizingBeamsplitter=function(t){if(!o.default.includes([45,135],m(t,180)))throw new Error("polarizingBeamsplitter: angle "+t+" mod 180 not in [45, 135].");return u.default.add([p.outer(_),c.reflectFromPlaneDirection(t).outer(g)])},e.faradayRotator=function(t,e){return void 0===e&&(e=.125),u.default.add([u.default.outer([c.diodeForDirections(t),c.rotationMatrix(e*l.TAU,h)]),u.default.outer([c.diodeForDirections(t+180),c.rotationMatrix(-e*l.TAU,h)])])},e.polarizer=v,e.polarizerWE=function(t){return v(0,t/360)},e.PolarizerNS=function(t){return v(90,t/360)},e.phasePlate=y,e.quarterWavePlateWE=function(t){return y(0,t/360)},e.quarterWavePlateNS=function(t){return y(90,t/360)}},function(t,e,r){"use strict";var n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});const i=n(r(3)),o=n(r(15)),s=n(r(30)),a=n(r(11));e.default=class{constructor(t,e,r){if(this.rows=t,this.cols=e,this.clusters=[],r)this.matrix=r;else{this.matrix=new Array(this.rows).fill(0).map(()=>new Array(this.cols).fill(0));for(let r=0;r<t;r++)for(let t=0;t<e;t++){const e=i.default.importCoord({y:r,x:t});this.set(new s.default(e,o.default.fromName("void")))}}this.paths=this.computePaths()}get center(){return i.default.importCoord({y:Math.floor(this.cols/2),x:Math.floor(this.rows/2)})}get operatorList(){return this.unvoid.map(t=>[t.coord.x,t.coord.y,t.element.transition(t.rotation)])}filteredBy(t){return this.cells.filter(e=>e.element.name===t)}filteredByNot(t){return this.cells.filter(e=>e.element.name!==t)}includes(t){return t.y>=0&&t.y<this.rows&&t.x>=0&&t.x<this.cols}set(t){return!!this.includes(t.coord)&&(this.matrix[t.coord.y][t.coord.x]=t,!0)}get(t){return this.matrix[t.y][t.x]}move(t,e){const r=this.get(t),n=this.get(e);return r.frozen||n.frozen?(console.error(`Couldn't move ${r.element} because of frozen ${e.toString()}`),!1):(this.set(new s.default(t,n.element,n.rotation)),this.set(new s.default(e,r.element,r.rotation)),console.log(`Moved ${r.element} from ${t.toString()} to ${e.toString()}`),!0)}moveAll(t){this.cells.map(e=>{switch(t){case"top":e.coord=e.coord.top;break;case"bottom":e.coord=e.coord.bottom;break;case"left":e.coord=e.coord.left;break;case"right":e.coord=e.coord.right;break;default:throw new Error("Wrong direction given: [top, bottom, left, right]")}this.set(e)})}fireLasers(){return this.activeLasers.map(t=>t.fire())}coordIntensitySum(t){let e=0;return this.paths.filter(e=>t.equal(e.coord)).map(t=>{e+=t.intensity}),e}laserPath(t,e=50){let r=[t];const n=[];for(let t=0;t<e;t++)r.forEach(t=>{t.next(),this.includes(t.coord)||(t.intensity=0),this.absorbers.forEach(e=>{t.on(e)&&(t.intensity-=t.intensity*e.element.absorption)}),this.mirrors.forEach(e=>{t.on(e)&&(t.direction=(2*e.rotation-t.direction+360)%360)}),this.polarsplitters.forEach(e=>{if(t.on(e)){if(0===e.rotation){const n=(2*(e.rotation-45)-t.direction+360)%360;r.push(new a.default(t.coord,n,t.intensity))}if(180===e.rotation){const n=(2*(e.rotation+45)-t.direction+360)%360;r.push(new a.default(t.coord,n,t.intensity))}}}),this.beamsplitters.forEach(e=>{if(t.on(e)){t.intensity/=2;const n=(2*e.rotation-t.direction+360)%360;r.push(new a.default(t.coord,n,t.intensity))}}),this.phaseshifters.forEach(e=>{t.on(e)&&(t.phase=(t.phase+e.element.phase)%1)})}),r.forEach(t=>{t.alive||n.push(t)}),r=r.filter(t=>t.alive);const i=[];return(r=n.concat(r)).forEach(t=>{i.push(t.pathParticle)}),[...new Set(i.flat())]}computePaths(){const t=[],e=[];return this.activeLasers.map(t=>{e.push(t.fire())}),e.forEach(e=>{this.laserPath(e,40).forEach(e=>{e.coord.isIncludedIn(this.coords)&&t.push(e)})}),t}energizeCells(t){const e=t.map(t=>t.coord);this.cells.forEach(t=>{t.coord.isIncludedIn(e)&&"void"!==t.element.name?t.energized=!0:t.energized=!1})}activateCells(){this.unvoid.forEach(t=>{"laser"!==t.element.name&&(t.active=!1),this.adjacentCells(t.coord).filter(t=>t.energized&&"detector"===t.element.name).length>0&&(console.log(`Cell ${t.toString()} has 1+ active detectors as adjacent cell.`),t.active=!0)})}adjacentCells(t){const e=[];return t.adjacent.forEach(t=>{this.includes(t)&&e.push(this.get(t))}),e}get ascii(){let t="";for(let e=0;e<this.rows;e++){for(let r=0;r<this.cols;r++){const n=i.default.importCoord({y:e,x:r});t+=this.get(n).ascii}t+="\n"}return t}compress(){const t=this.unvoid,e=Math.min(...t.map(t=>t.coord.x)),r=Math.min(...t.map(t=>t.coord.y)),n=Math.max(...t.map(t=>t.coord.x)),i=Math.max(...t.map(t=>t.coord.y)),o=n-e,s=i-r;return console.log(`The most compressed version is: X:${o} Y: ${s}`),t.forEach(t=>{t.coord.x-=e,t.coord.y-=r}),t}importGrid(t){t.forEach(t=>{const e=s.default.importCell(t);this.set(e)})}exportGrid(){const t=[];return this.unvoid.forEach(e=>{t.push(e.exportCell())}),{cols:this.cols,rows:this.rows,cells:t}}get cells(){return this.matrix.reduce((t,e)=>t.concat(e),[])}get coords(){return this.cells.flatMap(t=>t.coord)}get void(){return this.filteredBy("void")}get unvoid(){return this.filteredByNot("void")}get activeCells(){return this.cells.filter(t=>t.active)}get lasers(){return this.filteredBy("laser")}get activeLasers(){return this.filteredBy("laser").filter(t=>!0===t.active)}get mirrors(){return this.filteredBy("mirror")}get beamsplitters(){return this.filteredBy("beamsplitter")}get coatedsplitters(){return this.filteredBy("coatedsplitter")}get polarsplitters(){return this.filteredBy("polarsplitter")}get reflectors(){return this.mirrors.concat(this.beamsplitters,this.coatedsplitters,this.polarsplitters)}get detectors(){return this.filteredBy("detector")}get energizedDetectors(){return this.detectors.filter(t=>t.energized)}get unenergizedDetectors(){return this.detectors.filter(t=>!t.energized)}get mines(){return this.filteredBy("mine")}get rocks(){return this.filteredBy("rock")}get omnidetectors(){return this.filteredBy("omnidetector")}get filters(){return this.filteredBy("filter")}get walls(){return this.filteredBy("wall")}get closedGates(){return this.filteredBy("gate").filter(t=>!t.active)}get openedGates(){return this.filteredBy("gate").filter(t=>t.active)}get absorbers(){return this.detectors.concat(this.mines,this.rocks,this.omnidetectors,this.filters,this.walls,this.closedGates)}get absorbPolarizers(){return this.filteredBy("absorb-polarizer")}get waveplates(){return this.filteredBy("waveplate")}get sugars(){return this.filteredBy("sugar")}get faradays(){return this.filteredBy("faraday")}get polarizers(){return this.absorbPolarizers.concat(this.waveplates,this.sugars,this.faradays)}get phaseincs(){return this.filteredBy("phaseinc")}get phasedecs(){return this.filteredBy("phasedec")}get phaseshifters(){return this.phasedecs.concat(this.phaseincs)}}},function(t,e,r){"use strict";var n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});const i=n(r(3)),o=n(r(15)),s=n(r(11)),a=r(12);class u{constructor(t,e,r=0,n=!1,i=!1,o=!1){this.coord=t,this.element=e,this.rotation=r,this.frozen=n,this.active=i,this.energized=o}get ascii(){return this.element.ascii[this.rotation/this.element.rotationAngle]}get rotationAscii(){return a.angleToSymbol(this.element.rotationAngle)}get foregroundColor(){return this.element.glyph.foregroundColor}get backgroundColor(){return this.element.glyph.backgroundColor}rotate(t=this.element.rotationAngle){if(this.frozen)console.log("This cell is frozen, you can't rotate it.");else{if(Math.abs(t)%this.element.rotationAngle!=0)throw new Error("Error in the supplied angle compared to the element rotation angle.");this.rotation=((this.rotation+t)%360+360)%360}}toggleFreeze(){this.frozen=!this.frozen}toggleActive(){this.active=!this.active}toggleEnergized(){this.energized=!this.energized}fire(){if(this.active)return new s.default(this.coord,this.rotation,1,0);throw Error("Laser is inactive...")}toString(){return`Cell @ ${this.coord.toString()} is ${this.frozen?"frozen":"unfrozen"} ${this.active?"active":"inactive"} and ${this.energized?"powered":"unpowered"} ${this.element.toString()} rotated ${this.rotation}°`}exportCell(){return{coord:this.coord.exportCoord(),element:this.element.name,rotation:this.rotation,frozen:this.frozen,active:this.active,energized:this.energized}}static importCell(t){const e=i.default.importCoord(t.coord),r=o.default.fromName(t.element);return new u(e,r,t.rotation,t.frozen,t.active,t.energized)}}e.default=u},function(t,e){var r,n,i=t.exports={};function o(){throw new Error("setTimeout has not been defined")}function s(){throw new Error("clearTimeout has not been defined")}function a(t){if(r===setTimeout)return setTimeout(t,0);if((r===o||!r)&&setTimeout)return r=setTimeout,setTimeout(t,0);try{return r(t,0)}catch(e){try{return r.call(null,t,0)}catch(e){return r.call(this,t,0)}}}!function(){try{r="function"==typeof setTimeout?setTimeout:o}catch(t){r=o}try{n="function"==typeof clearTimeout?clearTimeout:s}catch(t){n=s}}();var u,l=[],c=!1,h=-1;function f(){c&&u&&(c=!1,u.length?l=u.concat(l):h=-1,l.length&&d())}function d(){if(!c){var t=a(f);c=!0;for(var e=l.length;e;){for(u=l,l=[];++h<e;)u&&u[h].run();h=-1,e=l.length}u=null,c=!1,function(t){if(n===clearTimeout)return clearTimeout(t);if((n===s||!n)&&clearTimeout)return n=clearTimeout,clearTimeout(t);try{n(t)}catch(e){try{return n.call(null,t)}catch(e){return n.call(this,t)}}}(t)}}function p(t,e){this.fun=t,this.array=e}function _(){}i.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)e[r-1]=arguments[r];l.push(new p(t,e)),1!==l.length||c||a(d)},p.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={},i.on=_,i.addListener=_,i.once=_,i.off=_,i.removeListener=_,i.removeAllListeners=_,i.emit=_,i.prependListener=_,i.prependOnceListener=_,i.listeners=function(t){return[]},i.binding=function(t){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(t){throw new Error("process.chdir is not supported")},i.umask=function(){return 0}},function(t,e,r){"use strict";var n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});const i=n(r(3));class o{constructor(t,e,r=5,n="left",i=!0){this.coord=t,this.width=r,this.text=e,this.direction=n,this.active=i}toString(){return`{#HINT ${this.text} @ ${this.coord.toString()}}`}exportHint(){return{coord:this.coord.exportCoord(),text:this.text}}static importHint(t){return t.map(t=>{const e=i.default.importCoord(t.coord);return new o(e,t.text)})}}e.default=o},function(t,e,r){"use strict";var n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});const i=n(r(3));class o extends i.default{constructor(t,e,r=0){super(t.y,t.x),this.coord=t,this.threshold=e,this.value=r}get completed(){return this.value>=this.threshold}get percentage(){return this.value/this.threshold*100}toString(){return`{#Goal ${this.completed?"completed ":" "}@ ${this.coord.toString()} is ${this.value} / ${this.threshold}} (${this.percentage}%)`}exportGoal(){return{coord:this.coord.exportCoord(),threshold:this.threshold,value:this.value}}static importGoal(t){return t.map(t=>{const e=t.coord;return new o(i.default.importCoord(e),t.threshold)})}}e.default=o},function(t,e,r){"use strict";var n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});const i=r(18),o=r(12),s=n(r(3)),a=n(r(17)),u=n(r(35)),l=n(r(22)),c=n(r(36)),h=n(r(38)),f=n(r(11));e.default=class{constructor(t,e=32){this.tilesize=32,this.level=t,this.gameState=new u.default,this.frames=[],this.frames.push(new h.default(t)),this.frameNumber=0,this.tilesize=e;const r=document.createElement("img");r.src=`./tiles/tilemap_${this.tilesize}.png`;const n=a.default.processTileMap(this.tilesize);this.display=new i.Display({layout:"tile-gl",bg:"transparent",width:t.grid.cols,height:t.grid.rows,fontSize:20,tileWidth:this.tilesize,tileHeight:this.tilesize,tileSet:r,tileMap:n}),document.getElementById("grid").appendChild(this.display.getContainer()),this.initializeGame(),this.mainLoop()}get playerCell(){return this.player.cell}get playerCoord(){return this.player.coord}get grid(){return this.level.grid}get lastFrame(){return this.frames[this.frames.length-1]}get firstFrame(){return this.frames[0]}get currentFrame(){return this.frames[this.frameNumber]}get maxFrameNumber(){return this.frames.length}initializeGame(){this.display.clear(),!this.gameState.isGameOver()||this.gameState.doRestartGame()?console.log("Starting game..."):alert("Victory!"),this.gameState.reset(),this.player=new c.default(this.level,this.grid.center),this.scheduler=new i.Scheduler.Simple,this.scheduler.add(this.player,!0),o.displayText("title",this.level.id+" - "+this.level.name),o.displayText("description",this.level.description),this.drawGame()}async mainLoop(){let t;for(;t=this.scheduler.next();)await t.act(),await l.default.waitForInput(this.handleInput.bind(this))}drawGame(){this.display.clear(),this.grid.paths=this.grid.computePaths(),this.displayDebug(),this.drawFrame()}displayDebug(){o.displayText("cell",this.player.cell.toString()),o.displayText("player",`Turns: ${this.frameNumber}/${this.maxFrameNumber} | player: ${this.playerCoord.toString()}`),o.displayText("laser",`Active particles: ${f.default.manyToString(this.currentFrame.particles)}`)}drawFrame(t=this.currentFrame){console.log(`--- Displaying frame ${this.frameNumber} ---`),o.displayText("laser",`Active particles: ${f.default.manyToString(t.particles)}`),this.drawGrid()}drawGrid(){this.display.clear(),console.log("Rendering WebGL game grid...");for(let t=0;t<this.grid.rows;t++)for(let e=0;e<this.grid.cols;e++){const r=s.default.importCoord({y:t,x:e});this.drawCoord(r)}}drawCoord(t){const e=this.grid.get(t),r=[e.ascii],n=["white"],i=["purple"];this.player.coord.equal(t)&&r.push("@"),e.frozen&&i.push("turquoise"),e.energized&&i.push("red");const o=this.grid.coordIntensitySum(t);o>0&&i.push(`rgba(255, 0, 0, ${o/3})`),this.currentFrame.quantum.forEach(e=>{e&&e.coord.equal(t)&&e.isVertical&&e.opacity>.1&&r.push("P"),e&&e.coord.equal(t)&&!e.isVertical&&e.opacity>.1&&r.push("d")}),this.display.draw(t.x,t.y,r,n[n.length-1],i[i.length-1])}handleInput(t){const e=t.keyCode;if(e===i.KEYS.VK_SUBTRACT||e===i.KEYS.VK_ADD){switch(e){case i.KEYS.VK_SUBTRACT:this.frameNumber-=1;break;case i.KEYS.VK_ADD:this.frameNumber+=1}if(this.frameNumber<=0&&(this.frameNumber=0),this.frameNumber>=this.frames.length-1){this.frameNumber=this.frames.length-1;const t=this.lastFrame.next();this.frames.push(t)}}else this.player.handleInput(t);this.drawGame()}}},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.default=class{constructor(){this.reset()}reset(){this.achievedGoals=!1,this.noParticles=!1,this.notEnoughIntensity=!1}doStartNextRound(){return!this.noParticles}doRestartGame(){return this.noParticles||this.notEnoughIntensity}isGameOver(){return this.achievedGoals||this.noParticles||this.notEnoughIntensity}}},function(t,e,r){"use strict";var n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});const i=r(18),o=n(r(17)),s=n(r(22)),a=n(r(15)),u=r(37),l=r(16);e.default=class{constructor(t,e){this.glyph=new o.default("@",[0,0]),this.type=0,this.level=t,this.coord=e}get cell(){return this.level.grid.get(this.coord)}get element(){return this.cell.element}act(){return s.default.waitForInput(this.handleInput.bind(this))}cycleNext(t){const e=l.jsonGroups[t];if(!this.cell.frozen)if(t===this.element.group){const t=(e.indexOf(this.element.name)+1)%e.length;this.cell.element=a.default.fromName(e[t])}else this.cell.rotation=0,this.cell.element=a.default.fromName(e[0])}handleInput(t){let e=!1,r=this.coord;switch(t.keyCode){case i.KEYS.VK_Z:case i.KEYS.VK_UP:r=this.coord.top;break;case i.KEYS.VK_D:case i.KEYS.VK_RIGHT:r=this.coord.right;break;case i.KEYS.VK_S:case i.KEYS.VK_DOWN:r=this.coord.bottom;break;case i.KEYS.VK_Q:case i.KEYS.VK_LEFT:r=this.coord.left;break;case i.KEYS.VK_A:this.cell.rotate(-this.cell.element.rotationAngle);break;case i.KEYS.VK_E:case i.KEYS.VK_R:this.cell.rotate(this.cell.element.rotationAngle);break;case i.KEYS.VK_F:this.cell.toggleFreeze();break;case i.KEYS.VK_CONTROL:this.cell.toggleActive();break;case i.KEYS.VK_F1:const t=this.level.exportLevel(),e=new Blob([JSON.stringify(t)],{type:"text/plain;charset=utf-8"});u.saveAs(e,"level.json");break;case i.KEYS.VK_NUMPAD8:this.level.grid.moveAll("top");break;case i.KEYS.VK_NUMPAD2:this.level.grid.moveAll("bottom");break;case i.KEYS.VK_NUMPAD4:this.level.grid.moveAll("left");break;case i.KEYS.VK_NUMPAD6:this.level.grid.moveAll("right");break;case i.KEYS.VK_QUOTE:case i.KEYS.VK_0:this.cycleNext("Basic");break;case i.KEYS.VK_1:this.cycleNext("Emitter");break;case i.KEYS.VK_2:this.cycleNext("Direction");break;case i.KEYS.VK_3:this.cycleNext("Absorption");break;case i.KEYS.VK_4:this.cycleNext("Polarization");break;case i.KEYS.VK_5:this.cycleNext("Phase");break;case i.KEYS.VK_DELETE:this.cell.element=a.default.fromName("void"),this.cell.frozen=!1,this.cell.active=!1}return this.level.grid.includes(r)&&(this.coord=r,e=!0),e}toString(){return`Player ${this.coord.toString()}`}}},function(t,e,r){(function(r){var n,i,o;i=[],void 0===(o="function"==typeof(n=function(){"use strict";function e(t,e,r){var n=new XMLHttpRequest;n.open("GET",t),n.responseType="blob",n.onload=function(){s(n.response,e,r)},n.onerror=function(){console.error("could not download file")},n.send()}function n(t){var e=new XMLHttpRequest;e.open("HEAD",t,!1);try{e.send()}catch(t){}return 200<=e.status&&299>=e.status}function i(t){try{t.dispatchEvent(new MouseEvent("click"))}catch(r){var e=document.createEvent("MouseEvents");e.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),t.dispatchEvent(e)}}var o="object"==typeof window&&window.window===window?window:"object"==typeof self&&self.self===self?self:"object"==typeof r&&r.global===r?r:void 0,s=o.saveAs||("object"!=typeof window||window!==o?function(){}:"download"in HTMLAnchorElement.prototype?function(t,r,s){var a=o.URL||o.webkitURL,u=document.createElement("a");r=r||t.name||"download",u.download=r,u.rel="noopener","string"==typeof t?(u.href=t,u.origin===location.origin?i(u):n(u.href)?e(t,r,s):i(u,u.target="_blank")):(u.href=a.createObjectURL(t),setTimeout((function(){a.revokeObjectURL(u.href)}),4e4),setTimeout((function(){i(u)}),0))}:"msSaveOrOpenBlob"in navigator?function(t,r,o){if(r=r||t.name||"download","string"!=typeof t)navigator.msSaveOrOpenBlob(function(t,e){return void 0===e?e={autoBom:!1}:"object"!=typeof e&&(console.warn("Deprecated: Expected third argument to be a object"),e={autoBom:!e}),e.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(t.type)?new Blob(["\ufeff",t],{type:t.type}):t}(t,o),r);else if(n(t))e(t,r,o);else{var s=document.createElement("a");s.href=t,s.target="_blank",setTimeout((function(){i(s)}))}}:function(t,r,n,i){if((i=i||open("","_blank"))&&(i.document.title=i.document.body.innerText="downloading..."),"string"==typeof t)return e(t,r,n);var s="application/octet-stream"===t.type,a=/constructor/i.test(o.HTMLElement)||o.safari,u=/CriOS\/[\d]+/.test(navigator.userAgent);if((u||s&&a)&&"object"==typeof FileReader){var l=new FileReader;l.onloadend=function(){var t=l.result;t=u?t:t.replace(/^data:[^;]*;/,"data:attachment/file;"),i?i.location.href=t:location=t,i=null},l.readAsDataURL(t)}else{var c=o.URL||o.webkitURL,h=c.createObjectURL(t);i?i.location=h:location.href=h,i=null,setTimeout((function(){c.revokeObjectURL(h)}),4e4)}});o.saveAs=s.saveAs=s,t.exports=s})?n.apply(e,i):n)||(t.exports=o)}).call(this,r(20))},function(t,e,r){"use strict";var n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}},i=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e};Object.defineProperty(e,"__esModule",{value:!0});const o=n(r(11)),s=r(12),a=i(r(8)),u=n(r(3));class l{constructor(t,e=0,r=[],n=[],i=!1){this.level=t,this.step=e,this.particles=r,this.quantum=n,this.end=i,0===e&&this.activeLasers.forEach(e=>{e.active&&(this.particles.push(e.fire()),t.state.addPhotonIndicator(e.coord.x,e.coord.y,e.ascii,"V"),s.displayText("quantum",t.state.vector.toString()))})}get grid(){return this.level.grid}get cells(){return this.grid.cells}get lasers(){return this.grid.lasers}get activeLasers(){return this.grid.activeLasers}get goals(){return this.level.goals}get hints(){return this.level.hints}get completedGoals(){return this.level.goals.filter(t=>t.completed)}get victory(){return this.completedGoals.length===this.goals.length}nextQuantum(){this.level.state.propagatePhotons(),s.displayText("quantum",this.level.state.vector.toString());const t=this.grid.operatorList;return this.level.state.actOnSinglePhotons(t),console.log(this.level.state.vector.toString()),this.level.state.aggregatePolarization().map(t=>{const e=t.x,r=t.y,n=t.direction,i=a.Cx(t.are,t.aim),s=a.Cx(t.bre,t.bim),l=new u.default(r,e);return new o.default(l,n,0,0,i,s)})}next(){this.quantum=this.nextQuantum();const t=this.grid.detectors,e=this.grid.rocks,r=this.grid.mines,n=this.grid.absorbers,i=t.concat(e,r,n),s=this.grid.mirrors,a=this.grid.beamsplitters,u=this.grid.phaseincs,c=this.grid.phasedecs,h=u.concat(c);return this.particles.forEach(t=>{t.next(),this.grid.includes(t.coord)||(t.intensity=0),i.forEach(e=>{t.on(e)&&(t.intensity*=e.element.absorption)}),s.forEach(e=>{t.on(e)&&(t.direction=(2*e.rotation-t.direction+360)%360)}),a.forEach(e=>{if(t.on(e)){t.intensity/=2;const r=(2*e.rotation-t.direction+360)%360;this.particles.push(new o.default(t.coord,r,t.intensity))}}),h.forEach(e=>{t.on(e)&&(t.phase=(t.phase+e.element.phase)%1)}),this.goals.forEach(e=>{e.coord.equal(t.coord)&&(e.value+=100*t.intensity,t.intensity=0)})}),this.particles=this.particles.filter(t=>t.intensity>0),this.victory&&(this.level.completed=!0,this.end=!0),0===this.particles.length&&(this.level.completed=!1,this.end=!0),new l(this.level,this.step+1,this.particles,this.quantum,this.end)}toString(){let t=`\n--- ${this.victory?"VICTORY":"IN PROGRESS"} --- Step #${this.step} with ${this.particles.length} active particles.\n`;return t+="\nClassical: ",t+=o.default.manyToString(this.particles),t+="\nQuantum: ",t+=o.default.manyToString(this.quantum),t+="\n",t+=`${this.level.goals.length} active goals...\n`,this.level.goals.map(e=>{t+=`- ${e.toString()}\n`}),t}exportFrame(){return{level:this.level.exportLevel(),end:this.end,step:this.step,particles:this.particles.map(t=>t.exportParticle()),quantum:this.particles.map(t=>t.exportParticle())}}}e.default=l}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9RdWFudHVtV2Vhc2VsL3dlYnBhY2svYm9vdHN0cmFwIiwid2VicGFjazovL1F1YW50dW1XZWFzZWwvLi9ub2RlX21vZHVsZXMvcm90LWpzL2xpYi9ybmcuanMiLCJ3ZWJwYWNrOi8vUXVhbnR1bVdlYXNlbC8uL25vZGVfbW9kdWxlcy9yb3QtanMvbGliL3V0aWwuanMiLCJ3ZWJwYWNrOi8vUXVhbnR1bVdlYXNlbC8uL25vZGVfbW9kdWxlcy9yb3QtanMvbGliL2NvbG9yLmpzIiwid2VicGFjazovL1F1YW50dW1XZWFzZWwvLi9zcmMvQ29vcmQudHMiLCJ3ZWJwYWNrOi8vUXVhbnR1bVdlYXNlbC8uL25vZGVfbW9kdWxlcy9xdWFudHVtLXRlbnNvcnMvYnVpbGQvc3JjL0RpbWVuc2lvbi5qcyIsIndlYnBhY2s6Ly9RdWFudHVtV2Vhc2VsLy4vbm9kZV9tb2R1bGVzL3F1YW50dW0tdGVuc29ycy9idWlsZC9zcmMvQ29tcGxleC5qcyIsIndlYnBhY2s6Ly9RdWFudHVtV2Vhc2VsLy4vbm9kZV9tb2R1bGVzL3JvdC1qcy9saWIvZGlzcGxheS9iYWNrZW5kLmpzIiwid2VicGFjazovL1F1YW50dW1XZWFzZWwvLi9ub2RlX21vZHVsZXMvbG9kYXNoL2xvZGFzaC5qcyIsIndlYnBhY2s6Ly9RdWFudHVtV2Vhc2VsLy4vbm9kZV9tb2R1bGVzL3F1YW50dW0tdGVuc29ycy9idWlsZC9tYWluLmpzIiwid2VicGFjazovL1F1YW50dW1XZWFzZWwvLi9ub2RlX21vZHVsZXMvcXVhbnR1bS10ZW5zb3JzL2J1aWxkL3NyYy9Db25zdGFudHMuanMiLCJ3ZWJwYWNrOi8vUXVhbnR1bVdlYXNlbC8uL25vZGVfbW9kdWxlcy9xdWFudHVtLXRlbnNvcnMvYnVpbGQvc3JjL09wZXJhdG9yLmpzIiwid2VicGFjazovL1F1YW50dW1XZWFzZWwvLi9zcmMvUGFydGljbGUudHMiLCJ3ZWJwYWNrOi8vUXVhbnR1bVdlYXNlbC8uL3NyYy9IZWxwZXJzLnRzIiwid2VicGFjazovL1F1YW50dW1XZWFzZWwvLi9ub2RlX21vZHVsZXMvcXVhbnR1bS10ZW5zb3JzL2J1aWxkL3NyYy9WZWN0b3IuanMiLCJ3ZWJwYWNrOi8vUXVhbnR1bVdlYXNlbC8uL25vZGVfbW9kdWxlcy9xdWFudHVtLXRlbnNvcnMvYnVpbGQvc3JjL0VudHJ5LmpzIiwid2VicGFjazovL1F1YW50dW1XZWFzZWwvLi9zcmMvRWxlbWVudC50cyIsIndlYnBhY2s6Ly9RdWFudHVtV2Vhc2VsLy4vZGF0YS9lbGVtZW50cy50cyIsIndlYnBhY2s6Ly9RdWFudHVtV2Vhc2VsLy4vc3JjL0dseXBoLnRzIiwid2VicGFjazovL1F1YW50dW1XZWFzZWwvLi9ub2RlX21vZHVsZXMvcm90LWpzL2xpYi9kaXNwbGF5L2NhbnZhcy5qcyIsIndlYnBhY2s6Ly9RdWFudHVtV2Vhc2VsLy4vbm9kZV9tb2R1bGVzL3JvdC1qcy9saWIvZGlzcGxheS9oZXguanMiLCJ3ZWJwYWNrOi8vUXVhbnR1bVdlYXNlbC8uL25vZGVfbW9kdWxlcy9yb3QtanMvbGliL2Rpc3BsYXkvcmVjdC5qcyIsIndlYnBhY2s6Ly9RdWFudHVtV2Vhc2VsLy4vbm9kZV9tb2R1bGVzL3JvdC1qcy9saWIvZGlzcGxheS90aWxlLmpzIiwid2VicGFjazovL1F1YW50dW1XZWFzZWwvLi9ub2RlX21vZHVsZXMvcm90LWpzL2xpYi9kaXNwbGF5L3RpbGUtZ2wuanMiLCJ3ZWJwYWNrOi8vUXVhbnR1bVdlYXNlbC8uL25vZGVfbW9kdWxlcy9yb3QtanMvbGliL3RleHQuanMiLCJ3ZWJwYWNrOi8vUXVhbnR1bVdlYXNlbC8uL25vZGVfbW9kdWxlcy9yb3QtanMvbGliL2NvbnN0YW50cy5qcyIsIndlYnBhY2s6Ly9RdWFudHVtV2Vhc2VsLy4vbm9kZV9tb2R1bGVzL3JvdC1qcy9saWIvZGlzcGxheS9kaXNwbGF5LmpzIiwid2VicGFjazovL1F1YW50dW1XZWFzZWwvLi9ub2RlX21vZHVsZXMvcm90LWpzL2xpYi9zdHJpbmdnZW5lcmF0b3IuanMiLCJ3ZWJwYWNrOi8vUXVhbnR1bVdlYXNlbC8uL25vZGVfbW9kdWxlcy9yb3QtanMvbGliL2V2ZW50cXVldWUuanMiLCJ3ZWJwYWNrOi8vUXVhbnR1bVdlYXNlbC8uL25vZGVfbW9kdWxlcy9yb3QtanMvbGliL3NjaGVkdWxlci9zY2hlZHVsZXIuanMiLCJ3ZWJwYWNrOi8vUXVhbnR1bVdlYXNlbC8uL25vZGVfbW9kdWxlcy9yb3QtanMvbGliL3NjaGVkdWxlci9pbmRleC5qcyIsIndlYnBhY2s6Ly9RdWFudHVtV2Vhc2VsLy4vbm9kZV9tb2R1bGVzL3JvdC1qcy9saWIvc2NoZWR1bGVyL3NpbXBsZS5qcyIsIndlYnBhY2s6Ly9RdWFudHVtV2Vhc2VsLy4vbm9kZV9tb2R1bGVzL3JvdC1qcy9saWIvc2NoZWR1bGVyL3NwZWVkLmpzIiwid2VicGFjazovL1F1YW50dW1XZWFzZWwvLi9ub2RlX21vZHVsZXMvcm90LWpzL2xpYi9zY2hlZHVsZXIvYWN0aW9uLmpzIiwid2VicGFjazovL1F1YW50dW1XZWFzZWwvLi9ub2RlX21vZHVsZXMvcm90LWpzL2xpYi9mb3YvZm92LmpzIiwid2VicGFjazovL1F1YW50dW1XZWFzZWwvLi9ub2RlX21vZHVsZXMvcm90LWpzL2xpYi9mb3YvcmVjdXJzaXZlLXNoYWRvd2Nhc3RpbmcuanMiLCJ3ZWJwYWNrOi8vUXVhbnR1bVdlYXNlbC8uL25vZGVfbW9kdWxlcy9yb3QtanMvbGliL2Zvdi9pbmRleC5qcyIsIndlYnBhY2s6Ly9RdWFudHVtV2Vhc2VsLy4vbm9kZV9tb2R1bGVzL3JvdC1qcy9saWIvZm92L2Rpc2NyZXRlLXNoYWRvd2Nhc3RpbmcuanMiLCJ3ZWJwYWNrOi8vUXVhbnR1bVdlYXNlbC8uL25vZGVfbW9kdWxlcy9yb3QtanMvbGliL2Zvdi9wcmVjaXNlLXNoYWRvd2Nhc3RpbmcuanMiLCJ3ZWJwYWNrOi8vUXVhbnR1bVdlYXNlbC8uL25vZGVfbW9kdWxlcy9yb3QtanMvbGliL21hcC9tYXAuanMiLCJ3ZWJwYWNrOi8vUXVhbnR1bVdlYXNlbC8uL25vZGVfbW9kdWxlcy9yb3QtanMvbGliL21hcC9kdW5nZW9uLmpzIiwid2VicGFjazovL1F1YW50dW1XZWFzZWwvLi9ub2RlX21vZHVsZXMvcm90LWpzL2xpYi9tYXAvZmVhdHVyZXMuanMiLCJ3ZWJwYWNrOi8vUXVhbnR1bVdlYXNlbC8uL25vZGVfbW9kdWxlcy9yb3QtanMvbGliL21hcC9kaWdnZXIuanMiLCJ3ZWJwYWNrOi8vUXVhbnR1bVdlYXNlbC8uL25vZGVfbW9kdWxlcy9yb3QtanMvbGliL21hcC9lbGxlcm1hemUuanMiLCJ3ZWJwYWNrOi8vUXVhbnR1bVdlYXNlbC8uL25vZGVfbW9kdWxlcy9yb3QtanMvbGliL21hcC9pbmRleC5qcyIsIndlYnBhY2s6Ly9RdWFudHVtV2Vhc2VsLy4vbm9kZV9tb2R1bGVzL3JvdC1qcy9saWIvbWFwL2FyZW5hLmpzIiwid2VicGFjazovL1F1YW50dW1XZWFzZWwvLi9ub2RlX21vZHVsZXMvcm90LWpzL2xpYi9tYXAvdW5pZm9ybS5qcyIsIndlYnBhY2s6Ly9RdWFudHVtV2Vhc2VsLy4vbm9kZV9tb2R1bGVzL3JvdC1qcy9saWIvbWFwL2NlbGx1bGFyLmpzIiwid2VicGFjazovL1F1YW50dW1XZWFzZWwvLi9ub2RlX21vZHVsZXMvcm90LWpzL2xpYi9tYXAvZGl2aWRlZG1hemUuanMiLCJ3ZWJwYWNrOi8vUXVhbnR1bVdlYXNlbC8uL25vZGVfbW9kdWxlcy9yb3QtanMvbGliL21hcC9pY2V5bWF6ZS5qcyIsIndlYnBhY2s6Ly9RdWFudHVtV2Vhc2VsLy4vbm9kZV9tb2R1bGVzL3JvdC1qcy9saWIvbWFwL3JvZ3VlLmpzIiwid2VicGFjazovL1F1YW50dW1XZWFzZWwvLi9ub2RlX21vZHVsZXMvcm90LWpzL2xpYi9ub2lzZS9ub2lzZS5qcyIsIndlYnBhY2s6Ly9RdWFudHVtV2Vhc2VsLy4vbm9kZV9tb2R1bGVzL3JvdC1qcy9saWIvbm9pc2Uvc2ltcGxleC5qcyIsIndlYnBhY2s6Ly9RdWFudHVtV2Vhc2VsLy4vbm9kZV9tb2R1bGVzL3JvdC1qcy9saWIvbm9pc2UvaW5kZXguanMiLCJ3ZWJwYWNrOi8vUXVhbnR1bVdlYXNlbC8uL25vZGVfbW9kdWxlcy9yb3QtanMvbGliL3BhdGgvcGF0aC5qcyIsIndlYnBhY2s6Ly9RdWFudHVtV2Vhc2VsLy4vbm9kZV9tb2R1bGVzL3JvdC1qcy9saWIvcGF0aC9pbmRleC5qcyIsIndlYnBhY2s6Ly9RdWFudHVtV2Vhc2VsLy4vbm9kZV9tb2R1bGVzL3JvdC1qcy9saWIvcGF0aC9kaWprc3RyYS5qcyIsIndlYnBhY2s6Ly9RdWFudHVtV2Vhc2VsLy4vbm9kZV9tb2R1bGVzL3JvdC1qcy9saWIvcGF0aC9hc3Rhci5qcyIsIndlYnBhY2s6Ly9RdWFudHVtV2Vhc2VsLy4vbm9kZV9tb2R1bGVzL3JvdC1qcy9saWIvZW5naW5lLmpzIiwid2VicGFjazovL1F1YW50dW1XZWFzZWwvLi9ub2RlX21vZHVsZXMvcm90LWpzL2xpYi9saWdodGluZy5qcyIsIndlYnBhY2s6Ly9RdWFudHVtV2Vhc2VsLy4vbm9kZV9tb2R1bGVzL3JvdC1qcy9saWIvaW5kZXguanMiLCJ3ZWJwYWNrOi8vUXVhbnR1bVdlYXNlbC8uL25vZGVfbW9kdWxlcy9yb3QtanMvbGliL2Rpc3BsYXkvdGVybS5qcyIsIndlYnBhY2s6Ly9RdWFudHVtV2Vhc2VsLyh3ZWJwYWNrKS9idWlsZGluL2dsb2JhbC5qcyIsIndlYnBhY2s6Ly9RdWFudHVtV2Vhc2VsLy4vbm9kZV9tb2R1bGVzL3F1YW50dW0tdGVuc29ycy9idWlsZC9zcmMvT3BzLmpzIiwid2VicGFjazovL1F1YW50dW1XZWFzZWwvLi9zcmMvSW5wdXRVdGlsaXR5LnRzIiwid2VicGFjazovL1F1YW50dW1XZWFzZWwvLi9zcmMvYXBwLnRzIiwid2VicGFjazovL1F1YW50dW1XZWFzZWwvLi9zcmMvTGV2ZWwudHMiLCJ3ZWJwYWNrOi8vUXVhbnR1bVdlYXNlbC8od2VicGFjaykvYnVpbGRpbi9tb2R1bGUuanMiLCJ3ZWJwYWNrOi8vUXVhbnR1bVdlYXNlbC8uL25vZGVfbW9kdWxlcy9xdWFudHVtLXRlbnNvcnMvYnVpbGQvc3JjL1Bob3RvbnMuanMiLCJ3ZWJwYWNrOi8vUXVhbnR1bVdlYXNlbC8uL25vZGVfbW9kdWxlcy9xdWFudHVtLXRlbnNvcnMvYnVpbGQvc3JjL0VsZW1lbnRzLmpzIiwid2VicGFjazovL1F1YW50dW1XZWFzZWwvLi9zcmMvR3JpZC50cyIsIndlYnBhY2s6Ly9RdWFudHVtV2Vhc2VsLy4vc3JjL0NlbGwudHMiLCJ3ZWJwYWNrOi8vUXVhbnR1bVdlYXNlbC8uL25vZGVfbW9kdWxlcy9wcm9jZXNzL2Jyb3dzZXIuanMiLCJ3ZWJwYWNrOi8vUXVhbnR1bVdlYXNlbC8uL3NyYy9IaW50LnRzIiwid2VicGFjazovL1F1YW50dW1XZWFzZWwvLi9zcmMvR29hbC50cyIsIndlYnBhY2s6Ly9RdWFudHVtV2Vhc2VsLy4vc3JjL0dhbWUudHMiLCJ3ZWJwYWNrOi8vUXVhbnR1bVdlYXNlbC8uL3NyYy9HYW1lU3RhdGUudHMiLCJ3ZWJwYWNrOi8vUXVhbnR1bVdlYXNlbC8uL3NyYy9QbGF5ZXIudHMiLCJ3ZWJwYWNrOi8vUXVhbnR1bVdlYXNlbC8uL25vZGVfbW9kdWxlcy9maWxlLXNhdmVyL2Rpc3QvRmlsZVNhdmVyLm1pbi5qcyIsIndlYnBhY2s6Ly9RdWFudHVtV2Vhc2VsLy4vc3JjL0ZyYW1lLnRzIl0sIm5hbWVzIjpbImluc3RhbGxlZE1vZHVsZXMiLCJfX3dlYnBhY2tfcmVxdWlyZV9fIiwibW9kdWxlSWQiLCJleHBvcnRzIiwibW9kdWxlIiwiaSIsImwiLCJtb2R1bGVzIiwiY2FsbCIsIm0iLCJjIiwiZCIsIm5hbWUiLCJnZXR0ZXIiLCJvIiwiT2JqZWN0IiwiZGVmaW5lUHJvcGVydHkiLCJlbnVtZXJhYmxlIiwiZ2V0IiwiciIsIlN5bWJvbCIsInRvU3RyaW5nVGFnIiwidmFsdWUiLCJ0IiwibW9kZSIsIl9fZXNNb2R1bGUiLCJucyIsImNyZWF0ZSIsImtleSIsImJpbmQiLCJuIiwib2JqZWN0IiwicHJvcGVydHkiLCJwcm90b3R5cGUiLCJoYXNPd25Qcm9wZXJ0eSIsInAiLCJzIiwiRlJBQyIsIlJORyIsInRoaXMiLCJfc2VlZCIsIl9zMCIsIl9zMSIsIl9zMiIsIl9jIiwic2VlZCIsImxvd2VyQm91bmQiLCJ1cHBlckJvdW5kIiwibWF4IiwiTWF0aCIsIm1pbiIsImZsb29yIiwiZ2V0VW5pZm9ybSIsIm1lYW4iLCJzdGRkZXYiLCJ1IiwidiIsInNxcnQiLCJsb2ciLCJhcnJheSIsImxlbmd0aCIsInJlc3VsdCIsImNsb25lIiwic2xpY2UiLCJpbmRleCIsImluZGV4T2YiLCJnZXRJdGVtIiwicHVzaCIsInNwbGljZSIsImRhdGEiLCJ0b3RhbCIsImlkIiwicmFuZG9tIiwicGFydCIsInN0YXRlIiwic2V0U3RhdGUiLCJnZXRTdGF0ZSIsIm1vZCIsIngiLCJjbGFtcCIsInZhbCIsImNhcGl0YWxpemUiLCJzdHJpbmciLCJjaGFyQXQiLCJ0b1VwcGVyQ2FzZSIsInN1YnN0cmluZyIsImZvcm1hdCIsInRlbXBsYXRlIiwiYXJncyIsIm1hcCIsInJlcGxhY2UiLCJtYXRjaCIsImdyb3VwMSIsImdyb3VwMiIsIm9iaiIsInBhcnRzIiwic3BsaXQiLCJzaGlmdCIsIm1ldGhvZCIsInRvTG93ZXJDYXNlIiwicmVwbGFjZWQiLCJhcHBseSIsImZpcnN0IiwiZnJvbVN0cmluZyIsInN0ciIsImNhY2hlZCIsIkNBQ0hFIiwidmFsdWVzIiwicGFyc2VJbnQiLCJhZGQiLCJjb2xvcjEiLCJjb2xvcnMiLCJqIiwiYWRkXyIsIm11bHRpcGx5Iiwicm91bmQiLCJtdWx0aXBseV8iLCJpbnRlcnBvbGF0ZSIsImNvbG9yMiIsImZhY3RvciIsImxlcnAiLCJpbnRlcnBvbGF0ZUhTTCIsImhzbDEiLCJyZ2IyaHNsIiwiaHNsMiIsImhzbDJyZ2IiLCJsZXJwSFNMIiwicmFuZG9taXplIiwiY29sb3IiLCJkaWZmIiwiQXJyYXkiLCJnZXROb3JtYWwiLCJnIiwiYiIsImgiLCJodWUycmdiIiwicSIsInRvUkdCIiwiam9pbiIsInRvSGV4IiwidG9TdHJpbmciLCJwYWRTdGFydCIsIkNvb3JkIiwieSIsInJvd3MiLCJzcGFjaW5nIiwiaW1wb3J0Q29vcmQiLCJ0b3AiLCJyaWdodCIsImJvdHRvbSIsImxlZnQiLCJjb29yZCIsImlzSW5jbHVkZWRJbiIsImFkamFjZW50IiwiY29vcmRzIiwiZmlsdGVyIiwiZXF1YWwiLCJqc29uIiwiY29scyIsIl9faW1wb3J0U3RhciIsImsiLCJfIiwiRGltZW5zaW9uIiwic2l6ZSIsImNvb3JkTmFtZXMiLCJFcnJvciIsInBvbGFyaXphdGlvbiIsImRpcmVjdGlvbiIsInNwaW4iLCJwb3NpdGlvbiIsInJhbmdlIiwiY29uZmlndXJhYmxlIiwiaXNFcXVhbCIsImRpbTIiLCJjb29yZE5hbWVUb0luZGV4IiwiY29vcmROYW1lIiwiaWR4IiwiY29uY2F0RGltTmFtZXMiLCJkaW1zIiwibmFtZXMiLCJmb3JFYWNoIiwiZGltIiwiY29vcmRTdHJpbmciLCJjaGVja0RpbWVuc2lvbnMiLCJkaW1zMSIsImRpbXMyIiwiY29uc29sZSIsImVycm9yIiwic3RyaW5nVG9Db29yZEluZGljZXMiLCJkaW1lbnNpb25zIiwiZGVmYXVsdCIsIkNvbnN0YW50c18xIiwiQ29tcGxleCIsInJlIiwiaW0iLCJhYnMiLCJhcmciLCJUQVUiLCJhYnMyIiwicG93IiwiYXRhbjIiLCJ6MiIsInN1YiIsIm11bCIsImNvbmoiLCJub3JtYWxpemUiLCJpc1plcm8iLCJjb21wbGV4Rm9ybWF0IiwicHJlY2lzaW9uIiwidG9GaXhlZCIsInBoaSIsInBoaVRhdSIsImZyb21Qb2xhciIsImNvcyIsInNpbiIsIkN4IiwiQmFja2VuZCIsIm9wdGlvbnMiLCJfb3B0aW9ucyIsInVuZGVmaW5lZCIsIkxBUkdFX0FSUkFZX1NJWkUiLCJDT1JFX0VSUk9SX1RFWFQiLCJGVU5DX0VSUk9SX1RFWFQiLCJIQVNIX1VOREVGSU5FRCIsIk1BWF9NRU1PSVpFX1NJWkUiLCJQTEFDRUhPTERFUiIsIkNMT05FX0RFRVBfRkxBRyIsIkNMT05FX0ZMQVRfRkxBRyIsIkNMT05FX1NZTUJPTFNfRkxBRyIsIkNPTVBBUkVfUEFSVElBTF9GTEFHIiwiQ09NUEFSRV9VTk9SREVSRURfRkxBRyIsIldSQVBfQklORF9GTEFHIiwiV1JBUF9CSU5EX0tFWV9GTEFHIiwiV1JBUF9DVVJSWV9CT1VORF9GTEFHIiwiV1JBUF9DVVJSWV9GTEFHIiwiV1JBUF9DVVJSWV9SSUdIVF9GTEFHIiwiV1JBUF9QQVJUSUFMX0ZMQUciLCJXUkFQX1BBUlRJQUxfUklHSFRfRkxBRyIsIldSQVBfQVJZX0ZMQUciLCJXUkFQX1JFQVJHX0ZMQUciLCJXUkFQX0ZMSVBfRkxBRyIsIkRFRkFVTFRfVFJVTkNfTEVOR1RIIiwiREVGQVVMVF9UUlVOQ19PTUlTU0lPTiIsIkhPVF9DT1VOVCIsIkhPVF9TUEFOIiwiTEFaWV9GSUxURVJfRkxBRyIsIkxBWllfTUFQX0ZMQUciLCJJTkZJTklUWSIsIk1BWF9TQUZFX0lOVEVHRVIiLCJNQVhfSU5URUdFUiIsIk5BTiIsIk1BWF9BUlJBWV9MRU5HVEgiLCJNQVhfQVJSQVlfSU5ERVgiLCJIQUxGX01BWF9BUlJBWV9MRU5HVEgiLCJ3cmFwRmxhZ3MiLCJhcmdzVGFnIiwiYXJyYXlUYWciLCJhc3luY1RhZyIsImJvb2xUYWciLCJkYXRlVGFnIiwiZG9tRXhjVGFnIiwiZXJyb3JUYWciLCJmdW5jVGFnIiwiZ2VuVGFnIiwibWFwVGFnIiwibnVtYmVyVGFnIiwibnVsbFRhZyIsIm9iamVjdFRhZyIsInByb3h5VGFnIiwicmVnZXhwVGFnIiwic2V0VGFnIiwic3RyaW5nVGFnIiwic3ltYm9sVGFnIiwidW5kZWZpbmVkVGFnIiwid2Vha01hcFRhZyIsIndlYWtTZXRUYWciLCJhcnJheUJ1ZmZlclRhZyIsImRhdGFWaWV3VGFnIiwiZmxvYXQzMlRhZyIsImZsb2F0NjRUYWciLCJpbnQ4VGFnIiwiaW50MTZUYWciLCJpbnQzMlRhZyIsInVpbnQ4VGFnIiwidWludDhDbGFtcGVkVGFnIiwidWludDE2VGFnIiwidWludDMyVGFnIiwicmVFbXB0eVN0cmluZ0xlYWRpbmciLCJyZUVtcHR5U3RyaW5nTWlkZGxlIiwicmVFbXB0eVN0cmluZ1RyYWlsaW5nIiwicmVFc2NhcGVkSHRtbCIsInJlVW5lc2NhcGVkSHRtbCIsInJlSGFzRXNjYXBlZEh0bWwiLCJSZWdFeHAiLCJzb3VyY2UiLCJyZUhhc1VuZXNjYXBlZEh0bWwiLCJyZUVzY2FwZSIsInJlRXZhbHVhdGUiLCJyZUludGVycG9sYXRlIiwicmVJc0RlZXBQcm9wIiwicmVJc1BsYWluUHJvcCIsInJlUHJvcE5hbWUiLCJyZVJlZ0V4cENoYXIiLCJyZUhhc1JlZ0V4cENoYXIiLCJyZVRyaW0iLCJyZVRyaW1TdGFydCIsInJlVHJpbUVuZCIsInJlV3JhcENvbW1lbnQiLCJyZVdyYXBEZXRhaWxzIiwicmVTcGxpdERldGFpbHMiLCJyZUFzY2lpV29yZCIsInJlRXNjYXBlQ2hhciIsInJlRXNUZW1wbGF0ZSIsInJlRmxhZ3MiLCJyZUlzQmFkSGV4IiwicmVJc0JpbmFyeSIsInJlSXNIb3N0Q3RvciIsInJlSXNPY3RhbCIsInJlSXNVaW50IiwicmVMYXRpbiIsInJlTm9NYXRjaCIsInJlVW5lc2NhcGVkU3RyaW5nIiwicnNDb21ib1JhbmdlIiwicnNDb21ib01hcmtzUmFuZ2UiLCJyc0JyZWFrUmFuZ2UiLCJyc01hdGhPcFJhbmdlIiwicnNBc3RyYWwiLCJyc0JyZWFrIiwicnNDb21ibyIsInJzRGlnaXRzIiwicnNEaW5nYmF0IiwicnNMb3dlciIsInJzTWlzYyIsInJzRml0eiIsInJzTm9uQXN0cmFsIiwicnNSZWdpb25hbCIsInJzU3VyclBhaXIiLCJyc1VwcGVyIiwicnNNaXNjTG93ZXIiLCJyc01pc2NVcHBlciIsInJlT3B0TW9kIiwicnNTZXEiLCJyc0Vtb2ppIiwicnNTeW1ib2wiLCJyZUFwb3MiLCJyZUNvbWJvTWFyayIsInJlVW5pY29kZSIsInJlVW5pY29kZVdvcmQiLCJyZUhhc1VuaWNvZGUiLCJyZUhhc1VuaWNvZGVXb3JkIiwiY29udGV4dFByb3BzIiwidGVtcGxhdGVDb3VudGVyIiwidHlwZWRBcnJheVRhZ3MiLCJjbG9uZWFibGVUYWdzIiwic3RyaW5nRXNjYXBlcyIsImZyZWVQYXJzZUZsb2F0IiwicGFyc2VGbG9hdCIsImZyZWVQYXJzZUludCIsImZyZWVHbG9iYWwiLCJnbG9iYWwiLCJmcmVlU2VsZiIsInNlbGYiLCJyb290IiwiRnVuY3Rpb24iLCJmcmVlRXhwb3J0cyIsIm5vZGVUeXBlIiwiZnJlZU1vZHVsZSIsIm1vZHVsZUV4cG9ydHMiLCJmcmVlUHJvY2VzcyIsInByb2Nlc3MiLCJub2RlVXRpbCIsInR5cGVzIiwicmVxdWlyZSIsImJpbmRpbmciLCJlIiwibm9kZUlzQXJyYXlCdWZmZXIiLCJpc0FycmF5QnVmZmVyIiwibm9kZUlzRGF0ZSIsImlzRGF0ZSIsIm5vZGVJc01hcCIsImlzTWFwIiwibm9kZUlzUmVnRXhwIiwiaXNSZWdFeHAiLCJub2RlSXNTZXQiLCJpc1NldCIsIm5vZGVJc1R5cGVkQXJyYXkiLCJpc1R5cGVkQXJyYXkiLCJmdW5jIiwidGhpc0FyZyIsImFycmF5QWdncmVnYXRvciIsInNldHRlciIsIml0ZXJhdGVlIiwiYWNjdW11bGF0b3IiLCJhcnJheUVhY2giLCJhcnJheUVhY2hSaWdodCIsImFycmF5RXZlcnkiLCJwcmVkaWNhdGUiLCJhcnJheUZpbHRlciIsInJlc0luZGV4IiwiYXJyYXlJbmNsdWRlcyIsImJhc2VJbmRleE9mIiwiYXJyYXlJbmNsdWRlc1dpdGgiLCJjb21wYXJhdG9yIiwiYXJyYXlNYXAiLCJhcnJheVB1c2giLCJvZmZzZXQiLCJhcnJheVJlZHVjZSIsImluaXRBY2N1bSIsImFycmF5UmVkdWNlUmlnaHQiLCJhcnJheVNvbWUiLCJhc2NpaVNpemUiLCJiYXNlUHJvcGVydHkiLCJiYXNlRmluZEtleSIsImNvbGxlY3Rpb24iLCJlYWNoRnVuYyIsImJhc2VGaW5kSW5kZXgiLCJmcm9tSW5kZXgiLCJmcm9tUmlnaHQiLCJzdHJpY3RJbmRleE9mIiwiYmFzZUlzTmFOIiwiYmFzZUluZGV4T2ZXaXRoIiwiYmFzZU1lYW4iLCJiYXNlU3VtIiwiYmFzZVByb3BlcnR5T2YiLCJiYXNlUmVkdWNlIiwiY3VycmVudCIsImJhc2VUaW1lcyIsImJhc2VVbmFyeSIsImJhc2VWYWx1ZXMiLCJwcm9wcyIsImNhY2hlSGFzIiwiY2FjaGUiLCJoYXMiLCJjaGFyc1N0YXJ0SW5kZXgiLCJzdHJTeW1ib2xzIiwiY2hyU3ltYm9scyIsImNoYXJzRW5kSW5kZXgiLCJkZWJ1cnJMZXR0ZXIiLCJlc2NhcGVIdG1sQ2hhciIsImVzY2FwZVN0cmluZ0NoYXIiLCJjaHIiLCJoYXNVbmljb2RlIiwidGVzdCIsIm1hcFRvQXJyYXkiLCJvdmVyQXJnIiwidHJhbnNmb3JtIiwicmVwbGFjZUhvbGRlcnMiLCJwbGFjZWhvbGRlciIsInNldFRvQXJyYXkiLCJzZXQiLCJzZXRUb1BhaXJzIiwic3RyaW5nU2l6ZSIsImxhc3RJbmRleCIsInVuaWNvZGVTaXplIiwic3RyaW5nVG9BcnJheSIsInVuaWNvZGVUb0FycmF5IiwiYXNjaWlUb0FycmF5IiwidW5lc2NhcGVIdG1sQ2hhciIsInJ1bkluQ29udGV4dCIsImNvbnRleHQiLCJ1aWQiLCJkZWZhdWx0cyIsInBpY2siLCJEYXRlIiwiU3RyaW5nIiwiVHlwZUVycm9yIiwiYXJyYXlQcm90byIsImZ1bmNQcm90byIsIm9iamVjdFByb3RvIiwiY29yZUpzRGF0YSIsImZ1bmNUb1N0cmluZyIsImlkQ291bnRlciIsIm1hc2tTcmNLZXkiLCJleGVjIiwia2V5cyIsIklFX1BST1RPIiwibmF0aXZlT2JqZWN0VG9TdHJpbmciLCJvYmplY3RDdG9yU3RyaW5nIiwib2xkRGFzaCIsInJlSXNOYXRpdmUiLCJCdWZmZXIiLCJVaW50OEFycmF5IiwiYWxsb2NVbnNhZmUiLCJnZXRQcm90b3R5cGUiLCJnZXRQcm90b3R5cGVPZiIsIm9iamVjdENyZWF0ZSIsInByb3BlcnR5SXNFbnVtZXJhYmxlIiwic3ByZWFkYWJsZVN5bWJvbCIsImlzQ29uY2F0U3ByZWFkYWJsZSIsInN5bUl0ZXJhdG9yIiwiaXRlcmF0b3IiLCJzeW1Ub1N0cmluZ1RhZyIsImdldE5hdGl2ZSIsImN0eENsZWFyVGltZW91dCIsImNsZWFyVGltZW91dCIsImN0eE5vdyIsIm5vdyIsImN0eFNldFRpbWVvdXQiLCJzZXRUaW1lb3V0IiwibmF0aXZlQ2VpbCIsImNlaWwiLCJuYXRpdmVGbG9vciIsIm5hdGl2ZUdldFN5bWJvbHMiLCJnZXRPd25Qcm9wZXJ0eVN5bWJvbHMiLCJuYXRpdmVJc0J1ZmZlciIsImlzQnVmZmVyIiwibmF0aXZlSXNGaW5pdGUiLCJpc0Zpbml0ZSIsIm5hdGl2ZUpvaW4iLCJuYXRpdmVLZXlzIiwibmF0aXZlTWF4IiwibmF0aXZlTWluIiwibmF0aXZlTm93IiwibmF0aXZlUGFyc2VJbnQiLCJuYXRpdmVSYW5kb20iLCJuYXRpdmVSZXZlcnNlIiwicmV2ZXJzZSIsIkRhdGFWaWV3IiwiTWFwIiwiUHJvbWlzZSIsIlNldCIsIldlYWtNYXAiLCJuYXRpdmVDcmVhdGUiLCJtZXRhTWFwIiwicmVhbE5hbWVzIiwiZGF0YVZpZXdDdG9yU3RyaW5nIiwidG9Tb3VyY2UiLCJtYXBDdG9yU3RyaW5nIiwicHJvbWlzZUN0b3JTdHJpbmciLCJzZXRDdG9yU3RyaW5nIiwid2Vha01hcEN0b3JTdHJpbmciLCJzeW1ib2xQcm90byIsInN5bWJvbFZhbHVlT2YiLCJ2YWx1ZU9mIiwic3ltYm9sVG9TdHJpbmciLCJsb2Rhc2giLCJpc09iamVjdExpa2UiLCJpc0FycmF5IiwiTGF6eVdyYXBwZXIiLCJMb2Rhc2hXcmFwcGVyIiwid3JhcHBlckNsb25lIiwiYmFzZUNyZWF0ZSIsInByb3RvIiwiaXNPYmplY3QiLCJiYXNlTG9kYXNoIiwiY2hhaW5BbGwiLCJfX3dyYXBwZWRfXyIsIl9fYWN0aW9uc19fIiwiX19jaGFpbl9fIiwiX19pbmRleF9fIiwiX192YWx1ZXNfXyIsIl9fZGlyX18iLCJfX2ZpbHRlcmVkX18iLCJfX2l0ZXJhdGVlc19fIiwiX190YWtlQ291bnRfXyIsIl9fdmlld3NfXyIsIkhhc2giLCJlbnRyaWVzIiwiY2xlYXIiLCJlbnRyeSIsIkxpc3RDYWNoZSIsIk1hcENhY2hlIiwiU2V0Q2FjaGUiLCJfX2RhdGFfXyIsIlN0YWNrIiwiYXJyYXlMaWtlS2V5cyIsImluaGVyaXRlZCIsImlzQXJyIiwiaXNBcmciLCJpc0FyZ3VtZW50cyIsImlzQnVmZiIsImlzVHlwZSIsInNraXBJbmRleGVzIiwiaXNJbmRleCIsImFycmF5U2FtcGxlIiwiYmFzZVJhbmRvbSIsImFycmF5U2FtcGxlU2l6ZSIsInNodWZmbGVTZWxmIiwiY29weUFycmF5IiwiYmFzZUNsYW1wIiwiYXJyYXlTaHVmZmxlIiwiYXNzaWduTWVyZ2VWYWx1ZSIsImVxIiwiYmFzZUFzc2lnblZhbHVlIiwiYXNzaWduVmFsdWUiLCJvYmpWYWx1ZSIsImFzc29jSW5kZXhPZiIsImJhc2VBZ2dyZWdhdG9yIiwiYmFzZUVhY2giLCJiYXNlQXNzaWduIiwiY29weU9iamVjdCIsImJhc2VBdCIsInBhdGhzIiwic2tpcCIsIm51bWJlciIsImxvd2VyIiwidXBwZXIiLCJiYXNlQ2xvbmUiLCJiaXRtYXNrIiwiY3VzdG9taXplciIsInN0YWNrIiwiaXNEZWVwIiwiaXNGbGF0IiwiaXNGdWxsIiwiY29uc3RydWN0b3IiLCJpbnB1dCIsImluaXRDbG9uZUFycmF5IiwidGFnIiwiZ2V0VGFnIiwiaXNGdW5jIiwiY2xvbmVCdWZmZXIiLCJpbml0Q2xvbmVPYmplY3QiLCJnZXRTeW1ib2xzSW4iLCJjb3B5U3ltYm9sc0luIiwia2V5c0luIiwiYmFzZUFzc2lnbkluIiwiZ2V0U3ltYm9scyIsImNvcHlTeW1ib2xzIiwiQ3RvciIsImNsb25lQXJyYXlCdWZmZXIiLCJkYXRhVmlldyIsImJ1ZmZlciIsImJ5dGVPZmZzZXQiLCJieXRlTGVuZ3RoIiwiY2xvbmVEYXRhVmlldyIsImNsb25lVHlwZWRBcnJheSIsInJlZ2V4cCIsImNsb25lUmVnRXhwIiwic3ltYm9sIiwiaW5pdENsb25lQnlUYWciLCJzdGFja2VkIiwic3ViVmFsdWUiLCJnZXRBbGxLZXlzSW4iLCJnZXRBbGxLZXlzIiwiYmFzZUNvbmZvcm1zVG8iLCJiYXNlRGVsYXkiLCJ3YWl0IiwiYmFzZURpZmZlcmVuY2UiLCJpbmNsdWRlcyIsImlzQ29tbW9uIiwidmFsdWVzTGVuZ3RoIiwib3V0ZXIiLCJjb21wdXRlZCIsInZhbHVlc0luZGV4IiwidGVtcGxhdGVTZXR0aW5ncyIsInBvcCIsImdldE1hcERhdGEiLCJwYWlycyIsImNyZWF0ZUJhc2VFYWNoIiwiYmFzZUZvck93biIsImJhc2VFYWNoUmlnaHQiLCJiYXNlRm9yT3duUmlnaHQiLCJiYXNlRXZlcnkiLCJiYXNlRXh0cmVtdW0iLCJpc1N5bWJvbCIsImJhc2VGaWx0ZXIiLCJiYXNlRmxhdHRlbiIsImRlcHRoIiwiaXNTdHJpY3QiLCJpc0ZsYXR0ZW5hYmxlIiwiYmFzZUZvciIsImNyZWF0ZUJhc2VGb3IiLCJiYXNlRm9yUmlnaHQiLCJiYXNlRnVuY3Rpb25zIiwiaXNGdW5jdGlvbiIsImJhc2VHZXQiLCJwYXRoIiwiY2FzdFBhdGgiLCJ0b0tleSIsImJhc2VHZXRBbGxLZXlzIiwia2V5c0Z1bmMiLCJzeW1ib2xzRnVuYyIsImJhc2VHZXRUYWciLCJpc093biIsInVubWFza2VkIiwiZ2V0UmF3VGFnIiwib2JqZWN0VG9TdHJpbmciLCJiYXNlR3QiLCJvdGhlciIsImJhc2VIYXMiLCJiYXNlSGFzSW4iLCJiYXNlSW50ZXJzZWN0aW9uIiwiYXJyYXlzIiwib3RoTGVuZ3RoIiwib3RoSW5kZXgiLCJjYWNoZXMiLCJtYXhMZW5ndGgiLCJJbmZpbml0eSIsInNlZW4iLCJiYXNlSW52b2tlIiwicGFyZW50IiwibGFzdCIsImJhc2VJc0FyZ3VtZW50cyIsImJhc2VJc0VxdWFsIiwiZXF1YWxGdW5jIiwib2JqSXNBcnIiLCJvdGhJc0FyciIsIm9ialRhZyIsIm90aFRhZyIsIm9iaklzT2JqIiwib3RoSXNPYmoiLCJpc1NhbWVUYWciLCJlcXVhbEFycmF5cyIsIm1lc3NhZ2UiLCJjb252ZXJ0IiwiaXNQYXJ0aWFsIiwiZXF1YWxCeVRhZyIsIm9iaklzV3JhcHBlZCIsIm90aElzV3JhcHBlZCIsIm9ialVud3JhcHBlZCIsIm90aFVud3JhcHBlZCIsIm9ialByb3BzIiwib2JqTGVuZ3RoIiwic2tpcEN0b3IiLCJvdGhWYWx1ZSIsImNvbXBhcmVkIiwib2JqQ3RvciIsIm90aEN0b3IiLCJlcXVhbE9iamVjdHMiLCJiYXNlSXNFcXVhbERlZXAiLCJiYXNlSXNNYXRjaCIsIm1hdGNoRGF0YSIsIm5vQ3VzdG9taXplciIsInNyY1ZhbHVlIiwiYmFzZUlzTmF0aXZlIiwiYmFzZUl0ZXJhdGVlIiwiaWRlbnRpdHkiLCJiYXNlTWF0Y2hlc1Byb3BlcnR5IiwiYmFzZU1hdGNoZXMiLCJiYXNlS2V5cyIsImlzUHJvdG90eXBlIiwiYmFzZUtleXNJbiIsIm5hdGl2ZUtleXNJbiIsImlzUHJvdG8iLCJiYXNlTHQiLCJiYXNlTWFwIiwiaXNBcnJheUxpa2UiLCJnZXRNYXRjaERhdGEiLCJtYXRjaGVzU3RyaWN0Q29tcGFyYWJsZSIsImlzS2V5IiwiaXNTdHJpY3RDb21wYXJhYmxlIiwiaGFzSW4iLCJiYXNlTWVyZ2UiLCJzcmNJbmRleCIsIm1lcmdlRnVuYyIsInNhZmVHZXQiLCJuZXdWYWx1ZSIsImlzVHlwZWQiLCJpc0FycmF5TGlrZU9iamVjdCIsImlzUGxhaW5PYmplY3QiLCJ0b1BsYWluT2JqZWN0IiwiYmFzZU1lcmdlRGVlcCIsImJhc2VOdGgiLCJiYXNlT3JkZXJCeSIsIml0ZXJhdGVlcyIsIm9yZGVycyIsImdldEl0ZXJhdGVlIiwiY29tcGFyZXIiLCJzb3J0IiwiYmFzZVNvcnRCeSIsIm9iakNyaXRlcmlhIiwiY3JpdGVyaWEiLCJvdGhDcml0ZXJpYSIsIm9yZGVyc0xlbmd0aCIsImNvbXBhcmVBc2NlbmRpbmciLCJvcmRlciIsImNvbXBhcmVNdWx0aXBsZSIsImJhc2VQaWNrQnkiLCJiYXNlU2V0IiwiYmFzZVB1bGxBbGwiLCJiYXNlUHVsbEF0IiwiaW5kZXhlcyIsInByZXZpb3VzIiwiYmFzZVVuc2V0IiwiYmFzZVJlcGVhdCIsImJhc2VSZXN0Iiwic3RhcnQiLCJzZXRUb1N0cmluZyIsIm92ZXJSZXN0IiwiYmFzZVNhbXBsZSIsImJhc2VTYW1wbGVTaXplIiwibmVzdGVkIiwiYmFzZVNldERhdGEiLCJiYXNlU2V0VG9TdHJpbmciLCJjb25zdGFudCIsImJhc2VTaHVmZmxlIiwiYmFzZVNsaWNlIiwiZW5kIiwiYmFzZVNvbWUiLCJiYXNlU29ydGVkSW5kZXgiLCJyZXRIaWdoZXN0IiwibG93IiwiaGlnaCIsIm1pZCIsImJhc2VTb3J0ZWRJbmRleEJ5IiwidmFsSXNOYU4iLCJ2YWxJc051bGwiLCJ2YWxJc1N5bWJvbCIsInZhbElzVW5kZWZpbmVkIiwib3RoSXNEZWZpbmVkIiwib3RoSXNOdWxsIiwib3RoSXNSZWZsZXhpdmUiLCJvdGhJc1N5bWJvbCIsInNldExvdyIsImJhc2VTb3J0ZWRVbmlxIiwiYmFzZVRvTnVtYmVyIiwiYmFzZVRvU3RyaW5nIiwiYmFzZVVuaXEiLCJjcmVhdGVTZXQiLCJzZWVuSW5kZXgiLCJiYXNlVXBkYXRlIiwidXBkYXRlciIsImJhc2VXaGlsZSIsImlzRHJvcCIsImJhc2VXcmFwcGVyVmFsdWUiLCJhY3Rpb25zIiwiYWN0aW9uIiwiYmFzZVhvciIsImJhc2VaaXBPYmplY3QiLCJhc3NpZ25GdW5jIiwidmFsc0xlbmd0aCIsImNhc3RBcnJheUxpa2VPYmplY3QiLCJjYXN0RnVuY3Rpb24iLCJzdHJpbmdUb1BhdGgiLCJjYXN0UmVzdCIsImNhc3RTbGljZSIsImNvcHkiLCJhcnJheUJ1ZmZlciIsInR5cGVkQXJyYXkiLCJ2YWxJc0RlZmluZWQiLCJ2YWxJc1JlZmxleGl2ZSIsImNvbXBvc2VBcmdzIiwicGFydGlhbHMiLCJob2xkZXJzIiwiaXNDdXJyaWVkIiwiYXJnc0luZGV4IiwiYXJnc0xlbmd0aCIsImhvbGRlcnNMZW5ndGgiLCJsZWZ0SW5kZXgiLCJsZWZ0TGVuZ3RoIiwicmFuZ2VMZW5ndGgiLCJpc1VuY3VycmllZCIsImNvbXBvc2VBcmdzUmlnaHQiLCJob2xkZXJzSW5kZXgiLCJyaWdodEluZGV4IiwicmlnaHRMZW5ndGgiLCJpc05ldyIsImNyZWF0ZUFnZ3JlZ2F0b3IiLCJpbml0aWFsaXplciIsImNyZWF0ZUFzc2lnbmVyIiwiYXNzaWduZXIiLCJzb3VyY2VzIiwiZ3VhcmQiLCJpc0l0ZXJhdGVlQ2FsbCIsIml0ZXJhYmxlIiwiY3JlYXRlQ2FzZUZpcnN0IiwibWV0aG9kTmFtZSIsInRyYWlsaW5nIiwiY3JlYXRlQ29tcG91bmRlciIsImNhbGxiYWNrIiwid29yZHMiLCJkZWJ1cnIiLCJjcmVhdGVDdG9yIiwiYXJndW1lbnRzIiwidGhpc0JpbmRpbmciLCJjcmVhdGVGaW5kIiwiZmluZEluZGV4RnVuYyIsImNyZWF0ZUZsb3ciLCJmbGF0UmVzdCIsImZ1bmNzIiwicHJlcmVxIiwidGhydSIsIndyYXBwZXIiLCJnZXRGdW5jTmFtZSIsImZ1bmNOYW1lIiwiZ2V0RGF0YSIsImlzTGF6aWFibGUiLCJwbGFudCIsImNyZWF0ZUh5YnJpZCIsInBhcnRpYWxzUmlnaHQiLCJob2xkZXJzUmlnaHQiLCJhcmdQb3MiLCJhcnkiLCJhcml0eSIsImlzQXJ5IiwiaXNCaW5kIiwiaXNCaW5kS2V5IiwiaXNGbGlwIiwiZ2V0SG9sZGVyIiwiaG9sZGVyc0NvdW50IiwiY291bnRIb2xkZXJzIiwibmV3SG9sZGVycyIsImNyZWF0ZVJlY3VycnkiLCJmbiIsImFyckxlbmd0aCIsIm9sZEFycmF5IiwicmVvcmRlciIsImNyZWF0ZUludmVydGVyIiwidG9JdGVyYXRlZSIsImJhc2VJbnZlcnRlciIsImNyZWF0ZU1hdGhPcGVyYXRpb24iLCJvcGVyYXRvciIsImRlZmF1bHRWYWx1ZSIsImNyZWF0ZU92ZXIiLCJhcnJheUZ1bmMiLCJjcmVhdGVQYWRkaW5nIiwiY2hhcnMiLCJjaGFyc0xlbmd0aCIsImNyZWF0ZVJhbmdlIiwic3RlcCIsInRvRmluaXRlIiwiYmFzZVJhbmdlIiwiY3JlYXRlUmVsYXRpb25hbE9wZXJhdGlvbiIsInRvTnVtYmVyIiwid3JhcEZ1bmMiLCJpc0N1cnJ5IiwibmV3RGF0YSIsInNldERhdGEiLCJzZXRXcmFwVG9TdHJpbmciLCJjcmVhdGVSb3VuZCIsInRvSW50ZWdlciIsInBhaXIiLCJub29wIiwiY3JlYXRlVG9QYWlycyIsImJhc2VUb1BhaXJzIiwiY3JlYXRlV3JhcCIsInNyY0JpdG1hc2siLCJuZXdCaXRtYXNrIiwiaXNDb21ibyIsIm1lcmdlRGF0YSIsImNyZWF0ZUN1cnJ5IiwiY3JlYXRlUGFydGlhbCIsImNyZWF0ZUJpbmQiLCJjdXN0b21EZWZhdWx0c0Fzc2lnbkluIiwiY3VzdG9tRGVmYXVsdHNNZXJnZSIsImN1c3RvbU9taXRDbG9uZSIsImFyclZhbHVlIiwiZmxhdHRlbiIsIm90aGVyRnVuYyIsInR5cGUiLCJnZXRWYWx1ZSIsInN0dWJBcnJheSIsImhhc1BhdGgiLCJoYXNGdW5jIiwiaXNMZW5ndGgiLCJBcnJheUJ1ZmZlciIsInJlc29sdmUiLCJjdG9yU3RyaW5nIiwiaXNNYXNrYWJsZSIsInN0dWJGYWxzZSIsIm90aGVyQXJncyIsInNob3J0T3V0IiwicmVmZXJlbmNlIiwiZGV0YWlscyIsImluc2VydFdyYXBEZXRhaWxzIiwidXBkYXRlV3JhcERldGFpbHMiLCJnZXRXcmFwRGV0YWlscyIsImNvdW50IiwibGFzdENhbGxlZCIsInN0YW1wIiwicmVtYWluaW5nIiwicmFuZCIsIm1lbW9pemUiLCJtZW1vaXplQ2FwcGVkIiwiY2hhckNvZGVBdCIsInF1b3RlIiwic3ViU3RyaW5nIiwiZGlmZmVyZW5jZSIsImRpZmZlcmVuY2VCeSIsImRpZmZlcmVuY2VXaXRoIiwiZmluZEluZGV4IiwiZmluZExhc3RJbmRleCIsImhlYWQiLCJpbnRlcnNlY3Rpb24iLCJtYXBwZWQiLCJpbnRlcnNlY3Rpb25CeSIsImludGVyc2VjdGlvbldpdGgiLCJwdWxsIiwicHVsbEFsbCIsInB1bGxBdCIsInVuaW9uIiwidW5pb25CeSIsInVuaW9uV2l0aCIsInVuemlwIiwiZ3JvdXAiLCJ1bnppcFdpdGgiLCJ3aXRob3V0IiwieG9yIiwieG9yQnkiLCJ4b3JXaXRoIiwiemlwIiwiemlwV2l0aCIsImNoYWluIiwiaW50ZXJjZXB0b3IiLCJ3cmFwcGVyQXQiLCJjb3VudEJ5IiwiZmluZCIsImZpbmRMYXN0IiwiZm9yRWFjaFJpZ2h0IiwiZ3JvdXBCeSIsImludm9rZU1hcCIsImtleUJ5IiwicGFydGl0aW9uIiwic29ydEJ5IiwiYmVmb3JlIiwiYmluZEtleSIsImRlYm91bmNlIiwibGFzdEFyZ3MiLCJsYXN0VGhpcyIsIm1heFdhaXQiLCJ0aW1lcklkIiwibGFzdENhbGxUaW1lIiwibGFzdEludm9rZVRpbWUiLCJsZWFkaW5nIiwibWF4aW5nIiwiaW52b2tlRnVuYyIsInRpbWUiLCJzaG91bGRJbnZva2UiLCJ0aW1lU2luY2VMYXN0Q2FsbCIsInRpbWVyRXhwaXJlZCIsInRyYWlsaW5nRWRnZSIsInRpbWVXYWl0aW5nIiwicmVtYWluaW5nV2FpdCIsImRlYm91bmNlZCIsImlzSW52b2tpbmciLCJsZWFkaW5nRWRnZSIsImNhbmNlbCIsImZsdXNoIiwiZGVmZXIiLCJkZWxheSIsInJlc29sdmVyIiwibWVtb2l6ZWQiLCJDYWNoZSIsIm5lZ2F0ZSIsIm92ZXJBcmdzIiwidHJhbnNmb3JtcyIsImZ1bmNzTGVuZ3RoIiwicGFydGlhbCIsInBhcnRpYWxSaWdodCIsInJlYXJnIiwiZ3QiLCJndGUiLCJpc0Vycm9yIiwiaXNJbnRlZ2VyIiwiaXNOdW1iZXIiLCJpc1N0cmluZyIsImx0IiwibHRlIiwidG9BcnJheSIsIm5leHQiLCJkb25lIiwiaXRlcmF0b3JUb0FycmF5IiwicmVtYWluZGVyIiwidG9MZW5ndGgiLCJpc0JpbmFyeSIsImFzc2lnbiIsImFzc2lnbkluIiwiYXNzaWduSW5XaXRoIiwiYXNzaWduV2l0aCIsImF0IiwicHJvcHNJbmRleCIsInByb3BzTGVuZ3RoIiwiZGVmYXVsdHNEZWVwIiwibWVyZ2VXaXRoIiwiaW52ZXJ0IiwiaW52ZXJ0QnkiLCJpbnZva2UiLCJtZXJnZSIsIm9taXQiLCJiYXNlUGljayIsInBpY2tCeSIsInByb3AiLCJ0b1BhaXJzIiwidG9QYWlyc0luIiwiY2FtZWxDYXNlIiwid29yZCIsInVwcGVyRmlyc3QiLCJrZWJhYkNhc2UiLCJsb3dlckNhc2UiLCJsb3dlckZpcnN0Iiwic25ha2VDYXNlIiwic3RhcnRDYXNlIiwidXBwZXJDYXNlIiwicGF0dGVybiIsImhhc1VuaWNvZGVXb3JkIiwidW5pY29kZVdvcmRzIiwiYXNjaWlXb3JkcyIsImF0dGVtcHQiLCJiaW5kQWxsIiwibWV0aG9kTmFtZXMiLCJmbG93IiwiZmxvd1JpZ2h0IiwibWV0aG9kT2YiLCJtaXhpbiIsIm92ZXIiLCJvdmVyRXZlcnkiLCJvdmVyU29tZSIsImJhc2VQcm9wZXJ0eURlZXAiLCJyYW5nZVJpZ2h0IiwiYXVnZW5kIiwiYWRkZW5kIiwiZGl2aWRlIiwiZGl2aWRlbmQiLCJkaXZpc29yIiwibXVsdGlwbGllciIsIm11bHRpcGxpY2FuZCIsInN1YnRyYWN0IiwibWludWVuZCIsInN1YnRyYWhlbmQiLCJhZnRlciIsImNhc3RBcnJheSIsImNodW5rIiwiY29tcGFjdCIsImNvbmNhdCIsImNvbmQiLCJjb25mb3JtcyIsImJhc2VDb25mb3JtcyIsInByb3BlcnRpZXMiLCJjdXJyeSIsImN1cnJ5UmlnaHQiLCJkcm9wIiwiZHJvcFJpZ2h0IiwiZHJvcFJpZ2h0V2hpbGUiLCJkcm9wV2hpbGUiLCJmaWxsIiwiYmFzZUZpbGwiLCJmbGF0TWFwIiwiZmxhdE1hcERlZXAiLCJmbGF0TWFwRGVwdGgiLCJmbGF0dGVuRGVlcCIsImZsYXR0ZW5EZXB0aCIsImZsaXAiLCJmcm9tUGFpcnMiLCJmdW5jdGlvbnMiLCJmdW5jdGlvbnNJbiIsImluaXRpYWwiLCJtYXBLZXlzIiwibWFwVmFsdWVzIiwibWF0Y2hlcyIsIm1hdGNoZXNQcm9wZXJ0eSIsIm50aEFyZyIsIm9taXRCeSIsIm9uY2UiLCJvcmRlckJ5IiwicHJvcGVydHlPZiIsInB1bGxBbGxCeSIsInB1bGxBbGxXaXRoIiwicmVqZWN0IiwicmVtb3ZlIiwicmVzdCIsInNhbXBsZVNpemUiLCJzZXRXaXRoIiwic2h1ZmZsZSIsInNvcnRlZFVuaXEiLCJzb3J0ZWRVbmlxQnkiLCJzZXBhcmF0b3IiLCJsaW1pdCIsInNwcmVhZCIsInRhaWwiLCJ0YWtlIiwidGFrZVJpZ2h0IiwidGFrZVJpZ2h0V2hpbGUiLCJ0YWtlV2hpbGUiLCJ0YXAiLCJ0aHJvdHRsZSIsInRvUGF0aCIsImlzQXJyTGlrZSIsInVuYXJ5IiwidW5pcSIsInVuaXFCeSIsInVuaXFXaXRoIiwidW5zZXQiLCJ1cGRhdGUiLCJ1cGRhdGVXaXRoIiwidmFsdWVzSW4iLCJ3cmFwIiwiemlwT2JqZWN0IiwiemlwT2JqZWN0RGVlcCIsImVudHJpZXNJbiIsImV4dGVuZCIsImV4dGVuZFdpdGgiLCJjbG9uZURlZXAiLCJjbG9uZURlZXBXaXRoIiwiY2xvbmVXaXRoIiwiY29uZm9ybXNUbyIsImRlZmF1bHRUbyIsImVuZHNXaXRoIiwidGFyZ2V0IiwiZXNjYXBlIiwiZXNjYXBlUmVnRXhwIiwiZXZlcnkiLCJmaW5kS2V5IiwiZmluZExhc3RLZXkiLCJmb3JJbiIsImZvckluUmlnaHQiLCJmb3JPd24iLCJmb3JPd25SaWdodCIsImluUmFuZ2UiLCJiYXNlSW5SYW5nZSIsImlzQm9vbGVhbiIsImlzRWxlbWVudCIsImlzRW1wdHkiLCJpc0VxdWFsV2l0aCIsImlzTWF0Y2giLCJpc01hdGNoV2l0aCIsImlzTmFOIiwiaXNOYXRpdmUiLCJpc05pbCIsImlzTnVsbCIsImlzU2FmZUludGVnZXIiLCJpc1VuZGVmaW5lZCIsImlzV2Vha01hcCIsImlzV2Vha1NldCIsImxhc3RJbmRleE9mIiwic3RyaWN0TGFzdEluZGV4T2YiLCJtYXhCeSIsIm1lYW5CeSIsIm1pbkJ5Iiwic3R1Yk9iamVjdCIsInN0dWJTdHJpbmciLCJzdHViVHJ1ZSIsIm50aCIsIm5vQ29uZmxpY3QiLCJwYWQiLCJzdHJMZW5ndGgiLCJwYWRFbmQiLCJyYWRpeCIsImZsb2F0aW5nIiwidGVtcCIsInJlZHVjZSIsInJlZHVjZVJpZ2h0IiwicmVwZWF0Iiwic2FtcGxlIiwic29tZSIsInNvcnRlZEluZGV4Iiwic29ydGVkSW5kZXhCeSIsInNvcnRlZEluZGV4T2YiLCJzb3J0ZWRMYXN0SW5kZXgiLCJzb3J0ZWRMYXN0SW5kZXhCeSIsInNvcnRlZExhc3RJbmRleE9mIiwic3RhcnRzV2l0aCIsInN1bSIsInN1bUJ5Iiwic2V0dGluZ3MiLCJpc0VzY2FwaW5nIiwiaXNFdmFsdWF0aW5nIiwiaW1wb3J0cyIsImltcG9ydHNLZXlzIiwiaW1wb3J0c1ZhbHVlcyIsInJlRGVsaW1pdGVycyIsImV2YWx1YXRlIiwic291cmNlVVJMIiwiZXNjYXBlVmFsdWUiLCJpbnRlcnBvbGF0ZVZhbHVlIiwiZXNUZW1wbGF0ZVZhbHVlIiwiZXZhbHVhdGVWYWx1ZSIsInZhcmlhYmxlIiwidGltZXMiLCJ0b0xvd2VyIiwidG9TYWZlSW50ZWdlciIsInRvVXBwZXIiLCJ0cmltIiwidHJpbUVuZCIsInRyaW1TdGFydCIsInRydW5jYXRlIiwib21pc3Npb24iLCJzZWFyY2giLCJuZXdFbmQiLCJ1bmVzY2FwZSIsInVuaXF1ZUlkIiwicHJlZml4IiwiZWFjaCIsImVhY2hSaWdodCIsIlZFUlNJT04iLCJpc0ZpbHRlciIsInRha2VOYW1lIiwiZHJvcE5hbWUiLCJjaGVja0l0ZXJhdGVlIiwiaXNUYWtlciIsImxvZGFzaEZ1bmMiLCJyZXRVbndyYXBwZWQiLCJpc0xhenkiLCJ1c2VMYXp5IiwiaXNIeWJyaWQiLCJpc1Vud3JhcHBlZCIsIm9ubHlMYXp5IiwiY2hhaW5OYW1lIiwiZGlyIiwiaXNSaWdodCIsInZpZXciLCJnZXRWaWV3IiwiaXRlckxlbmd0aCIsInRha2VDb3VudCIsIml0ZXJJbmRleCIsImNvbW1pdCIsIndyYXBwZWQiLCJ0b0pTT04iLCJfX2V4cG9ydCIsIkRpbWVuc2lvbl8xIiwiVmVjdG9yXzEiLCJWZWN0b3IiLCJPcGVyYXRvcl8xIiwiT3BlcmF0b3IiLCJQaG90b25zXzEiLCJQaG90b25zIiwiQ29tcGxleF8xIiwiUEkiLCJfX3NwcmVhZEFycmF5cyIsImlsIiwiYSIsImpsIiwiX19pbXBvcnREZWZhdWx0IiwiRW50cnlfMSIsImxvZGFzaF8xIiwiZGltZW5zaW9uc091dCIsImRpbWVuc2lvbnNJbiIsImRpbWVuc2lvbiIsInNpemVPdXQiLCJzaXplSW4iLCJPcGVyYXRvckVudHJ5IiwiY29vcmRPdXQiLCJjb29yZEluIiwidHJhbnNwb3NlIiwiZGFnIiwibTIiLCJlbnRyeTEiLCJlbnRyeTIiLCJtMSIsImdyb3VwZWQiLCJtdWxDb25zdGFudCIsIm11bFZlYyIsInZWYWx1ZU1hcCIsImNlbGxzIiwiY29vcmRJblN0ciIsIlZlY3RvckVudHJ5IiwibXVsVmVjUGFydGlhbCIsImNvb3JkSW5kaWNlcyIsImNvbXBsZW1lbnRJbmRpY2VzIiwibmV3RGltZW5zaW9ucyIsIm5ld0VudHJpZXMiLCJ2ZWNFbnRyaWVzIiwicmVkdWNlZENvb3JkcyIsIm9wRW50cmllcyIsImNvb3JkT3V0UGFydCIsIl90aGlzIiwibmFtZXNPdXQiLCJuYW1lc0luIiwiY29vcmRTdHJPdXQiLCJjb29yZE5hbWVzT3V0IiwiY29vcmRTdHJJbiIsImNvb3JkTmFtZXNJbiIsInNpemVzIiwidG90YWxTaXplIiwiZnJvbUluZGV4SW5kZXhWYWx1ZSIsInplcm9zIiwiZnJvbUFycmF5IiwiZGVuc2VBcnJheSIsInJlbW92ZVplcm9zIiwic2l6ZXNPdXQiLCJ0b3RhbFNpemVPdXQiLCJzaXplc0luIiwidG90YWxTaXplSW4iLCJyb3dMZW5ndGhzIiwicm93IiwiZmxhdGxpc3QiLCJpbmRleE91dCIsImluZGV4SW4iLCJfYSIsImluZGljYXRvciIsImZyb21TcGFyc2VDb29yZE5hbWVzIiwic3RyaW5nZWRFbnRyaWVzIiwiY29vcmROYW1lU3RyT3V0IiwiY29vcmROYW1lU3RySW4iLCJvcHMiLCJhY2MiLCJQYXJ0aWNsZSIsImludGVuc2l0eSIsInBoYXNlIiwic3VwZXIiLCJvcGFjaXR5IiwicGFydGljbGVJIiwiaW1wb3J0UGFydGljbGUiLCJjZWxsIiwidG9QZXJjZW50IiwicGFydGljbGVzIiwicGFydGljbGUiLCJhbmdsZSIsInRleHQiLCJjaGFyYWN0ZXIiLCJjaGFyIiwiaHVlIiwic2F0dXJhdGlvbiIsImxpZ2h0bmVzcyIsImhzbCIsIkNvbG9yIiwiZWxlbWVudElkIiwiZG9jdW1lbnQiLCJnZXRFbGVtZW50QnlJZCIsInRleHRDb250ZW50IiwidjIiLCJkb3QiLCJjZWxsMSIsImNlbGwyIiwiY29vcmRTdHIiLCJmcm9tSW5kZXhWYWx1ZSIsImNvb3JkTmFtZVN0ciIsInZlY3RvcnMiLCJDb29yZHNGcm9tSW5kZXgiLCJkaW1TaXplIiwiZTIiLCJFbGVtZW50IiwiZGVzY3JpcHRpb24iLCJhY3RpdmUiLCJhYnNvcnB0aW9uIiwiYXNjaWkiLCJ0aWxlcyIsImdseXBoIiwicGFyYW0iLCJxdCIsIm1pcnJvciIsImJlYW1TcGxpdHRlciIsImF0dGVudWF0b3IiLCJTUVJUMV8yIiwidmFjdXVtSmFyIiwiZ2xhc3NTbGFiIiwic3VnYXJTb2x1dGlvbiIsInBvbGFyaXppbmdCZWFtc3BsaXR0ZXIiLCJlbGVtZW50IiwianNvbkVsZW1lbnRzIiwiZWxlbSIsImltcG9ydEVsZW1lbnQiLCJqc29uR3JvdXBzIiwiQmFzaWMiLCJFbWl0dGVyIiwiRGlyZWN0aW9uIiwiQWJzb3JwdGlvbiIsIlBvbGFyaXphdGlvbiIsIlBoYXNlIiwiR2x5cGgiLCJ0aWxlIiwiYmFja2dyb3VuZENvbG9yIiwiZm9yZWdyb3VuZENvbG9yIiwidGlsZXNpemUiLCJ0aWxlTWFwIiwiX3RpbGUiLCJfY3R4IiwiY3JlYXRlRWxlbWVudCIsImdldENvbnRleHQiLCJjYiIsInJlcXVlc3RBbmltYXRpb25GcmFtZSIsImNhbnZhcyIsIm9wdHMiLCJzZXRPcHRpb25zIiwiZm9udCIsImZvbnRTdHlsZSIsImZvbnRTaXplIiwiZm9udEZhbWlseSIsIl91cGRhdGVTaXplIiwidGV4dEFsaWduIiwidGV4dEJhc2VsaW5lIiwiZmlsbFN0eWxlIiwiYmciLCJmaWxsUmVjdCIsIndpZHRoIiwiaGVpZ2h0IiwicmVjdCIsImdldEJvdW5kaW5nQ2xpZW50UmVjdCIsIl9ub3JtYWxpemVkRXZlbnRUb1Bvc2l0aW9uIiwiX3NwYWNpbmdYIiwiX3NwYWNpbmdZIiwiX2hleFNpemUiLCJjbGVhckJlZm9yZSIsImNoIiwiZmciLCJweCIsIl9maWxsIiwiZmlsbFRleHQiLCJhdmFpbFdpZHRoIiwiYXZhaWxIZWlnaHQiLCJoZXhTaXplV2lkdGgiLCJoZXhTaXplSGVpZ2h0IiwiaGV4U2l6ZSIsIm9sZEZvbnQiLCJtZWFzdXJlVGV4dCIsInJhdGlvIiwibm9kZVNpemUiLCJjeCIsImN5IiwiYm9yZGVyIiwiY3R4IiwiYmVnaW5QYXRoIiwibW92ZVRvIiwibGluZVRvIiwiY2hhcldpZHRoIiwieHByb3AiLCJ5cHJvcCIsIl9jYW52YXNDYWNoZSIsIl9kcmF3V2l0aENhY2hlIiwiX2RyYXdOb0NhY2hlIiwiaGFzaCIsImRyYXdJbWFnZSIsImJveFdpZHRoIiwiYm94SGVpZ2h0Iiwid2lkdGhGcmFjdGlvbiIsImZvcmNlU3F1YXJlUmF0aW8iLCJfY29sb3JDYW52YXMiLCJ0aWxlV2lkdGgiLCJ0aWxlSGVpZ2h0IiwidGlsZUNvbG9yaXplIiwiY2xlYXJSZWN0IiwiZmdzIiwiYmdzIiwiZ2xvYmFsQ29tcG9zaXRlT3BlcmF0aW9uIiwidGlsZVNldCIsInByZXNlcnZlRHJhd2luZ0J1ZmZlciIsIl91bmlmb3JtcyIsIl9nbCIsIl9pbml0V2ViR0wiLCJhbGVydCIsImNvbXBsZXRlIiwiYWRkRXZlbnRMaXN0ZW5lciIsIl91cGRhdGVUZXh0dXJlIiwiZ2wiLCJzY2lzc29yWSIsInNjaXNzb3IiLCJjbGVhckNvbG9yIiwicGFyc2VDb2xvciIsIkNPTE9SX0JVRkZFUl9CSVQiLCJ1bmlmb3JtMmZ2IiwidW5pZm9ybTFmIiwidW5pZm9ybTRmdiIsImRyYXdBcnJheXMiLCJUUklBTkdMRV9TVFJJUCIsIndpbmRvdyIsInByb2dyYW0iLCJ2c3MiLCJmc3MiLCJ2cyIsImNyZWF0ZVNoYWRlciIsIlZFUlRFWF9TSEFERVIiLCJzaGFkZXJTb3VyY2UiLCJjb21waWxlU2hhZGVyIiwiZ2V0U2hhZGVyUGFyYW1ldGVyIiwiQ09NUElMRV9TVEFUVVMiLCJnZXRTaGFkZXJJbmZvTG9nIiwiZnMiLCJGUkFHTUVOVF9TSEFERVIiLCJjcmVhdGVQcm9ncmFtIiwiYXR0YWNoU2hhZGVyIiwibGlua1Byb2dyYW0iLCJnZXRQcm9ncmFtUGFyYW1ldGVyIiwiTElOS19TVEFUVVMiLCJnZXRQcm9ncmFtSW5mb0xvZyIsIlZTIiwiRlMiLCJ1c2VQcm9ncmFtIiwicG9zIiwiRmxvYXQzMkFycmF5IiwiYnVmIiwiY3JlYXRlQnVmZmVyIiwiYmluZEJ1ZmZlciIsIkFSUkFZX0JVRkZFUiIsImJ1ZmZlckRhdGEiLCJTVEFUSUNfRFJBVyIsImVuYWJsZVZlcnRleEF0dHJpYkFycmF5IiwidmVydGV4QXR0cmliUG9pbnRlciIsIkZMT0FUIiwiY3JlYXRlUXVhZCIsIlVOSUZPUk1TIiwiZ2V0VW5pZm9ybUxvY2F0aW9uIiwiX3Byb2dyYW0iLCJlbmFibGUiLCJCTEVORCIsImJsZW5kRnVuY1NlcGFyYXRlIiwiU1JDX0FMUEhBIiwiT05FX01JTlVTX1NSQ19BTFBIQSIsIk9ORSIsIlNDSVNTT1JfVEVTVCIsImNhbnZhc1NpemUiLCJ2aWV3cG9ydCIsImNyZWF0ZVRleHR1cmUiLCJiaW5kVGV4dHVyZSIsIlRFWFRVUkVfMkQiLCJ0ZXhQYXJhbWV0ZXJpIiwiVEVYVFVSRV9NQUdfRklMVEVSIiwiTkVBUkVTVCIsIlRFWFRVUkVfTUlOX0ZJTFRFUiIsIlRFWFRVUkVfV1JBUF9TIiwiUkVQRUFUIiwiVEVYVFVSRV9XUkFQX1QiLCJwaXhlbFN0b3JlaSIsIlVOUEFDS19GTElQX1lfV0VCR0wiLCJ0ZXhJbWFnZTJEIiwiUkdCQSIsIlVOU0lHTkVEX0JZVEUiLCJjb2xvckNhY2hlIiwicGFyc2VkIiwiTnVtYmVyIiwiJCIsIlJFX0NPTE9SUyIsIlRZUEVfVEVYVCIsIlRZUEVfTkVXTElORSIsIlRZUEVfRkciLCJUWVBFX0JHIiwibWVhc3VyZSIsIm1heFdpZHRoIiwidG9rZW5zIiwidG9rZW5pemUiLCJsaW5lV2lkdGgiLCJ0b2tlbiIsImxpbmVMZW5ndGgiLCJsYXN0VG9rZW5XaXRoU3BhY2UiLCJicmVha0luc2lkZVRva2VuIiwiYXJyIiwibmV4dEluZGV4IiwiYnJlYWtJbmRleCIsImxhc3RUZXh0VG9rZW4iLCJicmVha0xpbmVzIiwidG9rZW5JbmRleCIsInJlbW92ZUJyZWFrQ2hhciIsIm5ld0JyZWFrVG9rZW4iLCJuZXdUZXh0VG9rZW4iLCJERUZBVUxUX1dJRFRIIiwiREVGQVVMVF9IRUlHSFQiLCJESVJTIiwiNCIsIjgiLCI2IiwiS0VZUyIsIlZLX0NBTkNFTCIsIlZLX0hFTFAiLCJWS19CQUNLX1NQQUNFIiwiVktfVEFCIiwiVktfQ0xFQVIiLCJWS19SRVRVUk4iLCJWS19FTlRFUiIsIlZLX1NISUZUIiwiVktfQ09OVFJPTCIsIlZLX0FMVCIsIlZLX1BBVVNFIiwiVktfQ0FQU19MT0NLIiwiVktfRVNDQVBFIiwiVktfU1BBQ0UiLCJWS19QQUdFX1VQIiwiVktfUEFHRV9ET1dOIiwiVktfRU5EIiwiVktfSE9NRSIsIlZLX0xFRlQiLCJWS19VUCIsIlZLX1JJR0hUIiwiVktfRE9XTiIsIlZLX1BSSU5UU0NSRUVOIiwiVktfSU5TRVJUIiwiVktfREVMRVRFIiwiVktfMCIsIlZLXzEiLCJWS18yIiwiVktfMyIsIlZLXzQiLCJWS181IiwiVktfNiIsIlZLXzciLCJWS184IiwiVktfOSIsIlZLX0NPTE9OIiwiVktfU0VNSUNPTE9OIiwiVktfTEVTU19USEFOIiwiVktfRVFVQUxTIiwiVktfR1JFQVRFUl9USEFOIiwiVktfUVVFU1RJT05fTUFSSyIsIlZLX0FUIiwiVktfQSIsIlZLX0IiLCJWS19DIiwiVktfRCIsIlZLX0UiLCJWS19GIiwiVktfRyIsIlZLX0giLCJWS19JIiwiVktfSiIsIlZLX0siLCJWS19MIiwiVktfTSIsIlZLX04iLCJWS19PIiwiVktfUCIsIlZLX1EiLCJWS19SIiwiVktfUyIsIlZLX1QiLCJWS19VIiwiVktfViIsIlZLX1ciLCJWS19YIiwiVktfWSIsIlZLX1oiLCJWS19DT05URVhUX01FTlUiLCJWS19OVU1QQUQwIiwiVktfTlVNUEFEMSIsIlZLX05VTVBBRDIiLCJWS19OVU1QQUQzIiwiVktfTlVNUEFENCIsIlZLX05VTVBBRDUiLCJWS19OVU1QQUQ2IiwiVktfTlVNUEFENyIsIlZLX05VTVBBRDgiLCJWS19OVU1QQUQ5IiwiVktfTVVMVElQTFkiLCJWS19BREQiLCJWS19TRVBBUkFUT1IiLCJWS19TVUJUUkFDVCIsIlZLX0RFQ0lNQUwiLCJWS19ESVZJREUiLCJWS19GMSIsIlZLX0YyIiwiVktfRjMiLCJWS19GNCIsIlZLX0Y1IiwiVktfRjYiLCJWS19GNyIsIlZLX0Y4IiwiVktfRjkiLCJWS19GMTAiLCJWS19GMTEiLCJWS19GMTIiLCJWS19GMTMiLCJWS19GMTQiLCJWS19GMTUiLCJWS19GMTYiLCJWS19GMTciLCJWS19GMTgiLCJWS19GMTkiLCJWS19GMjAiLCJWS19GMjEiLCJWS19GMjIiLCJWS19GMjMiLCJWS19GMjQiLCJWS19OVU1fTE9DSyIsIlZLX1NDUk9MTF9MT0NLIiwiVktfQ0lSQ1VNRkxFWCIsIlZLX0VYQ0xBTUFUSU9OIiwiVktfRE9VQkxFX1FVT1RFIiwiVktfSEFTSCIsIlZLX0RPTExBUiIsIlZLX1BFUkNFTlQiLCJWS19BTVBFUlNBTkQiLCJWS19VTkRFUlNDT1JFIiwiVktfT1BFTl9QQVJFTiIsIlZLX0NMT1NFX1BBUkVOIiwiVktfQVNURVJJU0siLCJWS19QTFVTIiwiVktfUElQRSIsIlZLX0hZUEhFTl9NSU5VUyIsIlZLX09QRU5fQ1VSTFlfQlJBQ0tFVCIsIlZLX0NMT1NFX0NVUkxZX0JSQUNLRVQiLCJWS19USUxERSIsIlZLX0NPTU1BIiwiVktfUEVSSU9EIiwiVktfU0xBU0giLCJWS19CQUNLX1FVT1RFIiwiVktfT1BFTl9CUkFDS0VUIiwiVktfQkFDS19TTEFTSCIsIlZLX0NMT1NFX0JSQUNLRVQiLCJWS19RVU9URSIsIlZLX01FVEEiLCJWS19BTFRHUiIsIlZLX1dJTiIsIlZLX0tBTkEiLCJWS19IQU5HVUwiLCJWS19FSVNVIiwiVktfSlVOSkEiLCJWS19GSU5BTCIsIlZLX0hBTkpBIiwiVktfS0FOSkkiLCJWS19DT05WRVJUIiwiVktfTk9OQ09OVkVSVCIsIlZLX0FDQ0VQVCIsIlZLX01PREVDSEFOR0UiLCJWS19TRUxFQ1QiLCJWS19QUklOVCIsIlZLX0VYRUNVVEUiLCJWS19TTEVFUCIsIkJBQ0tFTkRTIiwiREVGQVVMVF9PUFRJT05TIiwibGF5b3V0IiwiX2RhdGEiLCJfZGlydHkiLCJERUJVRyIsIl90aWNrIiwiX2JhY2tlbmQiLCJzY2hlZHVsZSIsIndoYXQiLCJkcmF3IiwiY3RvciIsImdldENvbnRhaW5lciIsImNvbXB1dGVTaXplIiwiY29tcHV0ZUZvbnRTaXplIiwidG91Y2hlcyIsImNsaWVudFgiLCJjbGllbnRZIiwiZXZlbnRUb1Bvc2l0aW9uIiwibGluZXMiLCJpc1NwYWNlIiwiaXNQcmV2U3BhY2UiLCJpc0Z1bGxXaWR0aCIsImlzUHJldkZ1bGxXaWR0aCIsImNjIiwiX2RyYXciLCJSZWN0IiwiSGV4IiwiVGlsZSIsIlRpbGVHTCIsIlRlcm0iLCJwcmlvciIsIl9ib3VuZGFyeSIsImZyb21DaGFyQ29kZSIsIl9zdWZmaXgiLCJfcHJlZml4IiwiX3ByaW9yVmFsdWVzIiwiX3NhbXBsZSIsIl9qb2luIiwiX3NwbGl0IiwiZXZlbnQiLCJzdWJjb250ZXh0IiwiX29ic2VydmVFdmVudCIsInByaW9yQ291bnQiLCJkYXRhQ291bnQiLCJldmVudENvdW50IiwiX2JhY2tvZmYiLCJhdmFpbGFibGUiLCJnZXRXZWlnaHRlZFZhbHVlIiwiRXZlbnRRdWV1ZSIsIl90aW1lIiwiX2V2ZW50cyIsIl9ldmVudFRpbWVzIiwiX3JlbW92ZSIsIl9xdWV1ZSIsIl9yZXBlYXQiLCJfY3VycmVudCIsImdldFRpbWUiLCJpdGVtIiwiZ2V0RXZlbnRUaW1lIiwiU2ltcGxlIiwiU3BlZWQiLCJnZXRTcGVlZCIsIkFjdGlvbiIsIl9kZWZhdWx0RHVyYXRpb24iLCJfZHVyYXRpb24iLCJsaWdodFBhc3Nlc0NhbGxiYWNrIiwiX2xpZ2h0UGFzc2VzIiwidG9wb2xvZ3kiLCJkaXJzIiwiY291bnRGYWN0b3IiLCJzdGFydE9mZnNldCIsIk9DVEFOVFMiLCJEaXNjcmV0ZVNoYWRvd2Nhc3RpbmciLCJSIiwiQSIsIkIiLCJibG9ja3MiLCJEQVRBIiwibmVpZ2hib3JzIiwiX2dldENpcmNsZSIsIl92aXNpYmxlQ29vcmRzIiwidjEiLCJQcmVjaXNlU2hhZG93Y2FzdGluZyIsIkExIiwiQTIiLCJ2aXNpYmlsaXR5IiwiU0hBRE9XUyIsIm5laWdoYm9yQ291bnQiLCJfY2hlY2tWaXNpYmlsaXR5IiwiaW5kZXgxIiwiZWRnZTEiLCJvbGQiLCJpbmRleDIiLCJlZGdlMiIsInZpc2libGVMZW5ndGgiLCJ2aXNpYmxlIiwiUCIsIlAxIiwiUDIiLCJSZWN1cnNpdmVTaGFkb3djYXN0aW5nIiwiX3JlbmRlck9jdGFudCIsInByZXZpb3VzT2N0YW50IiwibmV4dFByZXZpb3VzT2N0YW50IiwibmV4dE9jdGFudCIsIm9jdGFudCIsIl9jYXN0VmlzaWJpbGl0eSIsInN0YXJ0WCIsInN0YXJ0WSIsInZpc1Nsb3BlU3RhcnQiLCJ2aXNTbG9wZUVuZCIsInJhZGl1cyIsInh4IiwieHkiLCJ5eCIsInl5IiwiZHgiLCJkeSIsImJsb2NrZWQiLCJuZXdTdGFydCIsIm1hcFgiLCJtYXBZIiwic2xvcGVTdGFydCIsInNsb3BlRW5kIiwiX3dpZHRoIiwiX2hlaWdodCIsIl9yb29tcyIsIl9jb3JyaWRvcnMiLCJGZWF0dXJlIiwieDEiLCJ5MSIsIngyIiwieTIiLCJkb29yWCIsImRvb3JZIiwiX3gxIiwiX3kxIiwiX3gyIiwiX3kyIiwiX2Rvb3JzIiwiYWRkRG9vciIsInJvb21XaWR0aCIsImdldFVuaWZvcm1JbnQiLCJyb29tSGVpZ2h0IiwiaXNXYWxsQ2FsbGJhY2siLCJjYW5CZUR1Z0NhbGxiYWNrIiwiZGlnQ2FsbGJhY2siLCJlbmRYIiwiZW5kWSIsIl9zdGFydFgiLCJfc3RhcnRZIiwiX2VuZFgiLCJfZW5kWSIsIl9lbmRzV2l0aEFXYWxsIiwiY29ycmlkb3JMZW5ndGgiLCJzeCIsInN5IiwibngiLCJueSIsIm9rIiwiZmlyc3RDb3JuZXJCYWQiLCJzZWNvbmRDb3JuZXJCYWQiLCJwcmlvcml0eVdhbGxDYWxsYmFjayIsIkZFQVRVUkVTIiwiYWRkVG9MaXN0IiwiTCIsInJlbW92ZUZyb21MaXN0IiwiQXJlbmEiLCJ3IiwiVW5pZm9ybSIsInJvb21EdWdQZXJjZW50YWdlIiwidGltZUxpbWl0IiwiX21hcCIsIl9kdWciLCJfcm9vbUF0dGVtcHRzIiwiX2NvcnJpZG9yQXR0ZW1wdHMiLCJfY29ubmVjdGVkIiwiX3VuY29ubmVjdGVkIiwiX2RpZ0NhbGxiYWNrIiwiX2NhbkJlRHVnQ2FsbGJhY2siLCJfaXNXYWxsQ2FsbGJhY2siLCJ0MSIsIl9maWxsTWFwIiwiX2dlbmVyYXRlUm9vbXMiLCJfZ2VuZXJhdGVDb3JyaWRvcnMiLCJyb29tIiwiX2dlbmVyYXRlUm9vbSIsImNyZWF0ZVJhbmRvbSIsImlzVmFsaWQiLCJjbnQiLCJjbGVhckRvb3JzIiwiY29ubmVjdGVkIiwicm9vbTEiLCJfY2xvc2VzdFJvb20iLCJyb29tMiIsIl9jb25uZWN0Um9vbXMiLCJyb29tcyIsImRpc3QiLCJjZW50ZXIiLCJnZXRDZW50ZXIiLCJkaXJJbmRleDEiLCJkaXJJbmRleDIiLCJjZW50ZXIxIiwiY2VudGVyMiIsImRpZmZYIiwiZGlmZlkiLCJnZXRMZWZ0IiwiZ2V0UmlnaHQiLCJnZXRUb3AiLCJnZXRCb3R0b20iLCJfcGxhY2VJbldhbGwiLCJfZGlnTGluZSIsInJvdGF0aW9uIiwibWlkMSIsIm1pZDIiLCJkaXJJbmRleCIsImF2YWlsIiwibGFzdEJhZEluZGV4IiwicG9pbnRzIiwiY29ycmlkb3IiLCJDZWxsdWxhciIsImJvcm4iLCJzdXJ2aXZlIiwiX2RpcnMiLCJwcm9iYWJpbGl0eSIsIm5ld01hcCIsIndpZHRoU3RlcCIsIndpZHRoU3RhcnQiLCJjdXIiLCJuY291bnQiLCJfZ2V0TmVpZ2hib3JzIiwiX3NlcnZpY2VDYWxsYmFjayIsImNvbm5lY3Rpb25DYWxsYmFjayIsImFsbEZyZWVTcGFjZSIsIm5vdENvbm5lY3RlZCIsIndpZHRoU3RhcnRzIiwiX2ZyZWVTcGFjZSIsIl9wb2ludEtleSIsIl9maW5kQ29ubmVjdGVkIiwiX2dldEZyb21UbyIsImZyb20iLCJ0byIsImxvY2FsIiwiX3R1bm5lbFRvQ29ubmVjdGVkNiIsIl90dW5uZWxUb0Nvbm5lY3RlZCIsInBwIiwiY29ubmVjdGVkS2V5cyIsIm5vdENvbm5lY3RlZEtleXMiLCJfZ2V0Q2xvc2VzdCIsInBvaW50Iiwic3BhY2UiLCJtaW5Qb2ludCIsIm1pbkRpc3QiLCJrZWVwTm90Q29ubmVjdGVkIiwidGVzdHMiLCJwa2V5Iiwic3RlcFdpZHRoIiwiRGlnZ2VyIiwiZHVnUGVyY2VudGFnZSIsIl9mZWF0dXJlcyIsIl9mZWF0dXJlQXR0ZW1wdHMiLCJfd2FsbHMiLCJfcHJpb3JpdHlXYWxsQ2FsbGJhY2siLCJhcmVhIiwiX2ZpcnN0Um9vbSIsInByaW9yaXR5V2FsbHMiLCJ3YWxsIiwiX2ZpbmRXYWxsIiwiX2dldERpZ2dpbmdEaXJlY3Rpb24iLCJmZWF0dXJlQXR0ZW1wdHMiLCJfdHJ5RmVhdHVyZSIsIl9yZW1vdmVTdXJyb3VuZGluZ1dhbGxzIiwiX2FkZERvb3JzIiwiY3JlYXRlUmFuZG9tQ2VudGVyIiwicHJpbzEiLCJwcmlvMiIsImZlYXR1cmVOYW1lIiwiZmVhdHVyZSIsImNyZWF0ZVJhbmRvbUF0IiwiY3JlYXRlUHJpb3JpdHlXYWxscyIsImRlbHRhcyIsImRlbHRhIiwiYWRkRG9vcnMiLCJFbGxlck1hemUiLCJEaXZpZGVkTWF6ZSIsIl9zdGFjayIsIl9wcm9jZXNzIiwiX3BhcnRpdGlvblJvb20iLCJhdmFpbFgiLCJhdmFpbFkiLCJ3YWxscyIsInNvbGlkIiwiaG9sZSIsIkljZXlNYXplIiwicmVndWxhcml0eSIsIl9yZWd1bGFyaXR5IiwiX3JhbmRvbWl6ZSIsIl9pc0ZyZWUiLCJSb2d1ZSIsImNvbm5lY3RlZENlbGxzIiwiY2VsbFdpZHRoIiwiY2VsbEhlaWdodCIsIl9jYWxjdWxhdGVSb29tU2l6ZSIsIl9pbml0Um9vbXMiLCJfY29ubmVjdFVuY29ubmVjdGVkUm9vbXMiLCJfY3JlYXRlUmFuZG9tUm9vbUNvbm5lY3Rpb25zIiwiX2NyZWF0ZVJvb21zIiwiX2NyZWF0ZUNvcnJpZG9ycyIsIm5jZ3giLCJuY2d5Iiwib3RoZXJSb29tIiwiZGlyVG9DaGVjayIsImNneCIsImNneSIsImZvdW5kIiwidmFsaWRSb29tIiwiY3ciLCJkaXJlY3Rpb25zIiwiZGlySWR4IiwibmV3SSIsIm5ld0oiLCJyb29tdyIsInJvb21oIiwiY3dwIiwiY2hwIiwic3hPZmZzZXQiLCJzeU9mZnNldCIsImlpIiwiamoiLCJhUm9vbSIsImFEaXJlY3Rpb24iLCJyeCIsInJ5IiwiZG9vciIsInN0YXJ0UG9zaXRpb24iLCJlbmRQb3NpdGlvbiIsInRlbXBEaXN0IiwieERpciIsInlEaXIiLCJtb3ZlIiwieE9mZnNldCIsInlPZmZzZXQiLCJ4cG9zIiwieXBvcyIsIm1vdmVzIiwieEFicyIsInlBYnMiLCJwZXJjZW50IiwiZmlyc3RIYWxmIiwic2Vjb25kSGFsZiIsImNvbm5lY3Rpb24iLCJvdGhlcldhbGwiLCJfZHJhd0NvcnJpZG9yIiwiX2dldFdhbGxQb3NpdGlvbiIsIk5vaXNlIiwiRjIiLCJHMiIsIlNpbXBsZXgiLCJncmFkaWVudHMiLCJfZ3JhZGllbnRzIiwicGVybXV0YXRpb25zIiwiX3Blcm1zIiwiX2luZGV4ZXMiLCJ4aW4iLCJ5aW4iLCJnaSIsImkxIiwiajEiLCJwZXJtcyIsIm4wIiwibjEiLCJuMiIsIngwIiwieTAiLCJ0MCIsImdyYWQiLCJ0MiIsInRvWCIsInRvWSIsInBhc3NhYmxlQ2FsbGJhY2siLCJfdG9YIiwiX3RvWSIsIl9wYXNzYWJsZUNhbGxiYWNrIiwiRGlqa3N0cmEiLCJfY29tcHV0ZWQiLCJfdG9kbyIsIl9hZGQiLCJmcm9tWCIsImZyb21ZIiwiX2NvbXB1dGUiLCJwcmV2IiwibmVpZ2hib3IiLCJBU3RhciIsIl9kb25lIiwiX2Zyb21YIiwiX2Zyb21ZIiwiX2Rpc3RhbmNlIiwiZiIsIml0ZW1GIiwiRW5naW5lIiwic2NoZWR1bGVyIiwiX3NjaGVkdWxlciIsIl9sb2NrIiwidW5sb2NrIiwiYWN0b3IiLCJsb2NrIiwiYWN0IiwidGhlbiIsInJlZmxlY3Rpdml0eUNhbGxiYWNrIiwiX3JlZmxlY3Rpdml0eUNhbGxiYWNrIiwicGFzc2VzIiwiZW1pc3Npb25UaHJlc2hvbGQiLCJfbGlnaHRzIiwiX3JlZmxlY3Rpdml0eUNhY2hlIiwiX2ZvdkNhY2hlIiwicmVzZXQiLCJmb3YiLCJfZm92IiwibGlnaHRpbmdDYWxsYmFjayIsImRvbmVDZWxscyIsImVtaXR0aW5nQ2VsbHMiLCJsaXRDZWxscyIsImxpZ2h0IiwiX2VtaXRMaWdodCIsIl9jb21wdXRlRW1pdHRlcnMiLCJsaXRLZXkiLCJfZW1pdExpZ2h0RnJvbUNlbGwiLCJyZWZsZWN0aXZpdHkiLCJlbWlzc2lvbiIsIl91cGRhdGVGT1YiLCJmb3ZLZXkiLCJmb3JtRmFjdG9yIiwia2V5MSIsImNvbXB1dGUiLCJ2aXMiLCJVdGlsIiwidXRpbCIsIlRleHQiLCJ0ZXJtY29sb3IiLCJyZ2IiLCJfb2Zmc2V0IiwiX2N1cnNvciIsIl9sYXN0Q29sb3IiLCJzdGRvdXQiLCJ3cml0ZSIsInBvc2l0aW9uVG9BbnNpIiwibmV3Q29sb3IiLCJjb2xvclRvQW5zaSIsImNvbHVtbnMiLCJkaW1Qb2wiLCJkaW1EaXIiLCJpZFBvbCIsImlkRGlyIiwiYWxwaGEiLCJwcm9qZWN0aW9uTWF0cml4IiwiaXNxcnQyIiwicm90YXRpb25NYXRyaXgiLCJwaGFzZVNoaWZ0Rm9yUmVhbEVpZ2VudmVjdG9ycyIsInBoYXNlT3J0aG9nb25hbCIsInJlZmxlY3RQaGFzZUZyb21MaWdodGVyIiwicmVmbGVjdFBoYXNlRnJvbURlbnNlciIsImFtcGxpdHVkZUludGVuc2l0eSIsInJvdCIsInJlZmxlY3RGcm9tUGxhbmVEaXJlY3Rpb24iLCJzcGFyc2VDb29yZHMiLCJiZWFtc3BsaXR0ZXJUcmFuc21pdHRpb25EaXJlY3Rpb25zIiwiZGlvZGVGb3JEaXJlY3Rpb25zIiwiSW5wdXRVdGlsaXR5IiwiaGFuZGxlSW5wdXQiLCJwcm9jZXNzSW5wdXRDYWxsYmFjayIsInN0b3BQcm9jZXNzaW5nIiwicHJvY2Vzc0lucHV0IiwicmVtb3ZlRXZlbnRMaXN0ZW5lciIsImJvZHkiLCJvbmxvYWQiLCJpbXBvcnRMZXZlbCIsIkxldmVsIiwiZ3JpZCIsImdvYWxzIiwiaGludHMiLCJjb21wbGV0ZWQiLCJvbiIsImZpbHRlcmVkQnkiLCJ0aHJlc2hvbGQiXSwibWFwcGluZ3MiOiI4QkFDRSxJQUFJQSxFQUFt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SUFBTSxJQUFVLElBQUssSUFBVSxJQUN6QyxJQUFVLElBQU0sSUFBVSxJQUFLLElBQVUsSUFBSyxJQUFVLElBQ3hELElBQVUsSUFBTSxJQUFVLElBQUssSUFBVSxJQUFLLElBQVUsSUFDeEQsSUFBVSxJQUFNLElBQVUsSUFBSyxJQUFVLElBQUssSUFBVSxJQUN4RCxJQUFVLElBQU0sSUFBVSxJQUFLLElBQVUsSUFBSyxJQUFVLElBQUssSUFBVSxJQUN2RSxJQUFVLElBQU0sSUFBVSxJQUFLLElBQVUsSUFBSyxJQUFVLElBQUssSUFBVSxJQUN2RSxJQUFVLElBQU0sSUFBVSxJQUFLLElBQVUsSUFBSyxJQUFVLElBQ3hELElBQVUsSUFBTSxJQUFVLElBQUssSUFBVSxJQUFLLElBQVUsSUFDeEQsSUFBVSxJQUFNLElBQVUsSUFBSyxJQUFVLElBQUssSUFBVSxJQUN4RCxJQUFVLElBQU0sSUFBVSxJQUFLLElBQVUsSUFBSyxJQUFVLElBQUssSUFBVSxJQUN2RSxJQUFVLElBQU0sSUFBVSxJQUFLLElBQVUsSUFBSyxJQUFVLElBQUssSUFBVSxJQUN2RSxJQUFVLElBQU0sSUFBVSxJQUMxQixJQUFVLElBQU0sSUFBVSxJQUFLLElBQVUsSUFDekMsSUFBVSxJQUFNLElBQVUsSUFBSyxJQUFVLElBQUssSUFBVSxJQUFLLElBQVUsSUFDdkUsSUFBVSxJQUFNLElBQVUsSUFBSyxJQUFVLElBQUssSUFBVSxJQUFLLElBQVUsSUFDdkUsSUFBVSxJQUFNLElBQVUsSUFBSyxJQUFVLElBQUssSUFBVSxJQUN4RCxJQUFVLElBQU0sSUFBVSxJQUFLLElBQVUsSUFBSyxJQUFVLElBQ3hELElBQVUsSUFBTSxJQUFVLElBQUssSUFBVSxJQUN6QyxJQUFVLElBQU0sSUFBVSxJQUFLLElBQVUsSUFDekMsSUFBVSxJQUFNLElBQVUsSUFBSyxJQUFVLElBQ3pDLElBQVUsSUFBTSxJQUFVLElBQUssSUFBVSxJQUN6QyxJQUFVLElBQU0sSUFBVSxJQUFLLElBQVUsSUFBSyxJQUFVLElBQ3hELElBQVUsSUFBTSxJQUFVLElBQUssSUFB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QU0sV0FBWSxFQUd2QixLQUFLLEtBQU0sR0FFUixJQUFJLEVBQU0sS0FBSyxNQUFPLEtBQUssS0FBTyxFQUFHLEtBQUssVUFBVyxLQUFLLFFBQVMsS0FBSyxLLFdBSS9FLElBQUksV0FBa0IsS0FBSyxRQUFVLFVBQVksMkJBQTJCLEtBQUssYUFBYSxLQUFLLFVBQVUsNkIsVUFDckcsZ0JBQ1IsR0FBVSxFQUFXLFFBQVEsYUFBYSxLQUFLLFdBQy9DLEdBQVUsY0FDUixHQUFVLEVBQVcsUUFBUSxhQUFhLEtBQUssU0FFL0MsR0FBVSxLQUNWLE1BQU8sNENBQ1QsS0FBSyxNQUFNLE1BQU0sSUFBSSxJQUNuQixRQUFlLEVBQUssaUJBRWpCLEUsY0FJSCxNQUFPLENBQ0QsTUFBTyxLQUFLLE1BQU0sY0F0TjlCLGEiLCJmaWxlIjoiYXBwLmpzIiwic291cmNlc0NvbnRlbnQiOlsiIFx0Ly8gVGhlIG1vZHVsZSBjYWNoZVxuIFx0dmFyIGluc3RhbGxlZE1vZHVsZXMgPSB7fTtcblxuIFx0Ly8gVGhlIHJlcXVpcmUgZnVuY3Rpb25cbiBcdGZ1bmN0aW9uIF9fd2VicGFja19yZXF1aXJlX18obW9kdWxlSWQpIHtcblxuIFx0XHQvLyBDaGVjayBpZiBtb2R1bGUgaXMgaW4gY2FjaGVcbiBcdFx0aWYoaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0pIHtcbiBcdFx0XHRyZXR1cm4gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0uZXhwb3J0cztcbiBcdFx0fVxuIFx0XHQvLyBDcmVhdGUgYSBuZXcgbW9kdWxlIChhbmQgcHV0IGl0IGludG8gdGhlIGNhY2hlKVxuIFx0XHR2YXIgbW9kdWxlID0gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0gPSB7XG4gXHRcdFx0aTogbW9kdWxlSWQsXG4gXHRcdFx0bDogZmFsc2UsXG4gXHRcdFx0ZXhwb3J0czoge31cbiBcdFx0fTtcblxuIFx0XHQvLyBFeGVjdXRlIHRoZSBtb2R1bGUgZnVuY3Rpb25cbiBcdFx0bW9kdWxlc1ttb2R1bGVJZF0uY2FsbChtb2R1bGUuZXhwb3J0cywgbW9kdWxlLCBtb2R1bGUuZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXyk7XG5cbiBcdFx0Ly8gRmxhZyB0aGUgbW9kdWxlIGFzIGxvYWRlZFxuIFx0XHRtb2R1bGUubCA9IHRydWU7XG5cbiBcdFx0Ly8gUmV0dXJuIHRoZSBleHBvcnRzIG9mIHRoZSBtb2R1bGVcbiBcdFx0cmV0dXJuIG1vZHVsZS5leHBvcnRzO1xuIFx0fVxuXG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlcyBvYmplY3QgKF9fd2VicGFja19tb2R1bGVzX18pXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm0gPSBtb2R1bGVzO1xuXG4gXHQvLyBleHBvc2UgdGhlIG1vZHVsZSBjYWNoZVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5jID0gaW5zdGFsbGVkTW9kdWxlcztcblxuIFx0Ly8gZGVmaW5lIGdldHRlciBmdW5jdGlvbiBmb3IgaGFybW9ueSBleHBvcnRzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQgPSBmdW5jdGlvbihleHBvcnRzLCBuYW1lLCBnZXR0ZXIpIHtcbiBcdFx0aWYoIV9fd2VicGFja19yZXF1aXJlX18ubyhleHBvcnRzLCBuYW1lKSkge1xuIFx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBuYW1lLCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZ2V0dGVyIH0pO1xuIFx0XHR9XG4gXHR9O1xuXG4gXHQvLyBkZWZpbmUgX19lc01vZHVsZSBvbiBleHBvcnRzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnIgPSBmdW5jdGlvbihleHBvcnRzKSB7XG4gXHRcdGlmKHR5cGVvZiBTeW1ib2wgIT09ICd1bmRlZmluZWQnICYmIFN5bWJvbC50b1N0cmluZ1RhZykge1xuIFx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBTeW1ib2wudG9TdHJpbmdUYWcsIHsgdmFsdWU6ICdNb2R1bGUnIH0pO1xuIFx0XHR9XG4gXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnX19lc01vZHVsZScsIHsgdmFsdWU6IHRydWUgfSk7XG4gXHR9O1xuXG4gXHQvLyBjcmVhdGUgYSBmYWtlIG5hbWVzcGFjZSBvYmplY3RcbiBcdC8vIG1vZGUgJiAxOiB2YWx1ZSBpcyBhIG1vZHVsZSBpZCwgcmVxdWlyZSBpdFxuIFx0Ly8gbW9kZSAmIDI6IG1lcmdlIGFsbCBwcm9wZXJ0aWVzIG9mIHZhbHVlIGludG8gdGhlIG5zXG4gXHQvLyBtb2RlICYgNDogcmV0dXJuIHZhbHVlIHdoZW4gYWxyZWFkeSBucyBvYmplY3RcbiBcdC8vIG1vZGUgJiA4fDE6IGJlaGF2ZSBsaWtlIHJlcXVpcmVcbiBcdF9fd2VicGFja19yZXF1aXJlX18udCA9IGZ1bmN0aW9uKHZhbHVlLCBtb2RlKSB7XG4gXHRcdGlmKG1vZGUgJiAxKSB2YWx1ZSA9IF9fd2VicGFja19yZXF1aXJlX18odmFsdWUpO1xuIFx0XHRpZihtb2RlICYgOCkgcmV0dXJuIHZhbHVlO1xuIFx0XHRpZigobW9kZSAmIDQpICYmIHR5cGVvZiB2YWx1ZSA9PT0gJ29iamVjdCcgJiYgdmFsdWUgJiYgdmFsdWUuX19lc01vZHVsZSkgcmV0dXJuIHZhbHVlO1xuIFx0XHR2YXIgbnMgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuIFx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fLnIobnMpO1xuIFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkobnMsICdkZWZhdWx0JywgeyBlbnVtZXJhYmxlOiB0cnVlLCB2YWx1ZTogdmFsdWUgfSk7XG4gXHRcdGlmKG1vZGUgJiAyICYmIHR5cGVvZiB2YWx1ZSAhPSAnc3RyaW5nJykgZm9yKHZhciBrZXkgaW4gdmFsdWUpIF9fd2VicGFja19yZXF1aXJlX18uZChucywga2V5LCBmdW5jdGlvbihrZXkpIHsgcmV0dXJuIHZhbHVlW2tleV07IH0uYmluZChudWxsLCBrZXkpKTtcbiBcdFx0cmV0dXJuIG5zO1xuIFx0fTtcblxuIFx0Ly8gZ2V0RGVmYXVsdEV4cG9ydCBmdW5jdGlvbiBmb3IgY29tcGF0aWJpbGl0eSB3aXRoIG5vbi1oYXJtb255IG1vZHVsZXNcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubiA9IGZ1bmN0aW9uKG1vZHVsZSkge1xuIFx0XHR2YXIgZ2V0dGVyID0gbW9kdWxlICYmIG1vZHVsZS5fX2VzTW9kdWxlID9cbiBcdFx0XHRmdW5jdGlvbiBnZXREZWZhdWx0KCkgeyByZXR1cm4gbW9kdWxlWydkZWZhdWx0J107IH0gOlxuIFx0XHRcdGZ1bmN0aW9uIGdldE1vZHVsZUV4cG9ydHMoKSB7IHJldHVybiBtb2R1bGU7IH07XG4gXHRcdF9fd2VicGFja19yZXF1aXJlX18uZChnZXR0ZXIsICdhJywgZ2V0dGVyKTtcbiBcdFx0cmV0dXJuIGdldHRlcjtcbiBcdH07XG5cbiBcdC8vIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbFxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5vID0gZnVuY3Rpb24ob2JqZWN0LCBwcm9wZXJ0eSkgeyByZXR1cm4gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iamVjdCwgcHJvcGVydHkpOyB9O1xuXG4gXHQvLyBfX3dlYnBhY2tfcHVibGljX3BhdGhfX1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5wID0gXCJcIjtcblxuXG4gXHQvLyBMb2FkIGVudHJ5IG1vZHVsZSBhbmQgcmV0dXJuIGV4cG9ydHNcbiBcdHJldHVybiBfX3dlYnBhY2tfcmVxdWlyZV9fKF9fd2VicGFja19yZXF1aXJlX18ucyA9IDIzKTtcbiIsIi8qKlxuICogVGhpcyBjb2RlIGlzIGFuIGltcGxlbWVudGF0aW9uIG9mIEFsZWEgYWxnb3JpdGhtOyAoQykgMjAxMCBKb2hhbm5lcyBCYWFnw7hlLlxuICogQWxlYSBpcyBsaWNlbnNlZCBhY2NvcmRpbmcgdG8gdGhlIGh0dHA6Ly9lbi53aWtpcGVkaWEub3JnL3dpa2kvTUlUX0xpY2Vuc2UuXG4gKi9cbmNvbnN0IEZSQUMgPSAyLjMyODMwNjQzNjUzODY5NjNlLTEwOyAvKiAyXi0zMiAqL1xuY2xhc3MgUk5HIHtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgdGhpcy5fc2VlZCA9IDA7XG4gICAgICAgIHRoaXMuX3MwID0gMDtcbiAgICAgICAgdGhpcy5fczEgPSAwO1xuICAgICAgICB0aGlzLl9zMiA9IDA7XG4gICAgICAgIHRoaXMuX2MgPSAwO1xuICAgIH1cbiAgICBnZXRTZWVkKCkgeyByZXR1cm4gdGhpcy5fc2VlZDsgfVxuICAgIC8qKlxuICAgICAqIFNlZWQgdGhlIG51bWJlciBnZW5lcmF0b3JcbiAgICAgKi9cbiAgICBzZXRTZWVkKHNlZWQpIHtcbiAgICAgICAgc2VlZCA9IChzZWVkIDwgMSA/IDEgLyBzZWVkIDogc2VlZCk7XG4gICAgICAgIHRoaXMuX3NlZWQgPSBzZWVkO1xuICAgICAgICB0aGlzLl9zMCA9IChzZWVkID4+PiAwKSAqIEZSQUM7XG4gICAgICAgIHNlZWQgPSAoc2VlZCAqIDY5MDY5ICsgMSkgPj4+IDA7XG4gICAgICAgIHRoaXMuX3MxID0gc2VlZCAqIEZSQUM7XG4gICAgICAgIHNlZWQgPSAoc2VlZCAqIDY5MDY5ICsgMSkgPj4+IDA7XG4gICAgICAgIHRoaXMuX3MyID0gc2VlZCAqIEZSQUM7XG4gICAgICAgIHRoaXMuX2MgPSAxO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgLyoqXG4gICAgICogQHJldHVybnMgUHNldWRvcmFuZG9tIHZhbHVlIFswLDEpLCB1bmlmb3JtbHkgZGlzdHJpYnV0ZWRcbiAgICAgKi9cbiAgICBnZXRVbmlmb3JtKCkge1xuICAgICAgICBsZXQgdCA9IDIwOTE2MzkgKiB0aGlzLl9zMCArIHRoaXMuX2MgKiBGUkFDO1xuICAgICAgICB0aGlzLl9zMCA9IHRoaXMuX3MxO1xuICAgICAgICB0aGlzLl9zMSA9IHRoaXMuX3MyO1xuICAgICAgICB0aGlzLl9jID0gdCB8IDA7XG4gICAgICAgIHRoaXMuX3MyID0gdCAtIHRoaXMuX2M7XG4gICAgICAgIHJldHVybiB0aGlzLl9zMjtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQHBhcmFtIGxvd2VyQm91bmQgVGhlIGxvd2VyIGVuZCBvZiB0aGUgcmFuZ2UgdG8gcmV0dXJuIGEgdmFsdWUgZnJvbSwgaW5jbHVzaXZlXG4gICAgICogQHBhcmFtIHVwcGVyQm91bmQgVGhlIHVwcGVyIGVuZCBvZiB0aGUgcmFuZ2UgdG8gcmV0dXJuIGEgdmFsdWUgZnJvbSwgaW5jbHVzaXZlXG4gICAgICogQHJldHVybnMgUHNldWRvcmFuZG9tIHZhbHVlIFtsb3dlckJvdW5kLCB1cHBlckJvdW5kXSwgdXNpbmcgUk9ULlJORy5nZXRVbmlmb3JtKCkgdG8gZGlzdHJpYnV0ZSB0aGUgdmFsdWVcbiAgICAgKi9cbiAgICBnZXRVbmlmb3JtSW50KGxvd2VyQm91bmQsIHVwcGVyQm91bmQpIHtcbiAgICAgICAgbGV0IG1heCA9IE1hdGgubWF4KGxvd2VyQm91bmQsIHVwcGVyQm91bmQpO1xuICAgICAgICBsZXQgbWluID0gTWF0aC5taW4obG93ZXJCb3VuZCwgdXBwZXJCb3VuZCk7XG4gICAgICAgIHJldHVybiBNYXRoLmZsb29yKHRoaXMuZ2V0VW5pZm9ybSgpICogKG1heCAtIG1pbiArIDEpKSArIG1pbjtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQHBhcmFtIG1lYW4gTWVhbiB2YWx1ZVxuICAgICAqIEBwYXJhbSBzdGRkZXYgU3RhbmRhcmQgZGV2aWF0aW9uLiB+OTUlIG9mIHRoZSBhYnNvbHV0ZSB2YWx1ZXMgd2lsbCBiZSBsb3dlciB0aGFuIDIqc3RkZGV2LlxuICAgICAqIEByZXR1cm5zIEEgbm9ybWFsbHkgZGlzdHJpYnV0ZWQgcHNldWRvcmFuZG9tIHZhbHVlXG4gICAgICovXG4gICAgZ2V0Tm9ybWFsKG1lYW4gPSAwLCBzdGRkZXYgPSAxKSB7XG4gICAgICAgIGxldCB1LCB2LCByO1xuICAgICAgICBkbyB7XG4gICAgICAgICAgICB1ID0gMiAqIHRoaXMuZ2V0VW5pZm9ybSgpIC0gMTtcbiAgICAgICAgICAgIHYgPSAyICogdGhpcy5nZXRVbmlmb3JtKCkgLSAxO1xuICAgICAgICAgICAgciA9IHUgKiB1ICsgdiAqIHY7XG4gICAgICAgIH0gd2hpbGUgKHIgPiAxIHx8IHIgPT0gMCk7XG4gICAgICAgIGxldCBnYXVzcyA9IHUgKiBNYXRoLnNxcnQoLTIgKiBNYXRoLmxvZyhyKSAvIHIpO1xuICAgICAgICByZXR1cm4gbWVhbiArIGdhdXNzICogc3RkZGV2O1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBAcmV0dXJucyBQc2V1ZG9yYW5kb20gdmFsdWUgWzEsMTAwXSBpbmNsdXNpdmUsIHVuaWZvcm1seSBkaXN0cmlidXRlZFxuICAgICAqL1xuICAgIGdldFBlcmNlbnRhZ2UoKSB7XG4gICAgICAgIHJldHVybiAxICsgTWF0aC5mbG9vcih0aGlzLmdldFVuaWZvcm0oKSAqIDEwMCk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEByZXR1cm5zIFJhbmRvbWx5IHBpY2tlZCBpdGVtLCBudWxsIHdoZW4gbGVuZ3RoPTBcbiAgICAgKi9cbiAgICBnZXRJdGVtKGFycmF5KSB7XG4gICAgICAgIGlmICghYXJyYXkubGVuZ3RoKSB7XG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gYXJyYXlbTWF0aC5mbG9vcih0aGlzLmdldFVuaWZvcm0oKSAqIGFycmF5Lmxlbmd0aCldO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBAcmV0dXJucyBOZXcgYXJyYXkgd2l0aCByYW5kb21pemVkIGl0ZW1zXG4gICAgICovXG4gICAgc2h1ZmZsZShhcnJheSkge1xuICAgICAgICBsZXQgcmVzdWx0ID0gW107XG4gICAgICAgIGxldCBjbG9uZSA9IGFycmF5LnNsaWNlKCk7XG4gICAgICAgIHdoaWxlIChjbG9uZS5sZW5ndGgpIHtcbiAgICAgICAgICAgIGxldCBpbmRleCA9IGNsb25lLmluZGV4T2YodGhpcy5nZXRJdGVtKGNsb25lKSk7XG4gICAgICAgICAgICByZXN1bHQucHVzaChjbG9uZS5zcGxpY2UoaW5kZXgsIDEpWzBdKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBAcGFyYW0gZGF0YSBrZXk9d2hhdGV2ZXIsIHZhbHVlPXdlaWdodCAocmVsYXRpdmUgcHJvYmFiaWxpdHkpXG4gICAgICogQHJldHVybnMgd2hhdGV2ZXJcbiAgICAgKi9cbiAgICBnZXRXZWlnaHRlZFZhbHVlKGRhdGEpIHtcbiAgICAgICAgbGV0IHRvdGFsID0gMDtcbiAgICAgICAgZm9yIChsZXQgaWQgaW4gZGF0YSkge1xuICAgICAgICAgICAgdG90YWwgKz0gZGF0YVtpZF07XG4gICAgICAgIH1cbiAgICAgICAgbGV0IHJhbmRvbSA9IHRoaXMuZ2V0VW5pZm9ybSgpICogdG90YWw7XG4gICAgICAgIGxldCBpZCwgcGFydCA9IDA7XG4gICAgICAgIGZvciAoaWQgaW4gZGF0YSkge1xuICAgICAgICAgICAgcGFydCArPSBkYXRhW2lkXTtcbiAgICAgICAgICAgIGlmIChyYW5kb20gPCBwYXJ0KSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGlkO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIC8vIElmIGJ5IHNvbWUgZmxvYXRpbmctcG9pbnQgYW5ub3lhbmNlIHdlIGhhdmVcbiAgICAgICAgLy8gcmFuZG9tID49IHRvdGFsLCBqdXN0IHJldHVybiB0aGUgbGFzdCBpZC5cbiAgICAgICAgcmV0dXJuIGlkO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBHZXQgUk5HIHN0YXRlLiBVc2VmdWwgZm9yIHN0b3JpbmcgdGhlIHN0YXRlIGFuZCByZS1zZXR0aW5nIGl0IHZpYSBzZXRTdGF0ZS5cbiAgICAgKiBAcmV0dXJucyBJbnRlcm5hbCBzdGF0ZVxuICAgICAqL1xuICAgIGdldFN0YXRlKCkgeyByZXR1cm4gW3RoaXMuX3MwLCB0aGlzLl9zMSwgdGhpcy5fczIsIHRoaXMuX2NdOyB9XG4gICAgLyoqXG4gICAgICogU2V0IGEgcHJldmlvdXNseSByZXRyaWV2ZWQgc3RhdGUuXG4gICAgICovXG4gICAgc2V0U3RhdGUoc3RhdGUpIHtcbiAgICAgICAgdGhpcy5fczAgPSBzdGF0ZVswXTtcbiAgICAgICAgdGhpcy5fczEgPSBzdGF0ZVsxXTtcbiAgICAgICAgdGhpcy5fczIgPSBzdGF0ZVsyXTtcbiAgICAgICAgdGhpcy5fYyA9IHN0YXRlWzNdO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgLyoqXG4gICAgICogUmV0dXJucyBhIGNsb25lZCBSTkdcbiAgICAgKi9cbiAgICBjbG9uZSgpIHtcbiAgICAgICAgbGV0IGNsb25lID0gbmV3IFJORygpO1xuICAgICAgICByZXR1cm4gY2xvbmUuc2V0U3RhdGUodGhpcy5nZXRTdGF0ZSgpKTtcbiAgICB9XG59XG5leHBvcnQgZGVmYXVsdCBuZXcgUk5HKCkuc2V0U2VlZChEYXRlLm5vdygpKTtcbiIsIi8qKlxuICogQWx3YXlzIHBvc2l0aXZlIG1vZHVsdXNcbiAqIEBwYXJhbSB4IE9wZXJhbmRcbiAqIEBwYXJhbSBuIE1vZHVsdXNcbiAqIEByZXR1cm5zIHggbW9kdWxvIG5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIG1vZCh4LCBuKSB7XG4gICAgcmV0dXJuICh4ICUgbiArIG4pICUgbjtcbn1cbmV4cG9ydCBmdW5jdGlvbiBjbGFtcCh2YWwsIG1pbiA9IDAsIG1heCA9IDEpIHtcbiAgICBpZiAodmFsIDwgbWluKVxuICAgICAgICByZXR1cm4gbWluO1xuICAgIGlmICh2YWwgPiBtYXgpXG4gICAgICAgIHJldHVybiBtYXg7XG4gICAgcmV0dXJuIHZhbDtcbn1cbmV4cG9ydCBmdW5jdGlvbiBjYXBpdGFsaXplKHN0cmluZykge1xuICAgIHJldHVybiBzdHJpbmcuY2hhckF0KDApLnRvVXBwZXJDYXNlKCkgKyBzdHJpbmcuc3Vic3RyaW5nKDEpO1xufVxuLyoqXG4gKiBGb3JtYXQgYSBzdHJpbmcgaW4gYSBmbGV4aWJsZSB3YXkuIFNjYW5zIGZvciAlcyBzdHJpbmdzIGFuZCByZXBsYWNlcyB0aGVtIHdpdGggYXJndW1lbnRzLiBMaXN0IG9mIHBhdHRlcm5zIGlzIG1vZGlmaWFibGUgdmlhIFN0cmluZy5mb3JtYXQubWFwLlxuICogQHBhcmFtIHtzdHJpbmd9IHRlbXBsYXRlXG4gKiBAcGFyYW0ge2FueX0gW2FyZ3ZdXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBmb3JtYXQodGVtcGxhdGUsIC4uLmFyZ3MpIHtcbiAgICBsZXQgbWFwID0gZm9ybWF0Lm1hcDtcbiAgICBsZXQgcmVwbGFjZXIgPSBmdW5jdGlvbiAobWF0Y2gsIGdyb3VwMSwgZ3JvdXAyLCBpbmRleCkge1xuICAgICAgICBpZiAodGVtcGxhdGUuY2hhckF0KGluZGV4IC0gMSkgPT0gXCIlXCIpIHtcbiAgICAgICAgICAgIHJldHVybiBtYXRjaC5zdWJzdHJpbmcoMSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFhcmdzLmxlbmd0aCkge1xuICAgICAgICAgICAgcmV0dXJuIG1hdGNoO1xuICAgICAgICB9XG4gICAgICAgIGxldCBvYmogPSBhcmdzWzBdO1xuICAgICAgICBsZXQgZ3JvdXAgPSBncm91cDEgfHwgZ3JvdXAyO1xuICAgICAgICBsZXQgcGFydHMgPSBncm91cC5zcGxpdChcIixcIik7XG4gICAgICAgIGxldCBuYW1lID0gcGFydHMuc2hpZnQoKSB8fCBcIlwiO1xuICAgICAgICBsZXQgbWV0aG9kID0gbWFwW25hbWUudG9Mb3dlckNhc2UoKV07XG4gICAgICAgIGlmICghbWV0aG9kKSB7XG4gICAgICAgICAgICByZXR1cm4gbWF0Y2g7XG4gICAgICAgIH1cbiAgICAgICAgb2JqID0gYXJncy5zaGlmdCgpO1xuICAgICAgICBsZXQgcmVwbGFjZWQgPSBvYmpbbWV0aG9kXS5hcHBseShvYmosIHBhcnRzKTtcbiAgICAgICAgbGV0IGZpcnN0ID0gbmFtZS5jaGFyQXQoMCk7XG4gICAgICAgIGlmIChmaXJzdCAhPSBmaXJzdC50b0xvd2VyQ2FzZSgpKSB7XG4gICAgICAgICAgICByZXBsYWNlZCA9IGNhcGl0YWxpemUocmVwbGFjZWQpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiByZXBsYWNlZDtcbiAgICB9O1xuICAgIHJldHVybiB0ZW1wbGF0ZS5yZXBsYWNlKC8lKD86KFthLXpdKyl8KD86eyhbXn1dKyl9KSkvZ2ksIHJlcGxhY2VyKTtcbn1cbmZvcm1hdC5tYXAgPSB7XG4gICAgXCJzXCI6IFwidG9TdHJpbmdcIlxufTtcbiIsImltcG9ydCB7IGNsYW1wIH0gZnJvbSBcIi4vdXRpbC5qc1wiO1xuaW1wb3J0IFJORyBmcm9tIFwiLi9ybmcuanNcIjtcbmV4cG9ydCBmdW5jdGlvbiBmcm9tU3RyaW5nKHN0cikge1xuICAgIGxldCBjYWNoZWQsIHI7XG4gICAgaWYgKHN0ciBpbiBDQUNIRSkge1xuICAgICAgICBjYWNoZWQgPSBDQUNIRVtzdHJdO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgaWYgKHN0ci5jaGFyQXQoMCkgPT0gXCIjXCIpIHsgLy8gaGV4IHJnYlxuICAgICAgICAgICAgbGV0IG1hdGNoZWQgPSBzdHIubWF0Y2goL1swLTlhLWZdL2dpKSB8fCBbXTtcbiAgICAgICAgICAgIGxldCB2YWx1ZXMgPSBtYXRjaGVkLm1hcCgoeCkgPT4gcGFyc2VJbnQoeCwgMTYpKTtcbiAgICAgICAgICAgIGlmICh2YWx1ZXMubGVuZ3RoID09IDMpIHtcbiAgICAgICAgICAgICAgICBjYWNoZWQgPSB2YWx1ZXMubWFwKCh4KSA9PiB4ICogMTcpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCAzOyBpKyspIHtcbiAgICAgICAgICAgICAgICAgICAgdmFsdWVzW2kgKyAxXSArPSAxNiAqIHZhbHVlc1tpXTtcbiAgICAgICAgICAgICAgICAgICAgdmFsdWVzLnNwbGljZShpLCAxKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY2FjaGVkID0gdmFsdWVzO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKChyID0gc3RyLm1hdGNoKC9yZ2JcXCgoWzAtOSwgXSspXFwpL2kpKSkgeyAvLyBkZWNpbWFsIHJnYlxuICAgICAgICAgICAgY2FjaGVkID0gclsxXS5zcGxpdCgvXFxzKixcXHMqLykubWFwKCh4KSA9PiBwYXJzZUludCh4KSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7IC8vIGh0bWwgbmFtZVxuICAgICAgICAgICAgY2FjaGVkID0gWzAsIDAsIDBdO1xuICAgICAgICB9XG4gICAgICAgIENBQ0hFW3N0cl0gPSBjYWNoZWQ7XG4gICAgfVxuICAgIHJldHVybiBjYWNoZWQuc2xpY2UoKTtcbn1cbi8qKlxuICogQWRkIHR3byBvciBtb3JlIGNvbG9yc1xuICovXG5leHBvcnQgZnVuY3Rpb24gYWRkKGNvbG9yMSwgLi4uY29sb3JzKSB7XG4gICAgbGV0IHJlc3VsdCA9IGNvbG9yMS5zbGljZSgpO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgMzsgaSsrKSB7XG4gICAgICAgIGZvciAobGV0IGogPSAwOyBqIDwgY29sb3JzLmxlbmd0aDsgaisrKSB7XG4gICAgICAgICAgICByZXN1bHRbaV0gKz0gY29sb3JzW2pdW2ldO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiByZXN1bHQ7XG59XG4vKipcbiAqIEFkZCB0d28gb3IgbW9yZSBjb2xvcnMsIE1PRElGSUVTIEZJUlNUIEFSR1VNRU5UXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBhZGRfKGNvbG9yMSwgLi4uY29sb3JzKSB7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCAzOyBpKyspIHtcbiAgICAgICAgZm9yIChsZXQgaiA9IDA7IGogPCBjb2xvcnMubGVuZ3RoOyBqKyspIHtcbiAgICAgICAgICAgIGNvbG9yMVtpXSArPSBjb2xvcnNbal1baV07XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGNvbG9yMTtcbn1cbi8qKlxuICogTXVsdGlwbHkgKG1peCkgdHdvIG9yIG1vcmUgY29sb3JzXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBtdWx0aXBseShjb2xvcjEsIC4uLmNvbG9ycykge1xuICAgIGxldCByZXN1bHQgPSBjb2xvcjEuc2xpY2UoKTtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IDM7IGkrKykge1xuICAgICAgICBmb3IgKGxldCBqID0gMDsgaiA8IGNvbG9ycy5sZW5ndGg7IGorKykge1xuICAgICAgICAgICAgcmVzdWx0W2ldICo9IGNvbG9yc1tqXVtpXSAvIDI1NTtcbiAgICAgICAgfVxuICAgICAgICByZXN1bHRbaV0gPSBNYXRoLnJvdW5kKHJlc3VsdFtpXSk7XG4gICAgfVxuICAgIHJldHVybiByZXN1bHQ7XG59XG4vKipcbiAqIE11bHRpcGx5IChtaXgpIHR3byBvciBtb3JlIGNvbG9ycywgTU9ESUZJRVMgRklSU1QgQVJHVU1FTlRcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIG11bHRpcGx5Xyhjb2xvcjEsIC4uLmNvbG9ycykge1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgMzsgaSsrKSB7XG4gICAgICAgIGZvciAobGV0IGogPSAwOyBqIDwgY29sb3JzLmxlbmd0aDsgaisrKSB7XG4gICAgICAgICAgICBjb2xvcjFbaV0gKj0gY29sb3JzW2pdW2ldIC8gMjU1O1xuICAgICAgICB9XG4gICAgICAgIGNvbG9yMVtpXSA9IE1hdGgucm91bmQoY29sb3IxW2ldKTtcbiAgICB9XG4gICAgcmV0dXJuIGNvbG9yMTtcbn1cbi8qKlxuICogSW50ZXJwb2xhdGUgKGJsZW5kKSB0d28gY29sb3JzIHdpdGggYSBnaXZlbiBmYWN0b3JcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGludGVycG9sYXRlKGNvbG9yMSwgY29sb3IyLCBmYWN0b3IgPSAwLjUpIHtcbiAgICBsZXQgcmVzdWx0ID0gY29sb3IxLnNsaWNlKCk7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCAzOyBpKyspIHtcbiAgICAgICAgcmVzdWx0W2ldID0gTWF0aC5yb3VuZChyZXN1bHRbaV0gKyBmYWN0b3IgKiAoY29sb3IyW2ldIC0gY29sb3IxW2ldKSk7XG4gICAgfVxuICAgIHJldHVybiByZXN1bHQ7XG59XG5leHBvcnQgY29uc3QgbGVycCA9IGludGVycG9sYXRlO1xuLyoqXG4gKiBJbnRlcnBvbGF0ZSAoYmxlbmQpIHR3byBjb2xvcnMgd2l0aCBhIGdpdmVuIGZhY3RvciBpbiBIU0wgbW9kZVxuICovXG5leHBvcnQgZnVuY3Rpb24gaW50ZXJwb2xhdGVIU0woY29sb3IxLCBjb2xvcjIsIGZhY3RvciA9IDAuNSkge1xuICAgIGxldCBoc2wxID0gcmdiMmhzbChjb2xvcjEpO1xuICAgIGxldCBoc2wyID0gcmdiMmhzbChjb2xvcjIpO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgMzsgaSsrKSB7XG4gICAgICAgIGhzbDFbaV0gKz0gZmFjdG9yICogKGhzbDJbaV0gLSBoc2wxW2ldKTtcbiAgICB9XG4gICAgcmV0dXJuIGhzbDJyZ2IoaHNsMSk7XG59XG5leHBvcnQgY29uc3QgbGVycEhTTCA9IGludGVycG9sYXRlSFNMO1xuLyoqXG4gKiBDcmVhdGUgYSBuZXcgcmFuZG9tIGNvbG9yIGJhc2VkIG9uIHRoaXMgb25lXG4gKiBAcGFyYW0gY29sb3JcbiAqIEBwYXJhbSBkaWZmIFNldCBvZiBzdGFuZGFyZCBkZXZpYXRpb25zXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiByYW5kb21pemUoY29sb3IsIGRpZmYpIHtcbiAgICBpZiAoIShkaWZmIGluc3RhbmNlb2YgQXJyYXkpKSB7XG4gICAgICAgIGRpZmYgPSBNYXRoLnJvdW5kKFJORy5nZXROb3JtYWwoMCwgZGlmZikpO1xuICAgIH1cbiAgICBsZXQgcmVzdWx0ID0gY29sb3Iuc2xpY2UoKTtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IDM7IGkrKykge1xuICAgICAgICByZXN1bHRbaV0gKz0gKGRpZmYgaW5zdGFuY2VvZiBBcnJheSA/IE1hdGgucm91bmQoUk5HLmdldE5vcm1hbCgwLCBkaWZmW2ldKSkgOiBkaWZmKTtcbiAgICB9XG4gICAgcmV0dXJuIHJlc3VsdDtcbn1cbi8qKlxuICogQ29udmVydHMgYW4gUkdCIGNvbG9yIHZhbHVlIHRvIEhTTC4gRXhwZWN0cyAwLi4yNTUgaW5wdXRzLCBwcm9kdWNlcyAwLi4xIG91dHB1dHMuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiByZ2IyaHNsKGNvbG9yKSB7XG4gICAgbGV0IHIgPSBjb2xvclswXSAvIDI1NTtcbiAgICBsZXQgZyA9IGNvbG9yWzFdIC8gMjU1O1xuICAgIGxldCBiID0gY29sb3JbMl0gLyAyNTU7XG4gICAgbGV0IG1heCA9IE1hdGgubWF4KHIsIGcsIGIpLCBtaW4gPSBNYXRoLm1pbihyLCBnLCBiKTtcbiAgICBsZXQgaCA9IDAsIHMsIGwgPSAobWF4ICsgbWluKSAvIDI7XG4gICAgaWYgKG1heCA9PSBtaW4pIHtcbiAgICAgICAgcyA9IDA7IC8vIGFjaHJvbWF0aWNcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIGxldCBkID0gbWF4IC0gbWluO1xuICAgICAgICBzID0gKGwgPiAwLjUgPyBkIC8gKDIgLSBtYXggLSBtaW4pIDogZCAvIChtYXggKyBtaW4pKTtcbiAgICAgICAgc3dpdGNoIChtYXgpIHtcbiAgICAgICAgICAgIGNhc2UgcjpcbiAgICAgICAgICAgICAgICBoID0gKGcgLSBiKSAvIGQgKyAoZyA8IGIgPyA2IDogMCk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIGc6XG4gICAgICAgICAgICAgICAgaCA9IChiIC0gcikgLyBkICsgMjtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgYjpcbiAgICAgICAgICAgICAgICBoID0gKHIgLSBnKSAvIGQgKyA0O1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICAgIGggLz0gNjtcbiAgICB9XG4gICAgcmV0dXJuIFtoLCBzLCBsXTtcbn1cbmZ1bmN0aW9uIGh1ZTJyZ2IocCwgcSwgdCkge1xuICAgIGlmICh0IDwgMClcbiAgICAgICAgdCArPSAxO1xuICAgIGlmICh0ID4gMSlcbiAgICAgICAgdCAtPSAxO1xuICAgIGlmICh0IDwgMSAvIDYpXG4gICAgICAgIHJldHVybiBwICsgKHEgLSBwKSAqIDYgKiB0O1xuICAgIGlmICh0IDwgMSAvIDIpXG4gICAgICAgIHJldHVybiBxO1xuICAgIGlmICh0IDwgMiAvIDMpXG4gICAgICAgIHJldHVybiBwICsgKHEgLSBwKSAqICgyIC8gMyAtIHQpICogNjtcbiAgICByZXR1cm4gcDtcbn1cbi8qKlxuICogQ29udmVydHMgYW4gSFNMIGNvbG9yIHZhbHVlIHRvIFJHQi4gRXhwZWN0cyAwLi4xIGlucHV0cywgcHJvZHVjZXMgMC4uMjU1IG91dHB1dHMuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBoc2wycmdiKGNvbG9yKSB7XG4gICAgbGV0IGwgPSBjb2xvclsyXTtcbiAgICBpZiAoY29sb3JbMV0gPT0gMCkge1xuICAgICAgICBsID0gTWF0aC5yb3VuZChsICogMjU1KTtcbiAgICAgICAgcmV0dXJuIFtsLCBsLCBsXTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIGxldCBzID0gY29sb3JbMV07XG4gICAgICAgIGxldCBxID0gKGwgPCAwLjUgPyBsICogKDEgKyBzKSA6IGwgKyBzIC0gbCAqIHMpO1xuICAgICAgICBsZXQgcCA9IDIgKiBsIC0gcTtcbiAgICAgICAgbGV0IHIgPSBodWUycmdiKHAsIHEsIGNvbG9yWzBdICsgMSAvIDMpO1xuICAgICAgICBsZXQgZyA9IGh1ZTJyZ2IocCwgcSwgY29sb3JbMF0pO1xuICAgICAgICBsZXQgYiA9IGh1ZTJyZ2IocCwgcSwgY29sb3JbMF0gLSAxIC8gMyk7XG4gICAgICAgIHJldHVybiBbTWF0aC5yb3VuZChyICogMjU1KSwgTWF0aC5yb3VuZChnICogMjU1KSwgTWF0aC5yb3VuZChiICogMjU1KV07XG4gICAgfVxufVxuZXhwb3J0IGZ1bmN0aW9uIHRvUkdCKGNvbG9yKSB7XG4gICAgbGV0IGNsYW1wZWQgPSBjb2xvci5tYXAoeCA9PiBjbGFtcCh4LCAwLCAyNTUpKTtcbiAgICByZXR1cm4gYHJnYigke2NsYW1wZWQuam9pbihcIixcIil9KWA7XG59XG5leHBvcnQgZnVuY3Rpb24gdG9IZXgoY29sb3IpIHtcbiAgICBsZXQgY2xhbXBlZCA9IGNvbG9yLm1hcCh4ID0+IGNsYW1wKHgsIDAsIDI1NSkudG9TdHJpbmcoMTYpLnBhZFN0YXJ0KDIsIFwiMFwiKSk7XG4gICAgcmV0dXJuIGAjJHtjbGFtcGVkLmpvaW4oXCJcIil9YDtcbn1cbmNvbnN0IENBQ0hFID0ge1xuICAgIFwiYmxhY2tcIjogWzAsIDAsIDBdLFxuICAgIFwibmF2eVwiOiBbMCwgMCwgMTI4XSxcbiAgICBcImRhcmtibHVlXCI6IFswLCAwLCAxMzldLFxuICAgIFwibWVkaXVtYmx1ZVwiOiBbMCwgMCwgMjA1XSxcbiAgICBcImJsdWVcIjogWzAsIDAsIDI1NV0sXG4gICAgXCJkYXJrZ3JlZW5cIjogWzAsIDEwMCwgMF0sXG4gICAgXCJncmVlblwiOiBbMCwgMTI4LCAwXSxcbiAgICBcInRlYWxcIjogWzAsIDEyOCwgMTI4XSxcbiAgICBcImRhcmtjeWFuXCI6IFswLCAxMzksIDEzOV0sXG4gICAgXCJkZWVwc2t5Ymx1ZVwiOiBbMCwgMTkxLCAyNTVdLFxuICAgIFwiZGFya3R1cnF1b2lzZVwiOiBbMCwgMjA2LCAyMDldLFxuICAgIFwibWVkaXVtc3ByaW5nZ3JlZW5cIjogWzAsIDI1MCwgMTU0XSxcbiAgICBcImxpbWVcIjogWzAsIDI1NSwgMF0sXG4gICAgXCJzcHJpbmdncmVlblwiOiBbMCwgMjU1LCAxMjddLFxuICAgIFwiYXF1YVwiOiBbMCwgMjU1LCAyNTVdLFxuICAgIFwiY3lhblwiOiBbMCwgMjU1LCAyNTVdLFxuICAgIFwibWlkbmlnaHRibHVlXCI6IFsyNSwgMjUsIDExMl0sXG4gICAgXCJkb2RnZXJibHVlXCI6IFszMCwgMTQ0LCAyNTVdLFxuICAgIFwiZm9yZXN0Z3JlZW5cIjogWzM0LCAxMzksIDM0XSxcbiAgICBcInNlYWdyZWVuXCI6IFs0NiwgMTM5LCA4N10sXG4gICAgXCJkYXJrc2xhdGVncmF5XCI6IFs0NywgNzksIDc5XSxcbiAgICBcImRhcmtzbGF0ZWdyZXlcIjogWzQ3LCA3OSwgNzldLFxuICAgIFwibGltZWdyZWVuXCI6IFs1MCwgMjA1LCA1MF0sXG4gICAgXCJtZWRpdW1zZWFncmVlblwiOiBbNjAsIDE3OSwgMTEzXSxcbiAgICBcInR1cnF1b2lzZVwiOiBbNjQsIDIyNCwgMjA4XSxcbiAgICBcInJveWFsYmx1ZVwiOiBbNjUsIDEwNSwgMjI1XSxcbiAgICBcInN0ZWVsYmx1ZVwiOiBbNzAsIDEzMCwgMTgwXSxcbiAgICBcImRhcmtzbGF0ZWJsdWVcIjogWzcyLCA2MSwgMTM5XSxcbiAgICBcIm1lZGl1bXR1cnF1b2lzZVwiOiBbNzIsIDIwOSwgMjA0XSxcbiAgICBcImluZGlnb1wiOiBbNzUsIDAsIDEzMF0sXG4gICAgXCJkYXJrb2xpdmVncmVlblwiOiBbODUsIDEwNywgNDddLFxuICAgIFwiY2FkZXRibHVlXCI6IFs5NSwgMTU4LCAxNjBdLFxuICAgIFwiY29ybmZsb3dlcmJsdWVcIjogWzEwMCwgMTQ5LCAyMzddLFxuICAgIFwibWVkaXVtYXF1YW1hcmluZVwiOiBbMTAyLCAyMDUsIDE3MF0sXG4gICAgXCJkaW1ncmF5XCI6IFsxMDUsIDEwNSwgMTA1XSxcbiAgICBcImRpbWdyZXlcIjogWzEwNSwgMTA1LCAxMDVdLFxuICAgIFwic2xhdGVibHVlXCI6IFsxMDYsIDkwLCAyMDVdLFxuICAgIFwib2xpdmVkcmFiXCI6IFsxMDcsIDE0MiwgMzVdLFxuICAgIFwic2xhdGVncmF5XCI6IFsxMTIsIDEyOCwgMTQ0XSxcbiAgICBcInNsYXRlZ3JleVwiOiBbMTEyLCAxMjgsIDE0NF0sXG4gICAgXCJsaWdodHNsYXRlZ3JheVwiOiBbMTE5LCAxMzYsIDE1M10sXG4gICAgXCJsaWdodHNsYXRlZ3JleVwiOiBbMTE5LCAxMzYsIDE1M10sXG4gICAgXCJtZWRpdW1zbGF0ZWJsdWVcIjogWzEyMywgMTA0LCAyMzhdLFxuICAgIFwibGF3bmdyZWVuXCI6IFsxMjQsIDI1MiwgMF0sXG4gICAgXCJjaGFydHJldXNlXCI6IFsxMjcsIDI1NSwgMF0sXG4gICAgXCJhcXVhbWFyaW5lXCI6IFsxMjcsIDI1NSwgMjEyXSxcbiAgICBcIm1hcm9vblwiOiBbMTI4LCAwLCAwXSxcbiAgICBcInB1cnBsZVwiOiBbMTI4LCAwLCAxMjhdLFxuICAgIFwib2xpdmVcIjogWzEyOCwgMTI4LCAwXSxcbiAgICBcImdyYXlcIjogWzEyOCwgMTI4LCAxMjhdLFxuICAgIFwiZ3JleVwiOiBbMTI4LCAxMjgsIDEyOF0sXG4gICAgXCJza3libHVlXCI6IFsxMzUsIDIwNiwgMjM1XSxcbiAgICBcImxpZ2h0c2t5Ymx1ZVwiOiBbMTM1LCAyMDYsIDI1MF0sXG4gICAgXCJibHVldmlvbGV0XCI6IFsxMzgsIDQzLCAyMjZdLFxuICAgIFwiZGFya3JlZFwiOiBbMTM5LCAwLCAwXSxcbiAgICBcImRhcmttYWdlbnRhXCI6IFsxMzksIDAsIDEzOV0sXG4gICAgXCJzYWRkbGVicm93blwiOiBbMTM5LCA2OSwgMTldLFxuICAgIFwiZGFya3NlYWdyZWVuXCI6IFsxNDMsIDE4OCwgMTQzXSxcbiAgICBcImxpZ2h0Z3JlZW5cIjogWzE0NCwgMjM4LCAxNDRdLFxuICAgIFwibWVkaXVtcHVycGxlXCI6IFsxNDcsIDExMiwgMjE2XSxcbiAgICBcImRhcmt2aW9sZXRcIjogWzE0OCwgMCwgMjExXSxcbiAgICBcInBhbGVncmVlblwiOiBbMTUyLCAyNTEsIDE1Ml0sXG4gICAgXCJkYXJrb3JjaGlkXCI6IFsxNTMsIDUwLCAyMDRdLFxuICAgIFwieWVsbG93Z3JlZW5cIjogWzE1NCwgMjA1LCA1MF0sXG4gICAgXCJzaWVubmFcIjogWzE2MCwgODIsIDQ1XSxcbiAgICBcImJyb3duXCI6IFsxNjUsIDQyLCA0Ml0sXG4gICAgXCJkYXJrZ3JheVwiOiBbMTY5LCAxNjksIDE2OV0sXG4gICAgXCJkYXJrZ3JleVwiOiBbMTY5LCAxNjksIDE2OV0sXG4gICAgXCJsaWdodGJsdWVcIjogWzE3MywgMjE2LCAyMzBdLFxuICAgIFwiZ3JlZW55ZWxsb3dcIjogWzE3MywgMjU1LCA0N10sXG4gICAgXCJwYWxldHVycXVvaXNlXCI6IFsxNzUsIDIzOCwgMjM4XSxcbiAgICBcImxpZ2h0c3RlZWxibHVlXCI6IFsxNzYsIDE5NiwgMjIyXSxcbiAgICBcInBvd2RlcmJsdWVcIjogWzE3NiwgMjI0LCAyMzBdLFxuICAgIFwiZmlyZWJyaWNrXCI6IFsxNzgsIDM0LCAzNF0sXG4gICAgXCJkYXJrZ29sZGVucm9kXCI6IFsxODQsIDEzNCwgMTFdLFxuICAgIFwibWVkaXVtb3JjaGlkXCI6IFsxODYsIDg1LCAyMTFdLFxuICAgIFwicm9zeWJyb3duXCI6IFsxODgsIDE0MywgMTQzXSxcbiAgICBcImRhcmtraGFraVwiOiBbMTg5LCAxODMsIDEwN10sXG4gICAgXCJzaWx2ZXJcIjogWzE5MiwgMTkyLCAxOTJdLFxuICAgIFwibWVkaXVtdmlvbGV0cmVkXCI6IFsxOTksIDIxLCAxMzNdLFxuICAgIFwiaW5kaWFucmVkXCI6IFsyMDUsIDkyLCA5Ml0sXG4gICAgXCJwZXJ1XCI6IFsyMDUsIDEzMywgNjNdLFxuICAgIFwiY2hvY29sYXRlXCI6IFsyMTAsIDEwNSwgMzBdLFxuICAgIFwidGFuXCI6IFsyMTAsIDE4MCwgMTQwXSxcbiAgICBcImxpZ2h0Z3JheVwiOiBbMjExLCAyMTEsIDIxMV0sXG4gICAgXCJsaWdodGdyZXlcIjogWzIxMSwgMjExLCAyMTFdLFxuICAgIFwicGFsZXZpb2xldHJlZFwiOiBbMjE2LCAxMTIsIDE0N10sXG4gICAgXCJ0aGlzdGxlXCI6IFsyMTYsIDE5MSwgMjE2XSxcbiAgICBcIm9yY2hpZFwiOiBbMjE4LCAxMTIsIDIxNF0sXG4gICAgXCJnb2xkZW5yb2RcIjogWzIxOCwgMTY1LCAzMl0sXG4gICAgXCJjcmltc29uXCI6IFsyMjAsIDIwLCA2MF0sXG4gICAgXCJnYWluc2Jvcm9cIjogWzIyMCwgMjIwLCAyMjBdLFxuICAgIFwicGx1bVwiOiBbMjIxLCAxNjAsIDIyMV0sXG4gICAgXCJidXJseXdvb2RcIjogWzIyMiwgMTg0LCAxMzVdLFxuICAgIFwibGlnaHRjeWFuXCI6IFsyMjQsIDI1NSwgMjU1XSxcbiAgICBcImxhdmVuZGVyXCI6IFsyMzAsIDIzMCwgMjUwXSxcbiAgICBcImRhcmtzYWxtb25cIjogWzIzMywgMTUwLCAxMjJdLFxuICAgIFwidmlvbGV0XCI6IFsyMzgsIDEzMCwgMjM4XSxcbiAgICBcInBhbGVnb2xkZW5yb2RcIjogWzIzOCwgMjMyLCAxNzBdLFxuICAgIFwibGlnaHRjb3JhbFwiOiBbMjQwLCAxMjgsIDEyOF0sXG4gICAgXCJraGFraVwiOiBbMjQwLCAyMzAsIDE0MF0sXG4gICAgXCJhbGljZWJsdWVcIjogWzI0MCwgMjQ4LCAyNTVdLFxuICAgIFwiaG9uZXlkZXdcIjogWzI0MCwgMjU1LCAyNDBdLFxuICAgIFwiYXp1cmVcIjogWzI0MCwgMjU1LCAyNTVdLFxuICAgIFwic2FuZHlicm93blwiOiBbMjQ0LCAxNjQsIDk2XSxcbiAgICBcIndoZWF0XCI6IFsyNDUsIDIyMiwgMTc5XSxcbiAgICBcImJlaWdlXCI6IFsyNDUsIDI0NSwgMjIwXSxcbiAgICBcIndoaXRlc21va2VcIjogWzI0NSwgMjQ1LCAyNDVdLFxuICAgIFwibWludGNyZWFtXCI6IFsyNDUsIDI1NSwgMjUwXSxcbiAgICBcImdob3N0d2hpdGVcIjogWzI0OCwgMjQ4LCAyNTVdLFxuICAgIFwic2FsbW9uXCI6IFsyNTAsIDEyOCwgMTE0XSxcbiAgICBcImFudGlxdWV3aGl0ZVwiOiBbMjUwLCAyMzUsIDIxNV0sXG4gICAgXCJsaW5lblwiOiBbMjUwLCAyNDAsIDIzMF0sXG4gICAgXCJsaWdodGdvbGRlbnJvZHllbGxvd1wiOiBbMjUwLCAyNTAsIDIxMF0sXG4gICAgXCJvbGRsYWNlXCI6IFsyNTMsIDI0NSwgMjMwXSxcbiAgICBcInJlZFwiOiBbMjU1LCAwLCAwXSxcbiAgICBcImZ1Y2hzaWFcIjogWzI1NSwgMCwgMjU1XSxcbiAgICBcIm1hZ2VudGFcIjogWzI1NSwgMCwgMjU1XSxcbiAgICBcImRlZXBwaW5rXCI6IFsyNTUsIDIwLCAxNDddLFxuICAgIFwib3JhbmdlcmVkXCI6IFsyNTUsIDY5LCAwXSxcbiAgICBcInRvbWF0b1wiOiBbMjU1LCA5OSwgNzFdLFxuICAgIFwiaG90cGlua1wiOiBbMjU1LCAxMDUsIDE4MF0sXG4gICAgXCJjb3JhbFwiOiBbMjU1LCAxMjcsIDgwXSxcbiAgICBcImRhcmtvcmFuZ2VcIjogWzI1NSwgMTQwLCAwXSxcbiAgICBcImxpZ2h0c2FsbW9uXCI6IFsyNTUsIDE2MCwgMTIyXSxcbiAgICBcIm9yYW5nZVwiOiBbMjU1LCAxNjUsIDBdLFxuICAgIFwibGlnaHRwaW5rXCI6IFsyNTUsIDE4MiwgMTkzXSxcbiAgICBcInBpbmtcIjogWzI1NSwgMTkyLCAyMDNdLFxuICAgIFwiZ29sZFwiOiBbMjU1LCAyMTUsIDBdLFxuICAgIFwicGVhY2hwdWZmXCI6IFsyNTUsIDIxOCwgMTg1XSxcbiAgICBcIm5hdmFqb3doaXRlXCI6IFsyNTUsIDIyMiwgMTczXSxcbiAgICBcIm1vY2Nhc2luXCI6IFsyNTUsIDIyOCwgMTgxXSxcbiAgICBcImJpc3F1ZVwiOiBbMjU1LCAyMjgsIDE5Nl0sXG4gICAgXCJtaXN0eXJvc2VcIjogWzI1NSwgMjI4LCAyMjVdLFxuICAgIFwiYmxhbmNoZWRhbG1vbmRcIjogWzI1NSwgMjM1LCAyMDVdLFxuICAgIFwicGFwYXlhd2hpcFwiOiBbMjU1LCAyMzksIDIxM10sXG4gICAgXCJsYXZlbmRlcmJsdXNoXCI6IFsyNTUsIDI0MCwgMjQ1XSxcbiAgICBcInNlYXNoZWxsXCI6IFsyNTUsIDI0NSwgMjM4XSxcbiAgICBcImNvcm5zaWxrXCI6IFsyNTUsIDI0OCwgMjIwXSxcbiAgICBcImxlbW9uY2hpZmZvblwiOiBbMjU1LCAyNTAsIDIwNV0sXG4gICAgXCJmbG9yYWx3aGl0ZVwiOiBbMjU1LCAyNTAsIDI0MF0sXG4gICAgXCJzbm93XCI6IFsyNTUsIDI1MCwgMjUwXSxcbiAgICBcInllbGxvd1wiOiBbMjU1LCAyNTUsIDBdLFxuICAgIFwibGlnaHR5ZWxsb3dcIjogWzI1NSwgMjU1LCAyMjRdLFxuICAgIFwiaXZvcnlcIjogWzI1NSwgMjU1LCAyNDBdLFxuICAgIFwid2hpdGVcIjogWzI1NSwgMjU1LCAyNTVdXG59O1xuIiwiLy8gQ09PUkRJTkFURVMgQ0xBU1NcclxuLy8gTG93IGxldmVsIGNvb3JkaW5hdGUgZnVuY3Rpb25zXHJcbi8vIENvb3JkIGlzIGEgW3gsIHksIHo/XSBjb252ZW5pZW50IHdheSB0byBkZWFsIHdpdGggY29vcmRpbmF0ZXMuXHJcblxyXG5leHBvcnQgaW50ZXJmYWNlIENvb3JkSW50ZXJmYWNlIHtcclxuICB4OiBudW1iZXI7XHJcbiAgeTogbnVtYmVyO1xyXG59XHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBDb29yZCB7XHJcbiAgeDogbnVtYmVyO1xyXG4gIHk6IG51bWJlcjtcclxuXHJcbiAgY29uc3RydWN0b3IoeTogbnVtYmVyLCB4OiBudW1iZXIpIHtcclxuICAgIHRoaXMueSA9IHk7XHJcbiAgICB0aGlzLnggPSB4O1xyXG4gIH1cclxuXHJcbiAgLy8gQ29udmVyc2lvbjogY29vcmQgLT4gdWlkXHJcbiAgaWQocm93czogbnVtYmVyKTogbnVtYmVyIHtcclxuICAgIHJldHVybiB0aGlzLnkgKiByb3dzICsgdGhpcy54O1xyXG4gIH1cclxuXHJcbiAgLy8gU1ZHIGNvb3JkaW5hdGUgc3lzdGVtOiB0b3AtbGVmdCBwb2ludCBvZiBjZWxsXHJcbiAgcG9zKHNwYWNpbmc6IG51bWJlcik6IFtudW1iZXIsIG51bWJlcl0ge1xyXG4gICAgY29uc3QgeSA9IHRoaXMueSAqIHNwYWNpbmc7XHJcbiAgICBjb25zdCB4ID0gdGhpcy54ICogc3BhY2luZztcclxuICAgIHJldHVybiBbeSwgeF07XHJcbiAgfVxyXG5cclxuICAvLyBBZGphY2VudCBjZWxsc1xyXG4gIGdldCB0b3AoKTogQ29vcmQge1xyXG4gICAgcmV0dXJuIENvb3JkLmltcG9ydENvb3JkKHsgeTogdGhpcy55IC0gMSwgeDogdGhpcy54IH0pO1xyXG4gIH1cclxuICBnZXQgYm90dG9tKCk6IENvb3JkIHtcclxuICAgIHJldHVybiBDb29yZC5pbXBvcnRDb29yZCh7IHk6IHRoaXMueSArIDEsIHg6IHRoaXMueCB9KTtcclxuICB9XHJcbiAgZ2V0IGxlZnQoKTogQ29vcmQge1xyXG4gICAgcmV0dXJuIENvb3JkLmltcG9ydENvb3JkKHsgeTogdGhpcy55LCB4OiB0aGlzLnggLSAxIH0pO1xyXG4gIH1cclxuICBnZXQgcmlnaHQoKTogQ29vcmQge1xyXG4gICAgcmV0dXJuIENvb3JkLmltcG9ydENvb3JkKHsgeTogdGhpcy55LCB4OiB0aGlzLnggKyAxIH0pO1xyXG4gIH1cclxuICBnZXQgYWRqYWNlbnQoKTogQ29vcmRbXSB7XHJcbiAgICByZXR1cm4gW3RoaXMudG9wLCB0aGlzLnJpZ2h0LCB0aGlzLmJvdHRvbSwgdGhpcy5sZWZ0XTtcclxuICB9XHJcbiAgZ2V0IGFycmF5KCk6IG51bWJlcltdIHtcclxuICAgIHJldHVybiBbdGhpcy55LCB0aGlzLnhdO1xyXG4gIH1cclxuXHJcbiAgLy8gQ2hlY2sgaWYgdHdvIGNvb3JkaW5hdGVzIGFyZSBhZGphY2VudFxyXG4gIGlzQWRqYWNlbnQoY29vcmQ6IENvb3JkKTogYm9vbGVhbiB7XHJcbiAgICByZXR1cm4gY29vcmQuaXNJbmNsdWRlZEluKHRoaXMuYWRqYWNlbnQpO1xyXG4gIH1cclxuXHJcbiAgLy8gQ2hlY2sgZm9yIGVxdWFsaXR5XHJcbiAgZXF1YWwoY29vcmQ6IENvb3JkKTogYm9vbGVhbiB7XHJcbiAgICByZXR1cm4gdGhpcy54ID09PSBjb29yZC54ICYmIHRoaXMueSA9PT0gY29vcmQueTtcclxuICB9XHJcblxyXG4gIC8vIFRlc3QgaW5jbHVzaW9uIGluIGFycmF5IG9mIGNvb3Jkc1xyXG4gIGlzSW5jbHVkZWRJbihjb29yZHM6IENvb3JkW10pOiBib29sZWFuIHtcclxuICAgIHJldHVybiAoXHJcbiAgICAgIGNvb3Jkcy5maWx0ZXIoY29vcmQgPT4ge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmVxdWFsKGNvb3JkKTtcclxuICAgICAgfSkubGVuZ3RoID4gMFxyXG4gICAgKTtcclxuICB9XHJcblxyXG4gIC8vIG92ZXJyaWRlIG9mIHRvU3RyaW5nIG1ldGhvZCBmb3IgZGVidWdnaW5nXHJcbiAgdG9TdHJpbmcoKTogc3RyaW5nIHtcclxuICAgIHJldHVybiBgW1k6JHt0aGlzLnl9LCBYOiR7dGhpcy54fV1gO1xyXG4gIH1cclxuXHJcbiAgLy8gRXhwb3J0IEpTT05cclxuICBleHBvcnRDb29yZCgpOiBDb29yZEludGVyZmFjZSB7XHJcbiAgICByZXR1cm4ge1xyXG4gICAgICB5OiB0aGlzLnksXHJcbiAgICAgIHg6IHRoaXMueFxyXG4gICAgfTtcclxuICB9XHJcblxyXG4gIC8vIEV4cG9ydCBKU09OXHJcbiAgc3RhdGljIGltcG9ydENvb3JkKGpzb246IENvb3JkSW50ZXJmYWNlKTogQ29vcmQge1xyXG4gICAgcmV0dXJuIG5ldyBDb29yZChqc29uLnksIGpzb24ueCk7XHJcbiAgfVxyXG5cclxuICAvLyBDb252ZXJzaW9uOiB1aWQgLT4gY29vcmRcclxuICBzdGF0aWMgZnJvbUlkKGluZGV4OiBudW1iZXIsIGNvbHM6IG51bWJlcik6IENvb3JkIHtcclxuICAgIGNvbnN0IHggPSBpbmRleCAlIGNvbHM7XHJcbiAgICBjb25zdCB5ID0gTWF0aC5mbG9vcihpbmRleCAvIGNvbHMpO1xyXG4gICAgcmV0dXJuIENvb3JkLmltcG9ydENvb3JkKHsgeTogeSwgeDogeCB9KTtcclxuICB9XHJcbn1cclxuIiwiXCJ1c2Ugc3RyaWN0XCI7XHJcbnZhciBfX2ltcG9ydFN0YXIgPSAodGhpcyAmJiB0aGlzLl9faW1wb3J0U3RhcikgfHwgZnVuY3Rpb24gKG1vZCkge1xyXG4gICAgaWYgKG1vZCAmJiBtb2QuX19lc01vZHVsZSkgcmV0dXJuIG1vZDtcclxuICAgIHZhciByZXN1bHQgPSB7fTtcclxuICAgIGlmIChtb2QgIT0gbnVsbCkgZm9yICh2YXIgayBpbiBtb2QpIGlmIChPYmplY3QuaGFzT3duUHJvcGVydHkuY2FsbChtb2QsIGspKSByZXN1bHRba10gPSBtb2Rba107XHJcbiAgICByZXN1bHRbXCJkZWZhdWx0XCJdID0gbW9kO1xyXG4gICAgcmV0dXJuIHJlc3VsdDtcclxufTtcclxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xyXG4vLyBESU1FTlNJT04gQ0xBU1NcclxuLy8gU2VlIGZvciBhdXRvZm9jdXNpbmcgdG8gcmVkdWNlIGRpbWVuc2lvbiBtYXggc2l6ZSBsaW1pdFttaW4gLi4uIG1heF1cclxudmFyIF8gPSBfX2ltcG9ydFN0YXIocmVxdWlyZShcImxvZGFzaFwiKSk7XHJcbnZhciBEaW1lbnNpb24gPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XHJcbiAgICBmdW5jdGlvbiBEaW1lbnNpb24obmFtZSwgc2l6ZSwgY29vcmROYW1lcykge1xyXG4gICAgICAgIGlmIChzaXplICE9PSBjb29yZE5hbWVzLmxlbmd0aCkge1xyXG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJDb29yZGluYXRlcyBbXCIgKyBjb29yZE5hbWVzICsgXCJdIGFycmF5IGlzIG9mIGxlbmd0aCBcIiArIGNvb3JkTmFtZXMubGVuZ3RoICsgXCIsIG5vdCBcIiArIHNpemUgKyBcIi5cIik7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMubmFtZSA9IG5hbWU7XHJcbiAgICAgICAgdGhpcy5jb29yZE5hbWVzID0gY29vcmROYW1lczsgLy8gbGF0ZXIsIHdlIG1heSBtYWtlIGl0IG9wdGlvbmFsXHJcbiAgICAgICAgdGhpcy5zaXplID0gc2l6ZTtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogQ3JlYXRlIGRpbWVuc2lvbiBmb3IgcG9sYXJpemF0aW9uXHJcbiAgICAgKiBAcmV0dXJucyBwb2xhcmlzYXRpb24gZGltZW5zaW9uXHJcbiAgICAgKi9cclxuICAgIERpbWVuc2lvbi5wb2xhcml6YXRpb24gPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgcmV0dXJuIG5ldyBEaW1lbnNpb24oXCJwb2xhcmlzYXRpb25cIiwgMiwgW1wiSFwiLCBcIlZcIl0pO1xyXG4gICAgfTtcclxuICAgIC8qKlxyXG4gICAgICogQ3JlYXRlIGRpbWVuc2lvbiBmb3IgZGlyZWN0aW9uXHJcbiAgICAgKiBAcmV0dXJucyBkaXJlY3Rpb24gZGltZW5zaW9uc1xyXG4gICAgICovXHJcbiAgICBEaW1lbnNpb24uZGlyZWN0aW9uID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHJldHVybiBuZXcgRGltZW5zaW9uKFwiZGlyZWN0aW9uXCIsIDQsIFtcIj5cIiwgXCJeXCIsIFwiPFwiLCBcInZcIl0pO1xyXG4gICAgfTtcclxuICAgIC8qKlxyXG4gICAgICogQ3JlYXRlIGRpbWVuc2lvbiBmb3Igc3BpblxyXG4gICAgICogQHJldHVybnMgc3BpbiBkaW1lbnNpb25zXHJcbiAgICAgKi9cclxuICAgIERpbWVuc2lvbi5zcGluID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHJldHVybiBuZXcgRGltZW5zaW9uKFwic3BpblwiLCAyLCBbXCJ1XCIsIFwiZFwiXSk7XHJcbiAgICB9O1xyXG4gICAgLyoqXHJcbiAgICAgKlxyXG4gICAgICogQHBhcmFtIHNpemVcclxuICAgICAqIEBwYXJhbSBuYW1lXHJcbiAgICAgKi9cclxuICAgIERpbWVuc2lvbi5wb3NpdGlvbiA9IGZ1bmN0aW9uIChzaXplLCBuYW1lKSB7XHJcbiAgICAgICAgaWYgKG5hbWUgPT09IHZvaWQgMCkgeyBuYW1lID0gXCJ4XCI7IH1cclxuICAgICAgICB2YXIgY29vcmROYW1lcyA9IF8ucmFuZ2Uoc2l6ZSkubWFwKGZ1bmN0aW9uIChpKSB7IHJldHVybiBpLnRvU3RyaW5nKCk7IH0pO1xyXG4gICAgICAgIHJldHVybiBuZXcgRGltZW5zaW9uKG5hbWUsIHNpemUsIGNvb3JkTmFtZXMpO1xyXG4gICAgfTtcclxuICAgIC8qKlxyXG4gICAgICogT3ZlcnJpZGVzIHRvU3RyaW5nKCkgbWV0aG9kXHJcbiAgICAgKiBAcmV0dXJucyBmb3JtYXR0ZWQgc3RyaW5nXHJcbiAgICAgKi9cclxuICAgIERpbWVuc2lvbi5wcm90b3R5cGUudG9TdHJpbmcgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgcmV0dXJuIFwiI0RpbWVuc2lvbiBbXCIgKyB0aGlzLm5hbWUgKyBcIl0gb2Ygc2l6ZSBbXCIgKyB0aGlzLnNpemUudG9TdHJpbmcoKSArIFwiXSBoYXMgY29vcmRpbmF0ZXMgbmFtZWQ6IFtcIiArIHRoaXMuY29vcmROYW1lcyArIFwiXVwiO1xyXG4gICAgfTtcclxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShEaW1lbnNpb24ucHJvdG90eXBlLCBcImNvb3JkU3RyaW5nXCIsIHtcclxuICAgICAgICAvKipcclxuICAgICAgICAgKiBAcmV0dXJucyBzdHJpbmcgd2l0aCBjb25jYXQgbmFtZXNcclxuICAgICAgICAgKi9cclxuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuY29vcmROYW1lcy5qb2luKFwiXCIpO1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcclxuICAgIH0pO1xyXG4gICAgLyoqXHJcbiAgICAgKiBUZXN0IGVxdWFsaXR5IGJldHdlZW4gdHdvIGRpbWVuc2lvbnNcclxuICAgICAqIEBwYXJhbSBkaW0yXHJcbiAgICAgKiBAcmV0dXJucyBkaW0xID09PSBkaW0gMlxyXG4gICAgICovXHJcbiAgICBEaW1lbnNpb24ucHJvdG90eXBlLmlzRXF1YWwgPSBmdW5jdGlvbiAoZGltMikge1xyXG4gICAgICAgIHZhciBkaW0xID0gdGhpcztcclxuICAgICAgICByZXR1cm4gZGltMS5uYW1lID09PSBkaW0yLm5hbWUgJiYgZGltMS5zaXplID09PSBkaW0yLnNpemUgJiYgXy5pc0VxdWFsKGRpbTEuY29vcmROYW1lcywgZGltMi5jb29yZE5hbWVzKTtcclxuICAgIH07XHJcbiAgICAvKipcclxuICAgICAqIFJldHJpZXZlcyBhIGNvb3JkaW5hdGVzIGluZGV4IGZyb20gdGhlIGNvb3JkaW5hdGVzIGxpc3RcclxuICAgICAqIEBwYXJhbSBjb29yZE5hbWUgb25lIGNvb3JkIGJhbWVcclxuICAgICAqIEByZXR1cm5zIGVycm9yIG9yIHRoZSBjb29yZCBpbmRleFxyXG4gICAgICovXHJcbiAgICBEaW1lbnNpb24ucHJvdG90eXBlLmNvb3JkTmFtZVRvSW5kZXggPSBmdW5jdGlvbiAoY29vcmROYW1lKSB7XHJcbiAgICAgICAgdmFyIGlkeCA9IHRoaXMuY29vcmROYW1lcy5pbmRleE9mKGNvb3JkTmFtZSk7XHJcbiAgICAgICAgaWYgKGlkeCA8IDApIHtcclxuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGNvb3JkTmFtZSArIFwiIGlzIG5vdCBpbiBbXCIgKyB0aGlzLmNvb3JkTmFtZXMgKyBcIl1cIik7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICByZXR1cm4gaWR4O1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcbiAgICAvKipcclxuICAgICAqIENvbmNhdCB0aGUgbmFtZXMgb2QgZGltZW5zaW9uc1xyXG4gICAgICogQHBhcmFtIGRpbXMgQXJyYXkgb2YgZGltZW5zaW9uc1xyXG4gICAgICovXHJcbiAgICBEaW1lbnNpb24uY29uY2F0RGltTmFtZXMgPSBmdW5jdGlvbiAoZGltcykge1xyXG4gICAgICAgIHZhciBuYW1lcyA9IFwiXCI7XHJcbiAgICAgICAgZGltcy5mb3JFYWNoKGZ1bmN0aW9uIChkaW0pIHtcclxuICAgICAgICAgICAgbmFtZXMgKz0gZGltLmNvb3JkU3RyaW5nO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHJldHVybiBuYW1lcztcclxuICAgIH07XHJcbiAgICAvKipcclxuICAgICAqIENoZWNrIG11bHRpcGxlIGRpbWVuc2lvbnMgZm9yIGVxdWFsaXR5XHJcbiAgICAgKiBOZWVkcyByZXdyaXRlIGltb1xyXG4gICAgICogQHBhcmFtIGRpbXMxIEZpcnN0IGRpbWVuc2lvbiBpbnN0YW5jZVxyXG4gICAgICogQHBhcmFtIGRpbXMyIHNlY29uZCBkaW1lbnNpb24gaW5zdGFuY2VcclxuICAgICAqL1xyXG4gICAgRGltZW5zaW9uLmNoZWNrRGltZW5zaW9ucyA9IGZ1bmN0aW9uIChkaW1zMSwgZGltczIpIHtcclxuICAgICAgICAvLyBDaGVjayBmb3Igc2l6ZVxyXG4gICAgICAgIGlmIChkaW1zMS5sZW5ndGggIT09IGRpbXMyLmxlbmd0aCkge1xyXG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKFwiRGltZW5zaW9ucyB3aXRoIHVuZXF1YWwgbnVtYmVyIG9mIGNvbXBvbmVudHMgXCIgKyBkaW1zMS5sZW5ndGggKyBcIiAhPT0gXCIgKyBkaW1zMi5sZW5ndGggKyBcIi5cXG5cXG4gICAgICAgIERpbWVuc2lvbnMgMTpcXG5cIiArIGRpbXMxLmpvaW4oXCJcXG5cIikgKyBcIlxcblxcbiAgICAgICAgRGltZW5zaW9ucyAyOlxcblwiICsgZGltczIuam9pbihcIlxcblwiKSk7XHJcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIkRpbWVuc2lvbnMgYXJyYXkgc2l6ZSBtaXNtYXRjaC4uLlwiKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgLy8gQ2hlY2sgZm9yIG9yZGVyXHJcbiAgICAgICAgXy5yYW5nZShkaW1zMS5sZW5ndGgpLmZvckVhY2goZnVuY3Rpb24gKGkpIHtcclxuICAgICAgICAgICAgaWYgKCFkaW1zMVtpXS5pc0VxdWFsKGRpbXMyW2ldKSkge1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihcIkRpbWVuc2lvbnMgaGF2ZSB0aGUgc2FtZSBudW1iZXIgb2YgY29tcG9uZW50cywgYnV0IHRoZSBjb21wb25lbnQgXCIgKyBpICsgXCIgaXNcXG5cIiArIGRpbXMxW2ldICsgXCJcXG52c1xcblwiICsgZGltczJbaV0gKyBcIi5cXG5cXG4gICAgICAgICAgRGltZW5zaW9ucyAxOlxcblwiICsgZGltczEuam9pbihcIlxcblwiKSArIFwiXFxuXFxuICAgICAgICAgIERpbWVuc2lvbnMgMjpcXG5cIiArIGRpbXMyLmpvaW4oXCJcXG5cIikpO1xyXG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiRGltZW5zaW9ucyBhcnJheSBvcmRlciBtaXNtYXRjaC4uLlwiKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgfTtcclxuICAgIC8vIEFsc28gc3RyaW5nW10/XHJcbiAgICBEaW1lbnNpb24uc3RyaW5nVG9Db29yZEluZGljZXMgPSBmdW5jdGlvbiAocywgZGltZW5zaW9ucykge1xyXG4gICAgICAgIGlmIChkaW1lbnNpb25zLmxlbmd0aCAhPT0gcy5sZW5ndGgpIHtcclxuICAgICAgICAgICAgdGhyb3cgXCJkaW1lbnNpb25zLmxlbmd0aCAoXCIgKyBkaW1lbnNpb25zLmxlbmd0aCArIFwiKSAhPT0gc3RyaW5nLmxlbmd0aCAoXCIgKyBzLmxlbmd0aCArIFwiKVwiO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gXy5yYW5nZShkaW1lbnNpb25zLmxlbmd0aCkubWFwKGZ1bmN0aW9uIChpKSB7IHJldHVybiBkaW1lbnNpb25zW2ldLmNvb3JkTmFtZVRvSW5kZXgoc1tpXSk7IH0pO1xyXG4gICAgfTtcclxuICAgIHJldHVybiBEaW1lbnNpb247XHJcbn0oKSk7XHJcbmV4cG9ydHMuZGVmYXVsdCA9IERpbWVuc2lvbjtcclxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9RGltZW5zaW9uLmpzLm1hcCIsIlwidXNlIHN0cmljdFwiO1xyXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XHJcbi8vIENPTVBMRVggTlVNQkVSIENMQVNTXHJcbnZhciBDb25zdGFudHNfMSA9IHJlcXVpcmUoXCIuL0NvbnN0YW50c1wiKTtcclxuLyoqXHJcbiAqIENvbXBsZXggbnVtYmVyIGNsYXNzXHJcbiAqIGh0dHBzOi8vZW4ud2lraXBlZGlhLm9yZy93aWtpL0NvbXBsZXhfbnVtYmVyXHJcbiAqL1xyXG52YXIgQ29tcGxleCA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcclxuICAgIC8qKlxyXG4gICAgICogQ3JlYXRlcyBhIGNvbXBsZXggbnVtYmVyXHJcbiAgICAgKlxyXG4gICAgICogQHBhcmFtIHJlIC0gVGhlIGZpcnN0IGlucHV0IG51bWJlclxyXG4gICAgICogQHBhcmFtIGltIC0gVGhlIHNlY29uZCBpbnB1dCBudW1iZXJcclxuICAgICAqIEByZXR1cm5zIENyZWF0ZXMgYSBjb21wbGV4IG51bWJlciBgeiA9IHoucmUgKyBpIHouaW0gYFxyXG4gICAgICovXHJcbiAgICBmdW5jdGlvbiBDb21wbGV4KHJlLCBpbSkge1xyXG4gICAgICAgIGlmIChpbSA9PT0gdm9pZCAwKSB7IGltID0gMDsgfVxyXG4gICAgICAgIHRoaXMucmUgPSByZTtcclxuICAgICAgICB0aGlzLmltID0gaW07XHJcbiAgICB9XHJcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoQ29tcGxleC5wcm90b3R5cGUsIFwiclwiLCB7XHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICogUmFkaXVzIGluIHBvbGFyIGNvb3JkaW5hdGVcclxuICAgICAgICAgKiBAcmV0dXJucyBudW1iZXJcclxuICAgICAgICAgKi9cclxuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuYWJzKCk7XHJcbiAgICAgICAgfSxcclxuICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxyXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxyXG4gICAgfSk7XHJcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoQ29tcGxleC5wcm90b3R5cGUsIFwicGhpXCIsIHtcclxuICAgICAgICAvKipcclxuICAgICAgICAgKiBQaGkgYW5nbGUgaW4gcG9sYXIgY29vcmRpbmF0ZVxyXG4gICAgICAgICAqIEByZXR1cm5zIGFuZ2xlXHJcbiAgICAgICAgICovXHJcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmFyZygpO1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcclxuICAgIH0pO1xyXG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KENvbXBsZXgucHJvdG90eXBlLCBcInBoaVRhdVwiLCB7XHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICogUGhpIGFuZ2xlIGluIHBvbGFyIGNvb3JkaW5hdGUgd2l0aCBUQVVcclxuICAgICAgICAgKiBAcmV0dXJucyBhbmdsZSBkaXZpZGVkIGJ5IFRBVVxyXG4gICAgICAgICAqL1xyXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5hcmcoKSAvIENvbnN0YW50c18xLlRBVTtcclxuICAgICAgICB9LFxyXG4gICAgICAgIGVudW1lcmFibGU6IHRydWUsXHJcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXHJcbiAgICB9KTtcclxuICAgIC8qKlxyXG4gICAgICogTGVuZ3RoIHNxdWFyZWQ6IGludGVuc2l0eSBwcm9iYWJpbGl0eVxyXG4gICAgICogQHJldHVybnMgbnVtYmVyXHJcbiAgICAgKi9cclxuICAgIENvbXBsZXgucHJvdG90eXBlLmFiczIgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgcmV0dXJuIE1hdGgucG93KHRoaXMucmUsIDIpICsgTWF0aC5wb3codGhpcy5pbSwgMik7XHJcbiAgICB9O1xyXG4gICAgLyoqXHJcbiAgICAgKiBBYnNvbHV0ZSB2YWx1ZSAobGVuZ3RoKVxyXG4gICAgICogQHJldHVybnMgYWJzb2x1dGUgdmFsdWVcclxuICAgICAqL1xyXG4gICAgQ29tcGxleC5wcm90b3R5cGUuYWJzID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHJldHVybiBNYXRoLnNxcnQoTWF0aC5wb3codGhpcy5yZSwgMikgKyBNYXRoLnBvdyh0aGlzLmltLCAyKSk7XHJcbiAgICB9O1xyXG4gICAgLyoqXHJcbiAgICAgKiBDb21wbGV4IG51bWJlciBhcmd1bWVudCBpbiByYW5nZSBbMCxUYXVdXHJcbiAgICAgKiBAcmV0dXJucyBudW1iZXJcclxuICAgICAqL1xyXG4gICAgQ29tcGxleC5wcm90b3R5cGUuYXJnID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHZhciBhcmcgPSBNYXRoLmF0YW4yKHRoaXMuaW0sIHRoaXMucmUpO1xyXG4gICAgICAgIGlmIChhcmcgPCAwKSB7XHJcbiAgICAgICAgICAgIGFyZyArPSBDb25zdGFudHNfMS5UQVU7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBhcmc7XHJcbiAgICB9O1xyXG4gICAgLyoqXHJcbiAgICAgKiBBZGRpdGlvblxyXG4gICAgICogQHBhcmFtIHoyIGNvbXBsZXggbnVtYmVyIHRvIGJlIGFkZGVkXHJcbiAgICAgKiBAcmV0dXJucyB6ID0gejEgKyB6MlxyXG4gICAgICovXHJcbiAgICBDb21wbGV4LnByb3RvdHlwZS5hZGQgPSBmdW5jdGlvbiAoejIpIHtcclxuICAgICAgICB2YXIgejEgPSB0aGlzO1xyXG4gICAgICAgIHJldHVybiBuZXcgQ29tcGxleCh6MS5yZSArIHoyLnJlLCB6MS5pbSArIHoyLmltKTtcclxuICAgIH07XHJcbiAgICAvKipcclxuICAgICAqIFN1YnN0cmFjdGlvblxyXG4gICAgICogQHBhcmFtIHoyIGNvbXBsZXggbnVtYmVyIHRvIGJlIGFkZGVkXHJcbiAgICAgKiBAcmV0dXJucyB6ID0gejEgLSB6MlxyXG4gICAgICovXHJcbiAgICBDb21wbGV4LnByb3RvdHlwZS5zdWIgPSBmdW5jdGlvbiAoejIpIHtcclxuICAgICAgICB2YXIgejEgPSB0aGlzO1xyXG4gICAgICAgIHJldHVybiBuZXcgQ29tcGxleCh6MS5yZSAtIHoyLnJlLCB6MS5pbSAtIHoyLmltKTtcclxuICAgIH07XHJcbiAgICAvKipcclxuICAgICAqIE11bHRpcGxpY2F0aW9uXHJcbiAgICAgKiBAcGFyYW0gejIgY29tcGxleCBudW1iZXIgdG8gYmUgbXVsdGlwbGllZFxyXG4gICAgICogQHJldHVybnMgeiA9IHoxICogejJcclxuICAgICAqL1xyXG4gICAgQ29tcGxleC5wcm90b3R5cGUubXVsID0gZnVuY3Rpb24gKHoyKSB7XHJcbiAgICAgICAgdmFyIHoxID0gdGhpcztcclxuICAgICAgICByZXR1cm4gbmV3IENvbXBsZXgoejEucmUgKiB6Mi5yZSAtIHoxLmltICogejIuaW0sIHoxLnJlICogejIuaW0gKyB6MS5pbSAqIHoyLnJlKTtcclxuICAgIH07XHJcbiAgICAvKipcclxuICAgICAqIENvbXBsZXggY29uanVnYXRpb25cclxuICAgICAqIEByZXR1cm5zIHogPSB6e3JlLCAtaW19XHJcbiAgICAgKi9cclxuICAgIENvbXBsZXgucHJvdG90eXBlLmNvbmogPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgcmV0dXJuIG5ldyBDb21wbGV4KHRoaXMucmUsIC10aGlzLmltKTtcclxuICAgIH07XHJcbiAgICAvKipcclxuICAgICAqIE5vcm1hbGl6ZVxyXG4gICAgICogaHR0cHM6Ly93d3cua2hhbmFjYWRlbXkub3JnL2NvbXB1dGluZy9jb21wdXRlci1wcm9ncmFtbWluZy9wcm9ncmFtbWluZy1uYXR1cmFsLXNpbXVsYXRpb25zL3Byb2dyYW1taW5nLXZlY3RvcnMvYS92ZWN0b3ItbWFnbml0dWRlLW5vcm1hbGl6YXRpb25cclxuICAgICAqIEByZXR1cm5zIHpcclxuICAgICAqL1xyXG4gICAgQ29tcGxleC5wcm90b3R5cGUubm9ybWFsaXplID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIGlmICh0aGlzLnIgIT09IDApIHtcclxuICAgICAgICAgICAgcmV0dXJuIG5ldyBDb21wbGV4KHRoaXMucmUgLyB0aGlzLnIsIHRoaXMuaW0gLyB0aGlzLnIpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiQ2Fubm90IG5vcm1hbGl6ZSBhIDAgbGVuZ3RoIHZlY3Rvci4uLlwiKTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG4gICAgLyoqXHJcbiAgICAgKiBUZXN0cyBpZiBhIGNvbXBsZXggaXMgZXF1YWwgdG8gYW5vdGhlclxyXG4gICAgICogQHBhcmFtIHoyIGNvbXBsZXggdG8gdGVzdCBlcXVhbGl0eVxyXG4gICAgICogQHJldHVybnMgejEgPT09IHoyXHJcbiAgICAgKi9cclxuICAgIENvbXBsZXgucHJvdG90eXBlLmVxdWFsID0gZnVuY3Rpb24gKHoyKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMucmUgPT09IHoyLnJlICYmIHRoaXMuaW0gPT09IHoyLmltO1xyXG4gICAgfTtcclxuICAgIC8qKlxyXG4gICAgICogQ2hlY2sgaWYgYSBjb21wbGV4IG51bWJlciBpcyB6ZXJvXHJcbiAgICAgKiBAcmV0dXJuIHoxID09PSAwXHJcbiAgICAgKi9cclxuICAgIENvbXBsZXgucHJvdG90eXBlLmlzWmVybyA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5yZSA9PT0gMCAmJiB0aGlzLmltID09PSAwO1xyXG4gICAgfTtcclxuICAgIC8qKlxyXG4gICAgICogT3ZlcnJpZGUgdG9TdHJpbmcoKSBtZXRob2RcclxuICAgICAqIEBwYXJhbSBjb21wbGV4Rm9ybWF0IGNob2ljZSBiZXR3ZWVuIFtcImNhcnRlc2lhblwiLCBcInBvbGFyXCIsIFwicG9sYXJUYXVcIl1cclxuICAgICAqIEBwYXJhbSBwcmVjaXNpb24gZmxvYXQgZGlzcGxheSBwcmVjaXNpb25cclxuICAgICAqIEByZXR1cm5zIHN0cmluZyB3aXRoIGFwcHJvcHJpYXRlIGZvcm1hdFxyXG4gICAgICovXHJcbiAgICBDb21wbGV4LnByb3RvdHlwZS50b1N0cmluZyA9IGZ1bmN0aW9uIChjb21wbGV4Rm9ybWF0LCBwcmVjaXNpb24pIHtcclxuICAgICAgICBpZiAoY29tcGxleEZvcm1hdCA9PT0gdm9pZCAwKSB7IGNvbXBsZXhGb3JtYXQgPSBcImNhcnRlc2lhblwiOyB9XHJcbiAgICAgICAgaWYgKHByZWNpc2lvbiA9PT0gdm9pZCAwKSB7IHByZWNpc2lvbiA9IDI7IH1cclxuICAgICAgICBzd2l0Y2ggKGNvbXBsZXhGb3JtYXQpIHtcclxuICAgICAgICAgICAgY2FzZSBcImNhcnRlc2lhblwiOlxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIFwiKFwiICsgdGhpcy5yZS50b0ZpeGVkKHByZWNpc2lvbikgKyBcIiBcIiArICh0aGlzLmltID49IDAgPyBcIitcIiA6IFwiXCIpICsgdGhpcy5pbS50b0ZpeGVkKHByZWNpc2lvbikgKyBcImkpXCI7XHJcbiAgICAgICAgICAgIGNhc2UgXCJwb2xhclwiOlxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuci50b0ZpeGVkKHByZWNpc2lvbikgKyBcIiBleHAoXCIgKyB0aGlzLnBoaS50b0ZpeGVkKHByZWNpc2lvbikgKyBcImkpXCI7XHJcbiAgICAgICAgICAgIGNhc2UgXCJwb2xhclRhdVwiOlxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuci50b0ZpeGVkKHByZWNpc2lvbikgKyBcIiBleHAoXCIgKyB0aGlzLnBoaVRhdS50b0ZpeGVkKHByZWNpc2lvbikgKyBcIlxcdTAzQzRpKVwiO1xyXG4gICAgICAgICAgICBkZWZhdWx0OlxyXG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiY29tcGxleEZvcm1hdCAnXCIgKyBjb21wbGV4Rm9ybWF0ICsgXCInIGlzIG5vdCBpbiBbJ2NhcnRlc2lhbicsICdwb2xhcicsICdwb2xhclRhdSddLlwiKTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG4gICAgLyoqXHJcbiAgICAgKiBDcmVhdGUgYSBjb21wbGV4IG51bWJlciBmcm9tIHBvbGFyIGNvb3JkaW5hdGVzXHJcbiAgICAgKiBAcGFyYW0gciBSYWRpdXMgaW4gcG9sYXIgY29vcmRpbmF0ZXNcclxuICAgICAqIEBwYXJhbSBwaGkgQW5nbGUgaW4gcG9sYXIgY29vcmRpbmF0ZXNcclxuICAgICAqL1xyXG4gICAgQ29tcGxleC5mcm9tUG9sYXIgPSBmdW5jdGlvbiAociwgcGhpKSB7XHJcbiAgICAgICAgcmV0dXJuIG5ldyBDb21wbGV4KHIgKiBNYXRoLmNvcyhwaGkpLCByICogTWF0aC5zaW4ocGhpKSk7XHJcbiAgICB9O1xyXG4gICAgcmV0dXJuIENvbXBsZXg7XHJcbn0oKSk7XHJcbmV4cG9ydHMuZGVmYXVsdCA9IENvbXBsZXg7XHJcbi8qKlxyXG4gKiBTeW50YWN0aWMgc3VnYXIgZm9yIGBuZXcgQ29tcGxleChyZSwgaW0pYFxyXG4gKlxyXG4gKiBAcGFyYW0gcmUgLSBUaGUgZmlyc3QgaW5wdXQgbnVtYmVyXHJcbiAqIEBwYXJhbSBpbSAtIFRoZSBzZWNvbmQgaW5wdXQgbnVtYmVyXHJcbiAqIEByZXR1cm5zIENyZWF0ZXMgYSBjb21wbGV4IG51bWJlciBgeiA9IHoucmUgKyBpICogei5pbSBgXHJcbiAqL1xyXG5mdW5jdGlvbiBDeChyZSwgaW0pIHtcclxuICAgIGlmIChpbSA9PT0gdm9pZCAwKSB7IGltID0gMDsgfVxyXG4gICAgcmV0dXJuIG5ldyBDb21wbGV4KHJlLCBpbSk7XHJcbn1cclxuZXhwb3J0cy5DeCA9IEN4O1xyXG4vLyMgc291cmNlTWFwcGluZ1VSTD1Db21wbGV4LmpzLm1hcCIsIi8qKlxuICogQGNsYXNzIEFic3RyYWN0IGRpc3BsYXkgYmFja2VuZCBtb2R1bGVcbiAqIEBwcml2YXRlXG4gKi9cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEJhY2tlbmQge1xuICAgIGdldENvbnRhaW5lcigpIHsgcmV0dXJuIG51bGw7IH1cbiAgICBzZXRPcHRpb25zKG9wdGlvbnMpIHsgdGhpcy5fb3B0aW9ucyA9IG9wdGlvbnM7IH1cbn1cbiIsIi8qKlxuICogQGxpY2Vuc2VcbiAqIExvZGFzaCA8aHR0cHM6Ly9sb2Rhc2guY29tLz5cbiAqIENvcHlyaWdodCBPcGVuSlMgRm91bmRhdGlvbiBhbmQgb3RoZXIgY29udHJpYnV0b3JzIDxodHRwczovL29wZW5qc2Yub3JnLz5cbiAqIFJlbGVhc2VkIHVuZGVyIE1JVCBsaWNlbnNlIDxodHRwczovL2xvZGFzaC5jb20vbGljZW5zZT5cbiAqIEJhc2VkIG9uIFVuZGVyc2NvcmUuanMgMS44LjMgPGh0dHA6Ly91bmRlcnNjb3JlanMub3JnL0xJQ0VOU0U+XG4gKiBDb3B5cmlnaHQgSmVyZW15IEFzaGtlbmFzLCBEb2N1bWVudENsb3VkIGFuZCBJbnZlc3RpZ2F0aXZlIFJlcG9ydGVycyAmIEVkaXRvcnNcbiAqL1xuOyhmdW5jdGlvbigpIHtcblxuICAvKiogVXNlZCBhcyBhIHNhZmUgcmVmZXJlbmNlIGZvciBgdW5kZWZpbmVkYCBpbiBwcmUtRVM1IGVudmlyb25tZW50cy4gKi9cbiAgdmFyIHVuZGVmaW5lZDtcblxuICAvKiogVXNlZCBhcyB0aGUgc2VtYW50aWMgdmVyc2lvbiBudW1iZXIuICovXG4gIHZhciBWRVJTSU9OID0gJzQuMTcuMTUnO1xuXG4gIC8qKiBVc2VkIGFzIHRoZSBzaXplIHRvIGVuYWJsZSBsYXJnZSBhcnJheSBvcHRpbWl6YXRpb25zLiAqL1xuICB2YXIgTEFSR0VfQVJSQVlfU0laRSA9IDIwMDtcblxuICAvKiogRXJyb3IgbWVzc2FnZSBjb25zdGFudHMuICovXG4gIHZhciBDT1JFX0VSUk9SX1RFWFQgPSAnVW5zdXBwb3J0ZWQgY29yZS1qcyB1c2UuIFRyeSBodHRwczovL25wbXMuaW8vc2VhcmNoP3E9cG9ueWZpbGwuJyxcbiAgICAgIEZVTkNfRVJST1JfVEVYVCA9ICdFeHBlY3RlZCBhIGZ1bmN0aW9uJztcblxuICAvKiogVXNlZCB0byBzdGFuZC1pbiBmb3IgYHVuZGVmaW5lZGAgaGFzaCB2YWx1ZXMuICovXG4gIHZhciBIQVNIX1VOREVGSU5FRCA9ICdfX2xvZGFzaF9oYXNoX3VuZGVmaW5lZF9fJztcblxuICAvKiogVXNlZCBhcyB0aGUgbWF4aW11bSBtZW1vaXplIGNhY2hlIHNpemUuICovXG4gIHZhciBNQVhfTUVNT0laRV9TSVpFID0gNTAwO1xuXG4gIC8qKiBVc2VkIGFzIHRoZSBpbnRlcm5hbCBhcmd1bWVudCBwbGFjZWhvbGRlci4gKi9cbiAgdmFyIFBMQUNFSE9MREVSID0gJ19fbG9kYXNoX3BsYWNlaG9sZGVyX18nO1xuXG4gIC8qKiBVc2VkIHRvIGNvbXBvc2UgYml0bWFza3MgZm9yIGNsb25pbmcuICovXG4gIHZhciBDTE9ORV9ERUVQX0ZMQUcgPSAxLFxuICAgICAgQ0xPTkVfRkxBVF9GTEFHID0gMixcbiAgICAgIENMT05FX1NZTUJPTFNfRkxBRyA9IDQ7XG5cbiAgLyoqIFVzZWQgdG8gY29tcG9zZSBiaXRtYXNrcyBmb3IgdmFsdWUgY29tcGFyaXNvbnMuICovXG4gIHZhciBDT01QQVJFX1BBUlRJQUxfRkxBRyA9IDEsXG4gICAgICBDT01QQVJFX1VOT1JERVJFRF9GTEFHID0gMjtcblxuICAvKiogVXNlZCB0byBjb21wb3NlIGJpdG1hc2tzIGZvciBmdW5jdGlvbiBtZXRhZGF0YS4gKi9cbiAgdmFyIFdSQVBfQklORF9GTEFHID0gMSxcbiAgICAgIFdSQVBfQklORF9LRVlfRkxBRyA9IDIsXG4gICAgICBXUkFQX0NVUlJZX0JPVU5EX0ZMQUcgPSA0LFxuICAgICAgV1JBUF9DVVJSWV9GTEFHID0gOCxcbiAgICAgIFdSQVBfQ1VSUllfUklHSFRfRkxBRyA9IDE2LFxuICAgICAgV1JBUF9QQVJUSUFMX0ZMQUcgPSAzMixcbiAgICAgIFdSQVBfUEFSVElBTF9SSUdIVF9GTEFHID0gNjQsXG4gICAgICBXUkFQX0FSWV9GTEFHID0gMTI4LFxuICAgICAgV1JBUF9SRUFSR19GTEFHID0gMjU2LFxuICAgICAgV1JBUF9GTElQX0ZMQUcgPSA1MTI7XG5cbiAgLyoqIFVzZWQgYXMgZGVmYXVsdCBvcHRpb25zIGZvciBgXy50cnVuY2F0ZWAuICovXG4gIHZhciBERUZBVUxUX1RSVU5DX0xFTkdUSCA9IDMwLFxuICAgICAgREVGQVVMVF9UUlVOQ19PTUlTU0lPTiA9ICcuLi4nO1xuXG4gIC8qKiBVc2VkIHRvIGRldGVjdCBob3QgZnVuY3Rpb25zIGJ5IG51bWJlciBvZiBjYWxscyB3aXRoaW4gYSBzcGFuIG9mIG1pbGxpc2Vjb25kcy4gKi9cbiAgdmFyIEhPVF9DT1VOVCA9IDgwMCxcbiAgICAgIEhPVF9TUEFOID0gMTY7XG5cbiAgLyoqIFVzZWQgdG8gaW5kaWNhdGUgdGhlIHR5cGUgb2YgbGF6eSBpdGVyYXRlZXMuICovXG4gIHZhciBMQVpZX0ZJTFRFUl9GTEFHID0gMSxcbiAgICAgIExBWllfTUFQX0ZMQUcgPSAyLFxuICAgICAgTEFaWV9XSElMRV9GTEFHID0gMztcblxuICAvKiogVXNlZCBhcyByZWZlcmVuY2VzIGZvciB2YXJpb3VzIGBOdW1iZXJgIGNvbnN0YW50cy4gKi9cbiAgdmFyIElORklOSVRZID0gMSAvIDAsXG4gICAgICBNQVhfU0FGRV9JTlRFR0VSID0gOTAwNzE5OTI1NDc0MDk5MSxcbiAgICAgIE1BWF9JTlRFR0VSID0gMS43OTc2OTMxMzQ4NjIzMTU3ZSszMDgsXG4gICAgICBOQU4gPSAwIC8gMDtcblxuICAvKiogVXNlZCBhcyByZWZlcmVuY2VzIGZvciB0aGUgbWF4aW11bSBsZW5ndGggYW5kIGluZGV4IG9mIGFuIGFycmF5LiAqL1xuICB2YXIgTUFYX0FSUkFZX0xFTkdUSCA9IDQyOTQ5NjcyOTUsXG4gICAgICBNQVhfQVJSQVlfSU5ERVggPSBNQVhfQVJSQVlfTEVOR1RIIC0gMSxcbiAgICAgIEhBTEZfTUFYX0FSUkFZX0xFTkdUSCA9IE1BWF9BUlJBWV9MRU5HVEggPj4+IDE7XG5cbiAgLyoqIFVzZWQgdG8gYXNzb2NpYXRlIHdyYXAgbWV0aG9kcyB3aXRoIHRoZWlyIGJpdCBmbGFncy4gKi9cbiAgdmFyIHdyYXBGbGFncyA9IFtcbiAgICBbJ2FyeScsIFdSQVBfQVJZX0ZMQUddLFxuICAgIFsnYmluZCcsIFdSQVBfQklORF9GTEFHXSxcbiAgICBbJ2JpbmRLZXknLCBXUkFQX0JJTkRfS0VZX0ZMQUddLFxuICAgIFsnY3VycnknLCBXUkFQX0NVUlJZX0ZMQUddLFxuICAgIFsnY3VycnlSaWdodCcsIFdSQVBfQ1VSUllfUklHSFRfRkxBR10sXG4gICAgWydmbGlwJywgV1JBUF9GTElQX0ZMQUddLFxuICAgIFsncGFydGlhbCcsIFdSQVBfUEFSVElBTF9GTEFHXSxcbiAgICBbJ3BhcnRpYWxSaWdodCcsIFdSQVBfUEFSVElBTF9SSUdIVF9GTEFHXSxcbiAgICBbJ3JlYXJnJywgV1JBUF9SRUFSR19GTEFHXVxuICBdO1xuXG4gIC8qKiBgT2JqZWN0I3RvU3RyaW5nYCByZXN1bHQgcmVmZXJlbmNlcy4gKi9cbiAgdmFyIGFyZ3NUYWcgPSAnW29iamVjdCBBcmd1bWVudHNdJyxcbiAgICAgIGFycmF5VGFnID0gJ1tvYmplY3QgQXJyYXldJyxcbiAgICAgIGFzeW5jVGFnID0gJ1tvYmplY3QgQXN5bmNGdW5jdGlvbl0nLFxuICAgICAgYm9vbFRhZyA9ICdbb2JqZWN0IEJvb2xlYW5dJyxcbiAgICAgIGRhdGVUYWcgPSAnW29iamVjdCBEYXRlXScsXG4gICAgICBkb21FeGNUYWcgPSAnW29iamVjdCBET01FeGNlcHRpb25dJyxcbiAgICAgIGVycm9yVGFnID0gJ1tvYmplY3QgRXJyb3JdJyxcbiAgICAgIGZ1bmNUYWcgPSAnW29iamVjdCBGdW5jdGlvbl0nLFxuICAgICAgZ2VuVGFnID0gJ1tvYmplY3QgR2VuZXJhdG9yRnVuY3Rpb25dJyxcbiAgICAgIG1hcFRhZyA9ICdbb2JqZWN0IE1hcF0nLFxuICAgICAgbnVtYmVyVGFnID0gJ1tvYmplY3QgTnVtYmVyXScsXG4gICAgICBudWxsVGFnID0gJ1tvYmplY3QgTnVsbF0nLFxuICAgICAgb2JqZWN0VGFnID0gJ1tvYmplY3QgT2JqZWN0XScsXG4gICAgICBwcm9taXNlVGFnID0gJ1tvYmplY3QgUHJvbWlzZV0nLFxuICAgICAgcHJveHlUYWcgPSAnW29iamVjdCBQcm94eV0nLFxuICAgICAgcmVnZXhwVGFnID0gJ1tvYmplY3QgUmVnRXhwXScsXG4gICAgICBzZXRUYWcgPSAnW29iamVjdCBTZXRdJyxcbiAgICAgIHN0cmluZ1RhZyA9ICdbb2JqZWN0IFN0cmluZ10nLFxuICAgICAgc3ltYm9sVGFnID0gJ1tvYmplY3QgU3ltYm9sXScsXG4gICAgICB1bmRlZmluZWRUYWcgPSAnW29iamVjdCBVbmRlZmluZWRdJyxcbiAgICAgIHdlYWtNYXBUYWcgPSAnW29iamVjdCBXZWFrTWFwXScsXG4gICAgICB3ZWFrU2V0VGFnID0gJ1tvYmplY3QgV2Vha1NldF0nO1xuXG4gIHZhciBhcnJheUJ1ZmZlclRhZyA9ICdbb2JqZWN0IEFycmF5QnVmZmVyXScsXG4gICAgICBkYXRhVmlld1RhZyA9ICdbb2JqZWN0IERhdGFWaWV3XScsXG4gICAgICBmbG9hdDMyVGFnID0gJ1tvYmplY3QgRmxvYXQzMkFycmF5XScsXG4gICAgICBmbG9hdDY0VGFnID0gJ1tvYmplY3QgRmxvYXQ2NEFycmF5XScsXG4gICAgICBpbnQ4VGFnID0gJ1tvYmplY3QgSW50OEFycmF5XScsXG4gICAgICBpbnQxNlRhZyA9ICdbb2JqZWN0IEludDE2QXJyYXldJyxcbiAgICAgIGludDMyVGFnID0gJ1tvYmplY3QgSW50MzJBcnJheV0nLFxuICAgICAgdWludDhUYWcgPSAnW29iamVjdCBVaW50OEFycmF5XScsXG4gICAgICB1aW50OENsYW1wZWRUYWcgPSAnW29iamVjdCBVaW50OENsYW1wZWRBcnJheV0nLFxuICAgICAgdWludDE2VGFnID0gJ1tvYmplY3QgVWludDE2QXJyYXldJyxcbiAgICAgIHVpbnQzMlRhZyA9ICdbb2JqZWN0IFVpbnQzMkFycmF5XSc7XG5cbiAgLyoqIFVzZWQgdG8gbWF0Y2ggZW1wdHkgc3RyaW5nIGxpdGVyYWxzIGluIGNvbXBpbGVkIHRlbXBsYXRlIHNvdXJjZS4gKi9cbiAgdmFyIHJlRW1wdHlTdHJpbmdMZWFkaW5nID0gL1xcYl9fcCBcXCs9ICcnOy9nLFxuICAgICAgcmVFbXB0eVN0cmluZ01pZGRsZSA9IC9cXGIoX19wIFxcKz0pICcnIFxcKy9nLFxuICAgICAgcmVFbXB0eVN0cmluZ1RyYWlsaW5nID0gLyhfX2VcXCguKj9cXCl8XFxiX190XFwpKSBcXCtcXG4nJzsvZztcblxuICAvKiogVXNlZCB0byBtYXRjaCBIVE1MIGVudGl0aWVzIGFuZCBIVE1MIGNoYXJhY3RlcnMuICovXG4gIHZhciByZUVzY2FwZWRIdG1sID0gLyYoPzphbXB8bHR8Z3R8cXVvdHwjMzkpOy9nLFxuICAgICAgcmVVbmVzY2FwZWRIdG1sID0gL1smPD5cIiddL2csXG4gICAgICByZUhhc0VzY2FwZWRIdG1sID0gUmVnRXhwKHJlRXNjYXBlZEh0bWwuc291cmNlKSxcbiAgICAgIHJlSGFzVW5lc2NhcGVkSHRtbCA9IFJlZ0V4cChyZVVuZXNjYXBlZEh0bWwuc291cmNlKTtcblxuICAvKiogVXNlZCB0byBtYXRjaCB0ZW1wbGF0ZSBkZWxpbWl0ZXJzLiAqL1xuICB2YXIgcmVFc2NhcGUgPSAvPCUtKFtcXHNcXFNdKz8pJT4vZyxcbiAgICAgIHJlRXZhbHVhdGUgPSAvPCUoW1xcc1xcU10rPyklPi9nLFxuICAgICAgcmVJbnRlcnBvbGF0ZSA9IC88JT0oW1xcc1xcU10rPyklPi9nO1xuXG4gIC8qKiBVc2VkIHRvIG1hdGNoIHByb3BlcnR5IG5hbWVzIHdpdGhpbiBwcm9wZXJ0eSBwYXRocy4gKi9cbiAgdmFyIHJlSXNEZWVwUHJvcCA9IC9cXC58XFxbKD86W15bXFxdXSp8KFtcIiddKSg/Oig/IVxcMSlbXlxcXFxdfFxcXFwuKSo/XFwxKVxcXS8sXG4gICAgICByZUlzUGxhaW5Qcm9wID0gL15cXHcqJC8sXG4gICAgICByZVByb3BOYW1lID0gL1teLltcXF1dK3xcXFsoPzooLT9cXGQrKD86XFwuXFxkKyk/KXwoW1wiJ10pKCg/Oig/IVxcMilbXlxcXFxdfFxcXFwuKSo/KVxcMilcXF18KD89KD86XFwufFxcW1xcXSkoPzpcXC58XFxbXFxdfCQpKS9nO1xuXG4gIC8qKlxuICAgKiBVc2VkIHRvIG1hdGNoIGBSZWdFeHBgXG4gICAqIFtzeW50YXggY2hhcmFjdGVyc10oaHR0cDovL2VjbWEtaW50ZXJuYXRpb25hbC5vcmcvZWNtYS0yNjIvNy4wLyNzZWMtcGF0dGVybnMpLlxuICAgKi9cbiAgdmFyIHJlUmVnRXhwQ2hhciA9IC9bXFxcXF4kLiorPygpW1xcXXt9fF0vZyxcbiAgICAgIHJlSGFzUmVnRXhwQ2hhciA9IFJlZ0V4cChyZVJlZ0V4cENoYXIuc291cmNlKTtcblxuICAvKiogVXNlZCB0byBtYXRjaCBsZWFkaW5nIGFuZCB0cmFpbGluZyB3aGl0ZXNwYWNlLiAqL1xuICB2YXIgcmVUcmltID0gL15cXHMrfFxccyskL2csXG4gICAgICByZVRyaW1TdGFydCA9IC9eXFxzKy8sXG4gICAgICByZVRyaW1FbmQgPSAvXFxzKyQvO1xuXG4gIC8qKiBVc2VkIHRvIG1hdGNoIHdyYXAgZGV0YWlsIGNvbW1lbnRzLiAqL1xuICB2YXIgcmVXcmFwQ29tbWVudCA9IC9cXHsoPzpcXG5cXC9cXCogXFxbd3JhcHBlZCB3aXRoIC4rXFxdIFxcKlxcLyk/XFxuPy8sXG4gICAgICByZVdyYXBEZXRhaWxzID0gL1xce1xcblxcL1xcKiBcXFt3cmFwcGVkIHdpdGggKC4rKVxcXSBcXCovLFxuICAgICAgcmVTcGxpdERldGFpbHMgPSAvLD8gJiAvO1xuXG4gIC8qKiBVc2VkIHRvIG1hdGNoIHdvcmRzIGNvbXBvc2VkIG9mIGFscGhhbnVtZXJpYyBjaGFyYWN0ZXJzLiAqL1xuICB2YXIgcmVBc2NpaVdvcmQgPSAvW15cXHgwMC1cXHgyZlxceDNhLVxceDQwXFx4NWItXFx4NjBcXHg3Yi1cXHg3Zl0rL2c7XG5cbiAgLyoqIFVzZWQgdG8gbWF0Y2ggYmFja3NsYXNoZXMgaW4gcHJvcGVydHkgcGF0aHMuICovXG4gIHZhciByZUVzY2FwZUNoYXIgPSAvXFxcXChcXFxcKT8vZztcblxuICAvKipcbiAgICogVXNlZCB0byBtYXRjaFxuICAgKiBbRVMgdGVtcGxhdGUgZGVsaW1pdGVyc10oaHR0cDovL2VjbWEtaW50ZXJuYXRpb25hbC5vcmcvZWNtYS0yNjIvNy4wLyNzZWMtdGVtcGxhdGUtbGl0ZXJhbC1sZXhpY2FsLWNvbXBvbmVudHMpLlxuICAgKi9cbiAgdmFyIHJlRXNUZW1wbGF0ZSA9IC9cXCRcXHsoW15cXFxcfV0qKD86XFxcXC5bXlxcXFx9XSopKilcXH0vZztcblxuICAvKiogVXNlZCB0byBtYXRjaCBgUmVnRXhwYCBmbGFncyBmcm9tIHRoZWlyIGNvZXJjZWQgc3RyaW5nIHZhbHVlcy4gKi9cbiAgdmFyIHJlRmxhZ3MgPSAvXFx3KiQvO1xuXG4gIC8qKiBVc2VkIHRvIGRldGVjdCBiYWQgc2lnbmVkIGhleGFkZWNpbWFsIHN0cmluZyB2YWx1ZXMuICovXG4gIHZhciByZUlzQmFkSGV4ID0gL15bLStdMHhbMC05YS1mXSskL2k7XG5cbiAgLyoqIFVzZWQgdG8gZGV0ZWN0IGJpbmFyeSBzdHJpbmcgdmFsdWVzLiAqL1xuICB2YXIgcmVJc0JpbmFyeSA9IC9eMGJbMDFdKyQvaTtcblxuICAvKiogVXNlZCB0byBkZXRlY3QgaG9zdCBjb25zdHJ1Y3RvcnMgKFNhZmFyaSkuICovXG4gIHZhciByZUlzSG9zdEN0b3IgPSAvXlxcW29iamVjdCAuKz9Db25zdHJ1Y3RvclxcXSQvO1xuXG4gIC8qKiBVc2VkIHRvIGRldGVjdCBvY3RhbCBzdHJpbmcgdmFsdWVzLiAqL1xuICB2YXIgcmVJc09jdGFsID0gL14wb1swLTddKyQvaTtcblxuICAvKiogVXNlZCB0byBkZXRlY3QgdW5zaWduZWQgaW50ZWdlciB2YWx1ZXMuICovXG4gIHZhciByZUlzVWludCA9IC9eKD86MHxbMS05XVxcZCopJC87XG5cbiAgLyoqIFVzZWQgdG8gbWF0Y2ggTGF0aW4gVW5pY29kZSBsZXR0ZXJzIChleGNsdWRpbmcgbWF0aGVtYXRpY2FsIG9wZXJhdG9ycykuICovXG4gIHZhciByZUxhdGluID0gL1tcXHhjMC1cXHhkNlxceGQ4LVxceGY2XFx4ZjgtXFx4ZmZcXHUwMTAwLVxcdTAxN2ZdL2c7XG5cbiAgLyoqIFVzZWQgdG8gZW5zdXJlIGNhcHR1cmluZyBvcmRlciBvZiB0ZW1wbGF0ZSBkZWxpbWl0ZXJzLiAqL1xuICB2YXIgcmVOb01hdGNoID0gLygkXikvO1xuXG4gIC8qKiBVc2VkIHRvIG1hdGNoIHVuZXNjYXBlZCBjaGFyYWN0ZXJzIGluIGNvbXBpbGVkIHN0cmluZyBsaXRlcmFscy4gKi9cbiAgdmFyIHJlVW5lc2NhcGVkU3RyaW5nID0gL1snXFxuXFxyXFx1MjAyOFxcdTIwMjlcXFxcXS9nO1xuXG4gIC8qKiBVc2VkIHRvIGNvbXBvc2UgdW5pY29kZSBjaGFyYWN0ZXIgY2xhc3Nlcy4gKi9cbiAgdmFyIHJzQXN0cmFsUmFuZ2UgPSAnXFxcXHVkODAwLVxcXFx1ZGZmZicsXG4gICAgICByc0NvbWJvTWFya3NSYW5nZSA9ICdcXFxcdTAzMDAtXFxcXHUwMzZmJyxcbiAgICAgIHJlQ29tYm9IYWxmTWFya3NSYW5nZSA9ICdcXFxcdWZlMjAtXFxcXHVmZTJmJyxcbiAgICAgIHJzQ29tYm9TeW1ib2xzUmFuZ2UgPSAnXFxcXHUyMGQwLVxcXFx1MjBmZicsXG4gICAgICByc0NvbWJvUmFuZ2UgPSByc0NvbWJvTWFya3NSYW5nZSArIHJlQ29tYm9IYWxmTWFya3NSYW5nZSArIHJzQ29tYm9TeW1ib2xzUmFuZ2UsXG4gICAgICByc0RpbmdiYXRSYW5nZSA9ICdcXFxcdTI3MDAtXFxcXHUyN2JmJyxcbiAgICAgIHJzTG93ZXJSYW5nZSA9ICdhLXpcXFxceGRmLVxcXFx4ZjZcXFxceGY4LVxcXFx4ZmYnLFxuICAgICAgcnNNYXRoT3BSYW5nZSA9ICdcXFxceGFjXFxcXHhiMVxcXFx4ZDdcXFxceGY3JyxcbiAgICAgIHJzTm9uQ2hhclJhbmdlID0gJ1xcXFx4MDAtXFxcXHgyZlxcXFx4M2EtXFxcXHg0MFxcXFx4NWItXFxcXHg2MFxcXFx4N2ItXFxcXHhiZicsXG4gICAgICByc1B1bmN0dWF0aW9uUmFuZ2UgPSAnXFxcXHUyMDAwLVxcXFx1MjA2ZicsXG4gICAgICByc1NwYWNlUmFuZ2UgPSAnIFxcXFx0XFxcXHgwYlxcXFxmXFxcXHhhMFxcXFx1ZmVmZlxcXFxuXFxcXHJcXFxcdTIwMjhcXFxcdTIwMjlcXFxcdTE2ODBcXFxcdTE4MGVcXFxcdTIwMDBcXFxcdTIwMDFcXFxcdTIwMDJcXFxcdTIwMDNcXFxcdTIwMDRcXFxcdTIwMDVcXFxcdTIwMDZcXFxcdTIwMDdcXFxcdTIwMDhcXFxcdTIwMDlcXFxcdTIwMGFcXFxcdTIwMmZcXFxcdTIwNWZcXFxcdTMwMDAnLFxuICAgICAgcnNVcHBlclJhbmdlID0gJ0EtWlxcXFx4YzAtXFxcXHhkNlxcXFx4ZDgtXFxcXHhkZScsXG4gICAgICByc1ZhclJhbmdlID0gJ1xcXFx1ZmUwZVxcXFx1ZmUwZicsXG4gICAgICByc0JyZWFrUmFuZ2UgPSByc01hdGhPcFJhbmdlICsgcnNOb25DaGFyUmFuZ2UgKyByc1B1bmN0dWF0aW9uUmFuZ2UgKyByc1NwYWNlUmFuZ2U7XG5cbiAgLyoqIFVzZWQgdG8gY29tcG9zZSB1bmljb2RlIGNhcHR1cmUgZ3JvdXBzLiAqL1xuICB2YXIgcnNBcG9zID0gXCJbJ1xcdTIwMTldXCIsXG4gICAgICByc0FzdHJhbCA9ICdbJyArIHJzQXN0cmFsUmFuZ2UgKyAnXScsXG4gICAgICByc0JyZWFrID0gJ1snICsgcnNCcmVha1JhbmdlICsgJ10nLFxuICAgICAgcnNDb21ibyA9ICdbJyArIHJzQ29tYm9SYW5nZSArICddJyxcbiAgICAgIHJzRGlnaXRzID0gJ1xcXFxkKycsXG4gICAgICByc0RpbmdiYXQgPSAnWycgKyByc0RpbmdiYXRSYW5nZSArICddJyxcbiAgICAgIHJzTG93ZXIgPSAnWycgKyByc0xvd2VyUmFuZ2UgKyAnXScsXG4gICAgICByc01pc2MgPSAnW14nICsgcnNBc3RyYWxSYW5nZSArIHJzQnJlYWtSYW5nZSArIHJzRGlnaXRzICsgcnNEaW5nYmF0UmFuZ2UgKyByc0xvd2VyUmFuZ2UgKyByc1VwcGVyUmFuZ2UgKyAnXScsXG4gICAgICByc0ZpdHogPSAnXFxcXHVkODNjW1xcXFx1ZGZmYi1cXFxcdWRmZmZdJyxcbiAgICAgIHJzTW9kaWZpZXIgPSAnKD86JyArIHJzQ29tYm8gKyAnfCcgKyByc0ZpdHogKyAnKScsXG4gICAgICByc05vbkFzdHJhbCA9ICdbXicgKyByc0FzdHJhbFJhbmdlICsgJ10nLFxuICAgICAgcnNSZWdpb25hbCA9ICcoPzpcXFxcdWQ4M2NbXFxcXHVkZGU2LVxcXFx1ZGRmZl0pezJ9JyxcbiAgICAgIHJzU3VyclBhaXIgPSAnW1xcXFx1ZDgwMC1cXFxcdWRiZmZdW1xcXFx1ZGMwMC1cXFxcdWRmZmZdJyxcbiAgICAgIHJzVXBwZXIgPSAnWycgKyByc1VwcGVyUmFuZ2UgKyAnXScsXG4gICAgICByc1pXSiA9ICdcXFxcdTIwMGQnO1xuXG4gIC8qKiBVc2VkIHRvIGNvbXBvc2UgdW5pY29kZSByZWdleGVzLiAqL1xuICB2YXIgcnNNaXNjTG93ZXIgPSAnKD86JyArIHJzTG93ZXIgKyAnfCcgKyByc01pc2MgKyAnKScsXG4gICAgICByc01pc2NVcHBlciA9ICcoPzonICsgcnNVcHBlciArICd8JyArIHJzTWlzYyArICcpJyxcbiAgICAgIHJzT3B0Q29udHJMb3dlciA9ICcoPzonICsgcnNBcG9zICsgJyg/OmR8bGx8bXxyZXxzfHR8dmUpKT8nLFxuICAgICAgcnNPcHRDb250clVwcGVyID0gJyg/OicgKyByc0Fwb3MgKyAnKD86RHxMTHxNfFJFfFN8VHxWRSkpPycsXG4gICAgICByZU9wdE1vZCA9IHJzTW9kaWZpZXIgKyAnPycsXG4gICAgICByc09wdFZhciA9ICdbJyArIHJzVmFyUmFuZ2UgKyAnXT8nLFxuICAgICAgcnNPcHRKb2luID0gJyg/OicgKyByc1pXSiArICcoPzonICsgW3JzTm9uQXN0cmFsLCByc1JlZ2lvbmFsLCByc1N1cnJQYWlyXS5qb2luKCd8JykgKyAnKScgKyByc09wdFZhciArIHJlT3B0TW9kICsgJykqJyxcbiAgICAgIHJzT3JkTG93ZXIgPSAnXFxcXGQqKD86MXN0fDJuZHwzcmR8KD8hWzEyM10pXFxcXGR0aCkoPz1cXFxcYnxbQS1aX10pJyxcbiAgICAgIHJzT3JkVXBwZXIgPSAnXFxcXGQqKD86MVNUfDJORHwzUkR8KD8hWzEyM10pXFxcXGRUSCkoPz1cXFxcYnxbYS16X10pJyxcbiAgICAgIHJzU2VxID0gcnNPcHRWYXIgKyByZU9wdE1vZCArIHJzT3B0Sm9pbixcbiAgICAgIHJzRW1vamkgPSAnKD86JyArIFtyc0RpbmdiYXQsIHJzUmVnaW9uYWwsIHJzU3VyclBhaXJdLmpvaW4oJ3wnKSArICcpJyArIHJzU2VxLFxuICAgICAgcnNTeW1ib2wgPSAnKD86JyArIFtyc05vbkFzdHJhbCArIHJzQ29tYm8gKyAnPycsIHJzQ29tYm8sIHJzUmVnaW9uYWwsIHJzU3VyclBhaXIsIHJzQXN0cmFsXS5qb2luKCd8JykgKyAnKSc7XG5cbiAgLyoqIFVzZWQgdG8gbWF0Y2ggYXBvc3Ryb3BoZXMuICovXG4gIHZhciByZUFwb3MgPSBSZWdFeHAocnNBcG9zLCAnZycpO1xuXG4gIC8qKlxuICAgKiBVc2VkIHRvIG1hdGNoIFtjb21iaW5pbmcgZGlhY3JpdGljYWwgbWFya3NdKGh0dHBzOi8vZW4ud2lraXBlZGlhLm9yZy93aWtpL0NvbWJpbmluZ19EaWFjcml0aWNhbF9NYXJrcykgYW5kXG4gICAqIFtjb21iaW5pbmcgZGlhY3JpdGljYWwgbWFya3MgZm9yIHN5bWJvbHNdKGh0dHBzOi8vZW4ud2lraXBlZGlhLm9yZy93aWtpL0NvbWJpbmluZ19EaWFjcml0aWNhbF9NYXJrc19mb3JfU3ltYm9scykuXG4gICAqL1xuICB2YXIgcmVDb21ib01hcmsgPSBSZWdFeHAocnNDb21ibywgJ2cnKTtcblxuICAvKiogVXNlZCB0byBtYXRjaCBbc3RyaW5nIHN5bWJvbHNdKGh0dHBzOi8vbWF0aGlhc2J5bmVucy5iZS9ub3Rlcy9qYXZhc2NyaXB0LXVuaWNvZGUpLiAqL1xuICB2YXIgcmVVbmljb2RlID0gUmVnRXhwKHJzRml0eiArICcoPz0nICsgcnNGaXR6ICsgJyl8JyArIHJzU3ltYm9sICsgcnNTZXEsICdnJyk7XG5cbiAgLyoqIFVzZWQgdG8gbWF0Y2ggY29tcGxleCBvciBjb21wb3VuZCB3b3Jkcy4gKi9cbiAgdmFyIHJlVW5pY29kZVdvcmQgPSBSZWdFeHAoW1xuICAgIHJzVXBwZXIgKyAnPycgKyByc0xvd2VyICsgJysnICsgcnNPcHRDb250ckxvd2VyICsgJyg/PScgKyBbcnNCcmVhaywgcnNVcHBlciwgJyQnXS5qb2luKCd8JykgKyAnKScsXG4gICAgcnNNaXNjVXBwZXIgKyAnKycgKyByc09wdENvbnRyVXBwZXIgKyAnKD89JyArIFtyc0JyZWFrLCByc1VwcGVyICsgcnNNaXNjTG93ZXIsICckJ10uam9pbignfCcpICsgJyknLFxuICAgIHJzVXBwZXIgKyAnPycgKyByc01pc2NMb3dlciArICcrJyArIHJzT3B0Q29udHJMb3dlcixcbiAgICByc1VwcGVyICsgJysnICsgcnNPcHRDb250clVwcGVyLFxuICAgIHJzT3JkVXBwZXIsXG4gICAgcnNPcmRMb3dlcixcbiAgICByc0RpZ2l0cyxcbiAgICByc0Vtb2ppXG4gIF0uam9pbignfCcpLCAnZycpO1xuXG4gIC8qKiBVc2VkIHRvIGRldGVjdCBzdHJpbmdzIHdpdGggW3plcm8td2lkdGggam9pbmVycyBvciBjb2RlIHBvaW50cyBmcm9tIHRoZSBhc3RyYWwgcGxhbmVzXShodHRwOi8vZWV2LmVlL2Jsb2cvMjAxNS8wOS8xMi9kYXJrLWNvcm5lcnMtb2YtdW5pY29kZS8pLiAqL1xuICB2YXIgcmVIYXNVbmljb2RlID0gUmVnRXhwKCdbJyArIHJzWldKICsgcnNBc3RyYWxSYW5nZSAgKyByc0NvbWJvUmFuZ2UgKyByc1ZhclJhbmdlICsgJ10nKTtcblxuICAvKiogVXNlZCB0byBkZXRlY3Qgc3RyaW5ncyB0aGF0IG5lZWQgYSBtb3JlIHJvYnVzdCByZWdleHAgdG8gbWF0Y2ggd29yZHMuICovXG4gIHZhciByZUhhc1VuaWNvZGVXb3JkID0gL1thLXpdW0EtWl18W0EtWl17Mn1bYS16XXxbMC05XVthLXpBLVpdfFthLXpBLVpdWzAtOV18W15hLXpBLVowLTkgXS87XG5cbiAgLyoqIFVzZWQgdG8gYXNzaWduIGRlZmF1bHQgYGNvbnRleHRgIG9iamVjdCBwcm9wZXJ0aWVzLiAqL1xuICB2YXIgY29udGV4dFByb3BzID0gW1xuICAgICdBcnJheScsICdCdWZmZXInLCAnRGF0YVZpZXcnLCAnRGF0ZScsICdFcnJvcicsICdGbG9hdDMyQXJyYXknLCAnRmxvYXQ2NEFycmF5JyxcbiAgICAnRnVuY3Rpb24nLCAnSW50OEFycmF5JywgJ0ludDE2QXJyYXknLCAnSW50MzJBcnJheScsICdNYXAnLCAnTWF0aCcsICdPYmplY3QnLFxuICAgICdQcm9taXNlJywgJ1JlZ0V4cCcsICdTZXQnLCAnU3RyaW5nJywgJ1N5bWJvbCcsICdUeXBlRXJyb3InLCAnVWludDhBcnJheScsXG4gICAgJ1VpbnQ4Q2xhbXBlZEFycmF5JywgJ1VpbnQxNkFycmF5JywgJ1VpbnQzMkFycmF5JywgJ1dlYWtNYXAnLFxuICAgICdfJywgJ2NsZWFyVGltZW91dCcsICdpc0Zpbml0ZScsICdwYXJzZUludCcsICdzZXRUaW1lb3V0J1xuICBdO1xuXG4gIC8qKiBVc2VkIHRvIG1ha2UgdGVtcGxhdGUgc291cmNlVVJMcyBlYXNpZXIgdG8gaWRlbnRpZnkuICovXG4gIHZhciB0ZW1wbGF0ZUNvdW50ZXIgPSAtMTtcblxuICAvKiogVXNlZCB0byBpZGVudGlmeSBgdG9TdHJpbmdUYWdgIHZhbHVlcyBvZiB0eXBlZCBhcnJheXMuICovXG4gIHZhciB0eXBlZEFycmF5VGFncyA9IHt9O1xuICB0eXBlZEFycmF5VGFnc1tmbG9hdDMyVGFnXSA9IHR5cGVkQXJyYXlUYWdzW2Zsb2F0NjRUYWddID1cbiAgdHlwZWRBcnJheVRhZ3NbaW50OFRhZ10gPSB0eXBlZEFycmF5VGFnc1tpbnQxNlRhZ10gPVxuICB0eXBlZEFycmF5VGFnc1tpbnQzMlRhZ10gPSB0eXBlZEFycmF5VGFnc1t1aW50OFRhZ10gPVxuICB0eXBlZEFycmF5VGFnc1t1aW50OENsYW1wZWRUYWddID0gdHlwZWRBcnJheVRhZ3NbdWludDE2VGFnXSA9XG4gIHR5cGVkQXJyYXlUYWdzW3VpbnQzMlRhZ10gPSB0cnVlO1xuICB0eXBlZEFycmF5VGFnc1thcmdzVGFnXSA9IHR5cGVkQXJyYXlUYWdzW2FycmF5VGFnXSA9XG4gIHR5cGVkQXJyYXlUYWdzW2FycmF5QnVmZmVyVGFnXSA9IHR5cGVkQXJyYXlUYWdzW2Jvb2xUYWddID1cbiAgdHlwZWRBcnJheVRhZ3NbZGF0YVZpZXdUYWddID0gdHlwZWRBcnJheVRhZ3NbZGF0ZVRhZ10gPVxuICB0eXBlZEFycmF5VGFnc1tlcnJvclRhZ10gPSB0eXBlZEFycmF5VGFnc1tmdW5jVGFnXSA9XG4gIHR5cGVkQXJyYXlUYWdzW21hcFRhZ10gPSB0eXBlZEFycmF5VGFnc1tudW1iZXJUYWddID1cbiAgdHlwZWRBcnJheVRhZ3Nbb2JqZWN0VGFnXSA9IHR5cGVkQXJyYXlUYWdzW3JlZ2V4cFRhZ10gPVxuICB0eXBlZEFycmF5VGFnc1tzZXRUYWddID0gdHlwZWRBcnJheVRhZ3Nbc3RyaW5nVGFnXSA9XG4gIHR5cGVkQXJyYXlUYWdzW3dlYWtNYXBUYWddID0gZmFsc2U7XG5cbiAgLyoqIFVzZWQgdG8gaWRlbnRpZnkgYHRvU3RyaW5nVGFnYCB2YWx1ZXMgc3VwcG9ydGVkIGJ5IGBfLmNsb25lYC4gKi9cbiAgdmFyIGNsb25lYWJsZVRhZ3MgPSB7fTtcbiAgY2xvbmVhYmxlVGFnc1thcmdzVGFnXSA9IGNsb25lYWJsZVRhZ3NbYXJyYXlUYWddID1cbiAgY2xvbmVhYmxlVGFnc1thcnJheUJ1ZmZlclRhZ10gPSBjbG9uZWFibGVUYWdzW2RhdGFWaWV3VGFnXSA9XG4gIGNsb25lYWJsZVRhZ3NbYm9vbFRhZ10gPSBjbG9uZWFibGVUYWdzW2RhdGVUYWddID1cbiAgY2xvbmVhYmxlVGFnc1tmbG9hdDMyVGFnXSA9IGNsb25lYWJsZVRhZ3NbZmxvYXQ2NFRhZ10gPVxuICBjbG9uZWFibGVUYWdzW2ludDhUYWddID0gY2xvbmVhYmxlVGFnc1tpbnQxNlRhZ10gPVxuICBjbG9uZWFibGVUYWdzW2ludDMyVGFnXSA9IGNsb25lYWJsZVRhZ3NbbWFwVGFnXSA9XG4gIGNsb25lYWJsZVRhZ3NbbnVtYmVyVGFnXSA9IGNsb25lYWJsZVRhZ3Nbb2JqZWN0VGFnXSA9XG4gIGNsb25lYWJsZVRhZ3NbcmVnZXhwVGFnXSA9IGNsb25lYWJsZVRhZ3Nbc2V0VGFnXSA9XG4gIGNsb25lYWJsZVRhZ3Nbc3RyaW5nVGFnXSA9IGNsb25lYWJsZVRhZ3Nbc3ltYm9sVGFnXSA9XG4gIGNsb25lYWJsZVRhZ3NbdWludDhUYWddID0gY2xvbmVhYmxlVGFnc1t1aW50OENsYW1wZWRUYWddID1cbiAgY2xvbmVhYmxlVGFnc1t1aW50MTZUYWddID0gY2xvbmVhYmxlVGFnc1t1aW50MzJUYWddID0gdHJ1ZTtcbiAgY2xvbmVhYmxlVGFnc1tlcnJvclRhZ10gPSBjbG9uZWFibGVUYWdzW2Z1bmNUYWddID1cbiAgY2xvbmVhYmxlVGFnc1t3ZWFrTWFwVGFnXSA9IGZhbHNlO1xuXG4gIC8qKiBVc2VkIHRvIG1hcCBMYXRpbiBVbmljb2RlIGxldHRlcnMgdG8gYmFzaWMgTGF0aW4gbGV0dGVycy4gKi9cbiAgdmFyIGRlYnVycmVkTGV0dGVycyA9IHtcbiAgICAvLyBMYXRpbi0xIFN1cHBsZW1lbnQgYmxvY2suXG4gICAgJ1xceGMwJzogJ0EnLCAgJ1xceGMxJzogJ0EnLCAnXFx4YzInOiAnQScsICdcXHhjMyc6ICdBJywgJ1xceGM0JzogJ0EnLCAnXFx4YzUnOiAnQScsXG4gICAgJ1xceGUwJzogJ2EnLCAgJ1xceGUxJzogJ2EnLCAnXFx4ZTInOiAnYScsICdcXHhlMyc6ICdhJywgJ1xceGU0JzogJ2EnLCAnXFx4ZTUnOiAnYScsXG4gICAgJ1xceGM3JzogJ0MnLCAgJ1xceGU3JzogJ2MnLFxuICAgICdcXHhkMCc6ICdEJywgICdcXHhmMCc6ICdkJyxcbiAgICAnXFx4YzgnOiAnRScsICAnXFx4YzknOiAnRScsICdcXHhjYSc6ICdFJywgJ1xceGNiJzogJ0UnLFxuICAgICdcXHhlOCc6ICdlJywgICdcXHhlOSc6ICdlJywgJ1xceGVhJzogJ2UnLCAnXFx4ZWInOiAnZScsXG4gICAgJ1xceGNjJzogJ0knLCAgJ1xceGNkJzogJ0knLCAnXFx4Y2UnOiAnSScsICdcXHhjZic6ICdJJyxcbiAgICAnXFx4ZWMnOiAnaScsICAnXFx4ZWQnOiAnaScsICdcXHhlZSc6ICdpJywgJ1xceGVmJzogJ2knLFxuICAgICdcXHhkMSc6ICdOJywgICdcXHhmMSc6ICduJyxcbiAgICAnXFx4ZDInOiAnTycsICAnXFx4ZDMnOiAnTycsICdcXHhkNCc6ICdPJywgJ1xceGQ1JzogJ08nLCAnXFx4ZDYnOiAnTycsICdcXHhkOCc6ICdPJyxcbiAgICAnXFx4ZjInOiAnbycsICAnXFx4ZjMnOiAnbycsICdcXHhmNCc6ICdvJywgJ1xceGY1JzogJ28nLCAnXFx4ZjYnOiAnbycsICdcXHhmOCc6ICdvJyxcbiAgICAnXFx4ZDknOiAnVScsICAnXFx4ZGEnOiAnVScsICdcXHhkYic6ICdVJywgJ1xceGRjJzogJ1UnLFxuICAgICdcXHhmOSc6ICd1JywgICdcXHhmYSc6ICd1JywgJ1xceGZiJzogJ3UnLCAnXFx4ZmMnOiAndScsXG4gICAgJ1xceGRkJzogJ1knLCAgJ1xceGZkJzogJ3knLCAnXFx4ZmYnOiAneScsXG4gICAgJ1xceGM2JzogJ0FlJywgJ1xceGU2JzogJ2FlJyxcbiAgICAnXFx4ZGUnOiAnVGgnLCAnXFx4ZmUnOiAndGgnLFxuICAgICdcXHhkZic6ICdzcycsXG4gICAgLy8gTGF0aW4gRXh0ZW5kZWQtQSBibG9jay5cbiAgICAnXFx1MDEwMCc6ICdBJywgICdcXHUwMTAyJzogJ0EnLCAnXFx1MDEwNCc6ICdBJyxcbiAgICAnXFx1MDEwMSc6ICdhJywgICdcXHUwMTAzJzogJ2EnLCAnXFx1MDEwNSc6ICdhJyxcbiAgICAnXFx1MDEwNic6ICdDJywgICdcXHUwMTA4JzogJ0MnLCAnXFx1MDEwYSc6ICdDJywgJ1xcdTAxMGMnOiAnQycsXG4gICAgJ1xcdTAxMDcnOiAnYycsICAnXFx1MDEwOSc6ICdjJywgJ1xcdTAxMGInOiAnYycsICdcXHUwMTBkJzogJ2MnLFxuICAgICdcXHUwMTBlJzogJ0QnLCAgJ1xcdTAxMTAnOiAnRCcsICdcXHUwMTBmJzogJ2QnLCAnXFx1MDExMSc6ICdkJyxcbiAgICAnXFx1MDExMic6ICdFJywgICdcXHUwMTE0JzogJ0UnLCAnXFx1MDExNic6ICdFJywgJ1xcdTAxMTgnOiAnRScsICdcXHUwMTFhJzogJ0UnLFxuICAgICdcXHUwMTEzJzogJ2UnLCAgJ1xcdTAxMTUnOiAnZScsICdcXHUwMTE3JzogJ2UnLCAnXFx1MDExOSc6ICdlJywgJ1xcdTAxMWInOiAnZScsXG4gICAgJ1xcdTAxMWMnOiAnRycsICAnXFx1MDExZSc6ICdHJywgJ1xcdTAxMjAnOiAnRycsICdcXHUwMTIyJzogJ0cnLFxuICAgICdcXHUwMTFkJzogJ2cnLCAgJ1xcdTAxMWYnOiAnZycsICdcXHUwMTIxJzogJ2cnLCAnXFx1MDEyMyc6ICdnJyxcbiAgICAnXFx1MDEyNCc6ICdIJywgICdcXHUwMTI2JzogJ0gnLCAnXFx1MDEyNSc6ICdoJywgJ1xcdTAxMjcnOiAnaCcsXG4gICAgJ1xcdTAxMjgnOiAnSScsICAnXFx1MDEyYSc6ICdJJywgJ1xcdTAxMmMnOiAnSScsICdcXHUwMTJlJzogJ0knLCAnXFx1MDEzMCc6ICdJJyxcbiAgICAnXFx1MDEyOSc6ICdpJywgICdcXHUwMTJiJzogJ2knLCAnXFx1MDEyZCc6ICdpJywgJ1xcdTAxMmYnOiAnaScsICdcXHUwMTMxJzogJ2knLFxuICAgICdcXHUwMTM0JzogJ0onLCAgJ1xcdTAxMzUnOiAnaicsXG4gICAgJ1xcdTAxMzYnOiAnSycsICAnXFx1MDEzNyc6ICdrJywgJ1xcdTAxMzgnOiAnaycsXG4gICAgJ1xcdTAxMzknOiAnTCcsICAnXFx1MDEzYic6ICdMJywgJ1xcdTAxM2QnOiAnTCcsICdcXHUwMTNmJzogJ0wnLCAnXFx1MDE0MSc6ICdMJyxcbiAgICAnXFx1MDEzYSc6ICdsJywgICdcXHUwMTNjJzogJ2wnLCAnXFx1MDEzZSc6ICdsJywgJ1xcdTAxNDAnOiAnbCcsICdcXHUwMTQyJzogJ2wnLFxuICAgICdcXHUwMTQzJzogJ04nLCAgJ1xcdTAxNDUnOiAnTicsICdcXHUwMTQ3JzogJ04nLCAnXFx1MDE0YSc6ICdOJyxcbiAgICAnXFx1MDE0NCc6ICduJywgICdcXHUwMTQ2JzogJ24nLCAnXFx1MDE0OCc6ICduJywgJ1xcdTAxNGInOiAnbicsXG4gICAgJ1xcdTAxNGMnOiAnTycsICAnXFx1MDE0ZSc6ICdPJywgJ1xcdTAxNTAnOiAnTycsXG4gICAgJ1xcdTAxNGQnOiAnbycsICAnXFx1MDE0Zic6ICdvJywgJ1xcdTAxNTEnOiAnbycsXG4gICAgJ1xcdTAxNTQnOiAnUicsICAnXFx1MDE1Nic6ICdSJywgJ1xcdTAxNTgnOiAnUicsXG4gICAgJ1xcdTAxNTUnOiAncicsICAnXFx1MDE1Nyc6ICdyJywgJ1xcdTAxNTknOiAncicsXG4gICAgJ1xcdTAxNWEnOiAnUycsICAnXFx1MDE1Yyc6ICdTJywgJ1xcdTAxNWUnOiAnUycsICdcXHUwMTYwJzogJ1MnLFxuICAgICdcXHUwMTViJzogJ3MnLCAgJ1xcdTAxNWQnOiAncycsICdcXHUwMTVmJzogJ3MnLCAnXFx1MDE2MSc6ICdzJyxcbiAgICAnXFx1MDE2Mic6ICdUJywgICdcXHUwMTY0JzogJ1QnLCAnXFx1MDE2Nic6ICdUJyxcbiAgICAnXFx1MDE2Myc6ICd0JywgICdcXHUwMTY1JzogJ3QnLCAnXFx1MDE2Nyc6ICd0JyxcbiAgICAnXFx1MDE2OCc6ICdVJywgICdcXHUwMTZhJzogJ1UnLCAnXFx1MDE2Yyc6ICdVJywgJ1xcdTAxNmUnOiAnVScsICdcXHUwMTcwJzogJ1UnLCAnXFx1MDE3Mic6ICdVJyxcbiAgICAnXFx1MDE2OSc6ICd1JywgICdcXHUwMTZiJzogJ3UnLCAnXFx1MDE2ZCc6ICd1JywgJ1xcdTAxNmYnOiAndScsICdcXHUwMTcxJzogJ3UnLCAnXFx1MDE3Myc6ICd1JyxcbiAgICAnXFx1MDE3NCc6ICdXJywgICdcXHUwMTc1JzogJ3cnLFxuICAgICdcXHUwMTc2JzogJ1knLCAgJ1xcdTAxNzcnOiAneScsICdcXHUwMTc4JzogJ1knLFxuICAgICdcXHUwMTc5JzogJ1onLCAgJ1xcdTAxN2InOiAnWicsICdcXHUwMTdkJzogJ1onLFxuICAgICdcXHUwMTdhJzogJ3onLCAgJ1xcdTAxN2MnOiAneicsICdcXHUwMTdlJzogJ3onLFxuICAgICdcXHUwMTMyJzogJ0lKJywgJ1xcdTAxMzMnOiAnaWonLFxuICAgICdcXHUwMTUyJzogJ09lJywgJ1xcdTAxNTMnOiAnb2UnLFxuICAgICdcXHUwMTQ5JzogXCInblwiLCAnXFx1MDE3Zic6ICdzJ1xuICB9O1xuXG4gIC8qKiBVc2VkIHRvIG1hcCBjaGFyYWN0ZXJzIHRvIEhUTUwgZW50aXRpZXMuICovXG4gIHZhciBodG1sRXNjYXBlcyA9IHtcbiAgICAnJic6ICcmYW1wOycsXG4gICAgJzwnOiAnJmx0OycsXG4gICAgJz4nOiAnJmd0OycsXG4gICAgJ1wiJzogJyZxdW90OycsXG4gICAgXCInXCI6ICcmIzM5OydcbiAgfTtcblxuICAvKiogVXNlZCB0byBtYXAgSFRNTCBlbnRpdGllcyB0byBjaGFyYWN0ZXJzLiAqL1xuICB2YXIgaHRtbFVuZXNjYXBlcyA9IHtcbiAgICAnJmFtcDsnOiAnJicsXG4gICAgJyZsdDsnOiAnPCcsXG4gICAgJyZndDsnOiAnPicsXG4gICAgJyZxdW90Oyc6ICdcIicsXG4gICAgJyYjMzk7JzogXCInXCJcbiAgfTtcblxuICAvKiogVXNlZCB0byBlc2NhcGUgY2hhcmFjdGVycyBmb3IgaW5jbHVzaW9uIGluIGNvbXBpbGVkIHN0cmluZyBsaXRlcmFscy4gKi9cbiAgdmFyIHN0cmluZ0VzY2FwZXMgPSB7XG4gICAgJ1xcXFwnOiAnXFxcXCcsXG4gICAgXCInXCI6IFwiJ1wiLFxuICAgICdcXG4nOiAnbicsXG4gICAgJ1xccic6ICdyJyxcbiAgICAnXFx1MjAyOCc6ICd1MjAyOCcsXG4gICAgJ1xcdTIwMjknOiAndTIwMjknXG4gIH07XG5cbiAgLyoqIEJ1aWx0LWluIG1ldGhvZCByZWZlcmVuY2VzIHdpdGhvdXQgYSBkZXBlbmRlbmN5IG9uIGByb290YC4gKi9cbiAgdmFyIGZyZWVQYXJzZUZsb2F0ID0gcGFyc2VGbG9hdCxcbiAgICAgIGZyZWVQYXJzZUludCA9IHBhcnNlSW50O1xuXG4gIC8qKiBEZXRlY3QgZnJlZSB2YXJpYWJsZSBgZ2xvYmFsYCBmcm9tIE5vZGUuanMuICovXG4gIHZhciBmcmVlR2xvYmFsID0gdHlwZW9mIGdsb2JhbCA9PSAnb2JqZWN0JyAmJiBnbG9iYWwgJiYgZ2xvYmFsLk9iamVjdCA9PT0gT2JqZWN0ICYmIGdsb2JhbDtcblxuICAvKiogRGV0ZWN0IGZyZWUgdmFyaWFibGUgYHNlbGZgLiAqL1xuICB2YXIgZnJlZVNlbGYgPSB0eXBlb2Ygc2VsZiA9PSAnb2JqZWN0JyAmJiBzZWxmICYmIHNlbGYuT2JqZWN0ID09PSBPYmplY3QgJiYgc2VsZjtcblxuICAvKiogVXNlZCBhcyBhIHJlZmVyZW5jZSB0byB0aGUgZ2xvYmFsIG9iamVjdC4gKi9cbiAgdmFyIHJvb3QgPSBmcmVlR2xvYmFsIHx8IGZyZWVTZWxmIHx8IEZ1bmN0aW9uKCdyZXR1cm4gdGhpcycpKCk7XG5cbiAgLyoqIERldGVjdCBmcmVlIHZhcmlhYmxlIGBleHBvcnRzYC4gKi9cbiAgdmFyIGZyZWVFeHBvcnRzID0gdHlwZW9mIGV4cG9ydHMgPT0gJ29iamVjdCcgJiYgZXhwb3J0cyAmJiAhZXhwb3J0cy5ub2RlVHlwZSAmJiBleHBvcnRzO1xuXG4gIC8qKiBEZXRlY3QgZnJlZSB2YXJpYWJsZSBgbW9kdWxlYC4gKi9cbiAgdmFyIGZyZWVNb2R1bGUgPSBmcmVlRXhwb3J0cyAmJiB0eXBlb2YgbW9kdWxlID09ICdvYmplY3QnICYmIG1vZHVsZSAmJiAhbW9kdWxlLm5vZGVUeXBlICYmIG1vZHVsZTtcblxuICAvKiogRGV0ZWN0IHRoZSBwb3B1bGFyIENvbW1vbkpTIGV4dGVuc2lvbiBgbW9kdWxlLmV4cG9ydHNgLiAqL1xuICB2YXIgbW9kdWxlRXhwb3J0cyA9IGZyZWVNb2R1bGUgJiYgZnJlZU1vZHVsZS5leHBvcnRzID09PSBmcmVlRXhwb3J0cztcblxuICAvKiogRGV0ZWN0IGZyZWUgdmFyaWFibGUgYHByb2Nlc3NgIGZyb20gTm9kZS5qcy4gKi9cbiAgdmFyIGZyZWVQcm9jZXNzID0gbW9kdWxlRXhwb3J0cyAmJiBmcmVlR2xvYmFsLnByb2Nlc3M7XG5cbiAgLyoqIFVzZWQgdG8gYWNjZXNzIGZhc3RlciBOb2RlLmpzIGhlbHBlcnMuICovXG4gIHZhciBub2RlVXRpbCA9IChmdW5jdGlvbigpIHtcbiAgICB0cnkge1xuICAgICAgLy8gVXNlIGB1dGlsLnR5cGVzYCBmb3IgTm9kZS5qcyAxMCsuXG4gICAgICB2YXIgdHlwZXMgPSBmcmVlTW9kdWxlICYmIGZyZWVNb2R1bGUucmVxdWlyZSAmJiBmcmVlTW9kdWxlLnJlcXVpcmUoJ3V0aWwnKS50eXBlcztcblxuICAgICAgaWYgKHR5cGVzKSB7XG4gICAgICAgIHJldHVybiB0eXBlcztcbiAgICAgIH1cblxuICAgICAgLy8gTGVnYWN5IGBwcm9jZXNzLmJpbmRpbmcoJ3V0aWwnKWAgZm9yIE5vZGUuanMgPCAxMC5cbiAgICAgIHJldHVybiBmcmVlUHJvY2VzcyAmJiBmcmVlUHJvY2Vzcy5iaW5kaW5nICYmIGZyZWVQcm9jZXNzLmJpbmRpbmcoJ3V0aWwnKTtcbiAgICB9IGNhdGNoIChlKSB7fVxuICB9KCkpO1xuXG4gIC8qIE5vZGUuanMgaGVscGVyIHJlZmVyZW5jZXMuICovXG4gIHZhciBub2RlSXNBcnJheUJ1ZmZlciA9IG5vZGVVdGlsICYmIG5vZGVVdGlsLmlzQXJyYXlCdWZmZXIsXG4gICAgICBub2RlSXNEYXRlID0gbm9kZVV0aWwgJiYgbm9kZVV0aWwuaXNEYXRlLFxuICAgICAgbm9kZUlzTWFwID0gbm9kZVV0aWwgJiYgbm9kZVV0aWwuaXNNYXAsXG4gICAgICBub2RlSXNSZWdFeHAgPSBub2RlVXRpbCAmJiBub2RlVXRpbC5pc1JlZ0V4cCxcbiAgICAgIG5vZGVJc1NldCA9IG5vZGVVdGlsICYmIG5vZGVVdGlsLmlzU2V0LFxuICAgICAgbm9kZUlzVHlwZWRBcnJheSA9IG5vZGVVdGlsICYmIG5vZGVVdGlsLmlzVHlwZWRBcnJheTtcblxuICAvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cblxuICAvKipcbiAgICogQSBmYXN0ZXIgYWx0ZXJuYXRpdmUgdG8gYEZ1bmN0aW9uI2FwcGx5YCwgdGhpcyBmdW5jdGlvbiBpbnZva2VzIGBmdW5jYFxuICAgKiB3aXRoIHRoZSBgdGhpc2AgYmluZGluZyBvZiBgdGhpc0FyZ2AgYW5kIHRoZSBhcmd1bWVudHMgb2YgYGFyZ3NgLlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBmdW5jIFRoZSBmdW5jdGlvbiB0byBpbnZva2UuXG4gICAqIEBwYXJhbSB7Kn0gdGhpc0FyZyBUaGUgYHRoaXNgIGJpbmRpbmcgb2YgYGZ1bmNgLlxuICAgKiBAcGFyYW0ge0FycmF5fSBhcmdzIFRoZSBhcmd1bWVudHMgdG8gaW52b2tlIGBmdW5jYCB3aXRoLlxuICAgKiBAcmV0dXJucyB7Kn0gUmV0dXJucyB0aGUgcmVzdWx0IG9mIGBmdW5jYC5cbiAgICovXG4gIGZ1bmN0aW9uIGFwcGx5KGZ1bmMsIHRoaXNBcmcsIGFyZ3MpIHtcbiAgICBzd2l0Y2ggKGFyZ3MubGVuZ3RoKSB7XG4gICAgICBjYXNlIDA6IHJldHVybiBmdW5jLmNhbGwodGhpc0FyZyk7XG4gICAgICBjYXNlIDE6IHJldHVybiBmdW5jLmNhbGwodGhpc0FyZywgYXJnc1swXSk7XG4gICAgICBjYXNlIDI6IHJldHVybiBmdW5jLmNhbGwodGhpc0FyZywgYXJnc1swXSwgYXJnc1sxXSk7XG4gICAgICBjYXNlIDM6IHJldHVybiBmdW5jLmNhbGwodGhpc0FyZywgYXJnc1swXSwgYXJnc1sxXSwgYXJnc1syXSk7XG4gICAgfVxuICAgIHJldHVybiBmdW5jLmFwcGx5KHRoaXNBcmcsIGFyZ3MpO1xuICB9XG5cbiAgLyoqXG4gICAqIEEgc3BlY2lhbGl6ZWQgdmVyc2lvbiBvZiBgYmFzZUFnZ3JlZ2F0b3JgIGZvciBhcnJheXMuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7QXJyYXl9IFthcnJheV0gVGhlIGFycmF5IHRvIGl0ZXJhdGUgb3Zlci5cbiAgICogQHBhcmFtIHtGdW5jdGlvbn0gc2V0dGVyIFRoZSBmdW5jdGlvbiB0byBzZXQgYGFjY3VtdWxhdG9yYCB2YWx1ZXMuXG4gICAqIEBwYXJhbSB7RnVuY3Rpb259IGl0ZXJhdGVlIFRoZSBpdGVyYXRlZSB0byB0cmFuc2Zvcm0ga2V5cy5cbiAgICogQHBhcmFtIHtPYmplY3R9IGFjY3VtdWxhdG9yIFRoZSBpbml0aWFsIGFnZ3JlZ2F0ZWQgb2JqZWN0LlxuICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgYGFjY3VtdWxhdG9yYC5cbiAgICovXG4gIGZ1bmN0aW9uIGFycmF5QWdncmVnYXRvcihhcnJheSwgc2V0dGVyLCBpdGVyYXRlZSwgYWNjdW11bGF0b3IpIHtcbiAgICB2YXIgaW5kZXggPSAtMSxcbiAgICAgICAgbGVuZ3RoID0gYXJyYXkgPT0gbnVsbCA/IDAgOiBhcnJheS5sZW5ndGg7XG5cbiAgICB3aGlsZSAoKytpbmRleCA8IGxlbmd0aCkge1xuICAgICAgdmFyIHZhbHVlID0gYXJyYXlbaW5kZXhdO1xuICAgICAgc2V0dGVyKGFjY3VtdWxhdG9yLCB2YWx1ZSwgaXRlcmF0ZWUodmFsdWUpLCBhcnJheSk7XG4gICAgfVxuICAgIHJldHVybiBhY2N1bXVsYXRvcjtcbiAgfVxuXG4gIC8qKlxuICAgKiBBIHNwZWNpYWxpemVkIHZlcnNpb24gb2YgYF8uZm9yRWFjaGAgZm9yIGFycmF5cyB3aXRob3V0IHN1cHBvcnQgZm9yXG4gICAqIGl0ZXJhdGVlIHNob3J0aGFuZHMuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7QXJyYXl9IFthcnJheV0gVGhlIGFycmF5IHRvIGl0ZXJhdGUgb3Zlci5cbiAgICogQHBhcmFtIHtGdW5jdGlvbn0gaXRlcmF0ZWUgVGhlIGZ1bmN0aW9uIGludm9rZWQgcGVyIGl0ZXJhdGlvbi5cbiAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIGBhcnJheWAuXG4gICAqL1xuICBmdW5jdGlvbiBhcnJheUVhY2goYXJyYXksIGl0ZXJhdGVlKSB7XG4gICAgdmFyIGluZGV4ID0gLTEsXG4gICAgICAgIGxlbmd0aCA9IGFycmF5ID09IG51bGwgPyAwIDogYXJyYXkubGVuZ3RoO1xuXG4gICAgd2hpbGUgKCsraW5kZXggPCBsZW5ndGgpIHtcbiAgICAgIGlmIChpdGVyYXRlZShhcnJheVtpbmRleF0sIGluZGV4LCBhcnJheSkgPT09IGZhbHNlKSB7XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gYXJyYXk7XG4gIH1cblxuICAvKipcbiAgICogQSBzcGVjaWFsaXplZCB2ZXJzaW9uIG9mIGBfLmZvckVhY2hSaWdodGAgZm9yIGFycmF5cyB3aXRob3V0IHN1cHBvcnQgZm9yXG4gICAqIGl0ZXJhdGVlIHNob3J0aGFuZHMuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7QXJyYXl9IFthcnJheV0gVGhlIGFycmF5IHRvIGl0ZXJhdGUgb3Zlci5cbiAgICogQHBhcmFtIHtGdW5jdGlvbn0gaXRlcmF0ZWUgVGhlIGZ1bmN0aW9uIGludm9rZWQgcGVyIGl0ZXJhdGlvbi5cbiAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIGBhcnJheWAuXG4gICAqL1xuICBmdW5jdGlvbiBhcnJheUVhY2hSaWdodChhcnJheSwgaXRlcmF0ZWUpIHtcbiAgICB2YXIgbGVuZ3RoID0gYXJyYXkgPT0gbnVsbCA/IDAgOiBhcnJheS5sZW5ndGg7XG5cbiAgICB3aGlsZSAobGVuZ3RoLS0pIHtcbiAgICAgIGlmIChpdGVyYXRlZShhcnJheVtsZW5ndGhdLCBsZW5ndGgsIGFycmF5KSA9PT0gZmFsc2UpIHtcbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBhcnJheTtcbiAgfVxuXG4gIC8qKlxuICAgKiBBIHNwZWNpYWxpemVkIHZlcnNpb24gb2YgYF8uZXZlcnlgIGZvciBhcnJheXMgd2l0aG91dCBzdXBwb3J0IGZvclxuICAgKiBpdGVyYXRlZSBzaG9ydGhhbmRzLlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0ge0FycmF5fSBbYXJyYXldIFRoZSBhcnJheSB0byBpdGVyYXRlIG92ZXIuXG4gICAqIEBwYXJhbSB7RnVuY3Rpb259IHByZWRpY2F0ZSBUaGUgZnVuY3Rpb24gaW52b2tlZCBwZXIgaXRlcmF0aW9uLlxuICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYWxsIGVsZW1lbnRzIHBhc3MgdGhlIHByZWRpY2F0ZSBjaGVjayxcbiAgICogIGVsc2UgYGZhbHNlYC5cbiAgICovXG4gIGZ1bmN0aW9uIGFycmF5RXZlcnkoYXJyYXksIHByZWRpY2F0ZSkge1xuICAgIHZhciBpbmRleCA9IC0xLFxuICAgICAgICBsZW5ndGggPSBhcnJheSA9PSBudWxsID8gMCA6IGFycmF5Lmxlbmd0aDtcblxuICAgIHdoaWxlICgrK2luZGV4IDwgbGVuZ3RoKSB7XG4gICAgICBpZiAoIXByZWRpY2F0ZShhcnJheVtpbmRleF0sIGluZGV4LCBhcnJheSkpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuXG4gIC8qKlxuICAgKiBBIHNwZWNpYWxpemVkIHZlcnNpb24gb2YgYF8uZmlsdGVyYCBmb3IgYXJyYXlzIHdpdGhvdXQgc3VwcG9ydCBmb3JcbiAgICogaXRlcmF0ZWUgc2hvcnRoYW5kcy5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICogQHBhcmFtIHtBcnJheX0gW2FycmF5XSBUaGUgYXJyYXkgdG8gaXRlcmF0ZSBvdmVyLlxuICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBwcmVkaWNhdGUgVGhlIGZ1bmN0aW9uIGludm9rZWQgcGVyIGl0ZXJhdGlvbi5cbiAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBuZXcgZmlsdGVyZWQgYXJyYXkuXG4gICAqL1xuICBmdW5jdGlvbiBhcnJheUZpbHRlcihhcnJheSwgcHJlZGljYXRlKSB7XG4gICAgdmFyIGluZGV4ID0gLTEsXG4gICAgICAgIGxlbmd0aCA9IGFycmF5ID09IG51bGwgPyAwIDogYXJyYXkubGVuZ3RoLFxuICAgICAgICByZXNJbmRleCA9IDAsXG4gICAgICAgIHJlc3VsdCA9IFtdO1xuXG4gICAgd2hpbGUgKCsraW5kZXggPCBsZW5ndGgpIHtcbiAgICAgIHZhciB2YWx1ZSA9IGFycmF5W2luZGV4XTtcbiAgICAgIGlmIChwcmVkaWNhdGUodmFsdWUsIGluZGV4LCBhcnJheSkpIHtcbiAgICAgICAgcmVzdWx0W3Jlc0luZGV4KytdID0gdmFsdWU7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiByZXN1bHQ7XG4gIH1cblxuICAvKipcbiAgICogQSBzcGVjaWFsaXplZCB2ZXJzaW9uIG9mIGBfLmluY2x1ZGVzYCBmb3IgYXJyYXlzIHdpdGhvdXQgc3VwcG9ydCBmb3JcbiAgICogc3BlY2lmeWluZyBhbiBpbmRleCB0byBzZWFyY2ggZnJvbS5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICogQHBhcmFtIHtBcnJheX0gW2FycmF5XSBUaGUgYXJyYXkgdG8gaW5zcGVjdC5cbiAgICogQHBhcmFtIHsqfSB0YXJnZXQgVGhlIHZhbHVlIHRvIHNlYXJjaCBmb3IuXG4gICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdGFyZ2V0YCBpcyBmb3VuZCwgZWxzZSBgZmFsc2VgLlxuICAgKi9cbiAgZnVuY3Rpb24gYXJyYXlJbmNsdWRlcyhhcnJheSwgdmFsdWUpIHtcbiAgICB2YXIgbGVuZ3RoID0gYXJyYXkgPT0gbnVsbCA/IDAgOiBhcnJheS5sZW5ndGg7XG4gICAgcmV0dXJuICEhbGVuZ3RoICYmIGJhc2VJbmRleE9mKGFycmF5LCB2YWx1ZSwgMCkgPiAtMTtcbiAgfVxuXG4gIC8qKlxuICAgKiBUaGlzIGZ1bmN0aW9uIGlzIGxpa2UgYGFycmF5SW5jbHVkZXNgIGV4Y2VwdCB0aGF0IGl0IGFjY2VwdHMgYSBjb21wYXJhdG9yLlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0ge0FycmF5fSBbYXJyYXldIFRoZSBhcnJheSB0byBpbnNwZWN0LlxuICAgKiBAcGFyYW0geyp9IHRhcmdldCBUaGUgdmFsdWUgdG8gc2VhcmNoIGZvci5cbiAgICogQHBhcmFtIHtGdW5jdGlvbn0gY29tcGFyYXRvciBUaGUgY29tcGFyYXRvciBpbnZva2VkIHBlciBlbGVtZW50LlxuICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHRhcmdldGAgaXMgZm91bmQsIGVsc2UgYGZhbHNlYC5cbiAgICovXG4gIGZ1bmN0aW9uIGFycmF5SW5jbHVkZXNXaXRoKGFycmF5LCB2YWx1ZSwgY29tcGFyYXRvcikge1xuICAgIHZhciBpbmRleCA9IC0xLFxuICAgICAgICBsZW5ndGggPSBhcnJheSA9PSBudWxsID8gMCA6IGFycmF5Lmxlbmd0aDtcblxuICAgIHdoaWxlICgrK2luZGV4IDwgbGVuZ3RoKSB7XG4gICAgICBpZiAoY29tcGFyYXRvcih2YWx1ZSwgYXJyYXlbaW5kZXhdKSkge1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgLyoqXG4gICAqIEEgc3BlY2lhbGl6ZWQgdmVyc2lvbiBvZiBgXy5tYXBgIGZvciBhcnJheXMgd2l0aG91dCBzdXBwb3J0IGZvciBpdGVyYXRlZVxuICAgKiBzaG9ydGhhbmRzLlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0ge0FycmF5fSBbYXJyYXldIFRoZSBhcnJheSB0byBpdGVyYXRlIG92ZXIuXG4gICAqIEBwYXJhbSB7RnVuY3Rpb259IGl0ZXJhdGVlIFRoZSBmdW5jdGlvbiBpbnZva2VkIHBlciBpdGVyYXRpb24uXG4gICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgbmV3IG1hcHBlZCBhcnJheS5cbiAgICovXG4gIGZ1bmN0aW9uIGFycmF5TWFwKGFycmF5LCBpdGVyYXRlZSkge1xuICAgIHZhciBpbmRleCA9IC0xLFxuICAgICAgICBsZW5ndGggPSBhcnJheSA9PSBudWxsID8gMCA6IGFycmF5Lmxlbmd0aCxcbiAgICAgICAgcmVzdWx0ID0gQXJyYXkobGVuZ3RoKTtcblxuICAgIHdoaWxlICgrK2luZGV4IDwgbGVuZ3RoKSB7XG4gICAgICByZXN1bHRbaW5kZXhdID0gaXRlcmF0ZWUoYXJyYXlbaW5kZXhdLCBpbmRleCwgYXJyYXkpO1xuICAgIH1cbiAgICByZXR1cm4gcmVzdWx0O1xuICB9XG5cbiAgLyoqXG4gICAqIEFwcGVuZHMgdGhlIGVsZW1lbnRzIG9mIGB2YWx1ZXNgIHRvIGBhcnJheWAuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBtb2RpZnkuXG4gICAqIEBwYXJhbSB7QXJyYXl9IHZhbHVlcyBUaGUgdmFsdWVzIHRvIGFwcGVuZC5cbiAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIGBhcnJheWAuXG4gICAqL1xuICBmdW5jdGlvbiBhcnJheVB1c2goYXJyYXksIHZhbHVlcykge1xuICAgIHZhciBpbmRleCA9IC0xLFxuICAgICAgICBsZW5ndGggPSB2YWx1ZXMubGVuZ3RoLFxuICAgICAgICBvZmZzZXQgPSBhcnJheS5sZW5ndGg7XG5cbiAgICB3aGlsZSAoKytpbmRleCA8IGxlbmd0aCkge1xuICAgICAgYXJyYXlbb2Zmc2V0ICsgaW5kZXhdID0gdmFsdWVzW2luZGV4XTtcbiAgICB9XG4gICAgcmV0dXJuIGFycmF5O1xuICB9XG5cbiAgLyoqXG4gICAqIEEgc3BlY2lhbGl6ZWQgdmVyc2lvbiBvZiBgXy5yZWR1Y2VgIGZvciBhcnJheXMgd2l0aG91dCBzdXBwb3J0IGZvclxuICAgKiBpdGVyYXRlZSBzaG9ydGhhbmRzLlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0ge0FycmF5fSBbYXJyYXldIFRoZSBhcnJheSB0byBpdGVyYXRlIG92ZXIuXG4gICAqIEBwYXJhbSB7RnVuY3Rpb259IGl0ZXJhdGVlIFRoZSBmdW5jdGlvbiBpbnZva2VkIHBlciBpdGVyYXRpb24uXG4gICAqIEBwYXJhbSB7Kn0gW2FjY3VtdWxhdG9yXSBUaGUgaW5pdGlhbCB2YWx1ZS5cbiAgICogQHBhcmFtIHtib29sZWFufSBbaW5pdEFjY3VtXSBTcGVjaWZ5IHVzaW5nIHRoZSBmaXJzdCBlbGVtZW50IG9mIGBhcnJheWAgYXNcbiAgICogIHRoZSBpbml0aWFsIHZhbHVlLlxuICAgKiBAcmV0dXJucyB7Kn0gUmV0dXJucyB0aGUgYWNjdW11bGF0ZWQgdmFsdWUuXG4gICAqL1xuICBmdW5jdGlvbiBhcnJheVJlZHVjZShhcnJheSwgaXRlcmF0ZWUsIGFjY3VtdWxhdG9yLCBpbml0QWNjdW0pIHtcbiAgICB2YXIgaW5kZXggPSAtMSxcbiAgICAgICAgbGVuZ3RoID0gYXJyYXkgPT0gbnVsbCA/IDAgOiBhcnJheS5sZW5ndGg7XG5cbiAgICBpZiAoaW5pdEFjY3VtICYmIGxlbmd0aCkge1xuICAgICAgYWNjdW11bGF0b3IgPSBhcnJheVsrK2luZGV4XTtcbiAgICB9XG4gICAgd2hpbGUgKCsraW5kZXggPCBsZW5ndGgpIHtcbiAgICAgIGFjY3VtdWxhdG9yID0gaXRlcmF0ZWUoYWNjdW11bGF0b3IsIGFycmF5W2luZGV4XSwgaW5kZXgsIGFycmF5KTtcbiAgICB9XG4gICAgcmV0dXJuIGFjY3VtdWxhdG9yO1xuICB9XG5cbiAgLyoqXG4gICAqIEEgc3BlY2lhbGl6ZWQgdmVyc2lvbiBvZiBgXy5yZWR1Y2VSaWdodGAgZm9yIGFycmF5cyB3aXRob3V0IHN1cHBvcnQgZm9yXG4gICAqIGl0ZXJhdGVlIHNob3J0aGFuZHMuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7QXJyYXl9IFthcnJheV0gVGhlIGFycmF5IHRvIGl0ZXJhdGUgb3Zlci5cbiAgICogQHBhcmFtIHtGdW5jdGlvbn0gaXRlcmF0ZWUgVGhlIGZ1bmN0aW9uIGludm9rZWQgcGVyIGl0ZXJhdGlvbi5cbiAgICogQHBhcmFtIHsqfSBbYWNjdW11bGF0b3JdIFRoZSBpbml0aWFsIHZhbHVlLlxuICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtpbml0QWNjdW1dIFNwZWNpZnkgdXNpbmcgdGhlIGxhc3QgZWxlbWVudCBvZiBgYXJyYXlgIGFzXG4gICAqICB0aGUgaW5pdGlhbCB2YWx1ZS5cbiAgICogQHJldHVybnMgeyp9IFJldHVybnMgdGhlIGFjY3VtdWxhdGVkIHZhbHVlLlxuICAgKi9cbiAgZnVuY3Rpb24gYXJyYXlSZWR1Y2VSaWdodChhcnJheSwgaXRlcmF0ZWUsIGFjY3VtdWxhdG9yLCBpbml0QWNjdW0pIHtcbiAgICB2YXIgbGVuZ3RoID0gYXJyYXkgPT0gbnVsbCA/IDAgOiBhcnJheS5sZW5ndGg7XG4gICAgaWYgKGluaXRBY2N1bSAmJiBsZW5ndGgpIHtcbiAgICAgIGFjY3VtdWxhdG9yID0gYXJyYXlbLS1sZW5ndGhdO1xuICAgIH1cbiAgICB3aGlsZSAobGVuZ3RoLS0pIHtcbiAgICAgIGFjY3VtdWxhdG9yID0gaXRlcmF0ZWUoYWNjdW11bGF0b3IsIGFycmF5W2xlbmd0aF0sIGxlbmd0aCwgYXJyYXkpO1xuICAgIH1cbiAgICByZXR1cm4gYWNjdW11bGF0b3I7XG4gIH1cblxuICAvKipcbiAgICogQSBzcGVjaWFsaXplZCB2ZXJzaW9uIG9mIGBfLnNvbWVgIGZvciBhcnJheXMgd2l0aG91dCBzdXBwb3J0IGZvciBpdGVyYXRlZVxuICAgKiBzaG9ydGhhbmRzLlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0ge0FycmF5fSBbYXJyYXldIFRoZSBhcnJheSB0byBpdGVyYXRlIG92ZXIuXG4gICAqIEBwYXJhbSB7RnVuY3Rpb259IHByZWRpY2F0ZSBUaGUgZnVuY3Rpb24gaW52b2tlZCBwZXIgaXRlcmF0aW9uLlxuICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYW55IGVsZW1lbnQgcGFzc2VzIHRoZSBwcmVkaWNhdGUgY2hlY2ssXG4gICAqICBlbHNlIGBmYWxzZWAuXG4gICAqL1xuICBmdW5jdGlvbiBhcnJheVNvbWUoYXJyYXksIHByZWRpY2F0ZSkge1xuICAgIHZhciBpbmRleCA9IC0xLFxuICAgICAgICBsZW5ndGggPSBhcnJheSA9PSBudWxsID8gMCA6IGFycmF5Lmxlbmd0aDtcblxuICAgIHdoaWxlICgrK2luZGV4IDwgbGVuZ3RoKSB7XG4gICAgICBpZiAocHJlZGljYXRlKGFycmF5W2luZGV4XSwgaW5kZXgsIGFycmF5KSkge1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgLyoqXG4gICAqIEdldHMgdGhlIHNpemUgb2YgYW4gQVNDSUkgYHN0cmluZ2AuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBzdHJpbmcgVGhlIHN0cmluZyBpbnNwZWN0LlxuICAgKiBAcmV0dXJucyB7bnVtYmVyfSBSZXR1cm5zIHRoZSBzdHJpbmcgc2l6ZS5cbiAgICovXG4gIHZhciBhc2NpaVNpemUgPSBiYXNlUHJvcGVydHkoJ2xlbmd0aCcpO1xuXG4gIC8qKlxuICAgKiBDb252ZXJ0cyBhbiBBU0NJSSBgc3RyaW5nYCB0byBhbiBhcnJheS5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICogQHBhcmFtIHtzdHJpbmd9IHN0cmluZyBUaGUgc3RyaW5nIHRvIGNvbnZlcnQuXG4gICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgY29udmVydGVkIGFycmF5LlxuICAgKi9cbiAgZnVuY3Rpb24gYXNjaWlUb0FycmF5KHN0cmluZykge1xuICAgIHJldHVybiBzdHJpbmcuc3BsaXQoJycpO1xuICB9XG5cbiAgLyoqXG4gICAqIFNwbGl0cyBhbiBBU0NJSSBgc3RyaW5nYCBpbnRvIGFuIGFycmF5IG9mIGl0cyB3b3Jkcy5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICogQHBhcmFtIHtzdHJpbmd9IFRoZSBzdHJpbmcgdG8gaW5zcGVjdC5cbiAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSB3b3JkcyBvZiBgc3RyaW5nYC5cbiAgICovXG4gIGZ1bmN0aW9uIGFzY2lpV29yZHMoc3RyaW5nKSB7XG4gICAgcmV0dXJuIHN0cmluZy5tYXRjaChyZUFzY2lpV29yZCkgfHwgW107XG4gIH1cblxuICAvKipcbiAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgbWV0aG9kcyBsaWtlIGBfLmZpbmRLZXlgIGFuZCBgXy5maW5kTGFzdEtleWAsXG4gICAqIHdpdGhvdXQgc3VwcG9ydCBmb3IgaXRlcmF0ZWUgc2hvcnRoYW5kcywgd2hpY2ggaXRlcmF0ZXMgb3ZlciBgY29sbGVjdGlvbmBcbiAgICogdXNpbmcgYGVhY2hGdW5jYC5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICogQHBhcmFtIHtBcnJheXxPYmplY3R9IGNvbGxlY3Rpb24gVGhlIGNvbGxlY3Rpb24gdG8gaW5zcGVjdC5cbiAgICogQHBhcmFtIHtGdW5jdGlvbn0gcHJlZGljYXRlIFRoZSBmdW5jdGlvbiBpbnZva2VkIHBlciBpdGVyYXRpb24uXG4gICAqIEBwYXJhbSB7RnVuY3Rpb259IGVhY2hGdW5jIFRoZSBmdW5jdGlvbiB0byBpdGVyYXRlIG92ZXIgYGNvbGxlY3Rpb25gLlxuICAgKiBAcmV0dXJucyB7Kn0gUmV0dXJucyB0aGUgZm91bmQgZWxlbWVudCBvciBpdHMga2V5LCBlbHNlIGB1bmRlZmluZWRgLlxuICAgKi9cbiAgZnVuY3Rpb24gYmFzZUZpbmRLZXkoY29sbGVjdGlvbiwgcHJlZGljYXRlLCBlYWNoRnVuYykge1xuICAgIHZhciByZXN1bHQ7XG4gICAgZWFjaEZ1bmMoY29sbGVjdGlvbiwgZnVuY3Rpb24odmFsdWUsIGtleSwgY29sbGVjdGlvbikge1xuICAgICAgaWYgKHByZWRpY2F0ZSh2YWx1ZSwga2V5LCBjb2xsZWN0aW9uKSkge1xuICAgICAgICByZXN1bHQgPSBrZXk7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cbiAgICB9KTtcbiAgICByZXR1cm4gcmVzdWx0O1xuICB9XG5cbiAgLyoqXG4gICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLmZpbmRJbmRleGAgYW5kIGBfLmZpbmRMYXN0SW5kZXhgIHdpdGhvdXRcbiAgICogc3VwcG9ydCBmb3IgaXRlcmF0ZWUgc2hvcnRoYW5kcy5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIGluc3BlY3QuXG4gICAqIEBwYXJhbSB7RnVuY3Rpb259IHByZWRpY2F0ZSBUaGUgZnVuY3Rpb24gaW52b2tlZCBwZXIgaXRlcmF0aW9uLlxuICAgKiBAcGFyYW0ge251bWJlcn0gZnJvbUluZGV4IFRoZSBpbmRleCB0byBzZWFyY2ggZnJvbS5cbiAgICogQHBhcmFtIHtib29sZWFufSBbZnJvbVJpZ2h0XSBTcGVjaWZ5IGl0ZXJhdGluZyBmcm9tIHJpZ2h0IHRvIGxlZnQuXG4gICAqIEByZXR1cm5zIHtudW1iZXJ9IFJldHVybnMgdGhlIGluZGV4IG9mIHRoZSBtYXRjaGVkIHZhbHVlLCBlbHNlIGAtMWAuXG4gICAqL1xuICBmdW5jdGlvbiBiYXNlRmluZEluZGV4KGFycmF5LCBwcmVkaWNhdGUsIGZyb21JbmRleCwgZnJvbVJpZ2h0KSB7XG4gICAgdmFyIGxlbmd0aCA9IGFycmF5Lmxlbmd0aCxcbiAgICAgICAgaW5kZXggPSBmcm9tSW5kZXggKyAoZnJvbVJpZ2h0ID8gMSA6IC0xKTtcblxuICAgIHdoaWxlICgoZnJvbVJpZ2h0ID8gaW5kZXgtLSA6ICsraW5kZXggPCBsZW5ndGgpKSB7XG4gICAgICBpZiAocHJlZGljYXRlKGFycmF5W2luZGV4XSwgaW5kZXgsIGFycmF5KSkge1xuICAgICAgICByZXR1cm4gaW5kZXg7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiAtMTtcbiAgfVxuXG4gIC8qKlxuICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5pbmRleE9mYCB3aXRob3V0IGBmcm9tSW5kZXhgIGJvdW5kcyBjaGVja3MuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBpbnNwZWN0LlxuICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBzZWFyY2ggZm9yLlxuICAgKiBAcGFyYW0ge251bWJlcn0gZnJvbUluZGV4IFRoZSBpbmRleCB0byBzZWFyY2ggZnJvbS5cbiAgICogQHJldHVybnMge251bWJlcn0gUmV0dXJucyB0aGUgaW5kZXggb2YgdGhlIG1hdGNoZWQgdmFsdWUsIGVsc2UgYC0xYC5cbiAgICovXG4gIGZ1bmN0aW9uIGJhc2VJbmRleE9mKGFycmF5LCB2YWx1ZSwgZnJvbUluZGV4KSB7XG4gICAgcmV0dXJuIHZhbHVlID09PSB2YWx1ZVxuICAgICAgPyBzdHJpY3RJbmRleE9mKGFycmF5LCB2YWx1ZSwgZnJvbUluZGV4KVxuICAgICAgOiBiYXNlRmluZEluZGV4KGFycmF5LCBiYXNlSXNOYU4sIGZyb21JbmRleCk7XG4gIH1cblxuICAvKipcbiAgICogVGhpcyBmdW5jdGlvbiBpcyBsaWtlIGBiYXNlSW5kZXhPZmAgZXhjZXB0IHRoYXQgaXQgYWNjZXB0cyBhIGNvbXBhcmF0b3IuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBpbnNwZWN0LlxuICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBzZWFyY2ggZm9yLlxuICAgKiBAcGFyYW0ge251bWJlcn0gZnJvbUluZGV4IFRoZSBpbmRleCB0byBzZWFyY2ggZnJvbS5cbiAgICogQHBhcmFtIHtGdW5jdGlvbn0gY29tcGFyYXRvciBUaGUgY29tcGFyYXRvciBpbnZva2VkIHBlciBlbGVtZW50LlxuICAgKiBAcmV0dXJucyB7bnVtYmVyfSBSZXR1cm5zIHRoZSBpbmRleCBvZiB0aGUgbWF0Y2hlZCB2YWx1ZSwgZWxzZSBgLTFgLlxuICAgKi9cbiAgZnVuY3Rpb24gYmFzZUluZGV4T2ZXaXRoKGFycmF5LCB2YWx1ZSwgZnJvbUluZGV4LCBjb21wYXJhdG9yKSB7XG4gICAgdmFyIGluZGV4ID0gZnJvbUluZGV4IC0gMSxcbiAgICAgICAgbGVuZ3RoID0gYXJyYXkubGVuZ3RoO1xuXG4gICAgd2hpbGUgKCsraW5kZXggPCBsZW5ndGgpIHtcbiAgICAgIGlmIChjb21wYXJhdG9yKGFycmF5W2luZGV4XSwgdmFsdWUpKSB7XG4gICAgICAgIHJldHVybiBpbmRleDtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIC0xO1xuICB9XG5cbiAgLyoqXG4gICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLmlzTmFOYCB3aXRob3V0IHN1cHBvcnQgZm9yIG51bWJlciBvYmplY3RzLlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYE5hTmAsIGVsc2UgYGZhbHNlYC5cbiAgICovXG4gIGZ1bmN0aW9uIGJhc2VJc05hTih2YWx1ZSkge1xuICAgIHJldHVybiB2YWx1ZSAhPT0gdmFsdWU7XG4gIH1cblxuICAvKipcbiAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8ubWVhbmAgYW5kIGBfLm1lYW5CeWAgd2l0aG91dCBzdXBwb3J0IGZvclxuICAgKiBpdGVyYXRlZSBzaG9ydGhhbmRzLlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gaXRlcmF0ZSBvdmVyLlxuICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBpdGVyYXRlZSBUaGUgZnVuY3Rpb24gaW52b2tlZCBwZXIgaXRlcmF0aW9uLlxuICAgKiBAcmV0dXJucyB7bnVtYmVyfSBSZXR1cm5zIHRoZSBtZWFuLlxuICAgKi9cbiAgZnVuY3Rpb24gYmFzZU1lYW4oYXJyYXksIGl0ZXJhdGVlKSB7XG4gICAgdmFyIGxlbmd0aCA9IGFycmF5ID09IG51bGwgPyAwIDogYXJyYXkubGVuZ3RoO1xuICAgIHJldHVybiBsZW5ndGggPyAoYmFzZVN1bShhcnJheSwgaXRlcmF0ZWUpIC8gbGVuZ3RoKSA6IE5BTjtcbiAgfVxuXG4gIC8qKlxuICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5wcm9wZXJ0eWAgd2l0aG91dCBzdXBwb3J0IGZvciBkZWVwIHBhdGhzLlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSBrZXkgb2YgdGhlIHByb3BlcnR5IHRvIGdldC5cbiAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgYWNjZXNzb3IgZnVuY3Rpb24uXG4gICAqL1xuICBmdW5jdGlvbiBiYXNlUHJvcGVydHkoa2V5KSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uKG9iamVjdCkge1xuICAgICAgcmV0dXJuIG9iamVjdCA9PSBudWxsID8gdW5kZWZpbmVkIDogb2JqZWN0W2tleV07XG4gICAgfTtcbiAgfVxuXG4gIC8qKlxuICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5wcm9wZXJ0eU9mYCB3aXRob3V0IHN1cHBvcnQgZm9yIGRlZXAgcGF0aHMuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBxdWVyeS5cbiAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgYWNjZXNzb3IgZnVuY3Rpb24uXG4gICAqL1xuICBmdW5jdGlvbiBiYXNlUHJvcGVydHlPZihvYmplY3QpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24oa2V5KSB7XG4gICAgICByZXR1cm4gb2JqZWN0ID09IG51bGwgPyB1bmRlZmluZWQgOiBvYmplY3Rba2V5XTtcbiAgICB9O1xuICB9XG5cbiAgLyoqXG4gICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLnJlZHVjZWAgYW5kIGBfLnJlZHVjZVJpZ2h0YCwgd2l0aG91dCBzdXBwb3J0XG4gICAqIGZvciBpdGVyYXRlZSBzaG9ydGhhbmRzLCB3aGljaCBpdGVyYXRlcyBvdmVyIGBjb2xsZWN0aW9uYCB1c2luZyBgZWFjaEZ1bmNgLlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0ge0FycmF5fE9iamVjdH0gY29sbGVjdGlvbiBUaGUgY29sbGVjdGlvbiB0byBpdGVyYXRlIG92ZXIuXG4gICAqIEBwYXJhbSB7RnVuY3Rpb259IGl0ZXJhdGVlIFRoZSBmdW5jdGlvbiBpbnZva2VkIHBlciBpdGVyYXRpb24uXG4gICAqIEBwYXJhbSB7Kn0gYWNjdW11bGF0b3IgVGhlIGluaXRpYWwgdmFsdWUuXG4gICAqIEBwYXJhbSB7Ym9vbGVhbn0gaW5pdEFjY3VtIFNwZWNpZnkgdXNpbmcgdGhlIGZpcnN0IG9yIGxhc3QgZWxlbWVudCBvZlxuICAgKiAgYGNvbGxlY3Rpb25gIGFzIHRoZSBpbml0aWFsIHZhbHVlLlxuICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBlYWNoRnVuYyBUaGUgZnVuY3Rpb24gdG8gaXRlcmF0ZSBvdmVyIGBjb2xsZWN0aW9uYC5cbiAgICogQHJldHVybnMgeyp9IFJldHVybnMgdGhlIGFjY3VtdWxhdGVkIHZhbHVlLlxuICAgKi9cbiAgZnVuY3Rpb24gYmFzZVJlZHVjZShjb2xsZWN0aW9uLCBpdGVyYXRlZSwgYWNjdW11bGF0b3IsIGluaXRBY2N1bSwgZWFjaEZ1bmMpIHtcbiAgICBlYWNoRnVuYyhjb2xsZWN0aW9uLCBmdW5jdGlvbih2YWx1ZSwgaW5kZXgsIGNvbGxlY3Rpb24pIHtcbiAgICAgIGFjY3VtdWxhdG9yID0gaW5pdEFjY3VtXG4gICAgICAgID8gKGluaXRBY2N1bSA9IGZhbHNlLCB2YWx1ZSlcbiAgICAgICAgOiBpdGVyYXRlZShhY2N1bXVsYXRvciwgdmFsdWUsIGluZGV4LCBjb2xsZWN0aW9uKTtcbiAgICB9KTtcbiAgICByZXR1cm4gYWNjdW11bGF0b3I7XG4gIH1cblxuICAvKipcbiAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8uc29ydEJ5YCB3aGljaCB1c2VzIGBjb21wYXJlcmAgdG8gZGVmaW5lIHRoZVxuICAgKiBzb3J0IG9yZGVyIG9mIGBhcnJheWAgYW5kIHJlcGxhY2VzIGNyaXRlcmlhIG9iamVjdHMgd2l0aCB0aGVpciBjb3JyZXNwb25kaW5nXG4gICAqIHZhbHVlcy5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIHNvcnQuXG4gICAqIEBwYXJhbSB7RnVuY3Rpb259IGNvbXBhcmVyIFRoZSBmdW5jdGlvbiB0byBkZWZpbmUgc29ydCBvcmRlci5cbiAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIGBhcnJheWAuXG4gICAqL1xuICBmdW5jdGlvbiBiYXNlU29ydEJ5KGFycmF5LCBjb21wYXJlcikge1xuICAgIHZhciBsZW5ndGggPSBhcnJheS5sZW5ndGg7XG5cbiAgICBhcnJheS5zb3J0KGNvbXBhcmVyKTtcbiAgICB3aGlsZSAobGVuZ3RoLS0pIHtcbiAgICAgIGFycmF5W2xlbmd0aF0gPSBhcnJheVtsZW5ndGhdLnZhbHVlO1xuICAgIH1cbiAgICByZXR1cm4gYXJyYXk7XG4gIH1cblxuICAvKipcbiAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8uc3VtYCBhbmQgYF8uc3VtQnlgIHdpdGhvdXQgc3VwcG9ydCBmb3JcbiAgICogaXRlcmF0ZWUgc2hvcnRoYW5kcy5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIGl0ZXJhdGUgb3Zlci5cbiAgICogQHBhcmFtIHtGdW5jdGlvbn0gaXRlcmF0ZWUgVGhlIGZ1bmN0aW9uIGludm9rZWQgcGVyIGl0ZXJhdGlvbi5cbiAgICogQHJldHVybnMge251bWJlcn0gUmV0dXJucyB0aGUgc3VtLlxuICAgKi9cbiAgZnVuY3Rpb24gYmFzZVN1bShhcnJheSwgaXRlcmF0ZWUpIHtcbiAgICB2YXIgcmVzdWx0LFxuICAgICAgICBpbmRleCA9IC0xLFxuICAgICAgICBsZW5ndGggPSBhcnJheS5sZW5ndGg7XG5cbiAgICB3aGlsZSAoKytpbmRleCA8IGxlbmd0aCkge1xuICAgICAgdmFyIGN1cnJlbnQgPSBpdGVyYXRlZShhcnJheVtpbmRleF0pO1xuICAgICAgaWYgKGN1cnJlbnQgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICByZXN1bHQgPSByZXN1bHQgPT09IHVuZGVmaW5lZCA/IGN1cnJlbnQgOiAocmVzdWx0ICsgY3VycmVudCk7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiByZXN1bHQ7XG4gIH1cblxuICAvKipcbiAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8udGltZXNgIHdpdGhvdXQgc3VwcG9ydCBmb3IgaXRlcmF0ZWUgc2hvcnRoYW5kc1xuICAgKiBvciBtYXggYXJyYXkgbGVuZ3RoIGNoZWNrcy5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICogQHBhcmFtIHtudW1iZXJ9IG4gVGhlIG51bWJlciBvZiB0aW1lcyB0byBpbnZva2UgYGl0ZXJhdGVlYC5cbiAgICogQHBhcmFtIHtGdW5jdGlvbn0gaXRlcmF0ZWUgVGhlIGZ1bmN0aW9uIGludm9rZWQgcGVyIGl0ZXJhdGlvbi5cbiAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBhcnJheSBvZiByZXN1bHRzLlxuICAgKi9cbiAgZnVuY3Rpb24gYmFzZVRpbWVzKG4sIGl0ZXJhdGVlKSB7XG4gICAgdmFyIGluZGV4ID0gLTEsXG4gICAgICAgIHJlc3VsdCA9IEFycmF5KG4pO1xuXG4gICAgd2hpbGUgKCsraW5kZXggPCBuKSB7XG4gICAgICByZXN1bHRbaW5kZXhdID0gaXRlcmF0ZWUoaW5kZXgpO1xuICAgIH1cbiAgICByZXR1cm4gcmVzdWx0O1xuICB9XG5cbiAgLyoqXG4gICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLnRvUGFpcnNgIGFuZCBgXy50b1BhaXJzSW5gIHdoaWNoIGNyZWF0ZXMgYW4gYXJyYXlcbiAgICogb2Yga2V5LXZhbHVlIHBhaXJzIGZvciBgb2JqZWN0YCBjb3JyZXNwb25kaW5nIHRvIHRoZSBwcm9wZXJ0eSBuYW1lcyBvZiBgcHJvcHNgLlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gcXVlcnkuXG4gICAqIEBwYXJhbSB7QXJyYXl9IHByb3BzIFRoZSBwcm9wZXJ0eSBuYW1lcyB0byBnZXQgdmFsdWVzIGZvci5cbiAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyB0aGUga2V5LXZhbHVlIHBhaXJzLlxuICAgKi9cbiAgZnVuY3Rpb24gYmFzZVRvUGFpcnMob2JqZWN0LCBwcm9wcykge1xuICAgIHJldHVybiBhcnJheU1hcChwcm9wcywgZnVuY3Rpb24oa2V5KSB7XG4gICAgICByZXR1cm4gW2tleSwgb2JqZWN0W2tleV1dO1xuICAgIH0pO1xuICB9XG5cbiAgLyoqXG4gICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLnVuYXJ5YCB3aXRob3V0IHN1cHBvcnQgZm9yIHN0b3JpbmcgbWV0YWRhdGEuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7RnVuY3Rpb259IGZ1bmMgVGhlIGZ1bmN0aW9uIHRvIGNhcCBhcmd1bWVudHMgZm9yLlxuICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyBjYXBwZWQgZnVuY3Rpb24uXG4gICAqL1xuICBmdW5jdGlvbiBiYXNlVW5hcnkoZnVuYykge1xuICAgIHJldHVybiBmdW5jdGlvbih2YWx1ZSkge1xuICAgICAgcmV0dXJuIGZ1bmModmFsdWUpO1xuICAgIH07XG4gIH1cblxuICAvKipcbiAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8udmFsdWVzYCBhbmQgYF8udmFsdWVzSW5gIHdoaWNoIGNyZWF0ZXMgYW5cbiAgICogYXJyYXkgb2YgYG9iamVjdGAgcHJvcGVydHkgdmFsdWVzIGNvcnJlc3BvbmRpbmcgdG8gdGhlIHByb3BlcnR5IG5hbWVzXG4gICAqIG9mIGBwcm9wc2AuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBxdWVyeS5cbiAgICogQHBhcmFtIHtBcnJheX0gcHJvcHMgVGhlIHByb3BlcnR5IG5hbWVzIHRvIGdldCB2YWx1ZXMgZm9yLlxuICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIHRoZSBhcnJheSBvZiBwcm9wZXJ0eSB2YWx1ZXMuXG4gICAqL1xuICBmdW5jdGlvbiBiYXNlVmFsdWVzKG9iamVjdCwgcHJvcHMpIHtcbiAgICByZXR1cm4gYXJyYXlNYXAocHJvcHMsIGZ1bmN0aW9uKGtleSkge1xuICAgICAgcmV0dXJuIG9iamVjdFtrZXldO1xuICAgIH0pO1xuICB9XG5cbiAgLyoqXG4gICAqIENoZWNrcyBpZiBhIGBjYWNoZWAgdmFsdWUgZm9yIGBrZXlgIGV4aXN0cy5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICogQHBhcmFtIHtPYmplY3R9IGNhY2hlIFRoZSBjYWNoZSB0byBxdWVyeS5cbiAgICogQHBhcmFtIHtzdHJpbmd9IGtleSBUaGUga2V5IG9mIHRoZSBlbnRyeSB0byBjaGVjay5cbiAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGFuIGVudHJ5IGZvciBga2V5YCBleGlzdHMsIGVsc2UgYGZhbHNlYC5cbiAgICovXG4gIGZ1bmN0aW9uIGNhY2hlSGFzKGNhY2hlLCBrZXkpIHtcbiAgICByZXR1cm4gY2FjaGUuaGFzKGtleSk7XG4gIH1cblxuICAvKipcbiAgICogVXNlZCBieSBgXy50cmltYCBhbmQgYF8udHJpbVN0YXJ0YCB0byBnZXQgdGhlIGluZGV4IG9mIHRoZSBmaXJzdCBzdHJpbmcgc3ltYm9sXG4gICAqIHRoYXQgaXMgbm90IGZvdW5kIGluIHRoZSBjaGFyYWN0ZXIgc3ltYm9scy5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICogQHBhcmFtIHtBcnJheX0gc3RyU3ltYm9scyBUaGUgc3RyaW5nIHN5bWJvbHMgdG8gaW5zcGVjdC5cbiAgICogQHBhcmFtIHtBcnJheX0gY2hyU3ltYm9scyBUaGUgY2hhcmFjdGVyIHN5bWJvbHMgdG8gZmluZC5cbiAgICogQHJldHVybnMge251bWJlcn0gUmV0dXJucyB0aGUgaW5kZXggb2YgdGhlIGZpcnN0IHVubWF0Y2hlZCBzdHJpbmcgc3ltYm9sLlxuICAgKi9cbiAgZnVuY3Rpb24gY2hhcnNTdGFydEluZGV4KHN0clN5bWJvbHMsIGNoclN5bWJvbHMpIHtcbiAgICB2YXIgaW5kZXggPSAtMSxcbiAgICAgICAgbGVuZ3RoID0gc3RyU3ltYm9scy5sZW5ndGg7XG5cbiAgICB3aGlsZSAoKytpbmRleCA8IGxlbmd0aCAmJiBiYXNlSW5kZXhPZihjaHJTeW1ib2xzLCBzdHJTeW1ib2xzW2luZGV4XSwgMCkgPiAtMSkge31cbiAgICByZXR1cm4gaW5kZXg7XG4gIH1cblxuICAvKipcbiAgICogVXNlZCBieSBgXy50cmltYCBhbmQgYF8udHJpbUVuZGAgdG8gZ2V0IHRoZSBpbmRleCBvZiB0aGUgbGFzdCBzdHJpbmcgc3ltYm9sXG4gICAqIHRoYXQgaXMgbm90IGZvdW5kIGluIHRoZSBjaGFyYWN0ZXIgc3ltYm9scy5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICogQHBhcmFtIHtBcnJheX0gc3RyU3ltYm9scyBUaGUgc3RyaW5nIHN5bWJvbHMgdG8gaW5zcGVjdC5cbiAgICogQHBhcmFtIHtBcnJheX0gY2hyU3ltYm9scyBUaGUgY2hhcmFjdGVyIHN5bWJvbHMgdG8gZmluZC5cbiAgICogQHJldHVybnMge251bWJlcn0gUmV0dXJucyB0aGUgaW5kZXggb2YgdGhlIGxhc3QgdW5tYXRjaGVkIHN0cmluZyBzeW1ib2wuXG4gICAqL1xuICBmdW5jdGlvbiBjaGFyc0VuZEluZGV4KHN0clN5bWJvbHMsIGNoclN5bWJvbHMpIHtcbiAgICB2YXIgaW5kZXggPSBzdHJTeW1ib2xzLmxlbmd0aDtcblxuICAgIHdoaWxlIChpbmRleC0tICYmIGJhc2VJbmRleE9mKGNoclN5bWJvbHMsIHN0clN5bWJvbHNbaW5kZXhdLCAwKSA+IC0xKSB7fVxuICAgIHJldHVybiBpbmRleDtcbiAgfVxuXG4gIC8qKlxuICAgKiBHZXRzIHRoZSBudW1iZXIgb2YgYHBsYWNlaG9sZGVyYCBvY2N1cnJlbmNlcyBpbiBgYXJyYXlgLlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gaW5zcGVjdC5cbiAgICogQHBhcmFtIHsqfSBwbGFjZWhvbGRlciBUaGUgcGxhY2Vob2xkZXIgdG8gc2VhcmNoIGZvci5cbiAgICogQHJldHVybnMge251bWJlcn0gUmV0dXJucyB0aGUgcGxhY2Vob2xkZXIgY291bnQuXG4gICAqL1xuICBmdW5jdGlvbiBjb3VudEhvbGRlcnMoYXJyYXksIHBsYWNlaG9sZGVyKSB7XG4gICAgdmFyIGxlbmd0aCA9IGFycmF5Lmxlbmd0aCxcbiAgICAgICAgcmVzdWx0ID0gMDtcblxuICAgIHdoaWxlIChsZW5ndGgtLSkge1xuICAgICAgaWYgKGFycmF5W2xlbmd0aF0gPT09IHBsYWNlaG9sZGVyKSB7XG4gICAgICAgICsrcmVzdWx0O1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gcmVzdWx0O1xuICB9XG5cbiAgLyoqXG4gICAqIFVzZWQgYnkgYF8uZGVidXJyYCB0byBjb252ZXJ0IExhdGluLTEgU3VwcGxlbWVudCBhbmQgTGF0aW4gRXh0ZW5kZWQtQVxuICAgKiBsZXR0ZXJzIHRvIGJhc2ljIExhdGluIGxldHRlcnMuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBsZXR0ZXIgVGhlIG1hdGNoZWQgbGV0dGVyIHRvIGRlYnVyci5cbiAgICogQHJldHVybnMge3N0cmluZ30gUmV0dXJucyB0aGUgZGVidXJyZWQgbGV0dGVyLlxuICAgKi9cbiAgdmFyIGRlYnVyckxldHRlciA9IGJhc2VQcm9wZXJ0eU9mKGRlYnVycmVkTGV0dGVycyk7XG5cbiAgLyoqXG4gICAqIFVzZWQgYnkgYF8uZXNjYXBlYCB0byBjb252ZXJ0IGNoYXJhY3RlcnMgdG8gSFRNTCBlbnRpdGllcy5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICogQHBhcmFtIHtzdHJpbmd9IGNociBUaGUgbWF0Y2hlZCBjaGFyYWN0ZXIgdG8gZXNjYXBlLlxuICAgKiBAcmV0dXJucyB7c3RyaW5nfSBSZXR1cm5zIHRoZSBlc2NhcGVkIGNoYXJhY3Rlci5cbiAgICovXG4gIHZhciBlc2NhcGVIdG1sQ2hhciA9IGJhc2VQcm9wZXJ0eU9mKGh0bWxFc2NhcGVzKTtcblxuICAvKipcbiAgICogVXNlZCBieSBgXy50ZW1wbGF0ZWAgdG8gZXNjYXBlIGNoYXJhY3RlcnMgZm9yIGluY2x1c2lvbiBpbiBjb21waWxlZCBzdHJpbmcgbGl0ZXJhbHMuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBjaHIgVGhlIG1hdGNoZWQgY2hhcmFjdGVyIHRvIGVzY2FwZS5cbiAgICogQHJldHVybnMge3N0cmluZ30gUmV0dXJucyB0aGUgZXNjYXBlZCBjaGFyYWN0ZXIuXG4gICAqL1xuICBmdW5jdGlvbiBlc2NhcGVTdHJpbmdDaGFyKGNocikge1xuICAgIHJldHVybiAnXFxcXCcgKyBzdHJpbmdFc2NhcGVzW2Nocl07XG4gIH1cblxuICAvKipcbiAgICogR2V0cyB0aGUgdmFsdWUgYXQgYGtleWAgb2YgYG9iamVjdGAuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBbb2JqZWN0XSBUaGUgb2JqZWN0IHRvIHF1ZXJ5LlxuICAgKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSBrZXkgb2YgdGhlIHByb3BlcnR5IHRvIGdldC5cbiAgICogQHJldHVybnMgeyp9IFJldHVybnMgdGhlIHByb3BlcnR5IHZhbHVlLlxuICAgKi9cbiAgZnVuY3Rpb24gZ2V0VmFsdWUob2JqZWN0LCBrZXkpIHtcbiAgICByZXR1cm4gb2JqZWN0ID09IG51bGwgPyB1bmRlZmluZWQgOiBvYmplY3Rba2V5XTtcbiAgfVxuXG4gIC8qKlxuICAgKiBDaGVja3MgaWYgYHN0cmluZ2AgY29udGFpbnMgVW5pY29kZSBzeW1ib2xzLlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0ge3N0cmluZ30gc3RyaW5nIFRoZSBzdHJpbmcgdG8gaW5zcGVjdC5cbiAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGEgc3ltYm9sIGlzIGZvdW5kLCBlbHNlIGBmYWxzZWAuXG4gICAqL1xuICBmdW5jdGlvbiBoYXNVbmljb2RlKHN0cmluZykge1xuICAgIHJldHVybiByZUhhc1VuaWNvZGUudGVzdChzdHJpbmcpO1xuICB9XG5cbiAgLyoqXG4gICAqIENoZWNrcyBpZiBgc3RyaW5nYCBjb250YWlucyBhIHdvcmQgY29tcG9zZWQgb2YgVW5pY29kZSBzeW1ib2xzLlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0ge3N0cmluZ30gc3RyaW5nIFRoZSBzdHJpbmcgdG8gaW5zcGVjdC5cbiAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGEgd29yZCBpcyBmb3VuZCwgZWxzZSBgZmFsc2VgLlxuICAgKi9cbiAgZnVuY3Rpb24gaGFzVW5pY29kZVdvcmQoc3RyaW5nKSB7XG4gICAgcmV0dXJuIHJlSGFzVW5pY29kZVdvcmQudGVzdChzdHJpbmcpO1xuICB9XG5cbiAgLyoqXG4gICAqIENvbnZlcnRzIGBpdGVyYXRvcmAgdG8gYW4gYXJyYXkuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBpdGVyYXRvciBUaGUgaXRlcmF0b3IgdG8gY29udmVydC5cbiAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBjb252ZXJ0ZWQgYXJyYXkuXG4gICAqL1xuICBmdW5jdGlvbiBpdGVyYXRvclRvQXJyYXkoaXRlcmF0b3IpIHtcbiAgICB2YXIgZGF0YSxcbiAgICAgICAgcmVzdWx0ID0gW107XG5cbiAgICB3aGlsZSAoIShkYXRhID0gaXRlcmF0b3IubmV4dCgpKS5kb25lKSB7XG4gICAgICByZXN1bHQucHVzaChkYXRhLnZhbHVlKTtcbiAgICB9XG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfVxuXG4gIC8qKlxuICAgKiBDb252ZXJ0cyBgbWFwYCB0byBpdHMga2V5LXZhbHVlIHBhaXJzLlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0ge09iamVjdH0gbWFwIFRoZSBtYXAgdG8gY29udmVydC5cbiAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBrZXktdmFsdWUgcGFpcnMuXG4gICAqL1xuICBmdW5jdGlvbiBtYXBUb0FycmF5KG1hcCkge1xuICAgIHZhciBpbmRleCA9IC0xLFxuICAgICAgICByZXN1bHQgPSBBcnJheShtYXAuc2l6ZSk7XG5cbiAgICBtYXAuZm9yRWFjaChmdW5jdGlvbih2YWx1ZSwga2V5KSB7XG4gICAgICByZXN1bHRbKytpbmRleF0gPSBba2V5LCB2YWx1ZV07XG4gICAgfSk7XG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfVxuXG4gIC8qKlxuICAgKiBDcmVhdGVzIGEgdW5hcnkgZnVuY3Rpb24gdGhhdCBpbnZva2VzIGBmdW5jYCB3aXRoIGl0cyBhcmd1bWVudCB0cmFuc2Zvcm1lZC5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICogQHBhcmFtIHtGdW5jdGlvbn0gZnVuYyBUaGUgZnVuY3Rpb24gdG8gd3JhcC5cbiAgICogQHBhcmFtIHtGdW5jdGlvbn0gdHJhbnNmb3JtIFRoZSBhcmd1bWVudCB0cmFuc2Zvcm0uXG4gICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IGZ1bmN0aW9uLlxuICAgKi9cbiAgZnVuY3Rpb24gb3ZlckFyZyhmdW5jLCB0cmFuc2Zvcm0pIHtcbiAgICByZXR1cm4gZnVuY3Rpb24oYXJnKSB7XG4gICAgICByZXR1cm4gZnVuYyh0cmFuc2Zvcm0oYXJnKSk7XG4gICAgfTtcbiAgfVxuXG4gIC8qKlxuICAgKiBSZXBsYWNlcyBhbGwgYHBsYWNlaG9sZGVyYCBlbGVtZW50cyBpbiBgYXJyYXlgIHdpdGggYW4gaW50ZXJuYWwgcGxhY2Vob2xkZXJcbiAgICogYW5kIHJldHVybnMgYW4gYXJyYXkgb2YgdGhlaXIgaW5kZXhlcy5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIG1vZGlmeS5cbiAgICogQHBhcmFtIHsqfSBwbGFjZWhvbGRlciBUaGUgcGxhY2Vob2xkZXIgdG8gcmVwbGFjZS5cbiAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBuZXcgYXJyYXkgb2YgcGxhY2Vob2xkZXIgaW5kZXhlcy5cbiAgICovXG4gIGZ1bmN0aW9uIHJlcGxhY2VIb2xkZXJzKGFycmF5LCBwbGFjZWhvbGRlcikge1xuICAgIHZhciBpbmRleCA9IC0xLFxuICAgICAgICBsZW5ndGggPSBhcnJheS5sZW5ndGgsXG4gICAgICAgIHJlc0luZGV4ID0gMCxcbiAgICAgICAgcmVzdWx0ID0gW107XG5cbiAgICB3aGlsZSAoKytpbmRleCA8IGxlbmd0aCkge1xuICAgICAgdmFyIHZhbHVlID0gYXJyYXlbaW5kZXhdO1xuICAgICAgaWYgKHZhbHVlID09PSBwbGFjZWhvbGRlciB8fCB2YWx1ZSA9PT0gUExBQ0VIT0xERVIpIHtcbiAgICAgICAgYXJyYXlbaW5kZXhdID0gUExBQ0VIT0xERVI7XG4gICAgICAgIHJlc3VsdFtyZXNJbmRleCsrXSA9IGluZGV4O1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gcmVzdWx0O1xuICB9XG5cbiAgLyoqXG4gICAqIENvbnZlcnRzIGBzZXRgIHRvIGFuIGFycmF5IG9mIGl0cyB2YWx1ZXMuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBzZXQgVGhlIHNldCB0byBjb252ZXJ0LlxuICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIHZhbHVlcy5cbiAgICovXG4gIGZ1bmN0aW9uIHNldFRvQXJyYXkoc2V0KSB7XG4gICAgdmFyIGluZGV4ID0gLTEsXG4gICAgICAgIHJlc3VsdCA9IEFycmF5KHNldC5zaXplKTtcblxuICAgIHNldC5mb3JFYWNoKGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgICByZXN1bHRbKytpbmRleF0gPSB2YWx1ZTtcbiAgICB9KTtcbiAgICByZXR1cm4gcmVzdWx0O1xuICB9XG5cbiAgLyoqXG4gICAqIENvbnZlcnRzIGBzZXRgIHRvIGl0cyB2YWx1ZS12YWx1ZSBwYWlycy5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICogQHBhcmFtIHtPYmplY3R9IHNldCBUaGUgc2V0IHRvIGNvbnZlcnQuXG4gICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgdmFsdWUtdmFsdWUgcGFpcnMuXG4gICAqL1xuICBmdW5jdGlvbiBzZXRUb1BhaXJzKHNldCkge1xuICAgIHZhciBpbmRleCA9IC0xLFxuICAgICAgICByZXN1bHQgPSBBcnJheShzZXQuc2l6ZSk7XG5cbiAgICBzZXQuZm9yRWFjaChmdW5jdGlvbih2YWx1ZSkge1xuICAgICAgcmVzdWx0WysraW5kZXhdID0gW3ZhbHVlLCB2YWx1ZV07XG4gICAgfSk7XG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfVxuXG4gIC8qKlxuICAgKiBBIHNwZWNpYWxpemVkIHZlcnNpb24gb2YgYF8uaW5kZXhPZmAgd2hpY2ggcGVyZm9ybXMgc3RyaWN0IGVxdWFsaXR5XG4gICAqIGNvbXBhcmlzb25zIG9mIHZhbHVlcywgaS5lLiBgPT09YC5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIGluc3BlY3QuXG4gICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIHNlYXJjaCBmb3IuXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBmcm9tSW5kZXggVGhlIGluZGV4IHRvIHNlYXJjaCBmcm9tLlxuICAgKiBAcmV0dXJucyB7bnVtYmVyfSBSZXR1cm5zIHRoZSBpbmRleCBvZiB0aGUgbWF0Y2hlZCB2YWx1ZSwgZWxzZSBgLTFgLlxuICAgKi9cbiAgZnVuY3Rpb24gc3RyaWN0SW5kZXhPZihhcnJheSwgdmFsdWUsIGZyb21JbmRleCkge1xuICAgIHZhciBpbmRleCA9IGZyb21JbmRleCAtIDEsXG4gICAgICAgIGxlbmd0aCA9IGFycmF5Lmxlbmd0aDtcblxuICAgIHdoaWxlICgrK2luZGV4IDwgbGVuZ3RoKSB7XG4gICAgICBpZiAoYXJyYXlbaW5kZXhdID09PSB2YWx1ZSkge1xuICAgICAgICByZXR1cm4gaW5kZXg7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiAtMTtcbiAgfVxuXG4gIC8qKlxuICAgKiBBIHNwZWNpYWxpemVkIHZlcnNpb24gb2YgYF8ubGFzdEluZGV4T2ZgIHdoaWNoIHBlcmZvcm1zIHN0cmljdCBlcXVhbGl0eVxuICAgKiBjb21wYXJpc29ucyBvZiB2YWx1ZXMsIGkuZS4gYD09PWAuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBpbnNwZWN0LlxuICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBzZWFyY2ggZm9yLlxuICAgKiBAcGFyYW0ge251bWJlcn0gZnJvbUluZGV4IFRoZSBpbmRleCB0byBzZWFyY2ggZnJvbS5cbiAgICogQHJldHVybnMge251bWJlcn0gUmV0dXJucyB0aGUgaW5kZXggb2YgdGhlIG1hdGNoZWQgdmFsdWUsIGVsc2UgYC0xYC5cbiAgICovXG4gIGZ1bmN0aW9uIHN0cmljdExhc3RJbmRleE9mKGFycmF5LCB2YWx1ZSwgZnJvbUluZGV4KSB7XG4gICAgdmFyIGluZGV4ID0gZnJvbUluZGV4ICsgMTtcbiAgICB3aGlsZSAoaW5kZXgtLSkge1xuICAgICAgaWYgKGFycmF5W2luZGV4XSA9PT0gdmFsdWUpIHtcbiAgICAgICAgcmV0dXJuIGluZGV4O1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gaW5kZXg7XG4gIH1cblxuICAvKipcbiAgICogR2V0cyB0aGUgbnVtYmVyIG9mIHN5bWJvbHMgaW4gYHN0cmluZ2AuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBzdHJpbmcgVGhlIHN0cmluZyB0byBpbnNwZWN0LlxuICAgKiBAcmV0dXJucyB7bnVtYmVyfSBSZXR1cm5zIHRoZSBzdHJpbmcgc2l6ZS5cbiAgICovXG4gIGZ1bmN0aW9uIHN0cmluZ1NpemUoc3RyaW5nKSB7XG4gICAgcmV0dXJuIGhhc1VuaWNvZGUoc3RyaW5nKVxuICAgICAgPyB1bmljb2RlU2l6ZShzdHJpbmcpXG4gICAgICA6IGFzY2lpU2l6ZShzdHJpbmcpO1xuICB9XG5cbiAgLyoqXG4gICAqIENvbnZlcnRzIGBzdHJpbmdgIHRvIGFuIGFycmF5LlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0ge3N0cmluZ30gc3RyaW5nIFRoZSBzdHJpbmcgdG8gY29udmVydC5cbiAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBjb252ZXJ0ZWQgYXJyYXkuXG4gICAqL1xuICBmdW5jdGlvbiBzdHJpbmdUb0FycmF5KHN0cmluZykge1xuICAgIHJldHVybiBoYXNVbmljb2RlKHN0cmluZylcbiAgICAgID8gdW5pY29kZVRvQXJyYXkoc3RyaW5nKVxuICAgICAgOiBhc2NpaVRvQXJyYXkoc3RyaW5nKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBVc2VkIGJ5IGBfLnVuZXNjYXBlYCB0byBjb252ZXJ0IEhUTUwgZW50aXRpZXMgdG8gY2hhcmFjdGVycy5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICogQHBhcmFtIHtzdHJpbmd9IGNociBUaGUgbWF0Y2hlZCBjaGFyYWN0ZXIgdG8gdW5lc2NhcGUuXG4gICAqIEByZXR1cm5zIHtzdHJpbmd9IFJldHVybnMgdGhlIHVuZXNjYXBlZCBjaGFyYWN0ZXIuXG4gICAqL1xuICB2YXIgdW5lc2NhcGVIdG1sQ2hhciA9IGJhc2VQcm9wZXJ0eU9mKGh0bWxVbmVzY2FwZXMpO1xuXG4gIC8qKlxuICAgKiBHZXRzIHRoZSBzaXplIG9mIGEgVW5pY29kZSBgc3RyaW5nYC5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICogQHBhcmFtIHtzdHJpbmd9IHN0cmluZyBUaGUgc3RyaW5nIGluc3BlY3QuXG4gICAqIEByZXR1cm5zIHtudW1iZXJ9IFJldHVybnMgdGhlIHN0cmluZyBzaXplLlxuICAgKi9cbiAgZnVuY3Rpb24gdW5pY29kZVNpemUoc3RyaW5nKSB7XG4gICAgdmFyIHJlc3VsdCA9IHJlVW5pY29kZS5sYXN0SW5kZXggPSAwO1xuICAgIHdoaWxlIChyZVVuaWNvZGUudGVzdChzdHJpbmcpKSB7XG4gICAgICArK3Jlc3VsdDtcbiAgICB9XG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfVxuXG4gIC8qKlxuICAgKiBDb252ZXJ0cyBhIFVuaWNvZGUgYHN0cmluZ2AgdG8gYW4gYXJyYXkuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBzdHJpbmcgVGhlIHN0cmluZyB0byBjb252ZXJ0LlxuICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIGNvbnZlcnRlZCBhcnJheS5cbiAgICovXG4gIGZ1bmN0aW9uIHVuaWNvZGVUb0FycmF5KHN0cmluZykge1xuICAgIHJldHVybiBzdHJpbmcubWF0Y2gocmVVbmljb2RlKSB8fCBbXTtcbiAgfVxuXG4gIC8qKlxuICAgKiBTcGxpdHMgYSBVbmljb2RlIGBzdHJpbmdgIGludG8gYW4gYXJyYXkgb2YgaXRzIHdvcmRzLlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0ge3N0cmluZ30gVGhlIHN0cmluZyB0byBpbnNwZWN0LlxuICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIHdvcmRzIG9mIGBzdHJpbmdgLlxuICAgKi9cbiAgZnVuY3Rpb24gdW5pY29kZVdvcmRzKHN0cmluZykge1xuICAgIHJldHVybiBzdHJpbmcubWF0Y2gocmVVbmljb2RlV29yZCkgfHwgW107XG4gIH1cblxuICAvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cblxuICAvKipcbiAgICogQ3JlYXRlIGEgbmV3IHByaXN0aW5lIGBsb2Rhc2hgIGZ1bmN0aW9uIHVzaW5nIHRoZSBgY29udGV4dGAgb2JqZWN0LlxuICAgKlxuICAgKiBAc3RhdGljXG4gICAqIEBtZW1iZXJPZiBfXG4gICAqIEBzaW5jZSAxLjEuMFxuICAgKiBAY2F0ZWdvcnkgVXRpbFxuICAgKiBAcGFyYW0ge09iamVjdH0gW2NvbnRleHQ9cm9vdF0gVGhlIGNvbnRleHQgb2JqZWN0LlxuICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgYSBuZXcgYGxvZGFzaGAgZnVuY3Rpb24uXG4gICAqIEBleGFtcGxlXG4gICAqXG4gICAqIF8ubWl4aW4oeyAnZm9vJzogXy5jb25zdGFudCgnZm9vJykgfSk7XG4gICAqXG4gICAqIHZhciBsb2Rhc2ggPSBfLnJ1bkluQ29udGV4dCgpO1xuICAgKiBsb2Rhc2gubWl4aW4oeyAnYmFyJzogbG9kYXNoLmNvbnN0YW50KCdiYXInKSB9KTtcbiAgICpcbiAgICogXy5pc0Z1bmN0aW9uKF8uZm9vKTtcbiAgICogLy8gPT4gdHJ1ZVxuICAgKiBfLmlzRnVuY3Rpb24oXy5iYXIpO1xuICAgKiAvLyA9PiBmYWxzZVxuICAgKlxuICAgKiBsb2Rhc2guaXNGdW5jdGlvbihsb2Rhc2guZm9vKTtcbiAgICogLy8gPT4gZmFsc2VcbiAgICogbG9kYXNoLmlzRnVuY3Rpb24obG9kYXNoLmJhcik7XG4gICAqIC8vID0+IHRydWVcbiAgICpcbiAgICogLy8gQ3JlYXRlIGEgc3VwZWQtdXAgYGRlZmVyYCBpbiBOb2RlLmpzLlxuICAgKiB2YXIgZGVmZXIgPSBfLnJ1bkluQ29udGV4dCh7ICdzZXRUaW1lb3V0Jzogc2V0SW1tZWRpYXRlIH0pLmRlZmVyO1xuICAgKi9cbiAgdmFyIHJ1bkluQ29udGV4dCA9IChmdW5jdGlvbiBydW5JbkNvbnRleHQoY29udGV4dCkge1xuICAgIGNvbnRleHQgPSBjb250ZXh0ID09IG51bGwgPyByb290IDogXy5kZWZhdWx0cyhyb290Lk9iamVjdCgpLCBjb250ZXh0LCBfLnBpY2socm9vdCwgY29udGV4dFByb3BzKSk7XG5cbiAgICAvKiogQnVpbHQtaW4gY29uc3RydWN0b3IgcmVmZXJlbmNlcy4gKi9cbiAgICB2YXIgQXJyYXkgPSBjb250ZXh0LkFycmF5LFxuICAgICAgICBEYXRlID0gY29udGV4dC5EYXRlLFxuICAgICAgICBFcnJvciA9IGNvbnRleHQuRXJyb3IsXG4gICAgICAgIEZ1bmN0aW9uID0gY29udGV4dC5GdW5jdGlvbixcbiAgICAgICAgTWF0aCA9IGNvbnRleHQuTWF0aCxcbiAgICAgICAgT2JqZWN0ID0gY29udGV4dC5PYmplY3QsXG4gICAgICAgIFJlZ0V4cCA9IGNvbnRleHQuUmVnRXhwLFxuICAgICAgICBTdHJpbmcgPSBjb250ZXh0LlN0cmluZyxcbiAgICAgICAgVHlwZUVycm9yID0gY29udGV4dC5UeXBlRXJyb3I7XG5cbiAgICAvKiogVXNlZCBmb3IgYnVpbHQtaW4gbWV0aG9kIHJlZmVyZW5jZXMuICovXG4gICAgdmFyIGFycmF5UHJvdG8gPSBBcnJheS5wcm90b3R5cGUsXG4gICAgICAgIGZ1bmNQcm90byA9IEZ1bmN0aW9uLnByb3RvdHlwZSxcbiAgICAgICAgb2JqZWN0UHJvdG8gPSBPYmplY3QucHJvdG90eXBlO1xuXG4gICAgLyoqIFVzZWQgdG8gZGV0ZWN0IG92ZXJyZWFjaGluZyBjb3JlLWpzIHNoaW1zLiAqL1xuICAgIHZhciBjb3JlSnNEYXRhID0gY29udGV4dFsnX19jb3JlLWpzX3NoYXJlZF9fJ107XG5cbiAgICAvKiogVXNlZCB0byByZXNvbHZlIHRoZSBkZWNvbXBpbGVkIHNvdXJjZSBvZiBmdW5jdGlvbnMuICovXG4gICAgdmFyIGZ1bmNUb1N0cmluZyA9IGZ1bmNQcm90by50b1N0cmluZztcblxuICAgIC8qKiBVc2VkIHRvIGNoZWNrIG9iamVjdHMgZm9yIG93biBwcm9wZXJ0aWVzLiAqL1xuICAgIHZhciBoYXNPd25Qcm9wZXJ0eSA9IG9iamVjdFByb3RvLmhhc093blByb3BlcnR5O1xuXG4gICAgLyoqIFVzZWQgdG8gZ2VuZXJhdGUgdW5pcXVlIElEcy4gKi9cbiAgICB2YXIgaWRDb3VudGVyID0gMDtcblxuICAgIC8qKiBVc2VkIHRvIGRldGVjdCBtZXRob2RzIG1hc3F1ZXJhZGluZyBhcyBuYXRpdmUuICovXG4gICAgdmFyIG1hc2tTcmNLZXkgPSAoZnVuY3Rpb24oKSB7XG4gICAgICB2YXIgdWlkID0gL1teLl0rJC8uZXhlYyhjb3JlSnNEYXRhICYmIGNvcmVKc0RhdGEua2V5cyAmJiBjb3JlSnNEYXRhLmtleXMuSUVfUFJPVE8gfHwgJycpO1xuICAgICAgcmV0dXJuIHVpZCA/ICgnU3ltYm9sKHNyYylfMS4nICsgdWlkKSA6ICcnO1xuICAgIH0oKSk7XG5cbiAgICAvKipcbiAgICAgKiBVc2VkIHRvIHJlc29sdmUgdGhlXG4gICAgICogW2B0b1N0cmluZ1RhZ2BdKGh0dHA6Ly9lY21hLWludGVybmF0aW9uYWwub3JnL2VjbWEtMjYyLzcuMC8jc2VjLW9iamVjdC5wcm90b3R5cGUudG9zdHJpbmcpXG4gICAgICogb2YgdmFsdWVzLlxuICAgICAqL1xuICAgIHZhciBuYXRpdmVPYmplY3RUb1N0cmluZyA9IG9iamVjdFByb3RvLnRvU3RyaW5nO1xuXG4gICAgLyoqIFVzZWQgdG8gaW5mZXIgdGhlIGBPYmplY3RgIGNvbnN0cnVjdG9yLiAqL1xuICAgIHZhciBvYmplY3RDdG9yU3RyaW5nID0gZnVuY1RvU3RyaW5nLmNhbGwoT2JqZWN0KTtcblxuICAgIC8qKiBVc2VkIHRvIHJlc3RvcmUgdGhlIG9yaWdpbmFsIGBfYCByZWZlcmVuY2UgaW4gYF8ubm9Db25mbGljdGAuICovXG4gICAgdmFyIG9sZERhc2ggPSByb290Ll87XG5cbiAgICAvKiogVXNlZCB0byBkZXRlY3QgaWYgYSBtZXRob2QgaXMgbmF0aXZlLiAqL1xuICAgIHZhciByZUlzTmF0aXZlID0gUmVnRXhwKCdeJyArXG4gICAgICBmdW5jVG9TdHJpbmcuY2FsbChoYXNPd25Qcm9wZXJ0eSkucmVwbGFjZShyZVJlZ0V4cENoYXIsICdcXFxcJCYnKVxuICAgICAgLnJlcGxhY2UoL2hhc093blByb3BlcnR5fChmdW5jdGlvbikuKj8oPz1cXFxcXFwoKXwgZm9yIC4rPyg/PVxcXFxcXF0pL2csICckMS4qPycpICsgJyQnXG4gICAgKTtcblxuICAgIC8qKiBCdWlsdC1pbiB2YWx1ZSByZWZlcmVuY2VzLiAqL1xuICAgIHZhciBCdWZmZXIgPSBtb2R1bGVFeHBvcnRzID8gY29udGV4dC5CdWZmZXIgOiB1bmRlZmluZWQsXG4gICAgICAgIFN5bWJvbCA9IGNvbnRleHQuU3ltYm9sLFxuICAgICAgICBVaW50OEFycmF5ID0gY29udGV4dC5VaW50OEFycmF5LFxuICAgICAgICBhbGxvY1Vuc2FmZSA9IEJ1ZmZlciA/IEJ1ZmZlci5hbGxvY1Vuc2FmZSA6IHVuZGVmaW5lZCxcbiAgICAgICAgZ2V0UHJvdG90eXBlID0gb3ZlckFyZyhPYmplY3QuZ2V0UHJvdG90eXBlT2YsIE9iamVjdCksXG4gICAgICAgIG9iamVjdENyZWF0ZSA9IE9iamVjdC5jcmVhdGUsXG4gICAgICAgIHByb3BlcnR5SXNFbnVtZXJhYmxlID0gb2JqZWN0UHJvdG8ucHJvcGVydHlJc0VudW1lcmFibGUsXG4gICAgICAgIHNwbGljZSA9IGFycmF5UHJvdG8uc3BsaWNlLFxuICAgICAgICBzcHJlYWRhYmxlU3ltYm9sID0gU3ltYm9sID8gU3ltYm9sLmlzQ29uY2F0U3ByZWFkYWJsZSA6IHVuZGVmaW5lZCxcbiAgICAgICAgc3ltSXRlcmF0b3IgPSBTeW1ib2wgPyBTeW1ib2wuaXRlcmF0b3IgOiB1bmRlZmluZWQsXG4gICAgICAgIHN5bVRvU3RyaW5nVGFnID0gU3ltYm9sID8gU3ltYm9sLnRvU3RyaW5nVGFnIDogdW5kZWZpbmVkO1xuXG4gICAgdmFyIGRlZmluZVByb3BlcnR5ID0gKGZ1bmN0aW9uKCkge1xuICAgICAgdHJ5IHtcbiAgICAgICAgdmFyIGZ1bmMgPSBnZXROYXRpdmUoT2JqZWN0LCAnZGVmaW5lUHJvcGVydHknKTtcbiAgICAgICAgZnVuYyh7fSwgJycsIHt9KTtcbiAgICAgICAgcmV0dXJuIGZ1bmM7XG4gICAgICB9IGNhdGNoIChlKSB7fVxuICAgIH0oKSk7XG5cbiAgICAvKiogTW9ja2VkIGJ1aWx0LWlucy4gKi9cbiAgICB2YXIgY3R4Q2xlYXJUaW1lb3V0ID0gY29udGV4dC5jbGVhclRpbWVvdXQgIT09IHJvb3QuY2xlYXJUaW1lb3V0ICYmIGNvbnRleHQuY2xlYXJUaW1lb3V0LFxuICAgICAgICBjdHhOb3cgPSBEYXRlICYmIERhdGUubm93ICE9PSByb290LkRhdGUubm93ICYmIERhdGUubm93LFxuICAgICAgICBjdHhTZXRUaW1lb3V0ID0gY29udGV4dC5zZXRUaW1lb3V0ICE9PSByb290LnNldFRpbWVvdXQgJiYgY29udGV4dC5zZXRUaW1lb3V0O1xuXG4gICAgLyogQnVpbHQtaW4gbWV0aG9kIHJlZmVyZW5jZXMgZm9yIHRob3NlIHdpdGggdGhlIHNhbWUgbmFtZSBhcyBvdGhlciBgbG9kYXNoYCBtZXRob2RzLiAqL1xuICAgIHZhciBuYXRpdmVDZWlsID0gTWF0aC5jZWlsLFxuICAgICAgICBuYXRpdmVGbG9vciA9IE1hdGguZmxvb3IsXG4gICAgICAgIG5hdGl2ZUdldFN5bWJvbHMgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzLFxuICAgICAgICBuYXRpdmVJc0J1ZmZlciA9IEJ1ZmZlciA/IEJ1ZmZlci5pc0J1ZmZlciA6IHVuZGVmaW5lZCxcbiAgICAgICAgbmF0aXZlSXNGaW5pdGUgPSBjb250ZXh0LmlzRmluaXRlLFxuICAgICAgICBuYXRpdmVKb2luID0gYXJyYXlQcm90by5qb2luLFxuICAgICAgICBuYXRpdmVLZXlzID0gb3ZlckFyZyhPYmplY3Qua2V5cywgT2JqZWN0KSxcbiAgICAgICAgbmF0aXZlTWF4ID0gTWF0aC5tYXgsXG4gICAgICAgIG5hdGl2ZU1pbiA9IE1hdGgubWluLFxuICAgICAgICBuYXRpdmVOb3cgPSBEYXRlLm5vdyxcbiAgICAgICAgbmF0aXZlUGFyc2VJbnQgPSBjb250ZXh0LnBhcnNlSW50LFxuICAgICAgICBuYXRpdmVSYW5kb20gPSBNYXRoLnJhbmRvbSxcbiAgICAgICAgbmF0aXZlUmV2ZXJzZSA9IGFycmF5UHJvdG8ucmV2ZXJzZTtcblxuICAgIC8qIEJ1aWx0LWluIG1ldGhvZCByZWZlcmVuY2VzIHRoYXQgYXJlIHZlcmlmaWVkIHRvIGJlIG5hdGl2ZS4gKi9cbiAgICB2YXIgRGF0YVZpZXcgPSBnZXROYXRpdmUoY29udGV4dCwgJ0RhdGFWaWV3JyksXG4gICAgICAgIE1hcCA9IGdldE5hdGl2ZShjb250ZXh0LCAnTWFwJyksXG4gICAgICAgIFByb21pc2UgPSBnZXROYXRpdmUoY29udGV4dCwgJ1Byb21pc2UnKSxcbiAgICAgICAgU2V0ID0gZ2V0TmF0aXZlKGNvbnRleHQsICdTZXQnKSxcbiAgICAgICAgV2Vha01hcCA9IGdldE5hdGl2ZShjb250ZXh0LCAnV2Vha01hcCcpLFxuICAgICAgICBuYXRpdmVDcmVhdGUgPSBnZXROYXRpdmUoT2JqZWN0LCAnY3JlYXRlJyk7XG5cbiAgICAvKiogVXNlZCB0byBzdG9yZSBmdW5jdGlvbiBtZXRhZGF0YS4gKi9cbiAgICB2YXIgbWV0YU1hcCA9IFdlYWtNYXAgJiYgbmV3IFdlYWtNYXA7XG5cbiAgICAvKiogVXNlZCB0byBsb29rdXAgdW5taW5pZmllZCBmdW5jdGlvbiBuYW1lcy4gKi9cbiAgICB2YXIgcmVhbE5hbWVzID0ge307XG5cbiAgICAvKiogVXNlZCB0byBkZXRlY3QgbWFwcywgc2V0cywgYW5kIHdlYWttYXBzLiAqL1xuICAgIHZhciBkYXRhVmlld0N0b3JTdHJpbmcgPSB0b1NvdXJjZShEYXRhVmlldyksXG4gICAgICAgIG1hcEN0b3JTdHJpbmcgPSB0b1NvdXJjZShNYXApLFxuICAgICAgICBwcm9taXNlQ3RvclN0cmluZyA9IHRvU291cmNlKFByb21pc2UpLFxuICAgICAgICBzZXRDdG9yU3RyaW5nID0gdG9Tb3VyY2UoU2V0KSxcbiAgICAgICAgd2Vha01hcEN0b3JTdHJpbmcgPSB0b1NvdXJjZShXZWFrTWFwKTtcblxuICAgIC8qKiBVc2VkIHRvIGNvbnZlcnQgc3ltYm9scyB0byBwcmltaXRpdmVzIGFuZCBzdHJpbmdzLiAqL1xuICAgIHZhciBzeW1ib2xQcm90byA9IFN5bWJvbCA/IFN5bWJvbC5wcm90b3R5cGUgOiB1bmRlZmluZWQsXG4gICAgICAgIHN5bWJvbFZhbHVlT2YgPSBzeW1ib2xQcm90byA/IHN5bWJvbFByb3RvLnZhbHVlT2YgOiB1bmRlZmluZWQsXG4gICAgICAgIHN5bWJvbFRvU3RyaW5nID0gc3ltYm9sUHJvdG8gPyBzeW1ib2xQcm90by50b1N0cmluZyA6IHVuZGVmaW5lZDtcblxuICAgIC8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBgbG9kYXNoYCBvYmplY3Qgd2hpY2ggd3JhcHMgYHZhbHVlYCB0byBlbmFibGUgaW1wbGljaXQgbWV0aG9kXG4gICAgICogY2hhaW4gc2VxdWVuY2VzLiBNZXRob2RzIHRoYXQgb3BlcmF0ZSBvbiBhbmQgcmV0dXJuIGFycmF5cywgY29sbGVjdGlvbnMsXG4gICAgICogYW5kIGZ1bmN0aW9ucyBjYW4gYmUgY2hhaW5lZCB0b2dldGhlci4gTWV0aG9kcyB0aGF0IHJldHJpZXZlIGEgc2luZ2xlIHZhbHVlXG4gICAgICogb3IgbWF5IHJldHVybiBhIHByaW1pdGl2ZSB2YWx1ZSB3aWxsIGF1dG9tYXRpY2FsbHkgZW5kIHRoZSBjaGFpbiBzZXF1ZW5jZVxuICAgICAqIGFuZCByZXR1cm4gdGhlIHVud3JhcHBlZCB2YWx1ZS4gT3RoZXJ3aXNlLCB0aGUgdmFsdWUgbXVzdCBiZSB1bndyYXBwZWRcbiAgICAgKiB3aXRoIGBfI3ZhbHVlYC5cbiAgICAgKlxuICAgICAqIEV4cGxpY2l0IGNoYWluIHNlcXVlbmNlcywgd2hpY2ggbXVzdCBiZSB1bndyYXBwZWQgd2l0aCBgXyN2YWx1ZWAsIG1heSBiZVxuICAgICAqIGVuYWJsZWQgdXNpbmcgYF8uY2hhaW5gLlxuICAgICAqXG4gICAgICogVGhlIGV4ZWN1dGlvbiBvZiBjaGFpbmVkIG1ldGhvZHMgaXMgbGF6eSwgdGhhdCBpcywgaXQncyBkZWZlcnJlZCB1bnRpbFxuICAgICAqIGBfI3ZhbHVlYCBpcyBpbXBsaWNpdGx5IG9yIGV4cGxpY2l0bHkgY2FsbGVkLlxuICAgICAqXG4gICAgICogTGF6eSBldmFsdWF0aW9uIGFsbG93cyBzZXZlcmFsIG1ldGhvZHMgdG8gc3VwcG9ydCBzaG9ydGN1dCBmdXNpb24uXG4gICAgICogU2hvcnRjdXQgZnVzaW9uIGlzIGFuIG9wdGltaXphdGlvbiB0byBtZXJnZSBpdGVyYXRlZSBjYWxsczsgdGhpcyBhdm9pZHNcbiAgICAgKiB0aGUgY3JlYXRpb24gb2YgaW50ZXJtZWRpYXRlIGFycmF5cyBhbmQgY2FuIGdyZWF0bHkgcmVkdWNlIHRoZSBudW1iZXIgb2ZcbiAgICAgKiBpdGVyYXRlZSBleGVjdXRpb25zLiBTZWN0aW9ucyBvZiBhIGNoYWluIHNlcXVlbmNlIHF1YWxpZnkgZm9yIHNob3J0Y3V0XG4gICAgICogZnVzaW9uIGlmIHRoZSBzZWN0aW9uIGlzIGFwcGxpZWQgdG8gYW4gYXJyYXkgYW5kIGl0ZXJhdGVlcyBhY2NlcHQgb25seVxuICAgICAqIG9uZSBhcmd1bWVudC4gVGhlIGhldXJpc3RpYyBmb3Igd2hldGhlciBhIHNlY3Rpb24gcXVhbGlmaWVzIGZvciBzaG9ydGN1dFxuICAgICAqIGZ1c2lvbiBpcyBzdWJqZWN0IHRvIGNoYW5nZS5cbiAgICAgKlxuICAgICAqIENoYWluaW5nIGlzIHN1cHBvcnRlZCBpbiBjdXN0b20gYnVpbGRzIGFzIGxvbmcgYXMgdGhlIGBfI3ZhbHVlYCBtZXRob2QgaXNcbiAgICAgKiBkaXJlY3RseSBvciBpbmRpcmVjdGx5IGluY2x1ZGVkIGluIHRoZSBidWlsZC5cbiAgICAgKlxuICAgICAqIEluIGFkZGl0aW9uIHRvIGxvZGFzaCBtZXRob2RzLCB3cmFwcGVycyBoYXZlIGBBcnJheWAgYW5kIGBTdHJpbmdgIG1ldGhvZHMuXG4gICAgICpcbiAgICAgKiBUaGUgd3JhcHBlciBgQXJyYXlgIG1ldGhvZHMgYXJlOlxuICAgICAqIGBjb25jYXRgLCBgam9pbmAsIGBwb3BgLCBgcHVzaGAsIGBzaGlmdGAsIGBzb3J0YCwgYHNwbGljZWAsIGFuZCBgdW5zaGlmdGBcbiAgICAgKlxuICAgICAqIFRoZSB3cmFwcGVyIGBTdHJpbmdgIG1ldGhvZHMgYXJlOlxuICAgICAqIGByZXBsYWNlYCBhbmQgYHNwbGl0YFxuICAgICAqXG4gICAgICogVGhlIHdyYXBwZXIgbWV0aG9kcyB0aGF0IHN1cHBvcnQgc2hvcnRjdXQgZnVzaW9uIGFyZTpcbiAgICAgKiBgYXRgLCBgY29tcGFjdGAsIGBkcm9wYCwgYGRyb3BSaWdodGAsIGBkcm9wV2hpbGVgLCBgZmlsdGVyYCwgYGZpbmRgLFxuICAgICAqIGBmaW5kTGFzdGAsIGBoZWFkYCwgYGluaXRpYWxgLCBgbGFzdGAsIGBtYXBgLCBgcmVqZWN0YCwgYHJldmVyc2VgLCBgc2xpY2VgLFxuICAgICAqIGB0YWlsYCwgYHRha2VgLCBgdGFrZVJpZ2h0YCwgYHRha2VSaWdodFdoaWxlYCwgYHRha2VXaGlsZWAsIGFuZCBgdG9BcnJheWBcbiAgICAgKlxuICAgICAqIFRoZSBjaGFpbmFibGUgd3JhcHBlciBtZXRob2RzIGFyZTpcbiAgICAgKiBgYWZ0ZXJgLCBgYXJ5YCwgYGFzc2lnbmAsIGBhc3NpZ25JbmAsIGBhc3NpZ25JbldpdGhgLCBgYXNzaWduV2l0aGAsIGBhdGAsXG4gICAgICogYGJlZm9yZWAsIGBiaW5kYCwgYGJpbmRBbGxgLCBgYmluZEtleWAsIGBjYXN0QXJyYXlgLCBgY2hhaW5gLCBgY2h1bmtgLFxuICAgICAqIGBjb21taXRgLCBgY29tcGFjdGAsIGBjb25jYXRgLCBgY29uZm9ybXNgLCBgY29uc3RhbnRgLCBgY291bnRCeWAsIGBjcmVhdGVgLFxuICAgICAqIGBjdXJyeWAsIGBkZWJvdW5jZWAsIGBkZWZhdWx0c2AsIGBkZWZhdWx0c0RlZXBgLCBgZGVmZXJgLCBgZGVsYXlgLFxuICAgICAqIGBkaWZmZXJlbmNlYCwgYGRpZmZlcmVuY2VCeWAsIGBkaWZmZXJlbmNlV2l0aGAsIGBkcm9wYCwgYGRyb3BSaWdodGAsXG4gICAgICogYGRyb3BSaWdodFdoaWxlYCwgYGRyb3BXaGlsZWAsIGBleHRlbmRgLCBgZXh0ZW5kV2l0aGAsIGBmaWxsYCwgYGZpbHRlcmAsXG4gICAgICogYGZsYXRNYXBgLCBgZmxhdE1hcERlZXBgLCBgZmxhdE1hcERlcHRoYCwgYGZsYXR0ZW5gLCBgZmxhdHRlbkRlZXBgLFxuICAgICAqIGBmbGF0dGVuRGVwdGhgLCBgZmxpcGAsIGBmbG93YCwgYGZsb3dSaWdodGAsIGBmcm9tUGFpcnNgLCBgZnVuY3Rpb25zYCxcbiAgICAgKiBgZnVuY3Rpb25zSW5gLCBgZ3JvdXBCeWAsIGBpbml0aWFsYCwgYGludGVyc2VjdGlvbmAsIGBpbnRlcnNlY3Rpb25CeWAsXG4gICAgICogYGludGVyc2VjdGlvbldpdGhgLCBgaW52ZXJ0YCwgYGludmVydEJ5YCwgYGludm9rZU1hcGAsIGBpdGVyYXRlZWAsIGBrZXlCeWAsXG4gICAgICogYGtleXNgLCBga2V5c0luYCwgYG1hcGAsIGBtYXBLZXlzYCwgYG1hcFZhbHVlc2AsIGBtYXRjaGVzYCwgYG1hdGNoZXNQcm9wZXJ0eWAsXG4gICAgICogYG1lbW9pemVgLCBgbWVyZ2VgLCBgbWVyZ2VXaXRoYCwgYG1ldGhvZGAsIGBtZXRob2RPZmAsIGBtaXhpbmAsIGBuZWdhdGVgLFxuICAgICAqIGBudGhBcmdgLCBgb21pdGAsIGBvbWl0QnlgLCBgb25jZWAsIGBvcmRlckJ5YCwgYG92ZXJgLCBgb3ZlckFyZ3NgLFxuICAgICAqIGBvdmVyRXZlcnlgLCBgb3ZlclNvbWVgLCBgcGFydGlhbGAsIGBwYXJ0aWFsUmlnaHRgLCBgcGFydGl0aW9uYCwgYHBpY2tgLFxuICAgICAqIGBwaWNrQnlgLCBgcGxhbnRgLCBgcHJvcGVydHlgLCBgcHJvcGVydHlPZmAsIGBwdWxsYCwgYHB1bGxBbGxgLCBgcHVsbEFsbEJ5YCxcbiAgICAgKiBgcHVsbEFsbFdpdGhgLCBgcHVsbEF0YCwgYHB1c2hgLCBgcmFuZ2VgLCBgcmFuZ2VSaWdodGAsIGByZWFyZ2AsIGByZWplY3RgLFxuICAgICAqIGByZW1vdmVgLCBgcmVzdGAsIGByZXZlcnNlYCwgYHNhbXBsZVNpemVgLCBgc2V0YCwgYHNldFdpdGhgLCBgc2h1ZmZsZWAsXG4gICAgICogYHNsaWNlYCwgYHNvcnRgLCBgc29ydEJ5YCwgYHNwbGljZWAsIGBzcHJlYWRgLCBgdGFpbGAsIGB0YWtlYCwgYHRha2VSaWdodGAsXG4gICAgICogYHRha2VSaWdodFdoaWxlYCwgYHRha2VXaGlsZWAsIGB0YXBgLCBgdGhyb3R0bGVgLCBgdGhydWAsIGB0b0FycmF5YCxcbiAgICAgKiBgdG9QYWlyc2AsIGB0b1BhaXJzSW5gLCBgdG9QYXRoYCwgYHRvUGxhaW5PYmplY3RgLCBgdHJhbnNmb3JtYCwgYHVuYXJ5YCxcbiAgICAgKiBgdW5pb25gLCBgdW5pb25CeWAsIGB1bmlvbldpdGhgLCBgdW5pcWAsIGB1bmlxQnlgLCBgdW5pcVdpdGhgLCBgdW5zZXRgLFxuICAgICAqIGB1bnNoaWZ0YCwgYHVuemlwYCwgYHVuemlwV2l0aGAsIGB1cGRhdGVgLCBgdXBkYXRlV2l0aGAsIGB2YWx1ZXNgLFxuICAgICAqIGB2YWx1ZXNJbmAsIGB3aXRob3V0YCwgYHdyYXBgLCBgeG9yYCwgYHhvckJ5YCwgYHhvcldpdGhgLCBgemlwYCxcbiAgICAgKiBgemlwT2JqZWN0YCwgYHppcE9iamVjdERlZXBgLCBhbmQgYHppcFdpdGhgXG4gICAgICpcbiAgICAgKiBUaGUgd3JhcHBlciBtZXRob2RzIHRoYXQgYXJlICoqbm90KiogY2hhaW5hYmxlIGJ5IGRlZmF1bHQgYXJlOlxuICAgICAqIGBhZGRgLCBgYXR0ZW1wdGAsIGBjYW1lbENhc2VgLCBgY2FwaXRhbGl6ZWAsIGBjZWlsYCwgYGNsYW1wYCwgYGNsb25lYCxcbiAgICAgKiBgY2xvbmVEZWVwYCwgYGNsb25lRGVlcFdpdGhgLCBgY2xvbmVXaXRoYCwgYGNvbmZvcm1zVG9gLCBgZGVidXJyYCxcbiAgICAgKiBgZGVmYXVsdFRvYCwgYGRpdmlkZWAsIGBlYWNoYCwgYGVhY2hSaWdodGAsIGBlbmRzV2l0aGAsIGBlcWAsIGBlc2NhcGVgLFxuICAgICAqIGBlc2NhcGVSZWdFeHBgLCBgZXZlcnlgLCBgZmluZGAsIGBmaW5kSW5kZXhgLCBgZmluZEtleWAsIGBmaW5kTGFzdGAsXG4gICAgICogYGZpbmRMYXN0SW5kZXhgLCBgZmluZExhc3RLZXlgLCBgZmlyc3RgLCBgZmxvb3JgLCBgZm9yRWFjaGAsIGBmb3JFYWNoUmlnaHRgLFxuICAgICAqIGBmb3JJbmAsIGBmb3JJblJpZ2h0YCwgYGZvck93bmAsIGBmb3JPd25SaWdodGAsIGBnZXRgLCBgZ3RgLCBgZ3RlYCwgYGhhc2AsXG4gICAgICogYGhhc0luYCwgYGhlYWRgLCBgaWRlbnRpdHlgLCBgaW5jbHVkZXNgLCBgaW5kZXhPZmAsIGBpblJhbmdlYCwgYGludm9rZWAsXG4gICAgICogYGlzQXJndW1lbnRzYCwgYGlzQXJyYXlgLCBgaXNBcnJheUJ1ZmZlcmAsIGBpc0FycmF5TGlrZWAsIGBpc0FycmF5TGlrZU9iamVjdGAsXG4gICAgICogYGlzQm9vbGVhbmAsIGBpc0J1ZmZlcmAsIGBpc0RhdGVgLCBgaXNFbGVtZW50YCwgYGlzRW1wdHlgLCBgaXNFcXVhbGAsXG4gICAgICogYGlzRXF1YWxXaXRoYCwgYGlzRXJyb3JgLCBgaXNGaW5pdGVgLCBgaXNGdW5jdGlvbmAsIGBpc0ludGVnZXJgLCBgaXNMZW5ndGhgLFxuICAgICAqIGBpc01hcGAsIGBpc01hdGNoYCwgYGlzTWF0Y2hXaXRoYCwgYGlzTmFOYCwgYGlzTmF0aXZlYCwgYGlzTmlsYCwgYGlzTnVsbGAsXG4gICAgICogYGlzTnVtYmVyYCwgYGlzT2JqZWN0YCwgYGlzT2JqZWN0TGlrZWAsIGBpc1BsYWluT2JqZWN0YCwgYGlzUmVnRXhwYCxcbiAgICAgKiBgaXNTYWZlSW50ZWdlcmAsIGBpc1NldGAsIGBpc1N0cmluZ2AsIGBpc1VuZGVmaW5lZGAsIGBpc1R5cGVkQXJyYXlgLFxuICAgICAqIGBpc1dlYWtNYXBgLCBgaXNXZWFrU2V0YCwgYGpvaW5gLCBga2ViYWJDYXNlYCwgYGxhc3RgLCBgbGFzdEluZGV4T2ZgLFxuICAgICAqIGBsb3dlckNhc2VgLCBgbG93ZXJGaXJzdGAsIGBsdGAsIGBsdGVgLCBgbWF4YCwgYG1heEJ5YCwgYG1lYW5gLCBgbWVhbkJ5YCxcbiAgICAgKiBgbWluYCwgYG1pbkJ5YCwgYG11bHRpcGx5YCwgYG5vQ29uZmxpY3RgLCBgbm9vcGAsIGBub3dgLCBgbnRoYCwgYHBhZGAsXG4gICAgICogYHBhZEVuZGAsIGBwYWRTdGFydGAsIGBwYXJzZUludGAsIGBwb3BgLCBgcmFuZG9tYCwgYHJlZHVjZWAsIGByZWR1Y2VSaWdodGAsXG4gICAgICogYHJlcGVhdGAsIGByZXN1bHRgLCBgcm91bmRgLCBgcnVuSW5Db250ZXh0YCwgYHNhbXBsZWAsIGBzaGlmdGAsIGBzaXplYCxcbiAgICAgKiBgc25ha2VDYXNlYCwgYHNvbWVgLCBgc29ydGVkSW5kZXhgLCBgc29ydGVkSW5kZXhCeWAsIGBzb3J0ZWRMYXN0SW5kZXhgLFxuICAgICAqIGBzb3J0ZWRMYXN0SW5kZXhCeWAsIGBzdGFydENhc2VgLCBgc3RhcnRzV2l0aGAsIGBzdHViQXJyYXlgLCBgc3R1YkZhbHNlYCxcbiAgICAgKiBgc3R1Yk9iamVjdGAsIGBzdHViU3RyaW5nYCwgYHN0dWJUcnVlYCwgYHN1YnRyYWN0YCwgYHN1bWAsIGBzdW1CeWAsXG4gICAgICogYHRlbXBsYXRlYCwgYHRpbWVzYCwgYHRvRmluaXRlYCwgYHRvSW50ZWdlcmAsIGB0b0pTT05gLCBgdG9MZW5ndGhgLFxuICAgICAqIGB0b0xvd2VyYCwgYHRvTnVtYmVyYCwgYHRvU2FmZUludGVnZXJgLCBgdG9TdHJpbmdgLCBgdG9VcHBlcmAsIGB0cmltYCxcbiAgICAgKiBgdHJpbUVuZGAsIGB0cmltU3RhcnRgLCBgdHJ1bmNhdGVgLCBgdW5lc2NhcGVgLCBgdW5pcXVlSWRgLCBgdXBwZXJDYXNlYCxcbiAgICAgKiBgdXBwZXJGaXJzdGAsIGB2YWx1ZWAsIGFuZCBgd29yZHNgXG4gICAgICpcbiAgICAgKiBAbmFtZSBfXG4gICAgICogQGNvbnN0cnVjdG9yXG4gICAgICogQGNhdGVnb3J5IFNlcVxuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIHdyYXAgaW4gYSBgbG9kYXNoYCBpbnN0YW5jZS5cbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIHRoZSBuZXcgYGxvZGFzaGAgd3JhcHBlciBpbnN0YW5jZS5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogZnVuY3Rpb24gc3F1YXJlKG4pIHtcbiAgICAgKiAgIHJldHVybiBuICogbjtcbiAgICAgKiB9XG4gICAgICpcbiAgICAgKiB2YXIgd3JhcHBlZCA9IF8oWzEsIDIsIDNdKTtcbiAgICAgKlxuICAgICAqIC8vIFJldHVybnMgYW4gdW53cmFwcGVkIHZhbHVlLlxuICAgICAqIHdyYXBwZWQucmVkdWNlKF8uYWRkKTtcbiAgICAgKiAvLyA9PiA2XG4gICAgICpcbiAgICAgKiAvLyBSZXR1cm5zIGEgd3JhcHBlZCB2YWx1ZS5cbiAgICAgKiB2YXIgc3F1YXJlcyA9IHdyYXBwZWQubWFwKHNxdWFyZSk7XG4gICAgICpcbiAgICAgKiBfLmlzQXJyYXkoc3F1YXJlcyk7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKlxuICAgICAqIF8uaXNBcnJheShzcXVhcmVzLnZhbHVlKCkpO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBsb2Rhc2godmFsdWUpIHtcbiAgICAgIGlmIChpc09iamVjdExpa2UodmFsdWUpICYmICFpc0FycmF5KHZhbHVlKSAmJiAhKHZhbHVlIGluc3RhbmNlb2YgTGF6eVdyYXBwZXIpKSB7XG4gICAgICAgIGlmICh2YWx1ZSBpbnN0YW5jZW9mIExvZGFzaFdyYXBwZXIpIHtcbiAgICAgICAgICByZXR1cm4gdmFsdWU7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGhhc093blByb3BlcnR5LmNhbGwodmFsdWUsICdfX3dyYXBwZWRfXycpKSB7XG4gICAgICAgICAgcmV0dXJuIHdyYXBwZXJDbG9uZSh2YWx1ZSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiBuZXcgTG9kYXNoV3JhcHBlcih2YWx1ZSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8uY3JlYXRlYCB3aXRob3V0IHN1cHBvcnQgZm9yIGFzc2lnbmluZ1xuICAgICAqIHByb3BlcnRpZXMgdG8gdGhlIGNyZWF0ZWQgb2JqZWN0LlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gcHJvdG8gVGhlIG9iamVjdCB0byBpbmhlcml0IGZyb20uXG4gICAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyB0aGUgbmV3IG9iamVjdC5cbiAgICAgKi9cbiAgICB2YXIgYmFzZUNyZWF0ZSA9IChmdW5jdGlvbigpIHtcbiAgICAgIGZ1bmN0aW9uIG9iamVjdCgpIHt9XG4gICAgICByZXR1cm4gZnVuY3Rpb24ocHJvdG8pIHtcbiAgICAgICAgaWYgKCFpc09iamVjdChwcm90bykpIHtcbiAgICAgICAgICByZXR1cm4ge307XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG9iamVjdENyZWF0ZSkge1xuICAgICAgICAgIHJldHVybiBvYmplY3RDcmVhdGUocHJvdG8pO1xuICAgICAgICB9XG4gICAgICAgIG9iamVjdC5wcm90b3R5cGUgPSBwcm90bztcbiAgICAgICAgdmFyIHJlc3VsdCA9IG5ldyBvYmplY3Q7XG4gICAgICAgIG9iamVjdC5wcm90b3R5cGUgPSB1bmRlZmluZWQ7XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICB9O1xuICAgIH0oKSk7XG5cbiAgICAvKipcbiAgICAgKiBUaGUgZnVuY3Rpb24gd2hvc2UgcHJvdG90eXBlIGNoYWluIHNlcXVlbmNlIHdyYXBwZXJzIGluaGVyaXQgZnJvbS5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZUxvZGFzaCgpIHtcbiAgICAgIC8vIE5vIG9wZXJhdGlvbiBwZXJmb3JtZWQuXG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgY29uc3RydWN0b3IgZm9yIGNyZWF0aW5nIGBsb2Rhc2hgIHdyYXBwZXIgb2JqZWN0cy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gd3JhcC5cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtjaGFpbkFsbF0gRW5hYmxlIGV4cGxpY2l0IG1ldGhvZCBjaGFpbiBzZXF1ZW5jZXMuXG4gICAgICovXG4gICAgZnVuY3Rpb24gTG9kYXNoV3JhcHBlcih2YWx1ZSwgY2hhaW5BbGwpIHtcbiAgICAgIHRoaXMuX193cmFwcGVkX18gPSB2YWx1ZTtcbiAgICAgIHRoaXMuX19hY3Rpb25zX18gPSBbXTtcbiAgICAgIHRoaXMuX19jaGFpbl9fID0gISFjaGFpbkFsbDtcbiAgICAgIHRoaXMuX19pbmRleF9fID0gMDtcbiAgICAgIHRoaXMuX192YWx1ZXNfXyA9IHVuZGVmaW5lZDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBCeSBkZWZhdWx0LCB0aGUgdGVtcGxhdGUgZGVsaW1pdGVycyB1c2VkIGJ5IGxvZGFzaCBhcmUgbGlrZSB0aG9zZSBpblxuICAgICAqIGVtYmVkZGVkIFJ1YnkgKEVSQikgYXMgd2VsbCBhcyBFUzIwMTUgdGVtcGxhdGUgc3RyaW5ncy4gQ2hhbmdlIHRoZVxuICAgICAqIGZvbGxvd2luZyB0ZW1wbGF0ZSBzZXR0aW5ncyB0byB1c2UgYWx0ZXJuYXRpdmUgZGVsaW1pdGVycy5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEB0eXBlIHtPYmplY3R9XG4gICAgICovXG4gICAgbG9kYXNoLnRlbXBsYXRlU2V0dGluZ3MgPSB7XG5cbiAgICAgIC8qKlxuICAgICAgICogVXNlZCB0byBkZXRlY3QgYGRhdGFgIHByb3BlcnR5IHZhbHVlcyB0byBiZSBIVE1MLWVzY2FwZWQuXG4gICAgICAgKlxuICAgICAgICogQG1lbWJlck9mIF8udGVtcGxhdGVTZXR0aW5nc1xuICAgICAgICogQHR5cGUge1JlZ0V4cH1cbiAgICAgICAqL1xuICAgICAgJ2VzY2FwZSc6IHJlRXNjYXBlLFxuXG4gICAgICAvKipcbiAgICAgICAqIFVzZWQgdG8gZGV0ZWN0IGNvZGUgdG8gYmUgZXZhbHVhdGVkLlxuICAgICAgICpcbiAgICAgICAqIEBtZW1iZXJPZiBfLnRlbXBsYXRlU2V0dGluZ3NcbiAgICAgICAqIEB0eXBlIHtSZWdFeHB9XG4gICAgICAgKi9cbiAgICAgICdldmFsdWF0ZSc6IHJlRXZhbHVhdGUsXG5cbiAgICAgIC8qKlxuICAgICAgICogVXNlZCB0byBkZXRlY3QgYGRhdGFgIHByb3BlcnR5IHZhbHVlcyB0byBpbmplY3QuXG4gICAgICAgKlxuICAgICAgICogQG1lbWJlck9mIF8udGVtcGxhdGVTZXR0aW5nc1xuICAgICAgICogQHR5cGUge1JlZ0V4cH1cbiAgICAgICAqL1xuICAgICAgJ2ludGVycG9sYXRlJzogcmVJbnRlcnBvbGF0ZSxcblxuICAgICAgLyoqXG4gICAgICAgKiBVc2VkIHRvIHJlZmVyZW5jZSB0aGUgZGF0YSBvYmplY3QgaW4gdGhlIHRlbXBsYXRlIHRleHQuXG4gICAgICAgKlxuICAgICAgICogQG1lbWJlck9mIF8udGVtcGxhdGVTZXR0aW5nc1xuICAgICAgICogQHR5cGUge3N0cmluZ31cbiAgICAgICAqL1xuICAgICAgJ3ZhcmlhYmxlJzogJycsXG5cbiAgICAgIC8qKlxuICAgICAgICogVXNlZCB0byBpbXBvcnQgdmFyaWFibGVzIGludG8gdGhlIGNvbXBpbGVkIHRlbXBsYXRlLlxuICAgICAgICpcbiAgICAgICAqIEBtZW1iZXJPZiBfLnRlbXBsYXRlU2V0dGluZ3NcbiAgICAgICAqIEB0eXBlIHtPYmplY3R9XG4gICAgICAgKi9cbiAgICAgICdpbXBvcnRzJzoge1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBBIHJlZmVyZW5jZSB0byB0aGUgYGxvZGFzaGAgZnVuY3Rpb24uXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXJPZiBfLnRlbXBsYXRlU2V0dGluZ3MuaW1wb3J0c1xuICAgICAgICAgKiBAdHlwZSB7RnVuY3Rpb259XG4gICAgICAgICAqL1xuICAgICAgICAnXyc6IGxvZGFzaFxuICAgICAgfVxuICAgIH07XG5cbiAgICAvLyBFbnN1cmUgd3JhcHBlcnMgYXJlIGluc3RhbmNlcyBvZiBgYmFzZUxvZGFzaGAuXG4gICAgbG9kYXNoLnByb3RvdHlwZSA9IGJhc2VMb2Rhc2gucHJvdG90eXBlO1xuICAgIGxvZGFzaC5wcm90b3R5cGUuY29uc3RydWN0b3IgPSBsb2Rhc2g7XG5cbiAgICBMb2Rhc2hXcmFwcGVyLnByb3RvdHlwZSA9IGJhc2VDcmVhdGUoYmFzZUxvZGFzaC5wcm90b3R5cGUpO1xuICAgIExvZGFzaFdyYXBwZXIucHJvdG90eXBlLmNvbnN0cnVjdG9yID0gTG9kYXNoV3JhcHBlcjtcblxuICAgIC8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBsYXp5IHdyYXBwZXIgb2JqZWN0IHdoaWNoIHdyYXBzIGB2YWx1ZWAgdG8gZW5hYmxlIGxhenkgZXZhbHVhdGlvbi5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQGNvbnN0cnVjdG9yXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gd3JhcC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBMYXp5V3JhcHBlcih2YWx1ZSkge1xuICAgICAgdGhpcy5fX3dyYXBwZWRfXyA9IHZhbHVlO1xuICAgICAgdGhpcy5fX2FjdGlvbnNfXyA9IFtdO1xuICAgICAgdGhpcy5fX2Rpcl9fID0gMTtcbiAgICAgIHRoaXMuX19maWx0ZXJlZF9fID0gZmFsc2U7XG4gICAgICB0aGlzLl9faXRlcmF0ZWVzX18gPSBbXTtcbiAgICAgIHRoaXMuX190YWtlQ291bnRfXyA9IE1BWF9BUlJBWV9MRU5HVEg7XG4gICAgICB0aGlzLl9fdmlld3NfXyA9IFtdO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBjbG9uZSBvZiB0aGUgbGF6eSB3cmFwcGVyIG9iamVjdC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQG5hbWUgY2xvbmVcbiAgICAgKiBAbWVtYmVyT2YgTGF6eVdyYXBwZXJcbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIHRoZSBjbG9uZWQgYExhenlXcmFwcGVyYCBvYmplY3QuXG4gICAgICovXG4gICAgZnVuY3Rpb24gbGF6eUNsb25lKCkge1xuICAgICAgdmFyIHJlc3VsdCA9IG5ldyBMYXp5V3JhcHBlcih0aGlzLl9fd3JhcHBlZF9fKTtcbiAgICAgIHJlc3VsdC5fX2FjdGlvbnNfXyA9IGNvcHlBcnJheSh0aGlzLl9fYWN0aW9uc19fKTtcbiAgICAgIHJlc3VsdC5fX2Rpcl9fID0gdGhpcy5fX2Rpcl9fO1xuICAgICAgcmVzdWx0Ll9fZmlsdGVyZWRfXyA9IHRoaXMuX19maWx0ZXJlZF9fO1xuICAgICAgcmVzdWx0Ll9faXRlcmF0ZWVzX18gPSBjb3B5QXJyYXkodGhpcy5fX2l0ZXJhdGVlc19fKTtcbiAgICAgIHJlc3VsdC5fX3Rha2VDb3VudF9fID0gdGhpcy5fX3Rha2VDb3VudF9fO1xuICAgICAgcmVzdWx0Ll9fdmlld3NfXyA9IGNvcHlBcnJheSh0aGlzLl9fdmlld3NfXyk7XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJldmVyc2VzIHRoZSBkaXJlY3Rpb24gb2YgbGF6eSBpdGVyYXRpb24uXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBuYW1lIHJldmVyc2VcbiAgICAgKiBAbWVtYmVyT2YgTGF6eVdyYXBwZXJcbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIHRoZSBuZXcgcmV2ZXJzZWQgYExhenlXcmFwcGVyYCBvYmplY3QuXG4gICAgICovXG4gICAgZnVuY3Rpb24gbGF6eVJldmVyc2UoKSB7XG4gICAgICBpZiAodGhpcy5fX2ZpbHRlcmVkX18pIHtcbiAgICAgICAgdmFyIHJlc3VsdCA9IG5ldyBMYXp5V3JhcHBlcih0aGlzKTtcbiAgICAgICAgcmVzdWx0Ll9fZGlyX18gPSAtMTtcbiAgICAgICAgcmVzdWx0Ll9fZmlsdGVyZWRfXyA9IHRydWU7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXN1bHQgPSB0aGlzLmNsb25lKCk7XG4gICAgICAgIHJlc3VsdC5fX2Rpcl9fICo9IC0xO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBFeHRyYWN0cyB0aGUgdW53cmFwcGVkIHZhbHVlIGZyb20gaXRzIGxhenkgd3JhcHBlci5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQG5hbWUgdmFsdWVcbiAgICAgKiBAbWVtYmVyT2YgTGF6eVdyYXBwZXJcbiAgICAgKiBAcmV0dXJucyB7Kn0gUmV0dXJucyB0aGUgdW53cmFwcGVkIHZhbHVlLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGxhenlWYWx1ZSgpIHtcbiAgICAgIHZhciBhcnJheSA9IHRoaXMuX193cmFwcGVkX18udmFsdWUoKSxcbiAgICAgICAgICBkaXIgPSB0aGlzLl9fZGlyX18sXG4gICAgICAgICAgaXNBcnIgPSBpc0FycmF5KGFycmF5KSxcbiAgICAgICAgICBpc1JpZ2h0ID0gZGlyIDwgMCxcbiAgICAgICAgICBhcnJMZW5ndGggPSBpc0FyciA/IGFycmF5Lmxlbmd0aCA6IDAsXG4gICAgICAgICAgdmlldyA9IGdldFZpZXcoMCwgYXJyTGVuZ3RoLCB0aGlzLl9fdmlld3NfXyksXG4gICAgICAgICAgc3RhcnQgPSB2aWV3LnN0YXJ0LFxuICAgICAgICAgIGVuZCA9IHZpZXcuZW5kLFxuICAgICAgICAgIGxlbmd0aCA9IGVuZCAtIHN0YXJ0LFxuICAgICAgICAgIGluZGV4ID0gaXNSaWdodCA/IGVuZCA6IChzdGFydCAtIDEpLFxuICAgICAgICAgIGl0ZXJhdGVlcyA9IHRoaXMuX19pdGVyYXRlZXNfXyxcbiAgICAgICAgICBpdGVyTGVuZ3RoID0gaXRlcmF0ZWVzLmxlbmd0aCxcbiAgICAgICAgICByZXNJbmRleCA9IDAsXG4gICAgICAgICAgdGFrZUNvdW50ID0gbmF0aXZlTWluKGxlbmd0aCwgdGhpcy5fX3Rha2VDb3VudF9fKTtcblxuICAgICAgaWYgKCFpc0FyciB8fCAoIWlzUmlnaHQgJiYgYXJyTGVuZ3RoID09IGxlbmd0aCAmJiB0YWtlQ291bnQgPT0gbGVuZ3RoKSkge1xuICAgICAgICByZXR1cm4gYmFzZVdyYXBwZXJWYWx1ZShhcnJheSwgdGhpcy5fX2FjdGlvbnNfXyk7XG4gICAgICB9XG4gICAgICB2YXIgcmVzdWx0ID0gW107XG5cbiAgICAgIG91dGVyOlxuICAgICAgd2hpbGUgKGxlbmd0aC0tICYmIHJlc0luZGV4IDwgdGFrZUNvdW50KSB7XG4gICAgICAgIGluZGV4ICs9IGRpcjtcblxuICAgICAgICB2YXIgaXRlckluZGV4ID0gLTEsXG4gICAgICAgICAgICB2YWx1ZSA9IGFycmF5W2luZGV4XTtcblxuICAgICAgICB3aGlsZSAoKytpdGVySW5kZXggPCBpdGVyTGVuZ3RoKSB7XG4gICAgICAgICAgdmFyIGRhdGEgPSBpdGVyYXRlZXNbaXRlckluZGV4XSxcbiAgICAgICAgICAgICAgaXRlcmF0ZWUgPSBkYXRhLml0ZXJhdGVlLFxuICAgICAgICAgICAgICB0eXBlID0gZGF0YS50eXBlLFxuICAgICAgICAgICAgICBjb21wdXRlZCA9IGl0ZXJhdGVlKHZhbHVlKTtcblxuICAgICAgICAgIGlmICh0eXBlID09IExBWllfTUFQX0ZMQUcpIHtcbiAgICAgICAgICAgIHZhbHVlID0gY29tcHV0ZWQ7XG4gICAgICAgICAgfSBlbHNlIGlmICghY29tcHV0ZWQpIHtcbiAgICAgICAgICAgIGlmICh0eXBlID09IExBWllfRklMVEVSX0ZMQUcpIHtcbiAgICAgICAgICAgICAgY29udGludWUgb3V0ZXI7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICBicmVhayBvdXRlcjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmVzdWx0W3Jlc0luZGV4KytdID0gdmFsdWU7XG4gICAgICB9XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cblxuICAgIC8vIEVuc3VyZSBgTGF6eVdyYXBwZXJgIGlzIGFuIGluc3RhbmNlIG9mIGBiYXNlTG9kYXNoYC5cbiAgICBMYXp5V3JhcHBlci5wcm90b3R5cGUgPSBiYXNlQ3JlYXRlKGJhc2VMb2Rhc2gucHJvdG90eXBlKTtcbiAgICBMYXp5V3JhcHBlci5wcm90b3R5cGUuY29uc3RydWN0b3IgPSBMYXp5V3JhcHBlcjtcblxuICAgIC8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBoYXNoIG9iamVjdC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQGNvbnN0cnVjdG9yXG4gICAgICogQHBhcmFtIHtBcnJheX0gW2VudHJpZXNdIFRoZSBrZXktdmFsdWUgcGFpcnMgdG8gY2FjaGUuXG4gICAgICovXG4gICAgZnVuY3Rpb24gSGFzaChlbnRyaWVzKSB7XG4gICAgICB2YXIgaW5kZXggPSAtMSxcbiAgICAgICAgICBsZW5ndGggPSBlbnRyaWVzID09IG51bGwgPyAwIDogZW50cmllcy5sZW5ndGg7XG5cbiAgICAgIHRoaXMuY2xlYXIoKTtcbiAgICAgIHdoaWxlICgrK2luZGV4IDwgbGVuZ3RoKSB7XG4gICAgICAgIHZhciBlbnRyeSA9IGVudHJpZXNbaW5kZXhdO1xuICAgICAgICB0aGlzLnNldChlbnRyeVswXSwgZW50cnlbMV0pO1xuICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJlbW92ZXMgYWxsIGtleS12YWx1ZSBlbnRyaWVzIGZyb20gdGhlIGhhc2guXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBuYW1lIGNsZWFyXG4gICAgICogQG1lbWJlck9mIEhhc2hcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBoYXNoQ2xlYXIoKSB7XG4gICAgICB0aGlzLl9fZGF0YV9fID0gbmF0aXZlQ3JlYXRlID8gbmF0aXZlQ3JlYXRlKG51bGwpIDoge307XG4gICAgICB0aGlzLnNpemUgPSAwO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJlbW92ZXMgYGtleWAgYW5kIGl0cyB2YWx1ZSBmcm9tIHRoZSBoYXNoLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAbmFtZSBkZWxldGVcbiAgICAgKiBAbWVtYmVyT2YgSGFzaFxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBoYXNoIFRoZSBoYXNoIHRvIG1vZGlmeS5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSBrZXkgb2YgdGhlIHZhbHVlIHRvIHJlbW92ZS5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgdGhlIGVudHJ5IHdhcyByZW1vdmVkLCBlbHNlIGBmYWxzZWAuXG4gICAgICovXG4gICAgZnVuY3Rpb24gaGFzaERlbGV0ZShrZXkpIHtcbiAgICAgIHZhciByZXN1bHQgPSB0aGlzLmhhcyhrZXkpICYmIGRlbGV0ZSB0aGlzLl9fZGF0YV9fW2tleV07XG4gICAgICB0aGlzLnNpemUgLT0gcmVzdWx0ID8gMSA6IDA7XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEdldHMgdGhlIGhhc2ggdmFsdWUgZm9yIGBrZXlgLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAbmFtZSBnZXRcbiAgICAgKiBAbWVtYmVyT2YgSGFzaFxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgVGhlIGtleSBvZiB0aGUgdmFsdWUgdG8gZ2V0LlxuICAgICAqIEByZXR1cm5zIHsqfSBSZXR1cm5zIHRoZSBlbnRyeSB2YWx1ZS5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBoYXNoR2V0KGtleSkge1xuICAgICAgdmFyIGRhdGEgPSB0aGlzLl9fZGF0YV9fO1xuICAgICAgaWYgKG5hdGl2ZUNyZWF0ZSkge1xuICAgICAgICB2YXIgcmVzdWx0ID0gZGF0YVtrZXldO1xuICAgICAgICByZXR1cm4gcmVzdWx0ID09PSBIQVNIX1VOREVGSU5FRCA/IHVuZGVmaW5lZCA6IHJlc3VsdDtcbiAgICAgIH1cbiAgICAgIHJldHVybiBoYXNPd25Qcm9wZXJ0eS5jYWxsKGRhdGEsIGtleSkgPyBkYXRhW2tleV0gOiB1bmRlZmluZWQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2hlY2tzIGlmIGEgaGFzaCB2YWx1ZSBmb3IgYGtleWAgZXhpc3RzLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAbmFtZSBoYXNcbiAgICAgKiBAbWVtYmVyT2YgSGFzaFxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgVGhlIGtleSBvZiB0aGUgZW50cnkgdG8gY2hlY2suXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGFuIGVudHJ5IGZvciBga2V5YCBleGlzdHMsIGVsc2UgYGZhbHNlYC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBoYXNoSGFzKGtleSkge1xuICAgICAgdmFyIGRhdGEgPSB0aGlzLl9fZGF0YV9fO1xuICAgICAgcmV0dXJuIG5hdGl2ZUNyZWF0ZSA/IChkYXRhW2tleV0gIT09IHVuZGVmaW5lZCkgOiBoYXNPd25Qcm9wZXJ0eS5jYWxsKGRhdGEsIGtleSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogU2V0cyB0aGUgaGFzaCBga2V5YCB0byBgdmFsdWVgLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAbmFtZSBzZXRcbiAgICAgKiBAbWVtYmVyT2YgSGFzaFxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgVGhlIGtleSBvZiB0aGUgdmFsdWUgdG8gc2V0LlxuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIHNldC5cbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIHRoZSBoYXNoIGluc3RhbmNlLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGhhc2hTZXQoa2V5LCB2YWx1ZSkge1xuICAgICAgdmFyIGRhdGEgPSB0aGlzLl9fZGF0YV9fO1xuICAgICAgdGhpcy5zaXplICs9IHRoaXMuaGFzKGtleSkgPyAwIDogMTtcbiAgICAgIGRhdGFba2V5XSA9IChuYXRpdmVDcmVhdGUgJiYgdmFsdWUgPT09IHVuZGVmaW5lZCkgPyBIQVNIX1VOREVGSU5FRCA6IHZhbHVlO1xuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgLy8gQWRkIG1ldGhvZHMgdG8gYEhhc2hgLlxuICAgIEhhc2gucHJvdG90eXBlLmNsZWFyID0gaGFzaENsZWFyO1xuICAgIEhhc2gucHJvdG90eXBlWydkZWxldGUnXSA9IGhhc2hEZWxldGU7XG4gICAgSGFzaC5wcm90b3R5cGUuZ2V0ID0gaGFzaEdldDtcbiAgICBIYXNoLnByb3RvdHlwZS5oYXMgPSBoYXNoSGFzO1xuICAgIEhhc2gucHJvdG90eXBlLnNldCA9IGhhc2hTZXQ7XG5cbiAgICAvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGFuIGxpc3QgY2FjaGUgb2JqZWN0LlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAY29uc3RydWN0b3JcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBbZW50cmllc10gVGhlIGtleS12YWx1ZSBwYWlycyB0byBjYWNoZS5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBMaXN0Q2FjaGUoZW50cmllcykge1xuICAgICAgdmFyIGluZGV4ID0gLTEsXG4gICAgICAgICAgbGVuZ3RoID0gZW50cmllcyA9PSBudWxsID8gMCA6IGVudHJpZXMubGVuZ3RoO1xuXG4gICAgICB0aGlzLmNsZWFyKCk7XG4gICAgICB3aGlsZSAoKytpbmRleCA8IGxlbmd0aCkge1xuICAgICAgICB2YXIgZW50cnkgPSBlbnRyaWVzW2luZGV4XTtcbiAgICAgICAgdGhpcy5zZXQoZW50cnlbMF0sIGVudHJ5WzFdKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZW1vdmVzIGFsbCBrZXktdmFsdWUgZW50cmllcyBmcm9tIHRoZSBsaXN0IGNhY2hlLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAbmFtZSBjbGVhclxuICAgICAqIEBtZW1iZXJPZiBMaXN0Q2FjaGVcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBsaXN0Q2FjaGVDbGVhcigpIHtcbiAgICAgIHRoaXMuX19kYXRhX18gPSBbXTtcbiAgICAgIHRoaXMuc2l6ZSA9IDA7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmVtb3ZlcyBga2V5YCBhbmQgaXRzIHZhbHVlIGZyb20gdGhlIGxpc3QgY2FjaGUuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBuYW1lIGRlbGV0ZVxuICAgICAqIEBtZW1iZXJPZiBMaXN0Q2FjaGVcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSBrZXkgb2YgdGhlIHZhbHVlIHRvIHJlbW92ZS5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgdGhlIGVudHJ5IHdhcyByZW1vdmVkLCBlbHNlIGBmYWxzZWAuXG4gICAgICovXG4gICAgZnVuY3Rpb24gbGlzdENhY2hlRGVsZXRlKGtleSkge1xuICAgICAgdmFyIGRhdGEgPSB0aGlzLl9fZGF0YV9fLFxuICAgICAgICAgIGluZGV4ID0gYXNzb2NJbmRleE9mKGRhdGEsIGtleSk7XG5cbiAgICAgIGlmIChpbmRleCA8IDApIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuICAgICAgdmFyIGxhc3RJbmRleCA9IGRhdGEubGVuZ3RoIC0gMTtcbiAgICAgIGlmIChpbmRleCA9PSBsYXN0SW5kZXgpIHtcbiAgICAgICAgZGF0YS5wb3AoKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHNwbGljZS5jYWxsKGRhdGEsIGluZGV4LCAxKTtcbiAgICAgIH1cbiAgICAgIC0tdGhpcy5zaXplO1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogR2V0cyB0aGUgbGlzdCBjYWNoZSB2YWx1ZSBmb3IgYGtleWAuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBuYW1lIGdldFxuICAgICAqIEBtZW1iZXJPZiBMaXN0Q2FjaGVcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSBrZXkgb2YgdGhlIHZhbHVlIHRvIGdldC5cbiAgICAgKiBAcmV0dXJucyB7Kn0gUmV0dXJucyB0aGUgZW50cnkgdmFsdWUuXG4gICAgICovXG4gICAgZnVuY3Rpb24gbGlzdENhY2hlR2V0KGtleSkge1xuICAgICAgdmFyIGRhdGEgPSB0aGlzLl9fZGF0YV9fLFxuICAgICAgICAgIGluZGV4ID0gYXNzb2NJbmRleE9mKGRhdGEsIGtleSk7XG5cbiAgICAgIHJldHVybiBpbmRleCA8IDAgPyB1bmRlZmluZWQgOiBkYXRhW2luZGV4XVsxXTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDaGVja3MgaWYgYSBsaXN0IGNhY2hlIHZhbHVlIGZvciBga2V5YCBleGlzdHMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBuYW1lIGhhc1xuICAgICAqIEBtZW1iZXJPZiBMaXN0Q2FjaGVcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSBrZXkgb2YgdGhlIGVudHJ5IHRvIGNoZWNrLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBhbiBlbnRyeSBmb3IgYGtleWAgZXhpc3RzLCBlbHNlIGBmYWxzZWAuXG4gICAgICovXG4gICAgZnVuY3Rpb24gbGlzdENhY2hlSGFzKGtleSkge1xuICAgICAgcmV0dXJuIGFzc29jSW5kZXhPZih0aGlzLl9fZGF0YV9fLCBrZXkpID4gLTE7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogU2V0cyB0aGUgbGlzdCBjYWNoZSBga2V5YCB0byBgdmFsdWVgLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAbmFtZSBzZXRcbiAgICAgKiBAbWVtYmVyT2YgTGlzdENhY2hlXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGtleSBUaGUga2V5IG9mIHRoZSB2YWx1ZSB0byBzZXQuXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gc2V0LlxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgdGhlIGxpc3QgY2FjaGUgaW5zdGFuY2UuXG4gICAgICovXG4gICAgZnVuY3Rpb24gbGlzdENhY2hlU2V0KGtleSwgdmFsdWUpIHtcbiAgICAgIHZhciBkYXRhID0gdGhpcy5fX2RhdGFfXyxcbiAgICAgICAgICBpbmRleCA9IGFzc29jSW5kZXhPZihkYXRhLCBrZXkpO1xuXG4gICAgICBpZiAoaW5kZXggPCAwKSB7XG4gICAgICAgICsrdGhpcy5zaXplO1xuICAgICAgICBkYXRhLnB1c2goW2tleSwgdmFsdWVdKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGRhdGFbaW5kZXhdWzFdID0gdmFsdWU7XG4gICAgICB9XG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICAvLyBBZGQgbWV0aG9kcyB0byBgTGlzdENhY2hlYC5cbiAgICBMaXN0Q2FjaGUucHJvdG90eXBlLmNsZWFyID0gbGlzdENhY2hlQ2xlYXI7XG4gICAgTGlzdENhY2hlLnByb3RvdHlwZVsnZGVsZXRlJ10gPSBsaXN0Q2FjaGVEZWxldGU7XG4gICAgTGlzdENhY2hlLnByb3RvdHlwZS5nZXQgPSBsaXN0Q2FjaGVHZXQ7XG4gICAgTGlzdENhY2hlLnByb3RvdHlwZS5oYXMgPSBsaXN0Q2FjaGVIYXM7XG4gICAgTGlzdENhY2hlLnByb3RvdHlwZS5zZXQgPSBsaXN0Q2FjaGVTZXQ7XG5cbiAgICAvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgbWFwIGNhY2hlIG9iamVjdCB0byBzdG9yZSBrZXktdmFsdWUgcGFpcnMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBjb25zdHJ1Y3RvclxuICAgICAqIEBwYXJhbSB7QXJyYXl9IFtlbnRyaWVzXSBUaGUga2V5LXZhbHVlIHBhaXJzIHRvIGNhY2hlLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIE1hcENhY2hlKGVudHJpZXMpIHtcbiAgICAgIHZhciBpbmRleCA9IC0xLFxuICAgICAgICAgIGxlbmd0aCA9IGVudHJpZXMgPT0gbnVsbCA/IDAgOiBlbnRyaWVzLmxlbmd0aDtcblxuICAgICAgdGhpcy5jbGVhcigpO1xuICAgICAgd2hpbGUgKCsraW5kZXggPCBsZW5ndGgpIHtcbiAgICAgICAgdmFyIGVudHJ5ID0gZW50cmllc1tpbmRleF07XG4gICAgICAgIHRoaXMuc2V0KGVudHJ5WzBdLCBlbnRyeVsxXSk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmVtb3ZlcyBhbGwga2V5LXZhbHVlIGVudHJpZXMgZnJvbSB0aGUgbWFwLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAbmFtZSBjbGVhclxuICAgICAqIEBtZW1iZXJPZiBNYXBDYWNoZVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIG1hcENhY2hlQ2xlYXIoKSB7XG4gICAgICB0aGlzLnNpemUgPSAwO1xuICAgICAgdGhpcy5fX2RhdGFfXyA9IHtcbiAgICAgICAgJ2hhc2gnOiBuZXcgSGFzaCxcbiAgICAgICAgJ21hcCc6IG5ldyAoTWFwIHx8IExpc3RDYWNoZSksXG4gICAgICAgICdzdHJpbmcnOiBuZXcgSGFzaFxuICAgICAgfTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZW1vdmVzIGBrZXlgIGFuZCBpdHMgdmFsdWUgZnJvbSB0aGUgbWFwLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAbmFtZSBkZWxldGVcbiAgICAgKiBAbWVtYmVyT2YgTWFwQ2FjaGVcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSBrZXkgb2YgdGhlIHZhbHVlIHRvIHJlbW92ZS5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgdGhlIGVudHJ5IHdhcyByZW1vdmVkLCBlbHNlIGBmYWxzZWAuXG4gICAgICovXG4gICAgZnVuY3Rpb24gbWFwQ2FjaGVEZWxldGUoa2V5KSB7XG4gICAgICB2YXIgcmVzdWx0ID0gZ2V0TWFwRGF0YSh0aGlzLCBrZXkpWydkZWxldGUnXShrZXkpO1xuICAgICAgdGhpcy5zaXplIC09IHJlc3VsdCA/IDEgOiAwO1xuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBHZXRzIHRoZSBtYXAgdmFsdWUgZm9yIGBrZXlgLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAbmFtZSBnZXRcbiAgICAgKiBAbWVtYmVyT2YgTWFwQ2FjaGVcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSBrZXkgb2YgdGhlIHZhbHVlIHRvIGdldC5cbiAgICAgKiBAcmV0dXJucyB7Kn0gUmV0dXJucyB0aGUgZW50cnkgdmFsdWUuXG4gICAgICovXG4gICAgZnVuY3Rpb24gbWFwQ2FjaGVHZXQoa2V5KSB7XG4gICAgICByZXR1cm4gZ2V0TWFwRGF0YSh0aGlzLCBrZXkpLmdldChrZXkpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENoZWNrcyBpZiBhIG1hcCB2YWx1ZSBmb3IgYGtleWAgZXhpc3RzLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAbmFtZSBoYXNcbiAgICAgKiBAbWVtYmVyT2YgTWFwQ2FjaGVcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSBrZXkgb2YgdGhlIGVudHJ5IHRvIGNoZWNrLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBhbiBlbnRyeSBmb3IgYGtleWAgZXhpc3RzLCBlbHNlIGBmYWxzZWAuXG4gICAgICovXG4gICAgZnVuY3Rpb24gbWFwQ2FjaGVIYXMoa2V5KSB7XG4gICAgICByZXR1cm4gZ2V0TWFwRGF0YSh0aGlzLCBrZXkpLmhhcyhrZXkpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFNldHMgdGhlIG1hcCBga2V5YCB0byBgdmFsdWVgLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAbmFtZSBzZXRcbiAgICAgKiBAbWVtYmVyT2YgTWFwQ2FjaGVcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSBrZXkgb2YgdGhlIHZhbHVlIHRvIHNldC5cbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBzZXQuXG4gICAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyB0aGUgbWFwIGNhY2hlIGluc3RhbmNlLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIG1hcENhY2hlU2V0KGtleSwgdmFsdWUpIHtcbiAgICAgIHZhciBkYXRhID0gZ2V0TWFwRGF0YSh0aGlzLCBrZXkpLFxuICAgICAgICAgIHNpemUgPSBkYXRhLnNpemU7XG5cbiAgICAgIGRhdGEuc2V0KGtleSwgdmFsdWUpO1xuICAgICAgdGhpcy5zaXplICs9IGRhdGEuc2l6ZSA9PSBzaXplID8gMCA6IDE7XG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICAvLyBBZGQgbWV0aG9kcyB0byBgTWFwQ2FjaGVgLlxuICAgIE1hcENhY2hlLnByb3RvdHlwZS5jbGVhciA9IG1hcENhY2hlQ2xlYXI7XG4gICAgTWFwQ2FjaGUucHJvdG90eXBlWydkZWxldGUnXSA9IG1hcENhY2hlRGVsZXRlO1xuICAgIE1hcENhY2hlLnByb3RvdHlwZS5nZXQgPSBtYXBDYWNoZUdldDtcbiAgICBNYXBDYWNoZS5wcm90b3R5cGUuaGFzID0gbWFwQ2FjaGVIYXM7XG4gICAgTWFwQ2FjaGUucHJvdG90eXBlLnNldCA9IG1hcENhY2hlU2V0O1xuXG4gICAgLyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuXG4gICAgLyoqXG4gICAgICpcbiAgICAgKiBDcmVhdGVzIGFuIGFycmF5IGNhY2hlIG9iamVjdCB0byBzdG9yZSB1bmlxdWUgdmFsdWVzLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAY29uc3RydWN0b3JcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBbdmFsdWVzXSBUaGUgdmFsdWVzIHRvIGNhY2hlLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIFNldENhY2hlKHZhbHVlcykge1xuICAgICAgdmFyIGluZGV4ID0gLTEsXG4gICAgICAgICAgbGVuZ3RoID0gdmFsdWVzID09IG51bGwgPyAwIDogdmFsdWVzLmxlbmd0aDtcblxuICAgICAgdGhpcy5fX2RhdGFfXyA9IG5ldyBNYXBDYWNoZTtcbiAgICAgIHdoaWxlICgrK2luZGV4IDwgbGVuZ3RoKSB7XG4gICAgICAgIHRoaXMuYWRkKHZhbHVlc1tpbmRleF0pO1xuICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEFkZHMgYHZhbHVlYCB0byB0aGUgYXJyYXkgY2FjaGUuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBuYW1lIGFkZFxuICAgICAqIEBtZW1iZXJPZiBTZXRDYWNoZVxuICAgICAqIEBhbGlhcyBwdXNoXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2FjaGUuXG4gICAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyB0aGUgY2FjaGUgaW5zdGFuY2UuXG4gICAgICovXG4gICAgZnVuY3Rpb24gc2V0Q2FjaGVBZGQodmFsdWUpIHtcbiAgICAgIHRoaXMuX19kYXRhX18uc2V0KHZhbHVlLCBIQVNIX1VOREVGSU5FRCk7XG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBpbiB0aGUgYXJyYXkgY2FjaGUuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBuYW1lIGhhc1xuICAgICAqIEBtZW1iZXJPZiBTZXRDYWNoZVxuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIHNlYXJjaCBmb3IuXG4gICAgICogQHJldHVybnMge251bWJlcn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBmb3VuZCwgZWxzZSBgZmFsc2VgLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHNldENhY2hlSGFzKHZhbHVlKSB7XG4gICAgICByZXR1cm4gdGhpcy5fX2RhdGFfXy5oYXModmFsdWUpO1xuICAgIH1cblxuICAgIC8vIEFkZCBtZXRob2RzIHRvIGBTZXRDYWNoZWAuXG4gICAgU2V0Q2FjaGUucHJvdG90eXBlLmFkZCA9IFNldENhY2hlLnByb3RvdHlwZS5wdXNoID0gc2V0Q2FjaGVBZGQ7XG4gICAgU2V0Q2FjaGUucHJvdG90eXBlLmhhcyA9IHNldENhY2hlSGFzO1xuXG4gICAgLyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIHN0YWNrIGNhY2hlIG9iamVjdCB0byBzdG9yZSBrZXktdmFsdWUgcGFpcnMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBjb25zdHJ1Y3RvclxuICAgICAqIEBwYXJhbSB7QXJyYXl9IFtlbnRyaWVzXSBUaGUga2V5LXZhbHVlIHBhaXJzIHRvIGNhY2hlLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIFN0YWNrKGVudHJpZXMpIHtcbiAgICAgIHZhciBkYXRhID0gdGhpcy5fX2RhdGFfXyA9IG5ldyBMaXN0Q2FjaGUoZW50cmllcyk7XG4gICAgICB0aGlzLnNpemUgPSBkYXRhLnNpemU7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmVtb3ZlcyBhbGwga2V5LXZhbHVlIGVudHJpZXMgZnJvbSB0aGUgc3RhY2suXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBuYW1lIGNsZWFyXG4gICAgICogQG1lbWJlck9mIFN0YWNrXG4gICAgICovXG4gICAgZnVuY3Rpb24gc3RhY2tDbGVhcigpIHtcbiAgICAgIHRoaXMuX19kYXRhX18gPSBuZXcgTGlzdENhY2hlO1xuICAgICAgdGhpcy5zaXplID0gMDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZW1vdmVzIGBrZXlgIGFuZCBpdHMgdmFsdWUgZnJvbSB0aGUgc3RhY2suXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBuYW1lIGRlbGV0ZVxuICAgICAqIEBtZW1iZXJPZiBTdGFja1xuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgVGhlIGtleSBvZiB0aGUgdmFsdWUgdG8gcmVtb3ZlLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiB0aGUgZW50cnkgd2FzIHJlbW92ZWQsIGVsc2UgYGZhbHNlYC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBzdGFja0RlbGV0ZShrZXkpIHtcbiAgICAgIHZhciBkYXRhID0gdGhpcy5fX2RhdGFfXyxcbiAgICAgICAgICByZXN1bHQgPSBkYXRhWydkZWxldGUnXShrZXkpO1xuXG4gICAgICB0aGlzLnNpemUgPSBkYXRhLnNpemU7XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEdldHMgdGhlIHN0YWNrIHZhbHVlIGZvciBga2V5YC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQG5hbWUgZ2V0XG4gICAgICogQG1lbWJlck9mIFN0YWNrXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGtleSBUaGUga2V5IG9mIHRoZSB2YWx1ZSB0byBnZXQuXG4gICAgICogQHJldHVybnMgeyp9IFJldHVybnMgdGhlIGVudHJ5IHZhbHVlLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHN0YWNrR2V0KGtleSkge1xuICAgICAgcmV0dXJuIHRoaXMuX19kYXRhX18uZ2V0KGtleSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2hlY2tzIGlmIGEgc3RhY2sgdmFsdWUgZm9yIGBrZXlgIGV4aXN0cy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQG5hbWUgaGFzXG4gICAgICogQG1lbWJlck9mIFN0YWNrXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGtleSBUaGUga2V5IG9mIHRoZSBlbnRyeSB0byBjaGVjay5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYW4gZW50cnkgZm9yIGBrZXlgIGV4aXN0cywgZWxzZSBgZmFsc2VgLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHN0YWNrSGFzKGtleSkge1xuICAgICAgcmV0dXJuIHRoaXMuX19kYXRhX18uaGFzKGtleSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogU2V0cyB0aGUgc3RhY2sgYGtleWAgdG8gYHZhbHVlYC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQG5hbWUgc2V0XG4gICAgICogQG1lbWJlck9mIFN0YWNrXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGtleSBUaGUga2V5IG9mIHRoZSB2YWx1ZSB0byBzZXQuXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gc2V0LlxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgdGhlIHN0YWNrIGNhY2hlIGluc3RhbmNlLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHN0YWNrU2V0KGtleSwgdmFsdWUpIHtcbiAgICAgIHZhciBkYXRhID0gdGhpcy5fX2RhdGFfXztcbiAgICAgIGlmIChkYXRhIGluc3RhbmNlb2YgTGlzdENhY2hlKSB7XG4gICAgICAgIHZhciBwYWlycyA9IGRhdGEuX19kYXRhX187XG4gICAgICAgIGlmICghTWFwIHx8IChwYWlycy5sZW5ndGggPCBMQVJHRV9BUlJBWV9TSVpFIC0gMSkpIHtcbiAgICAgICAgICBwYWlycy5wdXNoKFtrZXksIHZhbHVlXSk7XG4gICAgICAgICAgdGhpcy5zaXplID0gKytkYXRhLnNpemU7XG4gICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgIH1cbiAgICAgICAgZGF0YSA9IHRoaXMuX19kYXRhX18gPSBuZXcgTWFwQ2FjaGUocGFpcnMpO1xuICAgICAgfVxuICAgICAgZGF0YS5zZXQoa2V5LCB2YWx1ZSk7XG4gICAgICB0aGlzLnNpemUgPSBkYXRhLnNpemU7XG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICAvLyBBZGQgbWV0aG9kcyB0byBgU3RhY2tgLlxuICAgIFN0YWNrLnByb3RvdHlwZS5jbGVhciA9IHN0YWNrQ2xlYXI7XG4gICAgU3RhY2sucHJvdG90eXBlWydkZWxldGUnXSA9IHN0YWNrRGVsZXRlO1xuICAgIFN0YWNrLnByb3RvdHlwZS5nZXQgPSBzdGFja0dldDtcbiAgICBTdGFjay5wcm90b3R5cGUuaGFzID0gc3RhY2tIYXM7XG4gICAgU3RhY2sucHJvdG90eXBlLnNldCA9IHN0YWNrU2V0O1xuXG4gICAgLyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhbiBhcnJheSBvZiB0aGUgZW51bWVyYWJsZSBwcm9wZXJ0eSBuYW1lcyBvZiB0aGUgYXJyYXktbGlrZSBgdmFsdWVgLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBxdWVyeS5cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IGluaGVyaXRlZCBTcGVjaWZ5IHJldHVybmluZyBpbmhlcml0ZWQgcHJvcGVydHkgbmFtZXMuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBhcnJheSBvZiBwcm9wZXJ0eSBuYW1lcy5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBhcnJheUxpa2VLZXlzKHZhbHVlLCBpbmhlcml0ZWQpIHtcbiAgICAgIHZhciBpc0FyciA9IGlzQXJyYXkodmFsdWUpLFxuICAgICAgICAgIGlzQXJnID0gIWlzQXJyICYmIGlzQXJndW1lbnRzKHZhbHVlKSxcbiAgICAgICAgICBpc0J1ZmYgPSAhaXNBcnIgJiYgIWlzQXJnICYmIGlzQnVmZmVyKHZhbHVlKSxcbiAgICAgICAgICBpc1R5cGUgPSAhaXNBcnIgJiYgIWlzQXJnICYmICFpc0J1ZmYgJiYgaXNUeXBlZEFycmF5KHZhbHVlKSxcbiAgICAgICAgICBza2lwSW5kZXhlcyA9IGlzQXJyIHx8IGlzQXJnIHx8IGlzQnVmZiB8fCBpc1R5cGUsXG4gICAgICAgICAgcmVzdWx0ID0gc2tpcEluZGV4ZXMgPyBiYXNlVGltZXModmFsdWUubGVuZ3RoLCBTdHJpbmcpIDogW10sXG4gICAgICAgICAgbGVuZ3RoID0gcmVzdWx0Lmxlbmd0aDtcblxuICAgICAgZm9yICh2YXIga2V5IGluIHZhbHVlKSB7XG4gICAgICAgIGlmICgoaW5oZXJpdGVkIHx8IGhhc093blByb3BlcnR5LmNhbGwodmFsdWUsIGtleSkpICYmXG4gICAgICAgICAgICAhKHNraXBJbmRleGVzICYmIChcbiAgICAgICAgICAgICAgIC8vIFNhZmFyaSA5IGhhcyBlbnVtZXJhYmxlIGBhcmd1bWVudHMubGVuZ3RoYCBpbiBzdHJpY3QgbW9kZS5cbiAgICAgICAgICAgICAgIGtleSA9PSAnbGVuZ3RoJyB8fFxuICAgICAgICAgICAgICAgLy8gTm9kZS5qcyAwLjEwIGhhcyBlbnVtZXJhYmxlIG5vbi1pbmRleCBwcm9wZXJ0aWVzIG9uIGJ1ZmZlcnMuXG4gICAgICAgICAgICAgICAoaXNCdWZmICYmIChrZXkgPT0gJ29mZnNldCcgfHwga2V5ID09ICdwYXJlbnQnKSkgfHxcbiAgICAgICAgICAgICAgIC8vIFBoYW50b21KUyAyIGhhcyBlbnVtZXJhYmxlIG5vbi1pbmRleCBwcm9wZXJ0aWVzIG9uIHR5cGVkIGFycmF5cy5cbiAgICAgICAgICAgICAgIChpc1R5cGUgJiYgKGtleSA9PSAnYnVmZmVyJyB8fCBrZXkgPT0gJ2J5dGVMZW5ndGgnIHx8IGtleSA9PSAnYnl0ZU9mZnNldCcpKSB8fFxuICAgICAgICAgICAgICAgLy8gU2tpcCBpbmRleCBwcm9wZXJ0aWVzLlxuICAgICAgICAgICAgICAgaXNJbmRleChrZXksIGxlbmd0aClcbiAgICAgICAgICAgICkpKSB7XG4gICAgICAgICAgcmVzdWx0LnB1c2goa2V5KTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBBIHNwZWNpYWxpemVkIHZlcnNpb24gb2YgYF8uc2FtcGxlYCBmb3IgYXJyYXlzLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gc2FtcGxlLlxuICAgICAqIEByZXR1cm5zIHsqfSBSZXR1cm5zIHRoZSByYW5kb20gZWxlbWVudC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBhcnJheVNhbXBsZShhcnJheSkge1xuICAgICAgdmFyIGxlbmd0aCA9IGFycmF5Lmxlbmd0aDtcbiAgICAgIHJldHVybiBsZW5ndGggPyBhcnJheVtiYXNlUmFuZG9tKDAsIGxlbmd0aCAtIDEpXSA6IHVuZGVmaW5lZDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBBIHNwZWNpYWxpemVkIHZlcnNpb24gb2YgYF8uc2FtcGxlU2l6ZWAgZm9yIGFycmF5cy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIHNhbXBsZS5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gbiBUaGUgbnVtYmVyIG9mIGVsZW1lbnRzIHRvIHNhbXBsZS5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIHJhbmRvbSBlbGVtZW50cy5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBhcnJheVNhbXBsZVNpemUoYXJyYXksIG4pIHtcbiAgICAgIHJldHVybiBzaHVmZmxlU2VsZihjb3B5QXJyYXkoYXJyYXkpLCBiYXNlQ2xhbXAobiwgMCwgYXJyYXkubGVuZ3RoKSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQSBzcGVjaWFsaXplZCB2ZXJzaW9uIG9mIGBfLnNodWZmbGVgIGZvciBhcnJheXMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBzaHVmZmxlLlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgbmV3IHNodWZmbGVkIGFycmF5LlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGFycmF5U2h1ZmZsZShhcnJheSkge1xuICAgICAgcmV0dXJuIHNodWZmbGVTZWxmKGNvcHlBcnJheShhcnJheSkpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoaXMgZnVuY3Rpb24gaXMgbGlrZSBgYXNzaWduVmFsdWVgIGV4Y2VwdCB0aGF0IGl0IGRvZXNuJ3QgYXNzaWduXG4gICAgICogYHVuZGVmaW5lZGAgdmFsdWVzLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gbW9kaWZ5LlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgVGhlIGtleSBvZiB0aGUgcHJvcGVydHkgdG8gYXNzaWduLlxuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGFzc2lnbi5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBhc3NpZ25NZXJnZVZhbHVlKG9iamVjdCwga2V5LCB2YWx1ZSkge1xuICAgICAgaWYgKCh2YWx1ZSAhPT0gdW5kZWZpbmVkICYmICFlcShvYmplY3Rba2V5XSwgdmFsdWUpKSB8fFxuICAgICAgICAgICh2YWx1ZSA9PT0gdW5kZWZpbmVkICYmICEoa2V5IGluIG9iamVjdCkpKSB7XG4gICAgICAgIGJhc2VBc3NpZ25WYWx1ZShvYmplY3QsIGtleSwgdmFsdWUpO1xuICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEFzc2lnbnMgYHZhbHVlYCB0byBga2V5YCBvZiBgb2JqZWN0YCBpZiB0aGUgZXhpc3RpbmcgdmFsdWUgaXMgbm90IGVxdWl2YWxlbnRcbiAgICAgKiB1c2luZyBbYFNhbWVWYWx1ZVplcm9gXShodHRwOi8vZWNtYS1pbnRlcm5hdGlvbmFsLm9yZy9lY21hLTI2Mi83LjAvI3NlYy1zYW1ldmFsdWV6ZXJvKVxuICAgICAqIGZvciBlcXVhbGl0eSBjb21wYXJpc29ucy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIG1vZGlmeS5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSBrZXkgb2YgdGhlIHByb3BlcnR5IHRvIGFzc2lnbi5cbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBhc3NpZ24uXG4gICAgICovXG4gICAgZnVuY3Rpb24gYXNzaWduVmFsdWUob2JqZWN0LCBrZXksIHZhbHVlKSB7XG4gICAgICB2YXIgb2JqVmFsdWUgPSBvYmplY3Rba2V5XTtcbiAgICAgIGlmICghKGhhc093blByb3BlcnR5LmNhbGwob2JqZWN0LCBrZXkpICYmIGVxKG9ialZhbHVlLCB2YWx1ZSkpIHx8XG4gICAgICAgICAgKHZhbHVlID09PSB1bmRlZmluZWQgJiYgIShrZXkgaW4gb2JqZWN0KSkpIHtcbiAgICAgICAgYmFzZUFzc2lnblZhbHVlKG9iamVjdCwga2V5LCB2YWx1ZSk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogR2V0cyB0aGUgaW5kZXggYXQgd2hpY2ggdGhlIGBrZXlgIGlzIGZvdW5kIGluIGBhcnJheWAgb2Yga2V5LXZhbHVlIHBhaXJzLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gaW5zcGVjdC5cbiAgICAgKiBAcGFyYW0geyp9IGtleSBUaGUga2V5IHRvIHNlYXJjaCBmb3IuXG4gICAgICogQHJldHVybnMge251bWJlcn0gUmV0dXJucyB0aGUgaW5kZXggb2YgdGhlIG1hdGNoZWQgdmFsdWUsIGVsc2UgYC0xYC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBhc3NvY0luZGV4T2YoYXJyYXksIGtleSkge1xuICAgICAgdmFyIGxlbmd0aCA9IGFycmF5Lmxlbmd0aDtcbiAgICAgIHdoaWxlIChsZW5ndGgtLSkge1xuICAgICAgICBpZiAoZXEoYXJyYXlbbGVuZ3RoXVswXSwga2V5KSkge1xuICAgICAgICAgIHJldHVybiBsZW5ndGg7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiAtMTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBBZ2dyZWdhdGVzIGVsZW1lbnRzIG9mIGBjb2xsZWN0aW9uYCBvbiBgYWNjdW11bGF0b3JgIHdpdGgga2V5cyB0cmFuc2Zvcm1lZFxuICAgICAqIGJ5IGBpdGVyYXRlZWAgYW5kIHZhbHVlcyBzZXQgYnkgYHNldHRlcmAuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7QXJyYXl8T2JqZWN0fSBjb2xsZWN0aW9uIFRoZSBjb2xsZWN0aW9uIHRvIGl0ZXJhdGUgb3Zlci5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBzZXR0ZXIgVGhlIGZ1bmN0aW9uIHRvIHNldCBgYWNjdW11bGF0b3JgIHZhbHVlcy5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBpdGVyYXRlZSBUaGUgaXRlcmF0ZWUgdG8gdHJhbnNmb3JtIGtleXMuXG4gICAgICogQHBhcmFtIHtPYmplY3R9IGFjY3VtdWxhdG9yIFRoZSBpbml0aWFsIGFnZ3JlZ2F0ZWQgb2JqZWN0LlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyBgYWNjdW11bGF0b3JgLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGJhc2VBZ2dyZWdhdG9yKGNvbGxlY3Rpb24sIHNldHRlciwgaXRlcmF0ZWUsIGFjY3VtdWxhdG9yKSB7XG4gICAgICBiYXNlRWFjaChjb2xsZWN0aW9uLCBmdW5jdGlvbih2YWx1ZSwga2V5LCBjb2xsZWN0aW9uKSB7XG4gICAgICAgIHNldHRlcihhY2N1bXVsYXRvciwgdmFsdWUsIGl0ZXJhdGVlKHZhbHVlKSwgY29sbGVjdGlvbik7XG4gICAgICB9KTtcbiAgICAgIHJldHVybiBhY2N1bXVsYXRvcjtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5hc3NpZ25gIHdpdGhvdXQgc3VwcG9ydCBmb3IgbXVsdGlwbGUgc291cmNlc1xuICAgICAqIG9yIGBjdXN0b21pemVyYCBmdW5jdGlvbnMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIGRlc3RpbmF0aW9uIG9iamVjdC5cbiAgICAgKiBAcGFyYW0ge09iamVjdH0gc291cmNlIFRoZSBzb3VyY2Ugb2JqZWN0LlxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgYG9iamVjdGAuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZUFzc2lnbihvYmplY3QsIHNvdXJjZSkge1xuICAgICAgcmV0dXJuIG9iamVjdCAmJiBjb3B5T2JqZWN0KHNvdXJjZSwga2V5cyhzb3VyY2UpLCBvYmplY3QpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLmFzc2lnbkluYCB3aXRob3V0IHN1cHBvcnQgZm9yIG11bHRpcGxlIHNvdXJjZXNcbiAgICAgKiBvciBgY3VzdG9taXplcmAgZnVuY3Rpb25zLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBkZXN0aW5hdGlvbiBvYmplY3QuXG4gICAgICogQHBhcmFtIHtPYmplY3R9IHNvdXJjZSBUaGUgc291cmNlIG9iamVjdC5cbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIGBvYmplY3RgLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGJhc2VBc3NpZ25JbihvYmplY3QsIHNvdXJjZSkge1xuICAgICAgcmV0dXJuIG9iamVjdCAmJiBjb3B5T2JqZWN0KHNvdXJjZSwga2V5c0luKHNvdXJjZSksIG9iamVjdCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYGFzc2lnblZhbHVlYCBhbmQgYGFzc2lnbk1lcmdlVmFsdWVgIHdpdGhvdXRcbiAgICAgKiB2YWx1ZSBjaGVja3MuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBtb2RpZnkuXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGtleSBUaGUga2V5IG9mIHRoZSBwcm9wZXJ0eSB0byBhc3NpZ24uXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gYXNzaWduLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGJhc2VBc3NpZ25WYWx1ZShvYmplY3QsIGtleSwgdmFsdWUpIHtcbiAgICAgIGlmIChrZXkgPT0gJ19fcHJvdG9fXycgJiYgZGVmaW5lUHJvcGVydHkpIHtcbiAgICAgICAgZGVmaW5lUHJvcGVydHkob2JqZWN0LCBrZXksIHtcbiAgICAgICAgICAnY29uZmlndXJhYmxlJzogdHJ1ZSxcbiAgICAgICAgICAnZW51bWVyYWJsZSc6IHRydWUsXG4gICAgICAgICAgJ3ZhbHVlJzogdmFsdWUsXG4gICAgICAgICAgJ3dyaXRhYmxlJzogdHJ1ZVxuICAgICAgICB9KTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIG9iamVjdFtrZXldID0gdmFsdWU7XG4gICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8uYXRgIHdpdGhvdXQgc3VwcG9ydCBmb3IgaW5kaXZpZHVhbCBwYXRocy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIGl0ZXJhdGUgb3Zlci5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ1tdfSBwYXRocyBUaGUgcHJvcGVydHkgcGF0aHMgdG8gcGljay5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIHBpY2tlZCBlbGVtZW50cy5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlQXQob2JqZWN0LCBwYXRocykge1xuICAgICAgdmFyIGluZGV4ID0gLTEsXG4gICAgICAgICAgbGVuZ3RoID0gcGF0aHMubGVuZ3RoLFxuICAgICAgICAgIHJlc3VsdCA9IEFycmF5KGxlbmd0aCksXG4gICAgICAgICAgc2tpcCA9IG9iamVjdCA9PSBudWxsO1xuXG4gICAgICB3aGlsZSAoKytpbmRleCA8IGxlbmd0aCkge1xuICAgICAgICByZXN1bHRbaW5kZXhdID0gc2tpcCA/IHVuZGVmaW5lZCA6IGdldChvYmplY3QsIHBhdGhzW2luZGV4XSk7XG4gICAgICB9XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLmNsYW1wYCB3aGljaCBkb2Vzbid0IGNvZXJjZSBhcmd1bWVudHMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBudW1iZXIgVGhlIG51bWJlciB0byBjbGFtcC5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW2xvd2VyXSBUaGUgbG93ZXIgYm91bmQuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHVwcGVyIFRoZSB1cHBlciBib3VuZC5cbiAgICAgKiBAcmV0dXJucyB7bnVtYmVyfSBSZXR1cm5zIHRoZSBjbGFtcGVkIG51bWJlci5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlQ2xhbXAobnVtYmVyLCBsb3dlciwgdXBwZXIpIHtcbiAgICAgIGlmIChudW1iZXIgPT09IG51bWJlcikge1xuICAgICAgICBpZiAodXBwZXIgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgIG51bWJlciA9IG51bWJlciA8PSB1cHBlciA/IG51bWJlciA6IHVwcGVyO1xuICAgICAgICB9XG4gICAgICAgIGlmIChsb3dlciAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgbnVtYmVyID0gbnVtYmVyID49IGxvd2VyID8gbnVtYmVyIDogbG93ZXI7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiBudW1iZXI7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8uY2xvbmVgIGFuZCBgXy5jbG9uZURlZXBgIHdoaWNoIHRyYWNrc1xuICAgICAqIHRyYXZlcnNlZCBvYmplY3RzLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjbG9uZS5cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IGJpdG1hc2sgVGhlIGJpdG1hc2sgZmxhZ3MuXG4gICAgICogIDEgLSBEZWVwIGNsb25lXG4gICAgICogIDIgLSBGbGF0dGVuIGluaGVyaXRlZCBwcm9wZXJ0aWVzXG4gICAgICogIDQgLSBDbG9uZSBzeW1ib2xzXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2N1c3RvbWl6ZXJdIFRoZSBmdW5jdGlvbiB0byBjdXN0b21pemUgY2xvbmluZy5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW2tleV0gVGhlIGtleSBvZiBgdmFsdWVgLlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBbb2JqZWN0XSBUaGUgcGFyZW50IG9iamVjdCBvZiBgdmFsdWVgLlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBbc3RhY2tdIFRyYWNrcyB0cmF2ZXJzZWQgb2JqZWN0cyBhbmQgdGhlaXIgY2xvbmUgY291bnRlcnBhcnRzLlxuICAgICAqIEByZXR1cm5zIHsqfSBSZXR1cm5zIHRoZSBjbG9uZWQgdmFsdWUuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZUNsb25lKHZhbHVlLCBiaXRtYXNrLCBjdXN0b21pemVyLCBrZXksIG9iamVjdCwgc3RhY2spIHtcbiAgICAgIHZhciByZXN1bHQsXG4gICAgICAgICAgaXNEZWVwID0gYml0bWFzayAmIENMT05FX0RFRVBfRkxBRyxcbiAgICAgICAgICBpc0ZsYXQgPSBiaXRtYXNrICYgQ0xPTkVfRkxBVF9GTEFHLFxuICAgICAgICAgIGlzRnVsbCA9IGJpdG1hc2sgJiBDTE9ORV9TWU1CT0xTX0ZMQUc7XG5cbiAgICAgIGlmIChjdXN0b21pemVyKSB7XG4gICAgICAgIHJlc3VsdCA9IG9iamVjdCA/IGN1c3RvbWl6ZXIodmFsdWUsIGtleSwgb2JqZWN0LCBzdGFjaykgOiBjdXN0b21pemVyKHZhbHVlKTtcbiAgICAgIH1cbiAgICAgIGlmIChyZXN1bHQgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgfVxuICAgICAgaWYgKCFpc09iamVjdCh2YWx1ZSkpIHtcbiAgICAgICAgcmV0dXJuIHZhbHVlO1xuICAgICAgfVxuICAgICAgdmFyIGlzQXJyID0gaXNBcnJheSh2YWx1ZSk7XG4gICAgICBpZiAoaXNBcnIpIHtcbiAgICAgICAgcmVzdWx0ID0gaW5pdENsb25lQXJyYXkodmFsdWUpO1xuICAgICAgICBpZiAoIWlzRGVlcCkge1xuICAgICAgICAgIHJldHVybiBjb3B5QXJyYXkodmFsdWUsIHJlc3VsdCk7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHZhciB0YWcgPSBnZXRUYWcodmFsdWUpLFxuICAgICAgICAgICAgaXNGdW5jID0gdGFnID09IGZ1bmNUYWcgfHwgdGFnID09IGdlblRhZztcblxuICAgICAgICBpZiAoaXNCdWZmZXIodmFsdWUpKSB7XG4gICAgICAgICAgcmV0dXJuIGNsb25lQnVmZmVyKHZhbHVlLCBpc0RlZXApO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0YWcgPT0gb2JqZWN0VGFnIHx8IHRhZyA9PSBhcmdzVGFnIHx8IChpc0Z1bmMgJiYgIW9iamVjdCkpIHtcbiAgICAgICAgICByZXN1bHQgPSAoaXNGbGF0IHx8IGlzRnVuYykgPyB7fSA6IGluaXRDbG9uZU9iamVjdCh2YWx1ZSk7XG4gICAgICAgICAgaWYgKCFpc0RlZXApIHtcbiAgICAgICAgICAgIHJldHVybiBpc0ZsYXRcbiAgICAgICAgICAgICAgPyBjb3B5U3ltYm9sc0luKHZhbHVlLCBiYXNlQXNzaWduSW4ocmVzdWx0LCB2YWx1ZSkpXG4gICAgICAgICAgICAgIDogY29weVN5bWJvbHModmFsdWUsIGJhc2VBc3NpZ24ocmVzdWx0LCB2YWx1ZSkpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBpZiAoIWNsb25lYWJsZVRhZ3NbdGFnXSkge1xuICAgICAgICAgICAgcmV0dXJuIG9iamVjdCA/IHZhbHVlIDoge307XG4gICAgICAgICAgfVxuICAgICAgICAgIHJlc3VsdCA9IGluaXRDbG9uZUJ5VGFnKHZhbHVlLCB0YWcsIGlzRGVlcCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIC8vIENoZWNrIGZvciBjaXJjdWxhciByZWZlcmVuY2VzIGFuZCByZXR1cm4gaXRzIGNvcnJlc3BvbmRpbmcgY2xvbmUuXG4gICAgICBzdGFjayB8fCAoc3RhY2sgPSBuZXcgU3RhY2spO1xuICAgICAgdmFyIHN0YWNrZWQgPSBzdGFjay5nZXQodmFsdWUpO1xuICAgICAgaWYgKHN0YWNrZWQpIHtcbiAgICAgICAgcmV0dXJuIHN0YWNrZWQ7XG4gICAgICB9XG4gICAgICBzdGFjay5zZXQodmFsdWUsIHJlc3VsdCk7XG5cbiAgICAgIGlmIChpc1NldCh2YWx1ZSkpIHtcbiAgICAgICAgdmFsdWUuZm9yRWFjaChmdW5jdGlvbihzdWJWYWx1ZSkge1xuICAgICAgICAgIHJlc3VsdC5hZGQoYmFzZUNsb25lKHN1YlZhbHVlLCBiaXRtYXNrLCBjdXN0b21pemVyLCBzdWJWYWx1ZSwgdmFsdWUsIHN0YWNrKSk7XG4gICAgICAgIH0pO1xuICAgICAgfSBlbHNlIGlmIChpc01hcCh2YWx1ZSkpIHtcbiAgICAgICAgdmFsdWUuZm9yRWFjaChmdW5jdGlvbihzdWJWYWx1ZSwga2V5KSB7XG4gICAgICAgICAgcmVzdWx0LnNldChrZXksIGJhc2VDbG9uZShzdWJWYWx1ZSwgYml0bWFzaywgY3VzdG9taXplciwga2V5LCB2YWx1ZSwgc3RhY2spKTtcbiAgICAgICAgfSk7XG4gICAgICB9XG5cbiAgICAgIHZhciBrZXlzRnVuYyA9IGlzRnVsbFxuICAgICAgICA/IChpc0ZsYXQgPyBnZXRBbGxLZXlzSW4gOiBnZXRBbGxLZXlzKVxuICAgICAgICA6IChpc0ZsYXQgPyBrZXlzSW4gOiBrZXlzKTtcblxuICAgICAgdmFyIHByb3BzID0gaXNBcnIgPyB1bmRlZmluZWQgOiBrZXlzRnVuYyh2YWx1ZSk7XG4gICAgICBhcnJheUVhY2gocHJvcHMgfHwgdmFsdWUsIGZ1bmN0aW9uKHN1YlZhbHVlLCBrZXkpIHtcbiAgICAgICAgaWYgKHByb3BzKSB7XG4gICAgICAgICAga2V5ID0gc3ViVmFsdWU7XG4gICAgICAgICAgc3ViVmFsdWUgPSB2YWx1ZVtrZXldO1xuICAgICAgICB9XG4gICAgICAgIC8vIFJlY3Vyc2l2ZWx5IHBvcHVsYXRlIGNsb25lIChzdXNjZXB0aWJsZSB0byBjYWxsIHN0YWNrIGxpbWl0cykuXG4gICAgICAgIGFzc2lnblZhbHVlKHJlc3VsdCwga2V5LCBiYXNlQ2xvbmUoc3ViVmFsdWUsIGJpdG1hc2ssIGN1c3RvbWl6ZXIsIGtleSwgdmFsdWUsIHN0YWNrKSk7XG4gICAgICB9KTtcbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8uY29uZm9ybXNgIHdoaWNoIGRvZXNuJ3QgY2xvbmUgYHNvdXJjZWAuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBzb3VyY2UgVGhlIG9iamVjdCBvZiBwcm9wZXJ0eSBwcmVkaWNhdGVzIHRvIGNvbmZvcm0gdG8uXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgc3BlYyBmdW5jdGlvbi5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlQ29uZm9ybXMoc291cmNlKSB7XG4gICAgICB2YXIgcHJvcHMgPSBrZXlzKHNvdXJjZSk7XG4gICAgICByZXR1cm4gZnVuY3Rpb24ob2JqZWN0KSB7XG4gICAgICAgIHJldHVybiBiYXNlQ29uZm9ybXNUbyhvYmplY3QsIHNvdXJjZSwgcHJvcHMpO1xuICAgICAgfTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5jb25mb3Jtc1RvYCB3aGljaCBhY2NlcHRzIGBwcm9wc2AgdG8gY2hlY2suXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBpbnNwZWN0LlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBzb3VyY2UgVGhlIG9iamVjdCBvZiBwcm9wZXJ0eSBwcmVkaWNhdGVzIHRvIGNvbmZvcm0gdG8uXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGBvYmplY3RgIGNvbmZvcm1zLCBlbHNlIGBmYWxzZWAuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZUNvbmZvcm1zVG8ob2JqZWN0LCBzb3VyY2UsIHByb3BzKSB7XG4gICAgICB2YXIgbGVuZ3RoID0gcHJvcHMubGVuZ3RoO1xuICAgICAgaWYgKG9iamVjdCA9PSBudWxsKSB7XG4gICAgICAgIHJldHVybiAhbGVuZ3RoO1xuICAgICAgfVxuICAgICAgb2JqZWN0ID0gT2JqZWN0KG9iamVjdCk7XG4gICAgICB3aGlsZSAobGVuZ3RoLS0pIHtcbiAgICAgICAgdmFyIGtleSA9IHByb3BzW2xlbmd0aF0sXG4gICAgICAgICAgICBwcmVkaWNhdGUgPSBzb3VyY2Vba2V5XSxcbiAgICAgICAgICAgIHZhbHVlID0gb2JqZWN0W2tleV07XG5cbiAgICAgICAgaWYgKCh2YWx1ZSA9PT0gdW5kZWZpbmVkICYmICEoa2V5IGluIG9iamVjdCkpIHx8ICFwcmVkaWNhdGUodmFsdWUpKSB7XG4gICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5kZWxheWAgYW5kIGBfLmRlZmVyYCB3aGljaCBhY2NlcHRzIGBhcmdzYFxuICAgICAqIHRvIHByb3ZpZGUgdG8gYGZ1bmNgLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBmdW5jIFRoZSBmdW5jdGlvbiB0byBkZWxheS5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gd2FpdCBUaGUgbnVtYmVyIG9mIG1pbGxpc2Vjb25kcyB0byBkZWxheSBpbnZvY2F0aW9uLlxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFyZ3MgVGhlIGFyZ3VtZW50cyB0byBwcm92aWRlIHRvIGBmdW5jYC5cbiAgICAgKiBAcmV0dXJucyB7bnVtYmVyfE9iamVjdH0gUmV0dXJucyB0aGUgdGltZXIgaWQgb3IgdGltZW91dCBvYmplY3QuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZURlbGF5KGZ1bmMsIHdhaXQsIGFyZ3MpIHtcbiAgICAgIGlmICh0eXBlb2YgZnVuYyAhPSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoRlVOQ19FUlJPUl9URVhUKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkgeyBmdW5jLmFwcGx5KHVuZGVmaW5lZCwgYXJncyk7IH0sIHdhaXQpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIG1ldGhvZHMgbGlrZSBgXy5kaWZmZXJlbmNlYCB3aXRob3V0IHN1cHBvcnRcbiAgICAgKiBmb3IgZXhjbHVkaW5nIG11bHRpcGxlIGFycmF5cyBvciBpdGVyYXRlZSBzaG9ydGhhbmRzLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gaW5zcGVjdC5cbiAgICAgKiBAcGFyYW0ge0FycmF5fSB2YWx1ZXMgVGhlIHZhbHVlcyB0byBleGNsdWRlLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtpdGVyYXRlZV0gVGhlIGl0ZXJhdGVlIGludm9rZWQgcGVyIGVsZW1lbnQuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2NvbXBhcmF0b3JdIFRoZSBjb21wYXJhdG9yIGludm9rZWQgcGVyIGVsZW1lbnQuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBuZXcgYXJyYXkgb2YgZmlsdGVyZWQgdmFsdWVzLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGJhc2VEaWZmZXJlbmNlKGFycmF5LCB2YWx1ZXMsIGl0ZXJhdGVlLCBjb21wYXJhdG9yKSB7XG4gICAgICB2YXIgaW5kZXggPSAtMSxcbiAgICAgICAgICBpbmNsdWRlcyA9IGFycmF5SW5jbHVkZXMsXG4gICAgICAgICAgaXNDb21tb24gPSB0cnVlLFxuICAgICAgICAgIGxlbmd0aCA9IGFycmF5Lmxlbmd0aCxcbiAgICAgICAgICByZXN1bHQgPSBbXSxcbiAgICAgICAgICB2YWx1ZXNMZW5ndGggPSB2YWx1ZXMubGVuZ3RoO1xuXG4gICAgICBpZiAoIWxlbmd0aCkge1xuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgfVxuICAgICAgaWYgKGl0ZXJhdGVlKSB7XG4gICAgICAgIHZhbHVlcyA9IGFycmF5TWFwKHZhbHVlcywgYmFzZVVuYXJ5KGl0ZXJhdGVlKSk7XG4gICAgICB9XG4gICAgICBpZiAoY29tcGFyYXRvcikge1xuICAgICAgICBpbmNsdWRlcyA9IGFycmF5SW5jbHVkZXNXaXRoO1xuICAgICAgICBpc0NvbW1vbiA9IGZhbHNlO1xuICAgICAgfVxuICAgICAgZWxzZSBpZiAodmFsdWVzLmxlbmd0aCA+PSBMQVJHRV9BUlJBWV9TSVpFKSB7XG4gICAgICAgIGluY2x1ZGVzID0gY2FjaGVIYXM7XG4gICAgICAgIGlzQ29tbW9uID0gZmFsc2U7XG4gICAgICAgIHZhbHVlcyA9IG5ldyBTZXRDYWNoZSh2YWx1ZXMpO1xuICAgICAgfVxuICAgICAgb3V0ZXI6XG4gICAgICB3aGlsZSAoKytpbmRleCA8IGxlbmd0aCkge1xuICAgICAgICB2YXIgdmFsdWUgPSBhcnJheVtpbmRleF0sXG4gICAgICAgICAgICBjb21wdXRlZCA9IGl0ZXJhdGVlID09IG51bGwgPyB2YWx1ZSA6IGl0ZXJhdGVlKHZhbHVlKTtcblxuICAgICAgICB2YWx1ZSA9IChjb21wYXJhdG9yIHx8IHZhbHVlICE9PSAwKSA/IHZhbHVlIDogMDtcbiAgICAgICAgaWYgKGlzQ29tbW9uICYmIGNvbXB1dGVkID09PSBjb21wdXRlZCkge1xuICAgICAgICAgIHZhciB2YWx1ZXNJbmRleCA9IHZhbHVlc0xlbmd0aDtcbiAgICAgICAgICB3aGlsZSAodmFsdWVzSW5kZXgtLSkge1xuICAgICAgICAgICAgaWYgKHZhbHVlc1t2YWx1ZXNJbmRleF0gPT09IGNvbXB1dGVkKSB7XG4gICAgICAgICAgICAgIGNvbnRpbnVlIG91dGVyO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgICByZXN1bHQucHVzaCh2YWx1ZSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoIWluY2x1ZGVzKHZhbHVlcywgY29tcHV0ZWQsIGNvbXBhcmF0b3IpKSB7XG4gICAgICAgICAgcmVzdWx0LnB1c2godmFsdWUpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLmZvckVhY2hgIHdpdGhvdXQgc3VwcG9ydCBmb3IgaXRlcmF0ZWUgc2hvcnRoYW5kcy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtBcnJheXxPYmplY3R9IGNvbGxlY3Rpb24gVGhlIGNvbGxlY3Rpb24gdG8gaXRlcmF0ZSBvdmVyLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGl0ZXJhdGVlIFRoZSBmdW5jdGlvbiBpbnZva2VkIHBlciBpdGVyYXRpb24uXG4gICAgICogQHJldHVybnMge0FycmF5fE9iamVjdH0gUmV0dXJucyBgY29sbGVjdGlvbmAuXG4gICAgICovXG4gICAgdmFyIGJhc2VFYWNoID0gY3JlYXRlQmFzZUVhY2goYmFzZUZvck93bik7XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5mb3JFYWNoUmlnaHRgIHdpdGhvdXQgc3VwcG9ydCBmb3IgaXRlcmF0ZWUgc2hvcnRoYW5kcy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtBcnJheXxPYmplY3R9IGNvbGxlY3Rpb24gVGhlIGNvbGxlY3Rpb24gdG8gaXRlcmF0ZSBvdmVyLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGl0ZXJhdGVlIFRoZSBmdW5jdGlvbiBpbnZva2VkIHBlciBpdGVyYXRpb24uXG4gICAgICogQHJldHVybnMge0FycmF5fE9iamVjdH0gUmV0dXJucyBgY29sbGVjdGlvbmAuXG4gICAgICovXG4gICAgdmFyIGJhc2VFYWNoUmlnaHQgPSBjcmVhdGVCYXNlRWFjaChiYXNlRm9yT3duUmlnaHQsIHRydWUpO1xuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8uZXZlcnlgIHdpdGhvdXQgc3VwcG9ydCBmb3IgaXRlcmF0ZWUgc2hvcnRoYW5kcy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtBcnJheXxPYmplY3R9IGNvbGxlY3Rpb24gVGhlIGNvbGxlY3Rpb24gdG8gaXRlcmF0ZSBvdmVyLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IHByZWRpY2F0ZSBUaGUgZnVuY3Rpb24gaW52b2tlZCBwZXIgaXRlcmF0aW9uLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBhbGwgZWxlbWVudHMgcGFzcyB0aGUgcHJlZGljYXRlIGNoZWNrLFxuICAgICAqICBlbHNlIGBmYWxzZWBcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlRXZlcnkoY29sbGVjdGlvbiwgcHJlZGljYXRlKSB7XG4gICAgICB2YXIgcmVzdWx0ID0gdHJ1ZTtcbiAgICAgIGJhc2VFYWNoKGNvbGxlY3Rpb24sIGZ1bmN0aW9uKHZhbHVlLCBpbmRleCwgY29sbGVjdGlvbikge1xuICAgICAgICByZXN1bHQgPSAhIXByZWRpY2F0ZSh2YWx1ZSwgaW5kZXgsIGNvbGxlY3Rpb24pO1xuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgfSk7XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIG1ldGhvZHMgbGlrZSBgXy5tYXhgIGFuZCBgXy5taW5gIHdoaWNoIGFjY2VwdHMgYVxuICAgICAqIGBjb21wYXJhdG9yYCB0byBkZXRlcm1pbmUgdGhlIGV4dHJlbXVtIHZhbHVlLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gaXRlcmF0ZSBvdmVyLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGl0ZXJhdGVlIFRoZSBpdGVyYXRlZSBpbnZva2VkIHBlciBpdGVyYXRpb24uXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gY29tcGFyYXRvciBUaGUgY29tcGFyYXRvciB1c2VkIHRvIGNvbXBhcmUgdmFsdWVzLlxuICAgICAqIEByZXR1cm5zIHsqfSBSZXR1cm5zIHRoZSBleHRyZW11bSB2YWx1ZS5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlRXh0cmVtdW0oYXJyYXksIGl0ZXJhdGVlLCBjb21wYXJhdG9yKSB7XG4gICAgICB2YXIgaW5kZXggPSAtMSxcbiAgICAgICAgICBsZW5ndGggPSBhcnJheS5sZW5ndGg7XG5cbiAgICAgIHdoaWxlICgrK2luZGV4IDwgbGVuZ3RoKSB7XG4gICAgICAgIHZhciB2YWx1ZSA9IGFycmF5W2luZGV4XSxcbiAgICAgICAgICAgIGN1cnJlbnQgPSBpdGVyYXRlZSh2YWx1ZSk7XG5cbiAgICAgICAgaWYgKGN1cnJlbnQgIT0gbnVsbCAmJiAoY29tcHV0ZWQgPT09IHVuZGVmaW5lZFxuICAgICAgICAgICAgICA/IChjdXJyZW50ID09PSBjdXJyZW50ICYmICFpc1N5bWJvbChjdXJyZW50KSlcbiAgICAgICAgICAgICAgOiBjb21wYXJhdG9yKGN1cnJlbnQsIGNvbXB1dGVkKVxuICAgICAgICAgICAgKSkge1xuICAgICAgICAgIHZhciBjb21wdXRlZCA9IGN1cnJlbnQsXG4gICAgICAgICAgICAgIHJlc3VsdCA9IHZhbHVlO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLmZpbGxgIHdpdGhvdXQgYW4gaXRlcmF0ZWUgY2FsbCBndWFyZC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIGZpbGwuXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gZmlsbCBgYXJyYXlgIHdpdGguXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtzdGFydD0wXSBUaGUgc3RhcnQgcG9zaXRpb24uXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtlbmQ9YXJyYXkubGVuZ3RoXSBUaGUgZW5kIHBvc2l0aW9uLlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyBgYXJyYXlgLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGJhc2VGaWxsKGFycmF5LCB2YWx1ZSwgc3RhcnQsIGVuZCkge1xuICAgICAgdmFyIGxlbmd0aCA9IGFycmF5Lmxlbmd0aDtcblxuICAgICAgc3RhcnQgPSB0b0ludGVnZXIoc3RhcnQpO1xuICAgICAgaWYgKHN0YXJ0IDwgMCkge1xuICAgICAgICBzdGFydCA9IC1zdGFydCA+IGxlbmd0aCA/IDAgOiAobGVuZ3RoICsgc3RhcnQpO1xuICAgICAgfVxuICAgICAgZW5kID0gKGVuZCA9PT0gdW5kZWZpbmVkIHx8IGVuZCA+IGxlbmd0aCkgPyBsZW5ndGggOiB0b0ludGVnZXIoZW5kKTtcbiAgICAgIGlmIChlbmQgPCAwKSB7XG4gICAgICAgIGVuZCArPSBsZW5ndGg7XG4gICAgICB9XG4gICAgICBlbmQgPSBzdGFydCA+IGVuZCA/IDAgOiB0b0xlbmd0aChlbmQpO1xuICAgICAgd2hpbGUgKHN0YXJ0IDwgZW5kKSB7XG4gICAgICAgIGFycmF5W3N0YXJ0KytdID0gdmFsdWU7XG4gICAgICB9XG4gICAgICByZXR1cm4gYXJyYXk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8uZmlsdGVyYCB3aXRob3V0IHN1cHBvcnQgZm9yIGl0ZXJhdGVlIHNob3J0aGFuZHMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7QXJyYXl8T2JqZWN0fSBjb2xsZWN0aW9uIFRoZSBjb2xsZWN0aW9uIHRvIGl0ZXJhdGUgb3Zlci5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBwcmVkaWNhdGUgVGhlIGZ1bmN0aW9uIGludm9rZWQgcGVyIGl0ZXJhdGlvbi5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIG5ldyBmaWx0ZXJlZCBhcnJheS5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlRmlsdGVyKGNvbGxlY3Rpb24sIHByZWRpY2F0ZSkge1xuICAgICAgdmFyIHJlc3VsdCA9IFtdO1xuICAgICAgYmFzZUVhY2goY29sbGVjdGlvbiwgZnVuY3Rpb24odmFsdWUsIGluZGV4LCBjb2xsZWN0aW9uKSB7XG4gICAgICAgIGlmIChwcmVkaWNhdGUodmFsdWUsIGluZGV4LCBjb2xsZWN0aW9uKSkge1xuICAgICAgICAgIHJlc3VsdC5wdXNoKHZhbHVlKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLmZsYXR0ZW5gIHdpdGggc3VwcG9ydCBmb3IgcmVzdHJpY3RpbmcgZmxhdHRlbmluZy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIGZsYXR0ZW4uXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGRlcHRoIFRoZSBtYXhpbXVtIHJlY3Vyc2lvbiBkZXB0aC5cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtwcmVkaWNhdGU9aXNGbGF0dGVuYWJsZV0gVGhlIGZ1bmN0aW9uIGludm9rZWQgcGVyIGl0ZXJhdGlvbi5cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtpc1N0cmljdF0gUmVzdHJpY3QgdG8gdmFsdWVzIHRoYXQgcGFzcyBgcHJlZGljYXRlYCBjaGVja3MuXG4gICAgICogQHBhcmFtIHtBcnJheX0gW3Jlc3VsdD1bXV0gVGhlIGluaXRpYWwgcmVzdWx0IHZhbHVlLlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgbmV3IGZsYXR0ZW5lZCBhcnJheS5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlRmxhdHRlbihhcnJheSwgZGVwdGgsIHByZWRpY2F0ZSwgaXNTdHJpY3QsIHJlc3VsdCkge1xuICAgICAgdmFyIGluZGV4ID0gLTEsXG4gICAgICAgICAgbGVuZ3RoID0gYXJyYXkubGVuZ3RoO1xuXG4gICAgICBwcmVkaWNhdGUgfHwgKHByZWRpY2F0ZSA9IGlzRmxhdHRlbmFibGUpO1xuICAgICAgcmVzdWx0IHx8IChyZXN1bHQgPSBbXSk7XG5cbiAgICAgIHdoaWxlICgrK2luZGV4IDwgbGVuZ3RoKSB7XG4gICAgICAgIHZhciB2YWx1ZSA9IGFycmF5W2luZGV4XTtcbiAgICAgICAgaWYgKGRlcHRoID4gMCAmJiBwcmVkaWNhdGUodmFsdWUpKSB7XG4gICAgICAgICAgaWYgKGRlcHRoID4gMSkge1xuICAgICAgICAgICAgLy8gUmVjdXJzaXZlbHkgZmxhdHRlbiBhcnJheXMgKHN1c2NlcHRpYmxlIHRvIGNhbGwgc3RhY2sgbGltaXRzKS5cbiAgICAgICAgICAgIGJhc2VGbGF0dGVuKHZhbHVlLCBkZXB0aCAtIDEsIHByZWRpY2F0ZSwgaXNTdHJpY3QsIHJlc3VsdCk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGFycmF5UHVzaChyZXN1bHQsIHZhbHVlKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSBpZiAoIWlzU3RyaWN0KSB7XG4gICAgICAgICAgcmVzdWx0W3Jlc3VsdC5sZW5ndGhdID0gdmFsdWU7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYGJhc2VGb3JPd25gIHdoaWNoIGl0ZXJhdGVzIG92ZXIgYG9iamVjdGBcbiAgICAgKiBwcm9wZXJ0aWVzIHJldHVybmVkIGJ5IGBrZXlzRnVuY2AgYW5kIGludm9rZXMgYGl0ZXJhdGVlYCBmb3IgZWFjaCBwcm9wZXJ0eS5cbiAgICAgKiBJdGVyYXRlZSBmdW5jdGlvbnMgbWF5IGV4aXQgaXRlcmF0aW9uIGVhcmx5IGJ5IGV4cGxpY2l0bHkgcmV0dXJuaW5nIGBmYWxzZWAuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBpdGVyYXRlIG92ZXIuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gaXRlcmF0ZWUgVGhlIGZ1bmN0aW9uIGludm9rZWQgcGVyIGl0ZXJhdGlvbi5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBrZXlzRnVuYyBUaGUgZnVuY3Rpb24gdG8gZ2V0IHRoZSBrZXlzIG9mIGBvYmplY3RgLlxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgYG9iamVjdGAuXG4gICAgICovXG4gICAgdmFyIGJhc2VGb3IgPSBjcmVhdGVCYXNlRm9yKCk7XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIGZ1bmN0aW9uIGlzIGxpa2UgYGJhc2VGb3JgIGV4Y2VwdCB0aGF0IGl0IGl0ZXJhdGVzIG92ZXIgcHJvcGVydGllc1xuICAgICAqIGluIHRoZSBvcHBvc2l0ZSBvcmRlci5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIGl0ZXJhdGUgb3Zlci5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBpdGVyYXRlZSBUaGUgZnVuY3Rpb24gaW52b2tlZCBwZXIgaXRlcmF0aW9uLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGtleXNGdW5jIFRoZSBmdW5jdGlvbiB0byBnZXQgdGhlIGtleXMgb2YgYG9iamVjdGAuXG4gICAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyBgb2JqZWN0YC5cbiAgICAgKi9cbiAgICB2YXIgYmFzZUZvclJpZ2h0ID0gY3JlYXRlQmFzZUZvcih0cnVlKTtcblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLmZvck93bmAgd2l0aG91dCBzdXBwb3J0IGZvciBpdGVyYXRlZSBzaG9ydGhhbmRzLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gaXRlcmF0ZSBvdmVyLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGl0ZXJhdGVlIFRoZSBmdW5jdGlvbiBpbnZva2VkIHBlciBpdGVyYXRpb24uXG4gICAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyBgb2JqZWN0YC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlRm9yT3duKG9iamVjdCwgaXRlcmF0ZWUpIHtcbiAgICAgIHJldHVybiBvYmplY3QgJiYgYmFzZUZvcihvYmplY3QsIGl0ZXJhdGVlLCBrZXlzKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5mb3JPd25SaWdodGAgd2l0aG91dCBzdXBwb3J0IGZvciBpdGVyYXRlZSBzaG9ydGhhbmRzLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gaXRlcmF0ZSBvdmVyLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGl0ZXJhdGVlIFRoZSBmdW5jdGlvbiBpbnZva2VkIHBlciBpdGVyYXRpb24uXG4gICAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyBgb2JqZWN0YC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlRm9yT3duUmlnaHQob2JqZWN0LCBpdGVyYXRlZSkge1xuICAgICAgcmV0dXJuIG9iamVjdCAmJiBiYXNlRm9yUmlnaHQob2JqZWN0LCBpdGVyYXRlZSwga2V5cyk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8uZnVuY3Rpb25zYCB3aGljaCBjcmVhdGVzIGFuIGFycmF5IG9mXG4gICAgICogYG9iamVjdGAgZnVuY3Rpb24gcHJvcGVydHkgbmFtZXMgZmlsdGVyZWQgZnJvbSBgcHJvcHNgLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gaW5zcGVjdC5cbiAgICAgKiBAcGFyYW0ge0FycmF5fSBwcm9wcyBUaGUgcHJvcGVydHkgbmFtZXMgdG8gZmlsdGVyLlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgZnVuY3Rpb24gbmFtZXMuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZUZ1bmN0aW9ucyhvYmplY3QsIHByb3BzKSB7XG4gICAgICByZXR1cm4gYXJyYXlGaWx0ZXIocHJvcHMsIGZ1bmN0aW9uKGtleSkge1xuICAgICAgICByZXR1cm4gaXNGdW5jdGlvbihvYmplY3Rba2V5XSk7XG4gICAgICB9KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5nZXRgIHdpdGhvdXQgc3VwcG9ydCBmb3IgZGVmYXVsdCB2YWx1ZXMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBxdWVyeS5cbiAgICAgKiBAcGFyYW0ge0FycmF5fHN0cmluZ30gcGF0aCBUaGUgcGF0aCBvZiB0aGUgcHJvcGVydHkgdG8gZ2V0LlxuICAgICAqIEByZXR1cm5zIHsqfSBSZXR1cm5zIHRoZSByZXNvbHZlZCB2YWx1ZS5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlR2V0KG9iamVjdCwgcGF0aCkge1xuICAgICAgcGF0aCA9IGNhc3RQYXRoKHBhdGgsIG9iamVjdCk7XG5cbiAgICAgIHZhciBpbmRleCA9IDAsXG4gICAgICAgICAgbGVuZ3RoID0gcGF0aC5sZW5ndGg7XG5cbiAgICAgIHdoaWxlIChvYmplY3QgIT0gbnVsbCAmJiBpbmRleCA8IGxlbmd0aCkge1xuICAgICAgICBvYmplY3QgPSBvYmplY3RbdG9LZXkocGF0aFtpbmRleCsrXSldO1xuICAgICAgfVxuICAgICAgcmV0dXJuIChpbmRleCAmJiBpbmRleCA9PSBsZW5ndGgpID8gb2JqZWN0IDogdW5kZWZpbmVkO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBnZXRBbGxLZXlzYCBhbmQgYGdldEFsbEtleXNJbmAgd2hpY2ggdXNlc1xuICAgICAqIGBrZXlzRnVuY2AgYW5kIGBzeW1ib2xzRnVuY2AgdG8gZ2V0IHRoZSBlbnVtZXJhYmxlIHByb3BlcnR5IG5hbWVzIGFuZFxuICAgICAqIHN5bWJvbHMgb2YgYG9iamVjdGAuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBxdWVyeS5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBrZXlzRnVuYyBUaGUgZnVuY3Rpb24gdG8gZ2V0IHRoZSBrZXlzIG9mIGBvYmplY3RgLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IHN5bWJvbHNGdW5jIFRoZSBmdW5jdGlvbiB0byBnZXQgdGhlIHN5bWJvbHMgb2YgYG9iamVjdGAuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBhcnJheSBvZiBwcm9wZXJ0eSBuYW1lcyBhbmQgc3ltYm9scy5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlR2V0QWxsS2V5cyhvYmplY3QsIGtleXNGdW5jLCBzeW1ib2xzRnVuYykge1xuICAgICAgdmFyIHJlc3VsdCA9IGtleXNGdW5jKG9iamVjdCk7XG4gICAgICByZXR1cm4gaXNBcnJheShvYmplY3QpID8gcmVzdWx0IDogYXJyYXlQdXNoKHJlc3VsdCwgc3ltYm9sc0Z1bmMob2JqZWN0KSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYGdldFRhZ2Agd2l0aG91dCBmYWxsYmFja3MgZm9yIGJ1Z2d5IGVudmlyb25tZW50cy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gcXVlcnkuXG4gICAgICogQHJldHVybnMge3N0cmluZ30gUmV0dXJucyB0aGUgYHRvU3RyaW5nVGFnYC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlR2V0VGFnKHZhbHVlKSB7XG4gICAgICBpZiAodmFsdWUgPT0gbnVsbCkge1xuICAgICAgICByZXR1cm4gdmFsdWUgPT09IHVuZGVmaW5lZCA/IHVuZGVmaW5lZFRhZyA6IG51bGxUYWc7XG4gICAgICB9XG4gICAgICByZXR1cm4gKHN5bVRvU3RyaW5nVGFnICYmIHN5bVRvU3RyaW5nVGFnIGluIE9iamVjdCh2YWx1ZSkpXG4gICAgICAgID8gZ2V0UmF3VGFnKHZhbHVlKVxuICAgICAgICA6IG9iamVjdFRvU3RyaW5nKHZhbHVlKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5ndGAgd2hpY2ggZG9lc24ndCBjb2VyY2UgYXJndW1lbnRzLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjb21wYXJlLlxuICAgICAqIEBwYXJhbSB7Kn0gb3RoZXIgVGhlIG90aGVyIHZhbHVlIHRvIGNvbXBhcmUuXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgZ3JlYXRlciB0aGFuIGBvdGhlcmAsXG4gICAgICogIGVsc2UgYGZhbHNlYC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlR3QodmFsdWUsIG90aGVyKSB7XG4gICAgICByZXR1cm4gdmFsdWUgPiBvdGhlcjtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5oYXNgIHdpdGhvdXQgc3VwcG9ydCBmb3IgZGVlcCBwYXRocy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtPYmplY3R9IFtvYmplY3RdIFRoZSBvYmplY3QgdG8gcXVlcnkuXG4gICAgICogQHBhcmFtIHtBcnJheXxzdHJpbmd9IGtleSBUaGUga2V5IHRvIGNoZWNrLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBga2V5YCBleGlzdHMsIGVsc2UgYGZhbHNlYC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlSGFzKG9iamVjdCwga2V5KSB7XG4gICAgICByZXR1cm4gb2JqZWN0ICE9IG51bGwgJiYgaGFzT3duUHJvcGVydHkuY2FsbChvYmplY3QsIGtleSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8uaGFzSW5gIHdpdGhvdXQgc3VwcG9ydCBmb3IgZGVlcCBwYXRocy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtPYmplY3R9IFtvYmplY3RdIFRoZSBvYmplY3QgdG8gcXVlcnkuXG4gICAgICogQHBhcmFtIHtBcnJheXxzdHJpbmd9IGtleSBUaGUga2V5IHRvIGNoZWNrLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBga2V5YCBleGlzdHMsIGVsc2UgYGZhbHNlYC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlSGFzSW4ob2JqZWN0LCBrZXkpIHtcbiAgICAgIHJldHVybiBvYmplY3QgIT0gbnVsbCAmJiBrZXkgaW4gT2JqZWN0KG9iamVjdCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8uaW5SYW5nZWAgd2hpY2ggZG9lc24ndCBjb2VyY2UgYXJndW1lbnRzLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gbnVtYmVyIFRoZSBudW1iZXIgdG8gY2hlY2suXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHN0YXJ0IFRoZSBzdGFydCBvZiB0aGUgcmFuZ2UuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGVuZCBUaGUgZW5kIG9mIHRoZSByYW5nZS5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYG51bWJlcmAgaXMgaW4gdGhlIHJhbmdlLCBlbHNlIGBmYWxzZWAuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZUluUmFuZ2UobnVtYmVyLCBzdGFydCwgZW5kKSB7XG4gICAgICByZXR1cm4gbnVtYmVyID49IG5hdGl2ZU1pbihzdGFydCwgZW5kKSAmJiBudW1iZXIgPCBuYXRpdmVNYXgoc3RhcnQsIGVuZCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgbWV0aG9kcyBsaWtlIGBfLmludGVyc2VjdGlvbmAsIHdpdGhvdXQgc3VwcG9ydFxuICAgICAqIGZvciBpdGVyYXRlZSBzaG9ydGhhbmRzLCB0aGF0IGFjY2VwdHMgYW4gYXJyYXkgb2YgYXJyYXlzIHRvIGluc3BlY3QuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5cyBUaGUgYXJyYXlzIHRvIGluc3BlY3QuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2l0ZXJhdGVlXSBUaGUgaXRlcmF0ZWUgaW52b2tlZCBwZXIgZWxlbWVudC5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbY29tcGFyYXRvcl0gVGhlIGNvbXBhcmF0b3IgaW52b2tlZCBwZXIgZWxlbWVudC5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIG5ldyBhcnJheSBvZiBzaGFyZWQgdmFsdWVzLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGJhc2VJbnRlcnNlY3Rpb24oYXJyYXlzLCBpdGVyYXRlZSwgY29tcGFyYXRvcikge1xuICAgICAgdmFyIGluY2x1ZGVzID0gY29tcGFyYXRvciA/IGFycmF5SW5jbHVkZXNXaXRoIDogYXJyYXlJbmNsdWRlcyxcbiAgICAgICAgICBsZW5ndGggPSBhcnJheXNbMF0ubGVuZ3RoLFxuICAgICAgICAgIG90aExlbmd0aCA9IGFycmF5cy5sZW5ndGgsXG4gICAgICAgICAgb3RoSW5kZXggPSBvdGhMZW5ndGgsXG4gICAgICAgICAgY2FjaGVzID0gQXJyYXkob3RoTGVuZ3RoKSxcbiAgICAgICAgICBtYXhMZW5ndGggPSBJbmZpbml0eSxcbiAgICAgICAgICByZXN1bHQgPSBbXTtcblxuICAgICAgd2hpbGUgKG90aEluZGV4LS0pIHtcbiAgICAgICAgdmFyIGFycmF5ID0gYXJyYXlzW290aEluZGV4XTtcbiAgICAgICAgaWYgKG90aEluZGV4ICYmIGl0ZXJhdGVlKSB7XG4gICAgICAgICAgYXJyYXkgPSBhcnJheU1hcChhcnJheSwgYmFzZVVuYXJ5KGl0ZXJhdGVlKSk7XG4gICAgICAgIH1cbiAgICAgICAgbWF4TGVuZ3RoID0gbmF0aXZlTWluKGFycmF5Lmxlbmd0aCwgbWF4TGVuZ3RoKTtcbiAgICAgICAgY2FjaGVzW290aEluZGV4XSA9ICFjb21wYXJhdG9yICYmIChpdGVyYXRlZSB8fCAobGVuZ3RoID49IDEyMCAmJiBhcnJheS5sZW5ndGggPj0gMTIwKSlcbiAgICAgICAgICA/IG5ldyBTZXRDYWNoZShvdGhJbmRleCAmJiBhcnJheSlcbiAgICAgICAgICA6IHVuZGVmaW5lZDtcbiAgICAgIH1cbiAgICAgIGFycmF5ID0gYXJyYXlzWzBdO1xuXG4gICAgICB2YXIgaW5kZXggPSAtMSxcbiAgICAgICAgICBzZWVuID0gY2FjaGVzWzBdO1xuXG4gICAgICBvdXRlcjpcbiAgICAgIHdoaWxlICgrK2luZGV4IDwgbGVuZ3RoICYmIHJlc3VsdC5sZW5ndGggPCBtYXhMZW5ndGgpIHtcbiAgICAgICAgdmFyIHZhbHVlID0gYXJyYXlbaW5kZXhdLFxuICAgICAgICAgICAgY29tcHV0ZWQgPSBpdGVyYXRlZSA/IGl0ZXJhdGVlKHZhbHVlKSA6IHZhbHVlO1xuXG4gICAgICAgIHZhbHVlID0gKGNvbXBhcmF0b3IgfHwgdmFsdWUgIT09IDApID8gdmFsdWUgOiAwO1xuICAgICAgICBpZiAoIShzZWVuXG4gICAgICAgICAgICAgID8gY2FjaGVIYXMoc2VlbiwgY29tcHV0ZWQpXG4gICAgICAgICAgICAgIDogaW5jbHVkZXMocmVzdWx0LCBjb21wdXRlZCwgY29tcGFyYXRvcilcbiAgICAgICAgICAgICkpIHtcbiAgICAgICAgICBvdGhJbmRleCA9IG90aExlbmd0aDtcbiAgICAgICAgICB3aGlsZSAoLS1vdGhJbmRleCkge1xuICAgICAgICAgICAgdmFyIGNhY2hlID0gY2FjaGVzW290aEluZGV4XTtcbiAgICAgICAgICAgIGlmICghKGNhY2hlXG4gICAgICAgICAgICAgICAgICA/IGNhY2hlSGFzKGNhY2hlLCBjb21wdXRlZClcbiAgICAgICAgICAgICAgICAgIDogaW5jbHVkZXMoYXJyYXlzW290aEluZGV4XSwgY29tcHV0ZWQsIGNvbXBhcmF0b3IpKVxuICAgICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICBjb250aW51ZSBvdXRlcjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKHNlZW4pIHtcbiAgICAgICAgICAgIHNlZW4ucHVzaChjb21wdXRlZCk7XG4gICAgICAgICAgfVxuICAgICAgICAgIHJlc3VsdC5wdXNoKHZhbHVlKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5pbnZlcnRgIGFuZCBgXy5pbnZlcnRCeWAgd2hpY2ggaW52ZXJ0c1xuICAgICAqIGBvYmplY3RgIHdpdGggdmFsdWVzIHRyYW5zZm9ybWVkIGJ5IGBpdGVyYXRlZWAgYW5kIHNldCBieSBgc2V0dGVyYC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIGl0ZXJhdGUgb3Zlci5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBzZXR0ZXIgVGhlIGZ1bmN0aW9uIHRvIHNldCBgYWNjdW11bGF0b3JgIHZhbHVlcy5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBpdGVyYXRlZSBUaGUgaXRlcmF0ZWUgdG8gdHJhbnNmb3JtIHZhbHVlcy5cbiAgICAgKiBAcGFyYW0ge09iamVjdH0gYWNjdW11bGF0b3IgVGhlIGluaXRpYWwgaW52ZXJ0ZWQgb2JqZWN0LlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyBgYWNjdW11bGF0b3JgLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGJhc2VJbnZlcnRlcihvYmplY3QsIHNldHRlciwgaXRlcmF0ZWUsIGFjY3VtdWxhdG9yKSB7XG4gICAgICBiYXNlRm9yT3duKG9iamVjdCwgZnVuY3Rpb24odmFsdWUsIGtleSwgb2JqZWN0KSB7XG4gICAgICAgIHNldHRlcihhY2N1bXVsYXRvciwgaXRlcmF0ZWUodmFsdWUpLCBrZXksIG9iamVjdCk7XG4gICAgICB9KTtcbiAgICAgIHJldHVybiBhY2N1bXVsYXRvcjtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5pbnZva2VgIHdpdGhvdXQgc3VwcG9ydCBmb3IgaW5kaXZpZHVhbFxuICAgICAqIG1ldGhvZCBhcmd1bWVudHMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBxdWVyeS5cbiAgICAgKiBAcGFyYW0ge0FycmF5fHN0cmluZ30gcGF0aCBUaGUgcGF0aCBvZiB0aGUgbWV0aG9kIHRvIGludm9rZS5cbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcmdzIFRoZSBhcmd1bWVudHMgdG8gaW52b2tlIHRoZSBtZXRob2Qgd2l0aC5cbiAgICAgKiBAcmV0dXJucyB7Kn0gUmV0dXJucyB0aGUgcmVzdWx0IG9mIHRoZSBpbnZva2VkIG1ldGhvZC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlSW52b2tlKG9iamVjdCwgcGF0aCwgYXJncykge1xuICAgICAgcGF0aCA9IGNhc3RQYXRoKHBhdGgsIG9iamVjdCk7XG4gICAgICBvYmplY3QgPSBwYXJlbnQob2JqZWN0LCBwYXRoKTtcbiAgICAgIHZhciBmdW5jID0gb2JqZWN0ID09IG51bGwgPyBvYmplY3QgOiBvYmplY3RbdG9LZXkobGFzdChwYXRoKSldO1xuICAgICAgcmV0dXJuIGZ1bmMgPT0gbnVsbCA/IHVuZGVmaW5lZCA6IGFwcGx5KGZ1bmMsIG9iamVjdCwgYXJncyk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8uaXNBcmd1bWVudHNgLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBhbiBgYXJndW1lbnRzYCBvYmplY3QsXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZUlzQXJndW1lbnRzKHZhbHVlKSB7XG4gICAgICByZXR1cm4gaXNPYmplY3RMaWtlKHZhbHVlKSAmJiBiYXNlR2V0VGFnKHZhbHVlKSA9PSBhcmdzVGFnO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLmlzQXJyYXlCdWZmZXJgIHdpdGhvdXQgTm9kZS5qcyBvcHRpbWl6YXRpb25zLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBhbiBhcnJheSBidWZmZXIsIGVsc2UgYGZhbHNlYC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlSXNBcnJheUJ1ZmZlcih2YWx1ZSkge1xuICAgICAgcmV0dXJuIGlzT2JqZWN0TGlrZSh2YWx1ZSkgJiYgYmFzZUdldFRhZyh2YWx1ZSkgPT0gYXJyYXlCdWZmZXJUYWc7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8uaXNEYXRlYCB3aXRob3V0IE5vZGUuanMgb3B0aW1pemF0aW9ucy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYSBkYXRlIG9iamVjdCwgZWxzZSBgZmFsc2VgLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGJhc2VJc0RhdGUodmFsdWUpIHtcbiAgICAgIHJldHVybiBpc09iamVjdExpa2UodmFsdWUpICYmIGJhc2VHZXRUYWcodmFsdWUpID09IGRhdGVUYWc7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8uaXNFcXVhbGAgd2hpY2ggc3VwcG9ydHMgcGFydGlhbCBjb21wYXJpc29uc1xuICAgICAqIGFuZCB0cmFja3MgdHJhdmVyc2VkIG9iamVjdHMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNvbXBhcmUuXG4gICAgICogQHBhcmFtIHsqfSBvdGhlciBUaGUgb3RoZXIgdmFsdWUgdG8gY29tcGFyZS5cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IGJpdG1hc2sgVGhlIGJpdG1hc2sgZmxhZ3MuXG4gICAgICogIDEgLSBVbm9yZGVyZWQgY29tcGFyaXNvblxuICAgICAqICAyIC0gUGFydGlhbCBjb21wYXJpc29uXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2N1c3RvbWl6ZXJdIFRoZSBmdW5jdGlvbiB0byBjdXN0b21pemUgY29tcGFyaXNvbnMuXG4gICAgICogQHBhcmFtIHtPYmplY3R9IFtzdGFja10gVHJhY2tzIHRyYXZlcnNlZCBgdmFsdWVgIGFuZCBgb3RoZXJgIG9iamVjdHMuXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIHRoZSB2YWx1ZXMgYXJlIGVxdWl2YWxlbnQsIGVsc2UgYGZhbHNlYC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlSXNFcXVhbCh2YWx1ZSwgb3RoZXIsIGJpdG1hc2ssIGN1c3RvbWl6ZXIsIHN0YWNrKSB7XG4gICAgICBpZiAodmFsdWUgPT09IG90aGVyKSB7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgfVxuICAgICAgaWYgKHZhbHVlID09IG51bGwgfHwgb3RoZXIgPT0gbnVsbCB8fCAoIWlzT2JqZWN0TGlrZSh2YWx1ZSkgJiYgIWlzT2JqZWN0TGlrZShvdGhlcikpKSB7XG4gICAgICAgIHJldHVybiB2YWx1ZSAhPT0gdmFsdWUgJiYgb3RoZXIgIT09IG90aGVyO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGJhc2VJc0VxdWFsRGVlcCh2YWx1ZSwgb3RoZXIsIGJpdG1hc2ssIGN1c3RvbWl6ZXIsIGJhc2VJc0VxdWFsLCBzdGFjayk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQSBzcGVjaWFsaXplZCB2ZXJzaW9uIG9mIGBiYXNlSXNFcXVhbGAgZm9yIGFycmF5cyBhbmQgb2JqZWN0cyB3aGljaCBwZXJmb3Jtc1xuICAgICAqIGRlZXAgY29tcGFyaXNvbnMgYW5kIHRyYWNrcyB0cmF2ZXJzZWQgb2JqZWN0cyBlbmFibGluZyBvYmplY3RzIHdpdGggY2lyY3VsYXJcbiAgICAgKiByZWZlcmVuY2VzIHRvIGJlIGNvbXBhcmVkLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gY29tcGFyZS5cbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb3RoZXIgVGhlIG90aGVyIG9iamVjdCB0byBjb21wYXJlLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBiaXRtYXNrIFRoZSBiaXRtYXNrIGZsYWdzLiBTZWUgYGJhc2VJc0VxdWFsYCBmb3IgbW9yZSBkZXRhaWxzLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGN1c3RvbWl6ZXIgVGhlIGZ1bmN0aW9uIHRvIGN1c3RvbWl6ZSBjb21wYXJpc29ucy5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBlcXVhbEZ1bmMgVGhlIGZ1bmN0aW9uIHRvIGRldGVybWluZSBlcXVpdmFsZW50cyBvZiB2YWx1ZXMuXG4gICAgICogQHBhcmFtIHtPYmplY3R9IFtzdGFja10gVHJhY2tzIHRyYXZlcnNlZCBgb2JqZWN0YCBhbmQgYG90aGVyYCBvYmplY3RzLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiB0aGUgb2JqZWN0cyBhcmUgZXF1aXZhbGVudCwgZWxzZSBgZmFsc2VgLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGJhc2VJc0VxdWFsRGVlcChvYmplY3QsIG90aGVyLCBiaXRtYXNrLCBjdXN0b21pemVyLCBlcXVhbEZ1bmMsIHN0YWNrKSB7XG4gICAgICB2YXIgb2JqSXNBcnIgPSBpc0FycmF5KG9iamVjdCksXG4gICAgICAgICAgb3RoSXNBcnIgPSBpc0FycmF5KG90aGVyKSxcbiAgICAgICAgICBvYmpUYWcgPSBvYmpJc0FyciA/IGFycmF5VGFnIDogZ2V0VGFnKG9iamVjdCksXG4gICAgICAgICAgb3RoVGFnID0gb3RoSXNBcnIgPyBhcnJheVRhZyA6IGdldFRhZyhvdGhlcik7XG5cbiAgICAgIG9ialRhZyA9IG9ialRhZyA9PSBhcmdzVGFnID8gb2JqZWN0VGFnIDogb2JqVGFnO1xuICAgICAgb3RoVGFnID0gb3RoVGFnID09IGFyZ3NUYWcgPyBvYmplY3RUYWcgOiBvdGhUYWc7XG5cbiAgICAgIHZhciBvYmpJc09iaiA9IG9ialRhZyA9PSBvYmplY3RUYWcsXG4gICAgICAgICAgb3RoSXNPYmogPSBvdGhUYWcgPT0gb2JqZWN0VGFnLFxuICAgICAgICAgIGlzU2FtZVRhZyA9IG9ialRhZyA9PSBvdGhUYWc7XG5cbiAgICAgIGlmIChpc1NhbWVUYWcgJiYgaXNCdWZmZXIob2JqZWN0KSkge1xuICAgICAgICBpZiAoIWlzQnVmZmVyKG90aGVyKSkge1xuICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICBvYmpJc0FyciA9IHRydWU7XG4gICAgICAgIG9iaklzT2JqID0gZmFsc2U7XG4gICAgICB9XG4gICAgICBpZiAoaXNTYW1lVGFnICYmICFvYmpJc09iaikge1xuICAgICAgICBzdGFjayB8fCAoc3RhY2sgPSBuZXcgU3RhY2spO1xuICAgICAgICByZXR1cm4gKG9iaklzQXJyIHx8IGlzVHlwZWRBcnJheShvYmplY3QpKVxuICAgICAgICAgID8gZXF1YWxBcnJheXMob2JqZWN0LCBvdGhlciwgYml0bWFzaywgY3VzdG9taXplciwgZXF1YWxGdW5jLCBzdGFjaylcbiAgICAgICAgICA6IGVxdWFsQnlUYWcob2JqZWN0LCBvdGhlciwgb2JqVGFnLCBiaXRtYXNrLCBjdXN0b21pemVyLCBlcXVhbEZ1bmMsIHN0YWNrKTtcbiAgICAgIH1cbiAgICAgIGlmICghKGJpdG1hc2sgJiBDT01QQVJFX1BBUlRJQUxfRkxBRykpIHtcbiAgICAgICAgdmFyIG9iaklzV3JhcHBlZCA9IG9iaklzT2JqICYmIGhhc093blByb3BlcnR5LmNhbGwob2JqZWN0LCAnX193cmFwcGVkX18nKSxcbiAgICAgICAgICAgIG90aElzV3JhcHBlZCA9IG90aElzT2JqICYmIGhhc093blByb3BlcnR5LmNhbGwob3RoZXIsICdfX3dyYXBwZWRfXycpO1xuXG4gICAgICAgIGlmIChvYmpJc1dyYXBwZWQgfHwgb3RoSXNXcmFwcGVkKSB7XG4gICAgICAgICAgdmFyIG9ialVud3JhcHBlZCA9IG9iaklzV3JhcHBlZCA/IG9iamVjdC52YWx1ZSgpIDogb2JqZWN0LFxuICAgICAgICAgICAgICBvdGhVbndyYXBwZWQgPSBvdGhJc1dyYXBwZWQgPyBvdGhlci52YWx1ZSgpIDogb3RoZXI7XG5cbiAgICAgICAgICBzdGFjayB8fCAoc3RhY2sgPSBuZXcgU3RhY2spO1xuICAgICAgICAgIHJldHVybiBlcXVhbEZ1bmMob2JqVW53cmFwcGVkLCBvdGhVbndyYXBwZWQsIGJpdG1hc2ssIGN1c3RvbWl6ZXIsIHN0YWNrKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgaWYgKCFpc1NhbWVUYWcpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuICAgICAgc3RhY2sgfHwgKHN0YWNrID0gbmV3IFN0YWNrKTtcbiAgICAgIHJldHVybiBlcXVhbE9iamVjdHMob2JqZWN0LCBvdGhlciwgYml0bWFzaywgY3VzdG9taXplciwgZXF1YWxGdW5jLCBzdGFjayk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8uaXNNYXBgIHdpdGhvdXQgTm9kZS5qcyBvcHRpbWl6YXRpb25zLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBhIG1hcCwgZWxzZSBgZmFsc2VgLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGJhc2VJc01hcCh2YWx1ZSkge1xuICAgICAgcmV0dXJuIGlzT2JqZWN0TGlrZSh2YWx1ZSkgJiYgZ2V0VGFnKHZhbHVlKSA9PSBtYXBUYWc7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8uaXNNYXRjaGAgd2l0aG91dCBzdXBwb3J0IGZvciBpdGVyYXRlZSBzaG9ydGhhbmRzLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gaW5zcGVjdC5cbiAgICAgKiBAcGFyYW0ge09iamVjdH0gc291cmNlIFRoZSBvYmplY3Qgb2YgcHJvcGVydHkgdmFsdWVzIHRvIG1hdGNoLlxuICAgICAqIEBwYXJhbSB7QXJyYXl9IG1hdGNoRGF0YSBUaGUgcHJvcGVydHkgbmFtZXMsIHZhbHVlcywgYW5kIGNvbXBhcmUgZmxhZ3MgdG8gbWF0Y2guXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2N1c3RvbWl6ZXJdIFRoZSBmdW5jdGlvbiB0byBjdXN0b21pemUgY29tcGFyaXNvbnMuXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGBvYmplY3RgIGlzIGEgbWF0Y2gsIGVsc2UgYGZhbHNlYC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlSXNNYXRjaChvYmplY3QsIHNvdXJjZSwgbWF0Y2hEYXRhLCBjdXN0b21pemVyKSB7XG4gICAgICB2YXIgaW5kZXggPSBtYXRjaERhdGEubGVuZ3RoLFxuICAgICAgICAgIGxlbmd0aCA9IGluZGV4LFxuICAgICAgICAgIG5vQ3VzdG9taXplciA9ICFjdXN0b21pemVyO1xuXG4gICAgICBpZiAob2JqZWN0ID09IG51bGwpIHtcbiAgICAgICAgcmV0dXJuICFsZW5ndGg7XG4gICAgICB9XG4gICAgICBvYmplY3QgPSBPYmplY3Qob2JqZWN0KTtcbiAgICAgIHdoaWxlIChpbmRleC0tKSB7XG4gICAgICAgIHZhciBkYXRhID0gbWF0Y2hEYXRhW2luZGV4XTtcbiAgICAgICAgaWYgKChub0N1c3RvbWl6ZXIgJiYgZGF0YVsyXSlcbiAgICAgICAgICAgICAgPyBkYXRhWzFdICE9PSBvYmplY3RbZGF0YVswXV1cbiAgICAgICAgICAgICAgOiAhKGRhdGFbMF0gaW4gb2JqZWN0KVxuICAgICAgICAgICAgKSB7XG4gICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICB3aGlsZSAoKytpbmRleCA8IGxlbmd0aCkge1xuICAgICAgICBkYXRhID0gbWF0Y2hEYXRhW2luZGV4XTtcbiAgICAgICAgdmFyIGtleSA9IGRhdGFbMF0sXG4gICAgICAgICAgICBvYmpWYWx1ZSA9IG9iamVjdFtrZXldLFxuICAgICAgICAgICAgc3JjVmFsdWUgPSBkYXRhWzFdO1xuXG4gICAgICAgIGlmIChub0N1c3RvbWl6ZXIgJiYgZGF0YVsyXSkge1xuICAgICAgICAgIGlmIChvYmpWYWx1ZSA9PT0gdW5kZWZpbmVkICYmICEoa2V5IGluIG9iamVjdCkpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdmFyIHN0YWNrID0gbmV3IFN0YWNrO1xuICAgICAgICAgIGlmIChjdXN0b21pemVyKSB7XG4gICAgICAgICAgICB2YXIgcmVzdWx0ID0gY3VzdG9taXplcihvYmpWYWx1ZSwgc3JjVmFsdWUsIGtleSwgb2JqZWN0LCBzb3VyY2UsIHN0YWNrKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKCEocmVzdWx0ID09PSB1bmRlZmluZWRcbiAgICAgICAgICAgICAgICA/IGJhc2VJc0VxdWFsKHNyY1ZhbHVlLCBvYmpWYWx1ZSwgQ09NUEFSRV9QQVJUSUFMX0ZMQUcgfCBDT01QQVJFX1VOT1JERVJFRF9GTEFHLCBjdXN0b21pemVyLCBzdGFjaylcbiAgICAgICAgICAgICAgICA6IHJlc3VsdFxuICAgICAgICAgICAgICApKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5pc05hdGl2ZWAgd2l0aG91dCBiYWQgc2hpbSBjaGVja3MuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGEgbmF0aXZlIGZ1bmN0aW9uLFxuICAgICAqICBlbHNlIGBmYWxzZWAuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZUlzTmF0aXZlKHZhbHVlKSB7XG4gICAgICBpZiAoIWlzT2JqZWN0KHZhbHVlKSB8fCBpc01hc2tlZCh2YWx1ZSkpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuICAgICAgdmFyIHBhdHRlcm4gPSBpc0Z1bmN0aW9uKHZhbHVlKSA/IHJlSXNOYXRpdmUgOiByZUlzSG9zdEN0b3I7XG4gICAgICByZXR1cm4gcGF0dGVybi50ZXN0KHRvU291cmNlKHZhbHVlKSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8uaXNSZWdFeHBgIHdpdGhvdXQgTm9kZS5qcyBvcHRpbWl6YXRpb25zLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBhIHJlZ2V4cCwgZWxzZSBgZmFsc2VgLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGJhc2VJc1JlZ0V4cCh2YWx1ZSkge1xuICAgICAgcmV0dXJuIGlzT2JqZWN0TGlrZSh2YWx1ZSkgJiYgYmFzZUdldFRhZyh2YWx1ZSkgPT0gcmVnZXhwVGFnO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLmlzU2V0YCB3aXRob3V0IE5vZGUuanMgb3B0aW1pemF0aW9ucy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYSBzZXQsIGVsc2UgYGZhbHNlYC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlSXNTZXQodmFsdWUpIHtcbiAgICAgIHJldHVybiBpc09iamVjdExpa2UodmFsdWUpICYmIGdldFRhZyh2YWx1ZSkgPT0gc2V0VGFnO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLmlzVHlwZWRBcnJheWAgd2l0aG91dCBOb2RlLmpzIG9wdGltaXphdGlvbnMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGEgdHlwZWQgYXJyYXksIGVsc2UgYGZhbHNlYC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlSXNUeXBlZEFycmF5KHZhbHVlKSB7XG4gICAgICByZXR1cm4gaXNPYmplY3RMaWtlKHZhbHVlKSAmJlxuICAgICAgICBpc0xlbmd0aCh2YWx1ZS5sZW5ndGgpICYmICEhdHlwZWRBcnJheVRhZ3NbYmFzZUdldFRhZyh2YWx1ZSldO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLml0ZXJhdGVlYC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHsqfSBbdmFsdWU9Xy5pZGVudGl0eV0gVGhlIHZhbHVlIHRvIGNvbnZlcnQgdG8gYW4gaXRlcmF0ZWUuXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBpdGVyYXRlZS5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlSXRlcmF0ZWUodmFsdWUpIHtcbiAgICAgIC8vIERvbid0IHN0b3JlIHRoZSBgdHlwZW9mYCByZXN1bHQgaW4gYSB2YXJpYWJsZSB0byBhdm9pZCBhIEpJVCBidWcgaW4gU2FmYXJpIDkuXG4gICAgICAvLyBTZWUgaHR0cHM6Ly9idWdzLndlYmtpdC5vcmcvc2hvd19idWcuY2dpP2lkPTE1NjAzNCBmb3IgbW9yZSBkZXRhaWxzLlxuICAgICAgaWYgKHR5cGVvZiB2YWx1ZSA9PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIHJldHVybiB2YWx1ZTtcbiAgICAgIH1cbiAgICAgIGlmICh2YWx1ZSA9PSBudWxsKSB7XG4gICAgICAgIHJldHVybiBpZGVudGl0eTtcbiAgICAgIH1cbiAgICAgIGlmICh0eXBlb2YgdmFsdWUgPT0gJ29iamVjdCcpIHtcbiAgICAgICAgcmV0dXJuIGlzQXJyYXkodmFsdWUpXG4gICAgICAgICAgPyBiYXNlTWF0Y2hlc1Byb3BlcnR5KHZhbHVlWzBdLCB2YWx1ZVsxXSlcbiAgICAgICAgICA6IGJhc2VNYXRjaGVzKHZhbHVlKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBwcm9wZXJ0eSh2YWx1ZSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8ua2V5c2Agd2hpY2ggZG9lc24ndCB0cmVhdCBzcGFyc2UgYXJyYXlzIGFzIGRlbnNlLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gcXVlcnkuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBhcnJheSBvZiBwcm9wZXJ0eSBuYW1lcy5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlS2V5cyhvYmplY3QpIHtcbiAgICAgIGlmICghaXNQcm90b3R5cGUob2JqZWN0KSkge1xuICAgICAgICByZXR1cm4gbmF0aXZlS2V5cyhvYmplY3QpO1xuICAgICAgfVxuICAgICAgdmFyIHJlc3VsdCA9IFtdO1xuICAgICAgZm9yICh2YXIga2V5IGluIE9iamVjdChvYmplY3QpKSB7XG4gICAgICAgIGlmIChoYXNPd25Qcm9wZXJ0eS5jYWxsKG9iamVjdCwga2V5KSAmJiBrZXkgIT0gJ2NvbnN0cnVjdG9yJykge1xuICAgICAgICAgIHJlc3VsdC5wdXNoKGtleSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8ua2V5c0luYCB3aGljaCBkb2Vzbid0IHRyZWF0IHNwYXJzZSBhcnJheXMgYXMgZGVuc2UuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBxdWVyeS5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIGFycmF5IG9mIHByb3BlcnR5IG5hbWVzLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGJhc2VLZXlzSW4ob2JqZWN0KSB7XG4gICAgICBpZiAoIWlzT2JqZWN0KG9iamVjdCkpIHtcbiAgICAgICAgcmV0dXJuIG5hdGl2ZUtleXNJbihvYmplY3QpO1xuICAgICAgfVxuICAgICAgdmFyIGlzUHJvdG8gPSBpc1Byb3RvdHlwZShvYmplY3QpLFxuICAgICAgICAgIHJlc3VsdCA9IFtdO1xuXG4gICAgICBmb3IgKHZhciBrZXkgaW4gb2JqZWN0KSB7XG4gICAgICAgIGlmICghKGtleSA9PSAnY29uc3RydWN0b3InICYmIChpc1Byb3RvIHx8ICFoYXNPd25Qcm9wZXJ0eS5jYWxsKG9iamVjdCwga2V5KSkpKSB7XG4gICAgICAgICAgcmVzdWx0LnB1c2goa2V5KTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5sdGAgd2hpY2ggZG9lc24ndCBjb2VyY2UgYXJndW1lbnRzLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjb21wYXJlLlxuICAgICAqIEBwYXJhbSB7Kn0gb3RoZXIgVGhlIG90aGVyIHZhbHVlIHRvIGNvbXBhcmUuXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgbGVzcyB0aGFuIGBvdGhlcmAsXG4gICAgICogIGVsc2UgYGZhbHNlYC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlTHQodmFsdWUsIG90aGVyKSB7XG4gICAgICByZXR1cm4gdmFsdWUgPCBvdGhlcjtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5tYXBgIHdpdGhvdXQgc3VwcG9ydCBmb3IgaXRlcmF0ZWUgc2hvcnRoYW5kcy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtBcnJheXxPYmplY3R9IGNvbGxlY3Rpb24gVGhlIGNvbGxlY3Rpb24gdG8gaXRlcmF0ZSBvdmVyLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGl0ZXJhdGVlIFRoZSBmdW5jdGlvbiBpbnZva2VkIHBlciBpdGVyYXRpb24uXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBuZXcgbWFwcGVkIGFycmF5LlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGJhc2VNYXAoY29sbGVjdGlvbiwgaXRlcmF0ZWUpIHtcbiAgICAgIHZhciBpbmRleCA9IC0xLFxuICAgICAgICAgIHJlc3VsdCA9IGlzQXJyYXlMaWtlKGNvbGxlY3Rpb24pID8gQXJyYXkoY29sbGVjdGlvbi5sZW5ndGgpIDogW107XG5cbiAgICAgIGJhc2VFYWNoKGNvbGxlY3Rpb24sIGZ1bmN0aW9uKHZhbHVlLCBrZXksIGNvbGxlY3Rpb24pIHtcbiAgICAgICAgcmVzdWx0WysraW5kZXhdID0gaXRlcmF0ZWUodmFsdWUsIGtleSwgY29sbGVjdGlvbik7XG4gICAgICB9KTtcbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8ubWF0Y2hlc2Agd2hpY2ggZG9lc24ndCBjbG9uZSBgc291cmNlYC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtPYmplY3R9IHNvdXJjZSBUaGUgb2JqZWN0IG9mIHByb3BlcnR5IHZhbHVlcyB0byBtYXRjaC5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyBzcGVjIGZ1bmN0aW9uLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGJhc2VNYXRjaGVzKHNvdXJjZSkge1xuICAgICAgdmFyIG1hdGNoRGF0YSA9IGdldE1hdGNoRGF0YShzb3VyY2UpO1xuICAgICAgaWYgKG1hdGNoRGF0YS5sZW5ndGggPT0gMSAmJiBtYXRjaERhdGFbMF1bMl0pIHtcbiAgICAgICAgcmV0dXJuIG1hdGNoZXNTdHJpY3RDb21wYXJhYmxlKG1hdGNoRGF0YVswXVswXSwgbWF0Y2hEYXRhWzBdWzFdKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBmdW5jdGlvbihvYmplY3QpIHtcbiAgICAgICAgcmV0dXJuIG9iamVjdCA9PT0gc291cmNlIHx8IGJhc2VJc01hdGNoKG9iamVjdCwgc291cmNlLCBtYXRjaERhdGEpO1xuICAgICAgfTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5tYXRjaGVzUHJvcGVydHlgIHdoaWNoIGRvZXNuJ3QgY2xvbmUgYHNyY1ZhbHVlYC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHBhdGggVGhlIHBhdGggb2YgdGhlIHByb3BlcnR5IHRvIGdldC5cbiAgICAgKiBAcGFyYW0geyp9IHNyY1ZhbHVlIFRoZSB2YWx1ZSB0byBtYXRjaC5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyBzcGVjIGZ1bmN0aW9uLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGJhc2VNYXRjaGVzUHJvcGVydHkocGF0aCwgc3JjVmFsdWUpIHtcbiAgICAgIGlmIChpc0tleShwYXRoKSAmJiBpc1N0cmljdENvbXBhcmFibGUoc3JjVmFsdWUpKSB7XG4gICAgICAgIHJldHVybiBtYXRjaGVzU3RyaWN0Q29tcGFyYWJsZSh0b0tleShwYXRoKSwgc3JjVmFsdWUpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGZ1bmN0aW9uKG9iamVjdCkge1xuICAgICAgICB2YXIgb2JqVmFsdWUgPSBnZXQob2JqZWN0LCBwYXRoKTtcbiAgICAgICAgcmV0dXJuIChvYmpWYWx1ZSA9PT0gdW5kZWZpbmVkICYmIG9ialZhbHVlID09PSBzcmNWYWx1ZSlcbiAgICAgICAgICA/IGhhc0luKG9iamVjdCwgcGF0aClcbiAgICAgICAgICA6IGJhc2VJc0VxdWFsKHNyY1ZhbHVlLCBvYmpWYWx1ZSwgQ09NUEFSRV9QQVJUSUFMX0ZMQUcgfCBDT01QQVJFX1VOT1JERVJFRF9GTEFHKTtcbiAgICAgIH07XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8ubWVyZ2VgIHdpdGhvdXQgc3VwcG9ydCBmb3IgbXVsdGlwbGUgc291cmNlcy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgZGVzdGluYXRpb24gb2JqZWN0LlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBzb3VyY2UgVGhlIHNvdXJjZSBvYmplY3QuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHNyY0luZGV4IFRoZSBpbmRleCBvZiBgc291cmNlYC5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbY3VzdG9taXplcl0gVGhlIGZ1bmN0aW9uIHRvIGN1c3RvbWl6ZSBtZXJnZWQgdmFsdWVzLlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBbc3RhY2tdIFRyYWNrcyB0cmF2ZXJzZWQgc291cmNlIHZhbHVlcyBhbmQgdGhlaXIgbWVyZ2VkXG4gICAgICogIGNvdW50ZXJwYXJ0cy5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlTWVyZ2Uob2JqZWN0LCBzb3VyY2UsIHNyY0luZGV4LCBjdXN0b21pemVyLCBzdGFjaykge1xuICAgICAgaWYgKG9iamVjdCA9PT0gc291cmNlKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGJhc2VGb3Ioc291cmNlLCBmdW5jdGlvbihzcmNWYWx1ZSwga2V5KSB7XG4gICAgICAgIHN0YWNrIHx8IChzdGFjayA9IG5ldyBTdGFjayk7XG4gICAgICAgIGlmIChpc09iamVjdChzcmNWYWx1ZSkpIHtcbiAgICAgICAgICBiYXNlTWVyZ2VEZWVwKG9iamVjdCwgc291cmNlLCBrZXksIHNyY0luZGV4LCBiYXNlTWVyZ2UsIGN1c3RvbWl6ZXIsIHN0YWNrKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICB2YXIgbmV3VmFsdWUgPSBjdXN0b21pemVyXG4gICAgICAgICAgICA/IGN1c3RvbWl6ZXIoc2FmZUdldChvYmplY3QsIGtleSksIHNyY1ZhbHVlLCAoa2V5ICsgJycpLCBvYmplY3QsIHNvdXJjZSwgc3RhY2spXG4gICAgICAgICAgICA6IHVuZGVmaW5lZDtcblxuICAgICAgICAgIGlmIChuZXdWYWx1ZSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBuZXdWYWx1ZSA9IHNyY1ZhbHVlO1xuICAgICAgICAgIH1cbiAgICAgICAgICBhc3NpZ25NZXJnZVZhbHVlKG9iamVjdCwga2V5LCBuZXdWYWx1ZSk7XG4gICAgICAgIH1cbiAgICAgIH0sIGtleXNJbik7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQSBzcGVjaWFsaXplZCB2ZXJzaW9uIG9mIGBiYXNlTWVyZ2VgIGZvciBhcnJheXMgYW5kIG9iamVjdHMgd2hpY2ggcGVyZm9ybXNcbiAgICAgKiBkZWVwIG1lcmdlcyBhbmQgdHJhY2tzIHRyYXZlcnNlZCBvYmplY3RzIGVuYWJsaW5nIG9iamVjdHMgd2l0aCBjaXJjdWxhclxuICAgICAqIHJlZmVyZW5jZXMgdG8gYmUgbWVyZ2VkLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBkZXN0aW5hdGlvbiBvYmplY3QuXG4gICAgICogQHBhcmFtIHtPYmplY3R9IHNvdXJjZSBUaGUgc291cmNlIG9iamVjdC5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSBrZXkgb2YgdGhlIHZhbHVlIHRvIG1lcmdlLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBzcmNJbmRleCBUaGUgaW5kZXggb2YgYHNvdXJjZWAuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gbWVyZ2VGdW5jIFRoZSBmdW5jdGlvbiB0byBtZXJnZSB2YWx1ZXMuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2N1c3RvbWl6ZXJdIFRoZSBmdW5jdGlvbiB0byBjdXN0b21pemUgYXNzaWduZWQgdmFsdWVzLlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBbc3RhY2tdIFRyYWNrcyB0cmF2ZXJzZWQgc291cmNlIHZhbHVlcyBhbmQgdGhlaXIgbWVyZ2VkXG4gICAgICogIGNvdW50ZXJwYXJ0cy5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlTWVyZ2VEZWVwKG9iamVjdCwgc291cmNlLCBrZXksIHNyY0luZGV4LCBtZXJnZUZ1bmMsIGN1c3RvbWl6ZXIsIHN0YWNrKSB7XG4gICAgICB2YXIgb2JqVmFsdWUgPSBzYWZlR2V0KG9iamVjdCwga2V5KSxcbiAgICAgICAgICBzcmNWYWx1ZSA9IHNhZmVHZXQoc291cmNlLCBrZXkpLFxuICAgICAgICAgIHN0YWNrZWQgPSBzdGFjay5nZXQoc3JjVmFsdWUpO1xuXG4gICAgICBpZiAoc3RhY2tlZCkge1xuICAgICAgICBhc3NpZ25NZXJnZVZhbHVlKG9iamVjdCwga2V5LCBzdGFja2VkKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgdmFyIG5ld1ZhbHVlID0gY3VzdG9taXplclxuICAgICAgICA/IGN1c3RvbWl6ZXIob2JqVmFsdWUsIHNyY1ZhbHVlLCAoa2V5ICsgJycpLCBvYmplY3QsIHNvdXJjZSwgc3RhY2spXG4gICAgICAgIDogdW5kZWZpbmVkO1xuXG4gICAgICB2YXIgaXNDb21tb24gPSBuZXdWYWx1ZSA9PT0gdW5kZWZpbmVkO1xuXG4gICAgICBpZiAoaXNDb21tb24pIHtcbiAgICAgICAgdmFyIGlzQXJyID0gaXNBcnJheShzcmNWYWx1ZSksXG4gICAgICAgICAgICBpc0J1ZmYgPSAhaXNBcnIgJiYgaXNCdWZmZXIoc3JjVmFsdWUpLFxuICAgICAgICAgICAgaXNUeXBlZCA9ICFpc0FyciAmJiAhaXNCdWZmICYmIGlzVHlwZWRBcnJheShzcmNWYWx1ZSk7XG5cbiAgICAgICAgbmV3VmFsdWUgPSBzcmNWYWx1ZTtcbiAgICAgICAgaWYgKGlzQXJyIHx8IGlzQnVmZiB8fCBpc1R5cGVkKSB7XG4gICAgICAgICAgaWYgKGlzQXJyYXkob2JqVmFsdWUpKSB7XG4gICAgICAgICAgICBuZXdWYWx1ZSA9IG9ialZhbHVlO1xuICAgICAgICAgIH1cbiAgICAgICAgICBlbHNlIGlmIChpc0FycmF5TGlrZU9iamVjdChvYmpWYWx1ZSkpIHtcbiAgICAgICAgICAgIG5ld1ZhbHVlID0gY29weUFycmF5KG9ialZhbHVlKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgZWxzZSBpZiAoaXNCdWZmKSB7XG4gICAgICAgICAgICBpc0NvbW1vbiA9IGZhbHNlO1xuICAgICAgICAgICAgbmV3VmFsdWUgPSBjbG9uZUJ1ZmZlcihzcmNWYWx1ZSwgdHJ1ZSk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGVsc2UgaWYgKGlzVHlwZWQpIHtcbiAgICAgICAgICAgIGlzQ29tbW9uID0gZmFsc2U7XG4gICAgICAgICAgICBuZXdWYWx1ZSA9IGNsb25lVHlwZWRBcnJheShzcmNWYWx1ZSwgdHJ1ZSk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgbmV3VmFsdWUgPSBbXTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoaXNQbGFpbk9iamVjdChzcmNWYWx1ZSkgfHwgaXNBcmd1bWVudHMoc3JjVmFsdWUpKSB7XG4gICAgICAgICAgbmV3VmFsdWUgPSBvYmpWYWx1ZTtcbiAgICAgICAgICBpZiAoaXNBcmd1bWVudHMob2JqVmFsdWUpKSB7XG4gICAgICAgICAgICBuZXdWYWx1ZSA9IHRvUGxhaW5PYmplY3Qob2JqVmFsdWUpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBlbHNlIGlmICghaXNPYmplY3Qob2JqVmFsdWUpIHx8IGlzRnVuY3Rpb24ob2JqVmFsdWUpKSB7XG4gICAgICAgICAgICBuZXdWYWx1ZSA9IGluaXRDbG9uZU9iamVjdChzcmNWYWx1ZSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgIGlzQ29tbW9uID0gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGlmIChpc0NvbW1vbikge1xuICAgICAgICAvLyBSZWN1cnNpdmVseSBtZXJnZSBvYmplY3RzIGFuZCBhcnJheXMgKHN1c2NlcHRpYmxlIHRvIGNhbGwgc3RhY2sgbGltaXRzKS5cbiAgICAgICAgc3RhY2suc2V0KHNyY1ZhbHVlLCBuZXdWYWx1ZSk7XG4gICAgICAgIG1lcmdlRnVuYyhuZXdWYWx1ZSwgc3JjVmFsdWUsIHNyY0luZGV4LCBjdXN0b21pemVyLCBzdGFjayk7XG4gICAgICAgIHN0YWNrWydkZWxldGUnXShzcmNWYWx1ZSk7XG4gICAgICB9XG4gICAgICBhc3NpZ25NZXJnZVZhbHVlKG9iamVjdCwga2V5LCBuZXdWYWx1ZSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8ubnRoYCB3aGljaCBkb2Vzbid0IGNvZXJjZSBhcmd1bWVudHMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBxdWVyeS5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gbiBUaGUgaW5kZXggb2YgdGhlIGVsZW1lbnQgdG8gcmV0dXJuLlxuICAgICAqIEByZXR1cm5zIHsqfSBSZXR1cm5zIHRoZSBudGggZWxlbWVudCBvZiBgYXJyYXlgLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGJhc2VOdGgoYXJyYXksIG4pIHtcbiAgICAgIHZhciBsZW5ndGggPSBhcnJheS5sZW5ndGg7XG4gICAgICBpZiAoIWxlbmd0aCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBuICs9IG4gPCAwID8gbGVuZ3RoIDogMDtcbiAgICAgIHJldHVybiBpc0luZGV4KG4sIGxlbmd0aCkgPyBhcnJheVtuXSA6IHVuZGVmaW5lZDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5vcmRlckJ5YCB3aXRob3V0IHBhcmFtIGd1YXJkcy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtBcnJheXxPYmplY3R9IGNvbGxlY3Rpb24gVGhlIGNvbGxlY3Rpb24gdG8gaXRlcmF0ZSBvdmVyLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb25bXXxPYmplY3RbXXxzdHJpbmdbXX0gaXRlcmF0ZWVzIFRoZSBpdGVyYXRlZXMgdG8gc29ydCBieS5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ1tdfSBvcmRlcnMgVGhlIHNvcnQgb3JkZXJzIG9mIGBpdGVyYXRlZXNgLlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgbmV3IHNvcnRlZCBhcnJheS5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlT3JkZXJCeShjb2xsZWN0aW9uLCBpdGVyYXRlZXMsIG9yZGVycykge1xuICAgICAgdmFyIGluZGV4ID0gLTE7XG4gICAgICBpdGVyYXRlZXMgPSBhcnJheU1hcChpdGVyYXRlZXMubGVuZ3RoID8gaXRlcmF0ZWVzIDogW2lkZW50aXR5XSwgYmFzZVVuYXJ5KGdldEl0ZXJhdGVlKCkpKTtcblxuICAgICAgdmFyIHJlc3VsdCA9IGJhc2VNYXAoY29sbGVjdGlvbiwgZnVuY3Rpb24odmFsdWUsIGtleSwgY29sbGVjdGlvbikge1xuICAgICAgICB2YXIgY3JpdGVyaWEgPSBhcnJheU1hcChpdGVyYXRlZXMsIGZ1bmN0aW9uKGl0ZXJhdGVlKSB7XG4gICAgICAgICAgcmV0dXJuIGl0ZXJhdGVlKHZhbHVlKTtcbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiB7ICdjcml0ZXJpYSc6IGNyaXRlcmlhLCAnaW5kZXgnOiArK2luZGV4LCAndmFsdWUnOiB2YWx1ZSB9O1xuICAgICAgfSk7XG5cbiAgICAgIHJldHVybiBiYXNlU29ydEJ5KHJlc3VsdCwgZnVuY3Rpb24ob2JqZWN0LCBvdGhlcikge1xuICAgICAgICByZXR1cm4gY29tcGFyZU11bHRpcGxlKG9iamVjdCwgb3RoZXIsIG9yZGVycyk7XG4gICAgICB9KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5waWNrYCB3aXRob3V0IHN1cHBvcnQgZm9yIGluZGl2aWR1YWxcbiAgICAgKiBwcm9wZXJ0eSBpZGVudGlmaWVycy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgc291cmNlIG9iamVjdC5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ1tdfSBwYXRocyBUaGUgcHJvcGVydHkgcGF0aHMgdG8gcGljay5cbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIHRoZSBuZXcgb2JqZWN0LlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGJhc2VQaWNrKG9iamVjdCwgcGF0aHMpIHtcbiAgICAgIHJldHVybiBiYXNlUGlja0J5KG9iamVjdCwgcGF0aHMsIGZ1bmN0aW9uKHZhbHVlLCBwYXRoKSB7XG4gICAgICAgIHJldHVybiBoYXNJbihvYmplY3QsIHBhdGgpO1xuICAgICAgfSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgIGBfLnBpY2tCeWAgd2l0aG91dCBzdXBwb3J0IGZvciBpdGVyYXRlZSBzaG9ydGhhbmRzLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBzb3VyY2Ugb2JqZWN0LlxuICAgICAqIEBwYXJhbSB7c3RyaW5nW119IHBhdGhzIFRoZSBwcm9wZXJ0eSBwYXRocyB0byBwaWNrLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IHByZWRpY2F0ZSBUaGUgZnVuY3Rpb24gaW52b2tlZCBwZXIgcHJvcGVydHkuXG4gICAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyB0aGUgbmV3IG9iamVjdC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlUGlja0J5KG9iamVjdCwgcGF0aHMsIHByZWRpY2F0ZSkge1xuICAgICAgdmFyIGluZGV4ID0gLTEsXG4gICAgICAgICAgbGVuZ3RoID0gcGF0aHMubGVuZ3RoLFxuICAgICAgICAgIHJlc3VsdCA9IHt9O1xuXG4gICAgICB3aGlsZSAoKytpbmRleCA8IGxlbmd0aCkge1xuICAgICAgICB2YXIgcGF0aCA9IHBhdGhzW2luZGV4XSxcbiAgICAgICAgICAgIHZhbHVlID0gYmFzZUdldChvYmplY3QsIHBhdGgpO1xuXG4gICAgICAgIGlmIChwcmVkaWNhdGUodmFsdWUsIHBhdGgpKSB7XG4gICAgICAgICAgYmFzZVNldChyZXN1bHQsIGNhc3RQYXRoKHBhdGgsIG9iamVjdCksIHZhbHVlKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBBIHNwZWNpYWxpemVkIHZlcnNpb24gb2YgYGJhc2VQcm9wZXJ0eWAgd2hpY2ggc3VwcG9ydHMgZGVlcCBwYXRocy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtBcnJheXxzdHJpbmd9IHBhdGggVGhlIHBhdGggb2YgdGhlIHByb3BlcnR5IHRvIGdldC5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyBhY2Nlc3NvciBmdW5jdGlvbi5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlUHJvcGVydHlEZWVwKHBhdGgpIHtcbiAgICAgIHJldHVybiBmdW5jdGlvbihvYmplY3QpIHtcbiAgICAgICAgcmV0dXJuIGJhc2VHZXQob2JqZWN0LCBwYXRoKTtcbiAgICAgIH07XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8ucHVsbEFsbEJ5YCB3aXRob3V0IHN1cHBvcnQgZm9yIGl0ZXJhdGVlXG4gICAgICogc2hvcnRoYW5kcy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIG1vZGlmeS5cbiAgICAgKiBAcGFyYW0ge0FycmF5fSB2YWx1ZXMgVGhlIHZhbHVlcyB0byByZW1vdmUuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2l0ZXJhdGVlXSBUaGUgaXRlcmF0ZWUgaW52b2tlZCBwZXIgZWxlbWVudC5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbY29tcGFyYXRvcl0gVGhlIGNvbXBhcmF0b3IgaW52b2tlZCBwZXIgZWxlbWVudC5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgYGFycmF5YC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlUHVsbEFsbChhcnJheSwgdmFsdWVzLCBpdGVyYXRlZSwgY29tcGFyYXRvcikge1xuICAgICAgdmFyIGluZGV4T2YgPSBjb21wYXJhdG9yID8gYmFzZUluZGV4T2ZXaXRoIDogYmFzZUluZGV4T2YsXG4gICAgICAgICAgaW5kZXggPSAtMSxcbiAgICAgICAgICBsZW5ndGggPSB2YWx1ZXMubGVuZ3RoLFxuICAgICAgICAgIHNlZW4gPSBhcnJheTtcblxuICAgICAgaWYgKGFycmF5ID09PSB2YWx1ZXMpIHtcbiAgICAgICAgdmFsdWVzID0gY29weUFycmF5KHZhbHVlcyk7XG4gICAgICB9XG4gICAgICBpZiAoaXRlcmF0ZWUpIHtcbiAgICAgICAgc2VlbiA9IGFycmF5TWFwKGFycmF5LCBiYXNlVW5hcnkoaXRlcmF0ZWUpKTtcbiAgICAgIH1cbiAgICAgIHdoaWxlICgrK2luZGV4IDwgbGVuZ3RoKSB7XG4gICAgICAgIHZhciBmcm9tSW5kZXggPSAwLFxuICAgICAgICAgICAgdmFsdWUgPSB2YWx1ZXNbaW5kZXhdLFxuICAgICAgICAgICAgY29tcHV0ZWQgPSBpdGVyYXRlZSA/IGl0ZXJhdGVlKHZhbHVlKSA6IHZhbHVlO1xuXG4gICAgICAgIHdoaWxlICgoZnJvbUluZGV4ID0gaW5kZXhPZihzZWVuLCBjb21wdXRlZCwgZnJvbUluZGV4LCBjb21wYXJhdG9yKSkgPiAtMSkge1xuICAgICAgICAgIGlmIChzZWVuICE9PSBhcnJheSkge1xuICAgICAgICAgICAgc3BsaWNlLmNhbGwoc2VlbiwgZnJvbUluZGV4LCAxKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgc3BsaWNlLmNhbGwoYXJyYXksIGZyb21JbmRleCwgMSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiBhcnJheTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5wdWxsQXRgIHdpdGhvdXQgc3VwcG9ydCBmb3IgaW5kaXZpZHVhbFxuICAgICAqIGluZGV4ZXMgb3IgY2FwdHVyaW5nIHRoZSByZW1vdmVkIGVsZW1lbnRzLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gbW9kaWZ5LlxuICAgICAqIEBwYXJhbSB7bnVtYmVyW119IGluZGV4ZXMgVGhlIGluZGV4ZXMgb2YgZWxlbWVudHMgdG8gcmVtb3ZlLlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyBgYXJyYXlgLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGJhc2VQdWxsQXQoYXJyYXksIGluZGV4ZXMpIHtcbiAgICAgIHZhciBsZW5ndGggPSBhcnJheSA/IGluZGV4ZXMubGVuZ3RoIDogMCxcbiAgICAgICAgICBsYXN0SW5kZXggPSBsZW5ndGggLSAxO1xuXG4gICAgICB3aGlsZSAobGVuZ3RoLS0pIHtcbiAgICAgICAgdmFyIGluZGV4ID0gaW5kZXhlc1tsZW5ndGhdO1xuICAgICAgICBpZiAobGVuZ3RoID09IGxhc3RJbmRleCB8fCBpbmRleCAhPT0gcHJldmlvdXMpIHtcbiAgICAgICAgICB2YXIgcHJldmlvdXMgPSBpbmRleDtcbiAgICAgICAgICBpZiAoaXNJbmRleChpbmRleCkpIHtcbiAgICAgICAgICAgIHNwbGljZS5jYWxsKGFycmF5LCBpbmRleCwgMSk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGJhc2VVbnNldChhcnJheSwgaW5kZXgpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIGFycmF5O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLnJhbmRvbWAgd2l0aG91dCBzdXBwb3J0IGZvciByZXR1cm5pbmdcbiAgICAgKiBmbG9hdGluZy1wb2ludCBudW1iZXJzLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gbG93ZXIgVGhlIGxvd2VyIGJvdW5kLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB1cHBlciBUaGUgdXBwZXIgYm91bmQuXG4gICAgICogQHJldHVybnMge251bWJlcn0gUmV0dXJucyB0aGUgcmFuZG9tIG51bWJlci5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlUmFuZG9tKGxvd2VyLCB1cHBlcikge1xuICAgICAgcmV0dXJuIGxvd2VyICsgbmF0aXZlRmxvb3IobmF0aXZlUmFuZG9tKCkgKiAodXBwZXIgLSBsb3dlciArIDEpKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5yYW5nZWAgYW5kIGBfLnJhbmdlUmlnaHRgIHdoaWNoIGRvZXNuJ3RcbiAgICAgKiBjb2VyY2UgYXJndW1lbnRzLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gc3RhcnQgVGhlIHN0YXJ0IG9mIHRoZSByYW5nZS5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gZW5kIFRoZSBlbmQgb2YgdGhlIHJhbmdlLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBzdGVwIFRoZSB2YWx1ZSB0byBpbmNyZW1lbnQgb3IgZGVjcmVtZW50IGJ5LlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW2Zyb21SaWdodF0gU3BlY2lmeSBpdGVyYXRpbmcgZnJvbSByaWdodCB0byBsZWZ0LlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgcmFuZ2Ugb2YgbnVtYmVycy5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlUmFuZ2Uoc3RhcnQsIGVuZCwgc3RlcCwgZnJvbVJpZ2h0KSB7XG4gICAgICB2YXIgaW5kZXggPSAtMSxcbiAgICAgICAgICBsZW5ndGggPSBuYXRpdmVNYXgobmF0aXZlQ2VpbCgoZW5kIC0gc3RhcnQpIC8gKHN0ZXAgfHwgMSkpLCAwKSxcbiAgICAgICAgICByZXN1bHQgPSBBcnJheShsZW5ndGgpO1xuXG4gICAgICB3aGlsZSAobGVuZ3RoLS0pIHtcbiAgICAgICAgcmVzdWx0W2Zyb21SaWdodCA/IGxlbmd0aCA6ICsraW5kZXhdID0gc3RhcnQ7XG4gICAgICAgIHN0YXJ0ICs9IHN0ZXA7XG4gICAgICB9XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLnJlcGVhdGAgd2hpY2ggZG9lc24ndCBjb2VyY2UgYXJndW1lbnRzLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gc3RyaW5nIFRoZSBzdHJpbmcgdG8gcmVwZWF0LlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBuIFRoZSBudW1iZXIgb2YgdGltZXMgdG8gcmVwZWF0IHRoZSBzdHJpbmcuXG4gICAgICogQHJldHVybnMge3N0cmluZ30gUmV0dXJucyB0aGUgcmVwZWF0ZWQgc3RyaW5nLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGJhc2VSZXBlYXQoc3RyaW5nLCBuKSB7XG4gICAgICB2YXIgcmVzdWx0ID0gJyc7XG4gICAgICBpZiAoIXN0cmluZyB8fCBuIDwgMSB8fCBuID4gTUFYX1NBRkVfSU5URUdFUikge1xuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgfVxuICAgICAgLy8gTGV2ZXJhZ2UgdGhlIGV4cG9uZW50aWF0aW9uIGJ5IHNxdWFyaW5nIGFsZ29yaXRobSBmb3IgYSBmYXN0ZXIgcmVwZWF0LlxuICAgICAgLy8gU2VlIGh0dHBzOi8vZW4ud2lraXBlZGlhLm9yZy93aWtpL0V4cG9uZW50aWF0aW9uX2J5X3NxdWFyaW5nIGZvciBtb3JlIGRldGFpbHMuXG4gICAgICBkbyB7XG4gICAgICAgIGlmIChuICUgMikge1xuICAgICAgICAgIHJlc3VsdCArPSBzdHJpbmc7XG4gICAgICAgIH1cbiAgICAgICAgbiA9IG5hdGl2ZUZsb29yKG4gLyAyKTtcbiAgICAgICAgaWYgKG4pIHtcbiAgICAgICAgICBzdHJpbmcgKz0gc3RyaW5nO1xuICAgICAgICB9XG4gICAgICB9IHdoaWxlIChuKTtcblxuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5yZXN0YCB3aGljaCBkb2Vzbid0IHZhbGlkYXRlIG9yIGNvZXJjZSBhcmd1bWVudHMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGZ1bmMgVGhlIGZ1bmN0aW9uIHRvIGFwcGx5IGEgcmVzdCBwYXJhbWV0ZXIgdG8uXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtzdGFydD1mdW5jLmxlbmd0aC0xXSBUaGUgc3RhcnQgcG9zaXRpb24gb2YgdGhlIHJlc3QgcGFyYW1ldGVyLlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IGZ1bmN0aW9uLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGJhc2VSZXN0KGZ1bmMsIHN0YXJ0KSB7XG4gICAgICByZXR1cm4gc2V0VG9TdHJpbmcob3ZlclJlc3QoZnVuYywgc3RhcnQsIGlkZW50aXR5KSwgZnVuYyArICcnKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5zYW1wbGVgLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0FycmF5fE9iamVjdH0gY29sbGVjdGlvbiBUaGUgY29sbGVjdGlvbiB0byBzYW1wbGUuXG4gICAgICogQHJldHVybnMgeyp9IFJldHVybnMgdGhlIHJhbmRvbSBlbGVtZW50LlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGJhc2VTYW1wbGUoY29sbGVjdGlvbikge1xuICAgICAgcmV0dXJuIGFycmF5U2FtcGxlKHZhbHVlcyhjb2xsZWN0aW9uKSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8uc2FtcGxlU2l6ZWAgd2l0aG91dCBwYXJhbSBndWFyZHMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7QXJyYXl8T2JqZWN0fSBjb2xsZWN0aW9uIFRoZSBjb2xsZWN0aW9uIHRvIHNhbXBsZS5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gbiBUaGUgbnVtYmVyIG9mIGVsZW1lbnRzIHRvIHNhbXBsZS5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIHJhbmRvbSBlbGVtZW50cy5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlU2FtcGxlU2l6ZShjb2xsZWN0aW9uLCBuKSB7XG4gICAgICB2YXIgYXJyYXkgPSB2YWx1ZXMoY29sbGVjdGlvbik7XG4gICAgICByZXR1cm4gc2h1ZmZsZVNlbGYoYXJyYXksIGJhc2VDbGFtcChuLCAwLCBhcnJheS5sZW5ndGgpKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5zZXRgLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gbW9kaWZ5LlxuICAgICAqIEBwYXJhbSB7QXJyYXl8c3RyaW5nfSBwYXRoIFRoZSBwYXRoIG9mIHRoZSBwcm9wZXJ0eSB0byBzZXQuXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gc2V0LlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtjdXN0b21pemVyXSBUaGUgZnVuY3Rpb24gdG8gY3VzdG9taXplIHBhdGggY3JlYXRpb24uXG4gICAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyBgb2JqZWN0YC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlU2V0KG9iamVjdCwgcGF0aCwgdmFsdWUsIGN1c3RvbWl6ZXIpIHtcbiAgICAgIGlmICghaXNPYmplY3Qob2JqZWN0KSkge1xuICAgICAgICByZXR1cm4gb2JqZWN0O1xuICAgICAgfVxuICAgICAgcGF0aCA9IGNhc3RQYXRoKHBhdGgsIG9iamVjdCk7XG5cbiAgICAgIHZhciBpbmRleCA9IC0xLFxuICAgICAgICAgIGxlbmd0aCA9IHBhdGgubGVuZ3RoLFxuICAgICAgICAgIGxhc3RJbmRleCA9IGxlbmd0aCAtIDEsXG4gICAgICAgICAgbmVzdGVkID0gb2JqZWN0O1xuXG4gICAgICB3aGlsZSAobmVzdGVkICE9IG51bGwgJiYgKytpbmRleCA8IGxlbmd0aCkge1xuICAgICAgICB2YXIga2V5ID0gdG9LZXkocGF0aFtpbmRleF0pLFxuICAgICAgICAgICAgbmV3VmFsdWUgPSB2YWx1ZTtcblxuICAgICAgICBpZiAoaW5kZXggIT0gbGFzdEluZGV4KSB7XG4gICAgICAgICAgdmFyIG9ialZhbHVlID0gbmVzdGVkW2tleV07XG4gICAgICAgICAgbmV3VmFsdWUgPSBjdXN0b21pemVyID8gY3VzdG9taXplcihvYmpWYWx1ZSwga2V5LCBuZXN0ZWQpIDogdW5kZWZpbmVkO1xuICAgICAgICAgIGlmIChuZXdWYWx1ZSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBuZXdWYWx1ZSA9IGlzT2JqZWN0KG9ialZhbHVlKVxuICAgICAgICAgICAgICA/IG9ialZhbHVlXG4gICAgICAgICAgICAgIDogKGlzSW5kZXgocGF0aFtpbmRleCArIDFdKSA/IFtdIDoge30pO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBhc3NpZ25WYWx1ZShuZXN0ZWQsIGtleSwgbmV3VmFsdWUpO1xuICAgICAgICBuZXN0ZWQgPSBuZXN0ZWRba2V5XTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBvYmplY3Q7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYHNldERhdGFgIHdpdGhvdXQgc3VwcG9ydCBmb3IgaG90IGxvb3Agc2hvcnRpbmcuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGZ1bmMgVGhlIGZ1bmN0aW9uIHRvIGFzc29jaWF0ZSBtZXRhZGF0YSB3aXRoLlxuICAgICAqIEBwYXJhbSB7Kn0gZGF0YSBUaGUgbWV0YWRhdGEuXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIGBmdW5jYC5cbiAgICAgKi9cbiAgICB2YXIgYmFzZVNldERhdGEgPSAhbWV0YU1hcCA/IGlkZW50aXR5IDogZnVuY3Rpb24oZnVuYywgZGF0YSkge1xuICAgICAgbWV0YU1hcC5zZXQoZnVuYywgZGF0YSk7XG4gICAgICByZXR1cm4gZnVuYztcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYHNldFRvU3RyaW5nYCB3aXRob3V0IHN1cHBvcnQgZm9yIGhvdCBsb29wIHNob3J0aW5nLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBmdW5jIFRoZSBmdW5jdGlvbiB0byBtb2RpZnkuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gc3RyaW5nIFRoZSBgdG9TdHJpbmdgIHJlc3VsdC5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgYGZ1bmNgLlxuICAgICAqL1xuICAgIHZhciBiYXNlU2V0VG9TdHJpbmcgPSAhZGVmaW5lUHJvcGVydHkgPyBpZGVudGl0eSA6IGZ1bmN0aW9uKGZ1bmMsIHN0cmluZykge1xuICAgICAgcmV0dXJuIGRlZmluZVByb3BlcnR5KGZ1bmMsICd0b1N0cmluZycsIHtcbiAgICAgICAgJ2NvbmZpZ3VyYWJsZSc6IHRydWUsXG4gICAgICAgICdlbnVtZXJhYmxlJzogZmFsc2UsXG4gICAgICAgICd2YWx1ZSc6IGNvbnN0YW50KHN0cmluZyksXG4gICAgICAgICd3cml0YWJsZSc6IHRydWVcbiAgICAgIH0pO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5zaHVmZmxlYC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtBcnJheXxPYmplY3R9IGNvbGxlY3Rpb24gVGhlIGNvbGxlY3Rpb24gdG8gc2h1ZmZsZS5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIG5ldyBzaHVmZmxlZCBhcnJheS5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlU2h1ZmZsZShjb2xsZWN0aW9uKSB7XG4gICAgICByZXR1cm4gc2h1ZmZsZVNlbGYodmFsdWVzKGNvbGxlY3Rpb24pKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5zbGljZWAgd2l0aG91dCBhbiBpdGVyYXRlZSBjYWxsIGd1YXJkLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gc2xpY2UuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtzdGFydD0wXSBUaGUgc3RhcnQgcG9zaXRpb24uXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtlbmQ9YXJyYXkubGVuZ3RoXSBUaGUgZW5kIHBvc2l0aW9uLlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgc2xpY2Ugb2YgYGFycmF5YC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlU2xpY2UoYXJyYXksIHN0YXJ0LCBlbmQpIHtcbiAgICAgIHZhciBpbmRleCA9IC0xLFxuICAgICAgICAgIGxlbmd0aCA9IGFycmF5Lmxlbmd0aDtcblxuICAgICAgaWYgKHN0YXJ0IDwgMCkge1xuICAgICAgICBzdGFydCA9IC1zdGFydCA+IGxlbmd0aCA/IDAgOiAobGVuZ3RoICsgc3RhcnQpO1xuICAgICAgfVxuICAgICAgZW5kID0gZW5kID4gbGVuZ3RoID8gbGVuZ3RoIDogZW5kO1xuICAgICAgaWYgKGVuZCA8IDApIHtcbiAgICAgICAgZW5kICs9IGxlbmd0aDtcbiAgICAgIH1cbiAgICAgIGxlbmd0aCA9IHN0YXJ0ID4gZW5kID8gMCA6ICgoZW5kIC0gc3RhcnQpID4+PiAwKTtcbiAgICAgIHN0YXJ0ID4+Pj0gMDtcblxuICAgICAgdmFyIHJlc3VsdCA9IEFycmF5KGxlbmd0aCk7XG4gICAgICB3aGlsZSAoKytpbmRleCA8IGxlbmd0aCkge1xuICAgICAgICByZXN1bHRbaW5kZXhdID0gYXJyYXlbaW5kZXggKyBzdGFydF07XG4gICAgICB9XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLnNvbWVgIHdpdGhvdXQgc3VwcG9ydCBmb3IgaXRlcmF0ZWUgc2hvcnRoYW5kcy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtBcnJheXxPYmplY3R9IGNvbGxlY3Rpb24gVGhlIGNvbGxlY3Rpb24gdG8gaXRlcmF0ZSBvdmVyLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IHByZWRpY2F0ZSBUaGUgZnVuY3Rpb24gaW52b2tlZCBwZXIgaXRlcmF0aW9uLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBhbnkgZWxlbWVudCBwYXNzZXMgdGhlIHByZWRpY2F0ZSBjaGVjayxcbiAgICAgKiAgZWxzZSBgZmFsc2VgLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGJhc2VTb21lKGNvbGxlY3Rpb24sIHByZWRpY2F0ZSkge1xuICAgICAgdmFyIHJlc3VsdDtcblxuICAgICAgYmFzZUVhY2goY29sbGVjdGlvbiwgZnVuY3Rpb24odmFsdWUsIGluZGV4LCBjb2xsZWN0aW9uKSB7XG4gICAgICAgIHJlc3VsdCA9IHByZWRpY2F0ZSh2YWx1ZSwgaW5kZXgsIGNvbGxlY3Rpb24pO1xuICAgICAgICByZXR1cm4gIXJlc3VsdDtcbiAgICAgIH0pO1xuICAgICAgcmV0dXJuICEhcmVzdWx0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLnNvcnRlZEluZGV4YCBhbmQgYF8uc29ydGVkTGFzdEluZGV4YCB3aGljaFxuICAgICAqIHBlcmZvcm1zIGEgYmluYXJ5IHNlYXJjaCBvZiBgYXJyYXlgIHRvIGRldGVybWluZSB0aGUgaW5kZXggYXQgd2hpY2ggYHZhbHVlYFxuICAgICAqIHNob3VsZCBiZSBpbnNlcnRlZCBpbnRvIGBhcnJheWAgaW4gb3JkZXIgdG8gbWFpbnRhaW4gaXRzIHNvcnQgb3JkZXIuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBzb3J0ZWQgYXJyYXkgdG8gaW5zcGVjdC5cbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBldmFsdWF0ZS5cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtyZXRIaWdoZXN0XSBTcGVjaWZ5IHJldHVybmluZyB0aGUgaGlnaGVzdCBxdWFsaWZpZWQgaW5kZXguXG4gICAgICogQHJldHVybnMge251bWJlcn0gUmV0dXJucyB0aGUgaW5kZXggYXQgd2hpY2ggYHZhbHVlYCBzaG91bGQgYmUgaW5zZXJ0ZWRcbiAgICAgKiAgaW50byBgYXJyYXlgLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGJhc2VTb3J0ZWRJbmRleChhcnJheSwgdmFsdWUsIHJldEhpZ2hlc3QpIHtcbiAgICAgIHZhciBsb3cgPSAwLFxuICAgICAgICAgIGhpZ2ggPSBhcnJheSA9PSBudWxsID8gbG93IDogYXJyYXkubGVuZ3RoO1xuXG4gICAgICBpZiAodHlwZW9mIHZhbHVlID09ICdudW1iZXInICYmIHZhbHVlID09PSB2YWx1ZSAmJiBoaWdoIDw9IEhBTEZfTUFYX0FSUkFZX0xFTkdUSCkge1xuICAgICAgICB3aGlsZSAobG93IDwgaGlnaCkge1xuICAgICAgICAgIHZhciBtaWQgPSAobG93ICsgaGlnaCkgPj4+IDEsXG4gICAgICAgICAgICAgIGNvbXB1dGVkID0gYXJyYXlbbWlkXTtcblxuICAgICAgICAgIGlmIChjb21wdXRlZCAhPT0gbnVsbCAmJiAhaXNTeW1ib2woY29tcHV0ZWQpICYmXG4gICAgICAgICAgICAgIChyZXRIaWdoZXN0ID8gKGNvbXB1dGVkIDw9IHZhbHVlKSA6IChjb21wdXRlZCA8IHZhbHVlKSkpIHtcbiAgICAgICAgICAgIGxvdyA9IG1pZCArIDE7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGhpZ2ggPSBtaWQ7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBoaWdoO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGJhc2VTb3J0ZWRJbmRleEJ5KGFycmF5LCB2YWx1ZSwgaWRlbnRpdHksIHJldEhpZ2hlc3QpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLnNvcnRlZEluZGV4QnlgIGFuZCBgXy5zb3J0ZWRMYXN0SW5kZXhCeWBcbiAgICAgKiB3aGljaCBpbnZva2VzIGBpdGVyYXRlZWAgZm9yIGB2YWx1ZWAgYW5kIGVhY2ggZWxlbWVudCBvZiBgYXJyYXlgIHRvIGNvbXB1dGVcbiAgICAgKiB0aGVpciBzb3J0IHJhbmtpbmcuIFRoZSBpdGVyYXRlZSBpcyBpbnZva2VkIHdpdGggb25lIGFyZ3VtZW50OyAodmFsdWUpLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgc29ydGVkIGFycmF5IHRvIGluc3BlY3QuXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gZXZhbHVhdGUuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gaXRlcmF0ZWUgVGhlIGl0ZXJhdGVlIGludm9rZWQgcGVyIGVsZW1lbnQuXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbcmV0SGlnaGVzdF0gU3BlY2lmeSByZXR1cm5pbmcgdGhlIGhpZ2hlc3QgcXVhbGlmaWVkIGluZGV4LlxuICAgICAqIEByZXR1cm5zIHtudW1iZXJ9IFJldHVybnMgdGhlIGluZGV4IGF0IHdoaWNoIGB2YWx1ZWAgc2hvdWxkIGJlIGluc2VydGVkXG4gICAgICogIGludG8gYGFycmF5YC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlU29ydGVkSW5kZXhCeShhcnJheSwgdmFsdWUsIGl0ZXJhdGVlLCByZXRIaWdoZXN0KSB7XG4gICAgICB2YWx1ZSA9IGl0ZXJhdGVlKHZhbHVlKTtcblxuICAgICAgdmFyIGxvdyA9IDAsXG4gICAgICAgICAgaGlnaCA9IGFycmF5ID09IG51bGwgPyAwIDogYXJyYXkubGVuZ3RoLFxuICAgICAgICAgIHZhbElzTmFOID0gdmFsdWUgIT09IHZhbHVlLFxuICAgICAgICAgIHZhbElzTnVsbCA9IHZhbHVlID09PSBudWxsLFxuICAgICAgICAgIHZhbElzU3ltYm9sID0gaXNTeW1ib2wodmFsdWUpLFxuICAgICAgICAgIHZhbElzVW5kZWZpbmVkID0gdmFsdWUgPT09IHVuZGVmaW5lZDtcblxuICAgICAgd2hpbGUgKGxvdyA8IGhpZ2gpIHtcbiAgICAgICAgdmFyIG1pZCA9IG5hdGl2ZUZsb29yKChsb3cgKyBoaWdoKSAvIDIpLFxuICAgICAgICAgICAgY29tcHV0ZWQgPSBpdGVyYXRlZShhcnJheVttaWRdKSxcbiAgICAgICAgICAgIG90aElzRGVmaW5lZCA9IGNvbXB1dGVkICE9PSB1bmRlZmluZWQsXG4gICAgICAgICAgICBvdGhJc051bGwgPSBjb21wdXRlZCA9PT0gbnVsbCxcbiAgICAgICAgICAgIG90aElzUmVmbGV4aXZlID0gY29tcHV0ZWQgPT09IGNvbXB1dGVkLFxuICAgICAgICAgICAgb3RoSXNTeW1ib2wgPSBpc1N5bWJvbChjb21wdXRlZCk7XG5cbiAgICAgICAgaWYgKHZhbElzTmFOKSB7XG4gICAgICAgICAgdmFyIHNldExvdyA9IHJldEhpZ2hlc3QgfHwgb3RoSXNSZWZsZXhpdmU7XG4gICAgICAgIH0gZWxzZSBpZiAodmFsSXNVbmRlZmluZWQpIHtcbiAgICAgICAgICBzZXRMb3cgPSBvdGhJc1JlZmxleGl2ZSAmJiAocmV0SGlnaGVzdCB8fCBvdGhJc0RlZmluZWQpO1xuICAgICAgICB9IGVsc2UgaWYgKHZhbElzTnVsbCkge1xuICAgICAgICAgIHNldExvdyA9IG90aElzUmVmbGV4aXZlICYmIG90aElzRGVmaW5lZCAmJiAocmV0SGlnaGVzdCB8fCAhb3RoSXNOdWxsKTtcbiAgICAgICAgfSBlbHNlIGlmICh2YWxJc1N5bWJvbCkge1xuICAgICAgICAgIHNldExvdyA9IG90aElzUmVmbGV4aXZlICYmIG90aElzRGVmaW5lZCAmJiAhb3RoSXNOdWxsICYmIChyZXRIaWdoZXN0IHx8ICFvdGhJc1N5bWJvbCk7XG4gICAgICAgIH0gZWxzZSBpZiAob3RoSXNOdWxsIHx8IG90aElzU3ltYm9sKSB7XG4gICAgICAgICAgc2V0TG93ID0gZmFsc2U7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgc2V0TG93ID0gcmV0SGlnaGVzdCA/IChjb21wdXRlZCA8PSB2YWx1ZSkgOiAoY29tcHV0ZWQgPCB2YWx1ZSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHNldExvdykge1xuICAgICAgICAgIGxvdyA9IG1pZCArIDE7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgaGlnaCA9IG1pZDtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIG5hdGl2ZU1pbihoaWdoLCBNQVhfQVJSQVlfSU5ERVgpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLnNvcnRlZFVuaXFgIGFuZCBgXy5zb3J0ZWRVbmlxQnlgIHdpdGhvdXRcbiAgICAgKiBzdXBwb3J0IGZvciBpdGVyYXRlZSBzaG9ydGhhbmRzLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gaW5zcGVjdC5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbaXRlcmF0ZWVdIFRoZSBpdGVyYXRlZSBpbnZva2VkIHBlciBlbGVtZW50LlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgbmV3IGR1cGxpY2F0ZSBmcmVlIGFycmF5LlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGJhc2VTb3J0ZWRVbmlxKGFycmF5LCBpdGVyYXRlZSkge1xuICAgICAgdmFyIGluZGV4ID0gLTEsXG4gICAgICAgICAgbGVuZ3RoID0gYXJyYXkubGVuZ3RoLFxuICAgICAgICAgIHJlc0luZGV4ID0gMCxcbiAgICAgICAgICByZXN1bHQgPSBbXTtcblxuICAgICAgd2hpbGUgKCsraW5kZXggPCBsZW5ndGgpIHtcbiAgICAgICAgdmFyIHZhbHVlID0gYXJyYXlbaW5kZXhdLFxuICAgICAgICAgICAgY29tcHV0ZWQgPSBpdGVyYXRlZSA/IGl0ZXJhdGVlKHZhbHVlKSA6IHZhbHVlO1xuXG4gICAgICAgIGlmICghaW5kZXggfHwgIWVxKGNvbXB1dGVkLCBzZWVuKSkge1xuICAgICAgICAgIHZhciBzZWVuID0gY29tcHV0ZWQ7XG4gICAgICAgICAgcmVzdWx0W3Jlc0luZGV4KytdID0gdmFsdWUgPT09IDAgPyAwIDogdmFsdWU7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8udG9OdW1iZXJgIHdoaWNoIGRvZXNuJ3QgZW5zdXJlIGNvcnJlY3RcbiAgICAgKiBjb252ZXJzaW9ucyBvZiBiaW5hcnksIGhleGFkZWNpbWFsLCBvciBvY3RhbCBzdHJpbmcgdmFsdWVzLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBwcm9jZXNzLlxuICAgICAqIEByZXR1cm5zIHtudW1iZXJ9IFJldHVybnMgdGhlIG51bWJlci5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlVG9OdW1iZXIodmFsdWUpIHtcbiAgICAgIGlmICh0eXBlb2YgdmFsdWUgPT0gJ251bWJlcicpIHtcbiAgICAgICAgcmV0dXJuIHZhbHVlO1xuICAgICAgfVxuICAgICAgaWYgKGlzU3ltYm9sKHZhbHVlKSkge1xuICAgICAgICByZXR1cm4gTkFOO1xuICAgICAgfVxuICAgICAgcmV0dXJuICt2YWx1ZTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy50b1N0cmluZ2Agd2hpY2ggZG9lc24ndCBjb252ZXJ0IG51bGxpc2hcbiAgICAgKiB2YWx1ZXMgdG8gZW1wdHkgc3RyaW5ncy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gcHJvY2Vzcy5cbiAgICAgKiBAcmV0dXJucyB7c3RyaW5nfSBSZXR1cm5zIHRoZSBzdHJpbmcuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZVRvU3RyaW5nKHZhbHVlKSB7XG4gICAgICAvLyBFeGl0IGVhcmx5IGZvciBzdHJpbmdzIHRvIGF2b2lkIGEgcGVyZm9ybWFuY2UgaGl0IGluIHNvbWUgZW52aXJvbm1lbnRzLlxuICAgICAgaWYgKHR5cGVvZiB2YWx1ZSA9PSAnc3RyaW5nJykge1xuICAgICAgICByZXR1cm4gdmFsdWU7XG4gICAgICB9XG4gICAgICBpZiAoaXNBcnJheSh2YWx1ZSkpIHtcbiAgICAgICAgLy8gUmVjdXJzaXZlbHkgY29udmVydCB2YWx1ZXMgKHN1c2NlcHRpYmxlIHRvIGNhbGwgc3RhY2sgbGltaXRzKS5cbiAgICAgICAgcmV0dXJuIGFycmF5TWFwKHZhbHVlLCBiYXNlVG9TdHJpbmcpICsgJyc7XG4gICAgICB9XG4gICAgICBpZiAoaXNTeW1ib2wodmFsdWUpKSB7XG4gICAgICAgIHJldHVybiBzeW1ib2xUb1N0cmluZyA/IHN5bWJvbFRvU3RyaW5nLmNhbGwodmFsdWUpIDogJyc7XG4gICAgICB9XG4gICAgICB2YXIgcmVzdWx0ID0gKHZhbHVlICsgJycpO1xuICAgICAgcmV0dXJuIChyZXN1bHQgPT0gJzAnICYmICgxIC8gdmFsdWUpID09IC1JTkZJTklUWSkgPyAnLTAnIDogcmVzdWx0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLnVuaXFCeWAgd2l0aG91dCBzdXBwb3J0IGZvciBpdGVyYXRlZSBzaG9ydGhhbmRzLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gaW5zcGVjdC5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbaXRlcmF0ZWVdIFRoZSBpdGVyYXRlZSBpbnZva2VkIHBlciBlbGVtZW50LlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtjb21wYXJhdG9yXSBUaGUgY29tcGFyYXRvciBpbnZva2VkIHBlciBlbGVtZW50LlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgbmV3IGR1cGxpY2F0ZSBmcmVlIGFycmF5LlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGJhc2VVbmlxKGFycmF5LCBpdGVyYXRlZSwgY29tcGFyYXRvcikge1xuICAgICAgdmFyIGluZGV4ID0gLTEsXG4gICAgICAgICAgaW5jbHVkZXMgPSBhcnJheUluY2x1ZGVzLFxuICAgICAgICAgIGxlbmd0aCA9IGFycmF5Lmxlbmd0aCxcbiAgICAgICAgICBpc0NvbW1vbiA9IHRydWUsXG4gICAgICAgICAgcmVzdWx0ID0gW10sXG4gICAgICAgICAgc2VlbiA9IHJlc3VsdDtcblxuICAgICAgaWYgKGNvbXBhcmF0b3IpIHtcbiAgICAgICAgaXNDb21tb24gPSBmYWxzZTtcbiAgICAgICAgaW5jbHVkZXMgPSBhcnJheUluY2x1ZGVzV2l0aDtcbiAgICAgIH1cbiAgICAgIGVsc2UgaWYgKGxlbmd0aCA+PSBMQVJHRV9BUlJBWV9TSVpFKSB7XG4gICAgICAgIHZhciBzZXQgPSBpdGVyYXRlZSA/IG51bGwgOiBjcmVhdGVTZXQoYXJyYXkpO1xuICAgICAgICBpZiAoc2V0KSB7XG4gICAgICAgICAgcmV0dXJuIHNldFRvQXJyYXkoc2V0KTtcbiAgICAgICAgfVxuICAgICAgICBpc0NvbW1vbiA9IGZhbHNlO1xuICAgICAgICBpbmNsdWRlcyA9IGNhY2hlSGFzO1xuICAgICAgICBzZWVuID0gbmV3IFNldENhY2hlO1xuICAgICAgfVxuICAgICAgZWxzZSB7XG4gICAgICAgIHNlZW4gPSBpdGVyYXRlZSA/IFtdIDogcmVzdWx0O1xuICAgICAgfVxuICAgICAgb3V0ZXI6XG4gICAgICB3aGlsZSAoKytpbmRleCA8IGxlbmd0aCkge1xuICAgICAgICB2YXIgdmFsdWUgPSBhcnJheVtpbmRleF0sXG4gICAgICAgICAgICBjb21wdXRlZCA9IGl0ZXJhdGVlID8gaXRlcmF0ZWUodmFsdWUpIDogdmFsdWU7XG5cbiAgICAgICAgdmFsdWUgPSAoY29tcGFyYXRvciB8fCB2YWx1ZSAhPT0gMCkgPyB2YWx1ZSA6IDA7XG4gICAgICAgIGlmIChpc0NvbW1vbiAmJiBjb21wdXRlZCA9PT0gY29tcHV0ZWQpIHtcbiAgICAgICAgICB2YXIgc2VlbkluZGV4ID0gc2Vlbi5sZW5ndGg7XG4gICAgICAgICAgd2hpbGUgKHNlZW5JbmRleC0tKSB7XG4gICAgICAgICAgICBpZiAoc2VlbltzZWVuSW5kZXhdID09PSBjb21wdXRlZCkge1xuICAgICAgICAgICAgICBjb250aW51ZSBvdXRlcjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKGl0ZXJhdGVlKSB7XG4gICAgICAgICAgICBzZWVuLnB1c2goY29tcHV0ZWQpO1xuICAgICAgICAgIH1cbiAgICAgICAgICByZXN1bHQucHVzaCh2YWx1ZSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoIWluY2x1ZGVzKHNlZW4sIGNvbXB1dGVkLCBjb21wYXJhdG9yKSkge1xuICAgICAgICAgIGlmIChzZWVuICE9PSByZXN1bHQpIHtcbiAgICAgICAgICAgIHNlZW4ucHVzaChjb21wdXRlZCk7XG4gICAgICAgICAgfVxuICAgICAgICAgIHJlc3VsdC5wdXNoKHZhbHVlKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy51bnNldGAuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBtb2RpZnkuXG4gICAgICogQHBhcmFtIHtBcnJheXxzdHJpbmd9IHBhdGggVGhlIHByb3BlcnR5IHBhdGggdG8gdW5zZXQuXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIHRoZSBwcm9wZXJ0eSBpcyBkZWxldGVkLCBlbHNlIGBmYWxzZWAuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZVVuc2V0KG9iamVjdCwgcGF0aCkge1xuICAgICAgcGF0aCA9IGNhc3RQYXRoKHBhdGgsIG9iamVjdCk7XG4gICAgICBvYmplY3QgPSBwYXJlbnQob2JqZWN0LCBwYXRoKTtcbiAgICAgIHJldHVybiBvYmplY3QgPT0gbnVsbCB8fCBkZWxldGUgb2JqZWN0W3RvS2V5KGxhc3QocGF0aCkpXTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy51cGRhdGVgLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gbW9kaWZ5LlxuICAgICAqIEBwYXJhbSB7QXJyYXl8c3RyaW5nfSBwYXRoIFRoZSBwYXRoIG9mIHRoZSBwcm9wZXJ0eSB0byB1cGRhdGUuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gdXBkYXRlciBUaGUgZnVuY3Rpb24gdG8gcHJvZHVjZSB0aGUgdXBkYXRlZCB2YWx1ZS5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbY3VzdG9taXplcl0gVGhlIGZ1bmN0aW9uIHRvIGN1c3RvbWl6ZSBwYXRoIGNyZWF0aW9uLlxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgYG9iamVjdGAuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZVVwZGF0ZShvYmplY3QsIHBhdGgsIHVwZGF0ZXIsIGN1c3RvbWl6ZXIpIHtcbiAgICAgIHJldHVybiBiYXNlU2V0KG9iamVjdCwgcGF0aCwgdXBkYXRlcihiYXNlR2V0KG9iamVjdCwgcGF0aCkpLCBjdXN0b21pemVyKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBtZXRob2RzIGxpa2UgYF8uZHJvcFdoaWxlYCBhbmQgYF8udGFrZVdoaWxlYFxuICAgICAqIHdpdGhvdXQgc3VwcG9ydCBmb3IgaXRlcmF0ZWUgc2hvcnRoYW5kcy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIHF1ZXJ5LlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IHByZWRpY2F0ZSBUaGUgZnVuY3Rpb24gaW52b2tlZCBwZXIgaXRlcmF0aW9uLlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW2lzRHJvcF0gU3BlY2lmeSBkcm9wcGluZyBlbGVtZW50cyBpbnN0ZWFkIG9mIHRha2luZyB0aGVtLlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW2Zyb21SaWdodF0gU3BlY2lmeSBpdGVyYXRpbmcgZnJvbSByaWdodCB0byBsZWZ0LlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgc2xpY2Ugb2YgYGFycmF5YC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlV2hpbGUoYXJyYXksIHByZWRpY2F0ZSwgaXNEcm9wLCBmcm9tUmlnaHQpIHtcbiAgICAgIHZhciBsZW5ndGggPSBhcnJheS5sZW5ndGgsXG4gICAgICAgICAgaW5kZXggPSBmcm9tUmlnaHQgPyBsZW5ndGggOiAtMTtcblxuICAgICAgd2hpbGUgKChmcm9tUmlnaHQgPyBpbmRleC0tIDogKytpbmRleCA8IGxlbmd0aCkgJiZcbiAgICAgICAgcHJlZGljYXRlKGFycmF5W2luZGV4XSwgaW5kZXgsIGFycmF5KSkge31cblxuICAgICAgcmV0dXJuIGlzRHJvcFxuICAgICAgICA/IGJhc2VTbGljZShhcnJheSwgKGZyb21SaWdodCA/IDAgOiBpbmRleCksIChmcm9tUmlnaHQgPyBpbmRleCArIDEgOiBsZW5ndGgpKVxuICAgICAgICA6IGJhc2VTbGljZShhcnJheSwgKGZyb21SaWdodCA/IGluZGV4ICsgMSA6IDApLCAoZnJvbVJpZ2h0ID8gbGVuZ3RoIDogaW5kZXgpKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgd3JhcHBlclZhbHVlYCB3aGljaCByZXR1cm5zIHRoZSByZXN1bHQgb2ZcbiAgICAgKiBwZXJmb3JtaW5nIGEgc2VxdWVuY2Ugb2YgYWN0aW9ucyBvbiB0aGUgdW53cmFwcGVkIGB2YWx1ZWAsIHdoZXJlIGVhY2hcbiAgICAgKiBzdWNjZXNzaXZlIGFjdGlvbiBpcyBzdXBwbGllZCB0aGUgcmV0dXJuIHZhbHVlIG9mIHRoZSBwcmV2aW91cy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdW53cmFwcGVkIHZhbHVlLlxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFjdGlvbnMgQWN0aW9ucyB0byBwZXJmb3JtIHRvIHJlc29sdmUgdGhlIHVud3JhcHBlZCB2YWx1ZS5cbiAgICAgKiBAcmV0dXJucyB7Kn0gUmV0dXJucyB0aGUgcmVzb2x2ZWQgdmFsdWUuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZVdyYXBwZXJWYWx1ZSh2YWx1ZSwgYWN0aW9ucykge1xuICAgICAgdmFyIHJlc3VsdCA9IHZhbHVlO1xuICAgICAgaWYgKHJlc3VsdCBpbnN0YW5jZW9mIExhenlXcmFwcGVyKSB7XG4gICAgICAgIHJlc3VsdCA9IHJlc3VsdC52YWx1ZSgpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGFycmF5UmVkdWNlKGFjdGlvbnMsIGZ1bmN0aW9uKHJlc3VsdCwgYWN0aW9uKSB7XG4gICAgICAgIHJldHVybiBhY3Rpb24uZnVuYy5hcHBseShhY3Rpb24udGhpc0FyZywgYXJyYXlQdXNoKFtyZXN1bHRdLCBhY3Rpb24uYXJncykpO1xuICAgICAgfSwgcmVzdWx0KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBtZXRob2RzIGxpa2UgYF8ueG9yYCwgd2l0aG91dCBzdXBwb3J0IGZvclxuICAgICAqIGl0ZXJhdGVlIHNob3J0aGFuZHMsIHRoYXQgYWNjZXB0cyBhbiBhcnJheSBvZiBhcnJheXMgdG8gaW5zcGVjdC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXlzIFRoZSBhcnJheXMgdG8gaW5zcGVjdC5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbaXRlcmF0ZWVdIFRoZSBpdGVyYXRlZSBpbnZva2VkIHBlciBlbGVtZW50LlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtjb21wYXJhdG9yXSBUaGUgY29tcGFyYXRvciBpbnZva2VkIHBlciBlbGVtZW50LlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgbmV3IGFycmF5IG9mIHZhbHVlcy5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlWG9yKGFycmF5cywgaXRlcmF0ZWUsIGNvbXBhcmF0b3IpIHtcbiAgICAgIHZhciBsZW5ndGggPSBhcnJheXMubGVuZ3RoO1xuICAgICAgaWYgKGxlbmd0aCA8IDIpIHtcbiAgICAgICAgcmV0dXJuIGxlbmd0aCA/IGJhc2VVbmlxKGFycmF5c1swXSkgOiBbXTtcbiAgICAgIH1cbiAgICAgIHZhciBpbmRleCA9IC0xLFxuICAgICAgICAgIHJlc3VsdCA9IEFycmF5KGxlbmd0aCk7XG5cbiAgICAgIHdoaWxlICgrK2luZGV4IDwgbGVuZ3RoKSB7XG4gICAgICAgIHZhciBhcnJheSA9IGFycmF5c1tpbmRleF0sXG4gICAgICAgICAgICBvdGhJbmRleCA9IC0xO1xuXG4gICAgICAgIHdoaWxlICgrK290aEluZGV4IDwgbGVuZ3RoKSB7XG4gICAgICAgICAgaWYgKG90aEluZGV4ICE9IGluZGV4KSB7XG4gICAgICAgICAgICByZXN1bHRbaW5kZXhdID0gYmFzZURpZmZlcmVuY2UocmVzdWx0W2luZGV4XSB8fCBhcnJheSwgYXJyYXlzW290aEluZGV4XSwgaXRlcmF0ZWUsIGNvbXBhcmF0b3IpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIGJhc2VVbmlxKGJhc2VGbGF0dGVuKHJlc3VsdCwgMSksIGl0ZXJhdGVlLCBjb21wYXJhdG9yKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8uemlwT2JqZWN0YCB3aGljaCBhc3NpZ25zIHZhbHVlcyB1c2luZyBgYXNzaWduRnVuY2AuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IHByb3BzIFRoZSBwcm9wZXJ0eSBpZGVudGlmaWVycy5cbiAgICAgKiBAcGFyYW0ge0FycmF5fSB2YWx1ZXMgVGhlIHByb3BlcnR5IHZhbHVlcy5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBhc3NpZ25GdW5jIFRoZSBmdW5jdGlvbiB0byBhc3NpZ24gdmFsdWVzLlxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgdGhlIG5ldyBvYmplY3QuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZVppcE9iamVjdChwcm9wcywgdmFsdWVzLCBhc3NpZ25GdW5jKSB7XG4gICAgICB2YXIgaW5kZXggPSAtMSxcbiAgICAgICAgICBsZW5ndGggPSBwcm9wcy5sZW5ndGgsXG4gICAgICAgICAgdmFsc0xlbmd0aCA9IHZhbHVlcy5sZW5ndGgsXG4gICAgICAgICAgcmVzdWx0ID0ge307XG5cbiAgICAgIHdoaWxlICgrK2luZGV4IDwgbGVuZ3RoKSB7XG4gICAgICAgIHZhciB2YWx1ZSA9IGluZGV4IDwgdmFsc0xlbmd0aCA/IHZhbHVlc1tpbmRleF0gOiB1bmRlZmluZWQ7XG4gICAgICAgIGFzc2lnbkZ1bmMocmVzdWx0LCBwcm9wc1tpbmRleF0sIHZhbHVlKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2FzdHMgYHZhbHVlYCB0byBhbiBlbXB0eSBhcnJheSBpZiBpdCdzIG5vdCBhbiBhcnJheSBsaWtlIG9iamVjdC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gaW5zcGVjdC5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl8T2JqZWN0fSBSZXR1cm5zIHRoZSBjYXN0IGFycmF5LWxpa2Ugb2JqZWN0LlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGNhc3RBcnJheUxpa2VPYmplY3QodmFsdWUpIHtcbiAgICAgIHJldHVybiBpc0FycmF5TGlrZU9iamVjdCh2YWx1ZSkgPyB2YWx1ZSA6IFtdO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENhc3RzIGB2YWx1ZWAgdG8gYGlkZW50aXR5YCBpZiBpdCdzIG5vdCBhIGZ1bmN0aW9uLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBpbnNwZWN0LlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyBjYXN0IGZ1bmN0aW9uLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGNhc3RGdW5jdGlvbih2YWx1ZSkge1xuICAgICAgcmV0dXJuIHR5cGVvZiB2YWx1ZSA9PSAnZnVuY3Rpb24nID8gdmFsdWUgOiBpZGVudGl0eTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDYXN0cyBgdmFsdWVgIHRvIGEgcGF0aCBhcnJheSBpZiBpdCdzIG5vdCBvbmUuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGluc3BlY3QuXG4gICAgICogQHBhcmFtIHtPYmplY3R9IFtvYmplY3RdIFRoZSBvYmplY3QgdG8gcXVlcnkga2V5cyBvbi5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIGNhc3QgcHJvcGVydHkgcGF0aCBhcnJheS5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBjYXN0UGF0aCh2YWx1ZSwgb2JqZWN0KSB7XG4gICAgICBpZiAoaXNBcnJheSh2YWx1ZSkpIHtcbiAgICAgICAgcmV0dXJuIHZhbHVlO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGlzS2V5KHZhbHVlLCBvYmplY3QpID8gW3ZhbHVlXSA6IHN0cmluZ1RvUGF0aCh0b1N0cmluZyh2YWx1ZSkpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEEgYGJhc2VSZXN0YCBhbGlhcyB3aGljaCBjYW4gYmUgcmVwbGFjZWQgd2l0aCBgaWRlbnRpdHlgIGJ5IG1vZHVsZVxuICAgICAqIHJlcGxhY2VtZW50IHBsdWdpbnMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEB0eXBlIHtGdW5jdGlvbn1cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBmdW5jIFRoZSBmdW5jdGlvbiB0byBhcHBseSBhIHJlc3QgcGFyYW1ldGVyIHRvLlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IGZ1bmN0aW9uLlxuICAgICAqL1xuICAgIHZhciBjYXN0UmVzdCA9IGJhc2VSZXN0O1xuXG4gICAgLyoqXG4gICAgICogQ2FzdHMgYGFycmF5YCB0byBhIHNsaWNlIGlmIGl0J3MgbmVlZGVkLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gaW5zcGVjdC5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gc3RhcnQgVGhlIHN0YXJ0IHBvc2l0aW9uLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbZW5kPWFycmF5Lmxlbmd0aF0gVGhlIGVuZCBwb3NpdGlvbi5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIGNhc3Qgc2xpY2UuXG4gICAgICovXG4gICAgZnVuY3Rpb24gY2FzdFNsaWNlKGFycmF5LCBzdGFydCwgZW5kKSB7XG4gICAgICB2YXIgbGVuZ3RoID0gYXJyYXkubGVuZ3RoO1xuICAgICAgZW5kID0gZW5kID09PSB1bmRlZmluZWQgPyBsZW5ndGggOiBlbmQ7XG4gICAgICByZXR1cm4gKCFzdGFydCAmJiBlbmQgPj0gbGVuZ3RoKSA/IGFycmF5IDogYmFzZVNsaWNlKGFycmF5LCBzdGFydCwgZW5kKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBBIHNpbXBsZSB3cmFwcGVyIGFyb3VuZCB0aGUgZ2xvYmFsIFtgY2xlYXJUaW1lb3V0YF0oaHR0cHM6Ly9tZG4uaW8vY2xlYXJUaW1lb3V0KS5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtudW1iZXJ8T2JqZWN0fSBpZCBUaGUgdGltZXIgaWQgb3IgdGltZW91dCBvYmplY3Qgb2YgdGhlIHRpbWVyIHRvIGNsZWFyLlxuICAgICAqL1xuICAgIHZhciBjbGVhclRpbWVvdXQgPSBjdHhDbGVhclRpbWVvdXQgfHwgZnVuY3Rpb24oaWQpIHtcbiAgICAgIHJldHVybiByb290LmNsZWFyVGltZW91dChpZCk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBjbG9uZSBvZiAgYGJ1ZmZlcmAuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7QnVmZmVyfSBidWZmZXIgVGhlIGJ1ZmZlciB0byBjbG9uZS5cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtpc0RlZXBdIFNwZWNpZnkgYSBkZWVwIGNsb25lLlxuICAgICAqIEByZXR1cm5zIHtCdWZmZXJ9IFJldHVybnMgdGhlIGNsb25lZCBidWZmZXIuXG4gICAgICovXG4gICAgZnVuY3Rpb24gY2xvbmVCdWZmZXIoYnVmZmVyLCBpc0RlZXApIHtcbiAgICAgIGlmIChpc0RlZXApIHtcbiAgICAgICAgcmV0dXJuIGJ1ZmZlci5zbGljZSgpO1xuICAgICAgfVxuICAgICAgdmFyIGxlbmd0aCA9IGJ1ZmZlci5sZW5ndGgsXG4gICAgICAgICAgcmVzdWx0ID0gYWxsb2NVbnNhZmUgPyBhbGxvY1Vuc2FmZShsZW5ndGgpIDogbmV3IGJ1ZmZlci5jb25zdHJ1Y3RvcihsZW5ndGgpO1xuXG4gICAgICBidWZmZXIuY29weShyZXN1bHQpO1xuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgY2xvbmUgb2YgYGFycmF5QnVmZmVyYC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtBcnJheUJ1ZmZlcn0gYXJyYXlCdWZmZXIgVGhlIGFycmF5IGJ1ZmZlciB0byBjbG9uZS5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXlCdWZmZXJ9IFJldHVybnMgdGhlIGNsb25lZCBhcnJheSBidWZmZXIuXG4gICAgICovXG4gICAgZnVuY3Rpb24gY2xvbmVBcnJheUJ1ZmZlcihhcnJheUJ1ZmZlcikge1xuICAgICAgdmFyIHJlc3VsdCA9IG5ldyBhcnJheUJ1ZmZlci5jb25zdHJ1Y3RvcihhcnJheUJ1ZmZlci5ieXRlTGVuZ3RoKTtcbiAgICAgIG5ldyBVaW50OEFycmF5KHJlc3VsdCkuc2V0KG5ldyBVaW50OEFycmF5KGFycmF5QnVmZmVyKSk7XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBjbG9uZSBvZiBgZGF0YVZpZXdgLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gZGF0YVZpZXcgVGhlIGRhdGEgdmlldyB0byBjbG9uZS5cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtpc0RlZXBdIFNwZWNpZnkgYSBkZWVwIGNsb25lLlxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgdGhlIGNsb25lZCBkYXRhIHZpZXcuXG4gICAgICovXG4gICAgZnVuY3Rpb24gY2xvbmVEYXRhVmlldyhkYXRhVmlldywgaXNEZWVwKSB7XG4gICAgICB2YXIgYnVmZmVyID0gaXNEZWVwID8gY2xvbmVBcnJheUJ1ZmZlcihkYXRhVmlldy5idWZmZXIpIDogZGF0YVZpZXcuYnVmZmVyO1xuICAgICAgcmV0dXJuIG5ldyBkYXRhVmlldy5jb25zdHJ1Y3RvcihidWZmZXIsIGRhdGFWaWV3LmJ5dGVPZmZzZXQsIGRhdGFWaWV3LmJ5dGVMZW5ndGgpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBjbG9uZSBvZiBgcmVnZXhwYC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtPYmplY3R9IHJlZ2V4cCBUaGUgcmVnZXhwIHRvIGNsb25lLlxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgdGhlIGNsb25lZCByZWdleHAuXG4gICAgICovXG4gICAgZnVuY3Rpb24gY2xvbmVSZWdFeHAocmVnZXhwKSB7XG4gICAgICB2YXIgcmVzdWx0ID0gbmV3IHJlZ2V4cC5jb25zdHJ1Y3RvcihyZWdleHAuc291cmNlLCByZUZsYWdzLmV4ZWMocmVnZXhwKSk7XG4gICAgICByZXN1bHQubGFzdEluZGV4ID0gcmVnZXhwLmxhc3RJbmRleDtcbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGNsb25lIG9mIHRoZSBgc3ltYm9sYCBvYmplY3QuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBzeW1ib2wgVGhlIHN5bWJvbCBvYmplY3QgdG8gY2xvbmUuXG4gICAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyB0aGUgY2xvbmVkIHN5bWJvbCBvYmplY3QuXG4gICAgICovXG4gICAgZnVuY3Rpb24gY2xvbmVTeW1ib2woc3ltYm9sKSB7XG4gICAgICByZXR1cm4gc3ltYm9sVmFsdWVPZiA/IE9iamVjdChzeW1ib2xWYWx1ZU9mLmNhbGwoc3ltYm9sKSkgOiB7fTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgY2xvbmUgb2YgYHR5cGVkQXJyYXlgLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gdHlwZWRBcnJheSBUaGUgdHlwZWQgYXJyYXkgdG8gY2xvbmUuXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbaXNEZWVwXSBTcGVjaWZ5IGEgZGVlcCBjbG9uZS5cbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIHRoZSBjbG9uZWQgdHlwZWQgYXJyYXkuXG4gICAgICovXG4gICAgZnVuY3Rpb24gY2xvbmVUeXBlZEFycmF5KHR5cGVkQXJyYXksIGlzRGVlcCkge1xuICAgICAgdmFyIGJ1ZmZlciA9IGlzRGVlcCA/IGNsb25lQXJyYXlCdWZmZXIodHlwZWRBcnJheS5idWZmZXIpIDogdHlwZWRBcnJheS5idWZmZXI7XG4gICAgICByZXR1cm4gbmV3IHR5cGVkQXJyYXkuY29uc3RydWN0b3IoYnVmZmVyLCB0eXBlZEFycmF5LmJ5dGVPZmZzZXQsIHR5cGVkQXJyYXkubGVuZ3RoKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDb21wYXJlcyB2YWx1ZXMgdG8gc29ydCB0aGVtIGluIGFzY2VuZGluZyBvcmRlci5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY29tcGFyZS5cbiAgICAgKiBAcGFyYW0geyp9IG90aGVyIFRoZSBvdGhlciB2YWx1ZSB0byBjb21wYXJlLlxuICAgICAqIEByZXR1cm5zIHtudW1iZXJ9IFJldHVybnMgdGhlIHNvcnQgb3JkZXIgaW5kaWNhdG9yIGZvciBgdmFsdWVgLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGNvbXBhcmVBc2NlbmRpbmcodmFsdWUsIG90aGVyKSB7XG4gICAgICBpZiAodmFsdWUgIT09IG90aGVyKSB7XG4gICAgICAgIHZhciB2YWxJc0RlZmluZWQgPSB2YWx1ZSAhPT0gdW5kZWZpbmVkLFxuICAgICAgICAgICAgdmFsSXNOdWxsID0gdmFsdWUgPT09IG51bGwsXG4gICAgICAgICAgICB2YWxJc1JlZmxleGl2ZSA9IHZhbHVlID09PSB2YWx1ZSxcbiAgICAgICAgICAgIHZhbElzU3ltYm9sID0gaXNTeW1ib2wodmFsdWUpO1xuXG4gICAgICAgIHZhciBvdGhJc0RlZmluZWQgPSBvdGhlciAhPT0gdW5kZWZpbmVkLFxuICAgICAgICAgICAgb3RoSXNOdWxsID0gb3RoZXIgPT09IG51bGwsXG4gICAgICAgICAgICBvdGhJc1JlZmxleGl2ZSA9IG90aGVyID09PSBvdGhlcixcbiAgICAgICAgICAgIG90aElzU3ltYm9sID0gaXNTeW1ib2wob3RoZXIpO1xuXG4gICAgICAgIGlmICgoIW90aElzTnVsbCAmJiAhb3RoSXNTeW1ib2wgJiYgIXZhbElzU3ltYm9sICYmIHZhbHVlID4gb3RoZXIpIHx8XG4gICAgICAgICAgICAodmFsSXNTeW1ib2wgJiYgb3RoSXNEZWZpbmVkICYmIG90aElzUmVmbGV4aXZlICYmICFvdGhJc051bGwgJiYgIW90aElzU3ltYm9sKSB8fFxuICAgICAgICAgICAgKHZhbElzTnVsbCAmJiBvdGhJc0RlZmluZWQgJiYgb3RoSXNSZWZsZXhpdmUpIHx8XG4gICAgICAgICAgICAoIXZhbElzRGVmaW5lZCAmJiBvdGhJc1JlZmxleGl2ZSkgfHxcbiAgICAgICAgICAgICF2YWxJc1JlZmxleGl2ZSkge1xuICAgICAgICAgIHJldHVybiAxO1xuICAgICAgICB9XG4gICAgICAgIGlmICgoIXZhbElzTnVsbCAmJiAhdmFsSXNTeW1ib2wgJiYgIW90aElzU3ltYm9sICYmIHZhbHVlIDwgb3RoZXIpIHx8XG4gICAgICAgICAgICAob3RoSXNTeW1ib2wgJiYgdmFsSXNEZWZpbmVkICYmIHZhbElzUmVmbGV4aXZlICYmICF2YWxJc051bGwgJiYgIXZhbElzU3ltYm9sKSB8fFxuICAgICAgICAgICAgKG90aElzTnVsbCAmJiB2YWxJc0RlZmluZWQgJiYgdmFsSXNSZWZsZXhpdmUpIHx8XG4gICAgICAgICAgICAoIW90aElzRGVmaW5lZCAmJiB2YWxJc1JlZmxleGl2ZSkgfHxcbiAgICAgICAgICAgICFvdGhJc1JlZmxleGl2ZSkge1xuICAgICAgICAgIHJldHVybiAtMTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIDA7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVXNlZCBieSBgXy5vcmRlckJ5YCB0byBjb21wYXJlIG11bHRpcGxlIHByb3BlcnRpZXMgb2YgYSB2YWx1ZSB0byBhbm90aGVyXG4gICAgICogYW5kIHN0YWJsZSBzb3J0IHRoZW0uXG4gICAgICpcbiAgICAgKiBJZiBgb3JkZXJzYCBpcyB1bnNwZWNpZmllZCwgYWxsIHZhbHVlcyBhcmUgc29ydGVkIGluIGFzY2VuZGluZyBvcmRlci4gT3RoZXJ3aXNlLFxuICAgICAqIHNwZWNpZnkgYW4gb3JkZXIgb2YgXCJkZXNjXCIgZm9yIGRlc2NlbmRpbmcgb3IgXCJhc2NcIiBmb3IgYXNjZW5kaW5nIHNvcnQgb3JkZXJcbiAgICAgKiBvZiBjb3JyZXNwb25kaW5nIHZhbHVlcy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIGNvbXBhcmUuXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG90aGVyIFRoZSBvdGhlciBvYmplY3QgdG8gY29tcGFyZS5cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW5bXXxzdHJpbmdbXX0gb3JkZXJzIFRoZSBvcmRlciB0byBzb3J0IGJ5IGZvciBlYWNoIHByb3BlcnR5LlxuICAgICAqIEByZXR1cm5zIHtudW1iZXJ9IFJldHVybnMgdGhlIHNvcnQgb3JkZXIgaW5kaWNhdG9yIGZvciBgb2JqZWN0YC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBjb21wYXJlTXVsdGlwbGUob2JqZWN0LCBvdGhlciwgb3JkZXJzKSB7XG4gICAgICB2YXIgaW5kZXggPSAtMSxcbiAgICAgICAgICBvYmpDcml0ZXJpYSA9IG9iamVjdC5jcml0ZXJpYSxcbiAgICAgICAgICBvdGhDcml0ZXJpYSA9IG90aGVyLmNyaXRlcmlhLFxuICAgICAgICAgIGxlbmd0aCA9IG9iakNyaXRlcmlhLmxlbmd0aCxcbiAgICAgICAgICBvcmRlcnNMZW5ndGggPSBvcmRlcnMubGVuZ3RoO1xuXG4gICAgICB3aGlsZSAoKytpbmRleCA8IGxlbmd0aCkge1xuICAgICAgICB2YXIgcmVzdWx0ID0gY29tcGFyZUFzY2VuZGluZyhvYmpDcml0ZXJpYVtpbmRleF0sIG90aENyaXRlcmlhW2luZGV4XSk7XG4gICAgICAgIGlmIChyZXN1bHQpIHtcbiAgICAgICAgICBpZiAoaW5kZXggPj0gb3JkZXJzTGVuZ3RoKSB7XG4gICAgICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgICAgIH1cbiAgICAgICAgICB2YXIgb3JkZXIgPSBvcmRlcnNbaW5kZXhdO1xuICAgICAgICAgIHJldHVybiByZXN1bHQgKiAob3JkZXIgPT0gJ2Rlc2MnID8gLTEgOiAxKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgLy8gRml4ZXMgYW4gYEFycmF5I3NvcnRgIGJ1ZyBpbiB0aGUgSlMgZW5naW5lIGVtYmVkZGVkIGluIEFkb2JlIGFwcGxpY2F0aW9uc1xuICAgICAgLy8gdGhhdCBjYXVzZXMgaXQsIHVuZGVyIGNlcnRhaW4gY2lyY3Vtc3RhbmNlcywgdG8gcHJvdmlkZSB0aGUgc2FtZSB2YWx1ZSBmb3JcbiAgICAgIC8vIGBvYmplY3RgIGFuZCBgb3RoZXJgLiBTZWUgaHR0cHM6Ly9naXRodWIuY29tL2phc2hrZW5hcy91bmRlcnNjb3JlL3B1bGwvMTI0N1xuICAgICAgLy8gZm9yIG1vcmUgZGV0YWlscy5cbiAgICAgIC8vXG4gICAgICAvLyBUaGlzIGFsc28gZW5zdXJlcyBhIHN0YWJsZSBzb3J0IGluIFY4IGFuZCBvdGhlciBlbmdpbmVzLlxuICAgICAgLy8gU2VlIGh0dHBzOi8vYnVncy5jaHJvbWl1bS5vcmcvcC92OC9pc3N1ZXMvZGV0YWlsP2lkPTkwIGZvciBtb3JlIGRldGFpbHMuXG4gICAgICByZXR1cm4gb2JqZWN0LmluZGV4IC0gb3RoZXIuaW5kZXg7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhbiBhcnJheSB0aGF0IGlzIHRoZSBjb21wb3NpdGlvbiBvZiBwYXJ0aWFsbHkgYXBwbGllZCBhcmd1bWVudHMsXG4gICAgICogcGxhY2Vob2xkZXJzLCBhbmQgcHJvdmlkZWQgYXJndW1lbnRzIGludG8gYSBzaW5nbGUgYXJyYXkgb2YgYXJndW1lbnRzLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcmdzIFRoZSBwcm92aWRlZCBhcmd1bWVudHMuXG4gICAgICogQHBhcmFtIHtBcnJheX0gcGFydGlhbHMgVGhlIGFyZ3VtZW50cyB0byBwcmVwZW5kIHRvIHRob3NlIHByb3ZpZGVkLlxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGhvbGRlcnMgVGhlIGBwYXJ0aWFsc2AgcGxhY2Vob2xkZXIgaW5kZXhlcy5cbiAgICAgKiBAcGFyYW1zIHtib29sZWFufSBbaXNDdXJyaWVkXSBTcGVjaWZ5IGNvbXBvc2luZyBmb3IgYSBjdXJyaWVkIGZ1bmN0aW9uLlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgbmV3IGFycmF5IG9mIGNvbXBvc2VkIGFyZ3VtZW50cy5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBjb21wb3NlQXJncyhhcmdzLCBwYXJ0aWFscywgaG9sZGVycywgaXNDdXJyaWVkKSB7XG4gICAgICB2YXIgYXJnc0luZGV4ID0gLTEsXG4gICAgICAgICAgYXJnc0xlbmd0aCA9IGFyZ3MubGVuZ3RoLFxuICAgICAgICAgIGhvbGRlcnNMZW5ndGggPSBob2xkZXJzLmxlbmd0aCxcbiAgICAgICAgICBsZWZ0SW5kZXggPSAtMSxcbiAgICAgICAgICBsZWZ0TGVuZ3RoID0gcGFydGlhbHMubGVuZ3RoLFxuICAgICAgICAgIHJhbmdlTGVuZ3RoID0gbmF0aXZlTWF4KGFyZ3NMZW5ndGggLSBob2xkZXJzTGVuZ3RoLCAwKSxcbiAgICAgICAgICByZXN1bHQgPSBBcnJheShsZWZ0TGVuZ3RoICsgcmFuZ2VMZW5ndGgpLFxuICAgICAgICAgIGlzVW5jdXJyaWVkID0gIWlzQ3VycmllZDtcblxuICAgICAgd2hpbGUgKCsrbGVmdEluZGV4IDwgbGVmdExlbmd0aCkge1xuICAgICAgICByZXN1bHRbbGVmdEluZGV4XSA9IHBhcnRpYWxzW2xlZnRJbmRleF07XG4gICAgICB9XG4gICAgICB3aGlsZSAoKythcmdzSW5kZXggPCBob2xkZXJzTGVuZ3RoKSB7XG4gICAgICAgIGlmIChpc1VuY3VycmllZCB8fCBhcmdzSW5kZXggPCBhcmdzTGVuZ3RoKSB7XG4gICAgICAgICAgcmVzdWx0W2hvbGRlcnNbYXJnc0luZGV4XV0gPSBhcmdzW2FyZ3NJbmRleF07XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHdoaWxlIChyYW5nZUxlbmd0aC0tKSB7XG4gICAgICAgIHJlc3VsdFtsZWZ0SW5kZXgrK10gPSBhcmdzW2FyZ3NJbmRleCsrXTtcbiAgICAgIH1cbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhpcyBmdW5jdGlvbiBpcyBsaWtlIGBjb21wb3NlQXJnc2AgZXhjZXB0IHRoYXQgdGhlIGFyZ3VtZW50cyBjb21wb3NpdGlvblxuICAgICAqIGlzIHRhaWxvcmVkIGZvciBgXy5wYXJ0aWFsUmlnaHRgLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcmdzIFRoZSBwcm92aWRlZCBhcmd1bWVudHMuXG4gICAgICogQHBhcmFtIHtBcnJheX0gcGFydGlhbHMgVGhlIGFyZ3VtZW50cyB0byBhcHBlbmQgdG8gdGhvc2UgcHJvdmlkZWQuXG4gICAgICogQHBhcmFtIHtBcnJheX0gaG9sZGVycyBUaGUgYHBhcnRpYWxzYCBwbGFjZWhvbGRlciBpbmRleGVzLlxuICAgICAqIEBwYXJhbXMge2Jvb2xlYW59IFtpc0N1cnJpZWRdIFNwZWNpZnkgY29tcG9zaW5nIGZvciBhIGN1cnJpZWQgZnVuY3Rpb24uXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBuZXcgYXJyYXkgb2YgY29tcG9zZWQgYXJndW1lbnRzLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGNvbXBvc2VBcmdzUmlnaHQoYXJncywgcGFydGlhbHMsIGhvbGRlcnMsIGlzQ3VycmllZCkge1xuICAgICAgdmFyIGFyZ3NJbmRleCA9IC0xLFxuICAgICAgICAgIGFyZ3NMZW5ndGggPSBhcmdzLmxlbmd0aCxcbiAgICAgICAgICBob2xkZXJzSW5kZXggPSAtMSxcbiAgICAgICAgICBob2xkZXJzTGVuZ3RoID0gaG9sZGVycy5sZW5ndGgsXG4gICAgICAgICAgcmlnaHRJbmRleCA9IC0xLFxuICAgICAgICAgIHJpZ2h0TGVuZ3RoID0gcGFydGlhbHMubGVuZ3RoLFxuICAgICAgICAgIHJhbmdlTGVuZ3RoID0gbmF0aXZlTWF4KGFyZ3NMZW5ndGggLSBob2xkZXJzTGVuZ3RoLCAwKSxcbiAgICAgICAgICByZXN1bHQgPSBBcnJheShyYW5nZUxlbmd0aCArIHJpZ2h0TGVuZ3RoKSxcbiAgICAgICAgICBpc1VuY3VycmllZCA9ICFpc0N1cnJpZWQ7XG5cbiAgICAgIHdoaWxlICgrK2FyZ3NJbmRleCA8IHJhbmdlTGVuZ3RoKSB7XG4gICAgICAgIHJlc3VsdFthcmdzSW5kZXhdID0gYXJnc1thcmdzSW5kZXhdO1xuICAgICAgfVxuICAgICAgdmFyIG9mZnNldCA9IGFyZ3NJbmRleDtcbiAgICAgIHdoaWxlICgrK3JpZ2h0SW5kZXggPCByaWdodExlbmd0aCkge1xuICAgICAgICByZXN1bHRbb2Zmc2V0ICsgcmlnaHRJbmRleF0gPSBwYXJ0aWFsc1tyaWdodEluZGV4XTtcbiAgICAgIH1cbiAgICAgIHdoaWxlICgrK2hvbGRlcnNJbmRleCA8IGhvbGRlcnNMZW5ndGgpIHtcbiAgICAgICAgaWYgKGlzVW5jdXJyaWVkIHx8IGFyZ3NJbmRleCA8IGFyZ3NMZW5ndGgpIHtcbiAgICAgICAgICByZXN1bHRbb2Zmc2V0ICsgaG9sZGVyc1tob2xkZXJzSW5kZXhdXSA9IGFyZ3NbYXJnc0luZGV4KytdO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENvcGllcyB0aGUgdmFsdWVzIG9mIGBzb3VyY2VgIHRvIGBhcnJheWAuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IHNvdXJjZSBUaGUgYXJyYXkgdG8gY29weSB2YWx1ZXMgZnJvbS5cbiAgICAgKiBAcGFyYW0ge0FycmF5fSBbYXJyYXk9W11dIFRoZSBhcnJheSB0byBjb3B5IHZhbHVlcyB0by5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgYGFycmF5YC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBjb3B5QXJyYXkoc291cmNlLCBhcnJheSkge1xuICAgICAgdmFyIGluZGV4ID0gLTEsXG4gICAgICAgICAgbGVuZ3RoID0gc291cmNlLmxlbmd0aDtcblxuICAgICAgYXJyYXkgfHwgKGFycmF5ID0gQXJyYXkobGVuZ3RoKSk7XG4gICAgICB3aGlsZSAoKytpbmRleCA8IGxlbmd0aCkge1xuICAgICAgICBhcnJheVtpbmRleF0gPSBzb3VyY2VbaW5kZXhdO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGFycmF5O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENvcGllcyBwcm9wZXJ0aWVzIG9mIGBzb3VyY2VgIHRvIGBvYmplY3RgLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gc291cmNlIFRoZSBvYmplY3QgdG8gY29weSBwcm9wZXJ0aWVzIGZyb20uXG4gICAgICogQHBhcmFtIHtBcnJheX0gcHJvcHMgVGhlIHByb3BlcnR5IGlkZW50aWZpZXJzIHRvIGNvcHkuXG4gICAgICogQHBhcmFtIHtPYmplY3R9IFtvYmplY3Q9e31dIFRoZSBvYmplY3QgdG8gY29weSBwcm9wZXJ0aWVzIHRvLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtjdXN0b21pemVyXSBUaGUgZnVuY3Rpb24gdG8gY3VzdG9taXplIGNvcGllZCB2YWx1ZXMuXG4gICAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyBgb2JqZWN0YC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBjb3B5T2JqZWN0KHNvdXJjZSwgcHJvcHMsIG9iamVjdCwgY3VzdG9taXplcikge1xuICAgICAgdmFyIGlzTmV3ID0gIW9iamVjdDtcbiAgICAgIG9iamVjdCB8fCAob2JqZWN0ID0ge30pO1xuXG4gICAgICB2YXIgaW5kZXggPSAtMSxcbiAgICAgICAgICBsZW5ndGggPSBwcm9wcy5sZW5ndGg7XG5cbiAgICAgIHdoaWxlICgrK2luZGV4IDwgbGVuZ3RoKSB7XG4gICAgICAgIHZhciBrZXkgPSBwcm9wc1tpbmRleF07XG5cbiAgICAgICAgdmFyIG5ld1ZhbHVlID0gY3VzdG9taXplclxuICAgICAgICAgID8gY3VzdG9taXplcihvYmplY3Rba2V5XSwgc291cmNlW2tleV0sIGtleSwgb2JqZWN0LCBzb3VyY2UpXG4gICAgICAgICAgOiB1bmRlZmluZWQ7XG5cbiAgICAgICAgaWYgKG5ld1ZhbHVlID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICBuZXdWYWx1ZSA9IHNvdXJjZVtrZXldO1xuICAgICAgICB9XG4gICAgICAgIGlmIChpc05ldykge1xuICAgICAgICAgIGJhc2VBc3NpZ25WYWx1ZShvYmplY3QsIGtleSwgbmV3VmFsdWUpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGFzc2lnblZhbHVlKG9iamVjdCwga2V5LCBuZXdWYWx1ZSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiBvYmplY3Q7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ29waWVzIG93biBzeW1ib2xzIG9mIGBzb3VyY2VgIHRvIGBvYmplY3RgLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gc291cmNlIFRoZSBvYmplY3QgdG8gY29weSBzeW1ib2xzIGZyb20uXG4gICAgICogQHBhcmFtIHtPYmplY3R9IFtvYmplY3Q9e31dIFRoZSBvYmplY3QgdG8gY29weSBzeW1ib2xzIHRvLlxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgYG9iamVjdGAuXG4gICAgICovXG4gICAgZnVuY3Rpb24gY29weVN5bWJvbHMoc291cmNlLCBvYmplY3QpIHtcbiAgICAgIHJldHVybiBjb3B5T2JqZWN0KHNvdXJjZSwgZ2V0U3ltYm9scyhzb3VyY2UpLCBvYmplY3QpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENvcGllcyBvd24gYW5kIGluaGVyaXRlZCBzeW1ib2xzIG9mIGBzb3VyY2VgIHRvIGBvYmplY3RgLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gc291cmNlIFRoZSBvYmplY3QgdG8gY29weSBzeW1ib2xzIGZyb20uXG4gICAgICogQHBhcmFtIHtPYmplY3R9IFtvYmplY3Q9e31dIFRoZSBvYmplY3QgdG8gY29weSBzeW1ib2xzIHRvLlxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgYG9iamVjdGAuXG4gICAgICovXG4gICAgZnVuY3Rpb24gY29weVN5bWJvbHNJbihzb3VyY2UsIG9iamVjdCkge1xuICAgICAgcmV0dXJuIGNvcHlPYmplY3Qoc291cmNlLCBnZXRTeW1ib2xzSW4oc291cmNlKSwgb2JqZWN0KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgZnVuY3Rpb24gbGlrZSBgXy5ncm91cEJ5YC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gc2V0dGVyIFRoZSBmdW5jdGlvbiB0byBzZXQgYWNjdW11bGF0b3IgdmFsdWVzLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtpbml0aWFsaXplcl0gVGhlIGFjY3VtdWxhdG9yIG9iamVjdCBpbml0aWFsaXplci5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyBhZ2dyZWdhdG9yIGZ1bmN0aW9uLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGNyZWF0ZUFnZ3JlZ2F0b3Ioc2V0dGVyLCBpbml0aWFsaXplcikge1xuICAgICAgcmV0dXJuIGZ1bmN0aW9uKGNvbGxlY3Rpb24sIGl0ZXJhdGVlKSB7XG4gICAgICAgIHZhciBmdW5jID0gaXNBcnJheShjb2xsZWN0aW9uKSA/IGFycmF5QWdncmVnYXRvciA6IGJhc2VBZ2dyZWdhdG9yLFxuICAgICAgICAgICAgYWNjdW11bGF0b3IgPSBpbml0aWFsaXplciA/IGluaXRpYWxpemVyKCkgOiB7fTtcblxuICAgICAgICByZXR1cm4gZnVuYyhjb2xsZWN0aW9uLCBzZXR0ZXIsIGdldEl0ZXJhdGVlKGl0ZXJhdGVlLCAyKSwgYWNjdW11bGF0b3IpO1xuICAgICAgfTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgZnVuY3Rpb24gbGlrZSBgXy5hc3NpZ25gLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBhc3NpZ25lciBUaGUgZnVuY3Rpb24gdG8gYXNzaWduIHZhbHVlcy5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyBhc3NpZ25lciBmdW5jdGlvbi5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBjcmVhdGVBc3NpZ25lcihhc3NpZ25lcikge1xuICAgICAgcmV0dXJuIGJhc2VSZXN0KGZ1bmN0aW9uKG9iamVjdCwgc291cmNlcykge1xuICAgICAgICB2YXIgaW5kZXggPSAtMSxcbiAgICAgICAgICAgIGxlbmd0aCA9IHNvdXJjZXMubGVuZ3RoLFxuICAgICAgICAgICAgY3VzdG9taXplciA9IGxlbmd0aCA+IDEgPyBzb3VyY2VzW2xlbmd0aCAtIDFdIDogdW5kZWZpbmVkLFxuICAgICAgICAgICAgZ3VhcmQgPSBsZW5ndGggPiAyID8gc291cmNlc1syXSA6IHVuZGVmaW5lZDtcblxuICAgICAgICBjdXN0b21pemVyID0gKGFzc2lnbmVyLmxlbmd0aCA+IDMgJiYgdHlwZW9mIGN1c3RvbWl6ZXIgPT0gJ2Z1bmN0aW9uJylcbiAgICAgICAgICA/IChsZW5ndGgtLSwgY3VzdG9taXplcilcbiAgICAgICAgICA6IHVuZGVmaW5lZDtcblxuICAgICAgICBpZiAoZ3VhcmQgJiYgaXNJdGVyYXRlZUNhbGwoc291cmNlc1swXSwgc291cmNlc1sxXSwgZ3VhcmQpKSB7XG4gICAgICAgICAgY3VzdG9taXplciA9IGxlbmd0aCA8IDMgPyB1bmRlZmluZWQgOiBjdXN0b21pemVyO1xuICAgICAgICAgIGxlbmd0aCA9IDE7XG4gICAgICAgIH1cbiAgICAgICAgb2JqZWN0ID0gT2JqZWN0KG9iamVjdCk7XG4gICAgICAgIHdoaWxlICgrK2luZGV4IDwgbGVuZ3RoKSB7XG4gICAgICAgICAgdmFyIHNvdXJjZSA9IHNvdXJjZXNbaW5kZXhdO1xuICAgICAgICAgIGlmIChzb3VyY2UpIHtcbiAgICAgICAgICAgIGFzc2lnbmVyKG9iamVjdCwgc291cmNlLCBpbmRleCwgY3VzdG9taXplcik7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBvYmplY3Q7XG4gICAgICB9KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgYGJhc2VFYWNoYCBvciBgYmFzZUVhY2hSaWdodGAgZnVuY3Rpb24uXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGVhY2hGdW5jIFRoZSBmdW5jdGlvbiB0byBpdGVyYXRlIG92ZXIgYSBjb2xsZWN0aW9uLlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW2Zyb21SaWdodF0gU3BlY2lmeSBpdGVyYXRpbmcgZnJvbSByaWdodCB0byBsZWZ0LlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IGJhc2UgZnVuY3Rpb24uXG4gICAgICovXG4gICAgZnVuY3Rpb24gY3JlYXRlQmFzZUVhY2goZWFjaEZ1bmMsIGZyb21SaWdodCkge1xuICAgICAgcmV0dXJuIGZ1bmN0aW9uKGNvbGxlY3Rpb24sIGl0ZXJhdGVlKSB7XG4gICAgICAgIGlmIChjb2xsZWN0aW9uID09IG51bGwpIHtcbiAgICAgICAgICByZXR1cm4gY29sbGVjdGlvbjtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIWlzQXJyYXlMaWtlKGNvbGxlY3Rpb24pKSB7XG4gICAgICAgICAgcmV0dXJuIGVhY2hGdW5jKGNvbGxlY3Rpb24sIGl0ZXJhdGVlKTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgbGVuZ3RoID0gY29sbGVjdGlvbi5sZW5ndGgsXG4gICAgICAgICAgICBpbmRleCA9IGZyb21SaWdodCA/IGxlbmd0aCA6IC0xLFxuICAgICAgICAgICAgaXRlcmFibGUgPSBPYmplY3QoY29sbGVjdGlvbik7XG5cbiAgICAgICAgd2hpbGUgKChmcm9tUmlnaHQgPyBpbmRleC0tIDogKytpbmRleCA8IGxlbmd0aCkpIHtcbiAgICAgICAgICBpZiAoaXRlcmF0ZWUoaXRlcmFibGVbaW5kZXhdLCBpbmRleCwgaXRlcmFibGUpID09PSBmYWxzZSkge1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBjb2xsZWN0aW9uO1xuICAgICAgfTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgYmFzZSBmdW5jdGlvbiBmb3IgbWV0aG9kcyBsaWtlIGBfLmZvckluYCBhbmQgYF8uZm9yT3duYC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbZnJvbVJpZ2h0XSBTcGVjaWZ5IGl0ZXJhdGluZyBmcm9tIHJpZ2h0IHRvIGxlZnQuXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgYmFzZSBmdW5jdGlvbi5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBjcmVhdGVCYXNlRm9yKGZyb21SaWdodCkge1xuICAgICAgcmV0dXJuIGZ1bmN0aW9uKG9iamVjdCwgaXRlcmF0ZWUsIGtleXNGdW5jKSB7XG4gICAgICAgIHZhciBpbmRleCA9IC0xLFxuICAgICAgICAgICAgaXRlcmFibGUgPSBPYmplY3Qob2JqZWN0KSxcbiAgICAgICAgICAgIHByb3BzID0ga2V5c0Z1bmMob2JqZWN0KSxcbiAgICAgICAgICAgIGxlbmd0aCA9IHByb3BzLmxlbmd0aDtcblxuICAgICAgICB3aGlsZSAobGVuZ3RoLS0pIHtcbiAgICAgICAgICB2YXIga2V5ID0gcHJvcHNbZnJvbVJpZ2h0ID8gbGVuZ3RoIDogKytpbmRleF07XG4gICAgICAgICAgaWYgKGl0ZXJhdGVlKGl0ZXJhYmxlW2tleV0sIGtleSwgaXRlcmFibGUpID09PSBmYWxzZSkge1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBvYmplY3Q7XG4gICAgICB9O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBmdW5jdGlvbiB0aGF0IHdyYXBzIGBmdW5jYCB0byBpbnZva2UgaXQgd2l0aCB0aGUgb3B0aW9uYWwgYHRoaXNgXG4gICAgICogYmluZGluZyBvZiBgdGhpc0FyZ2AuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGZ1bmMgVGhlIGZ1bmN0aW9uIHRvIHdyYXAuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGJpdG1hc2sgVGhlIGJpdG1hc2sgZmxhZ3MuIFNlZSBgY3JlYXRlV3JhcGAgZm9yIG1vcmUgZGV0YWlscy5cbiAgICAgKiBAcGFyYW0geyp9IFt0aGlzQXJnXSBUaGUgYHRoaXNgIGJpbmRpbmcgb2YgYGZ1bmNgLlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IHdyYXBwZWQgZnVuY3Rpb24uXG4gICAgICovXG4gICAgZnVuY3Rpb24gY3JlYXRlQmluZChmdW5jLCBiaXRtYXNrLCB0aGlzQXJnKSB7XG4gICAgICB2YXIgaXNCaW5kID0gYml0bWFzayAmIFdSQVBfQklORF9GTEFHLFxuICAgICAgICAgIEN0b3IgPSBjcmVhdGVDdG9yKGZ1bmMpO1xuXG4gICAgICBmdW5jdGlvbiB3cmFwcGVyKCkge1xuICAgICAgICB2YXIgZm4gPSAodGhpcyAmJiB0aGlzICE9PSByb290ICYmIHRoaXMgaW5zdGFuY2VvZiB3cmFwcGVyKSA/IEN0b3IgOiBmdW5jO1xuICAgICAgICByZXR1cm4gZm4uYXBwbHkoaXNCaW5kID8gdGhpc0FyZyA6IHRoaXMsIGFyZ3VtZW50cyk7XG4gICAgICB9XG4gICAgICByZXR1cm4gd3JhcHBlcjtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgZnVuY3Rpb24gbGlrZSBgXy5sb3dlckZpcnN0YC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IG1ldGhvZE5hbWUgVGhlIG5hbWUgb2YgdGhlIGBTdHJpbmdgIGNhc2UgbWV0aG9kIHRvIHVzZS5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyBjYXNlIGZ1bmN0aW9uLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGNyZWF0ZUNhc2VGaXJzdChtZXRob2ROYW1lKSB7XG4gICAgICByZXR1cm4gZnVuY3Rpb24oc3RyaW5nKSB7XG4gICAgICAgIHN0cmluZyA9IHRvU3RyaW5nKHN0cmluZyk7XG5cbiAgICAgICAgdmFyIHN0clN5bWJvbHMgPSBoYXNVbmljb2RlKHN0cmluZylcbiAgICAgICAgICA/IHN0cmluZ1RvQXJyYXkoc3RyaW5nKVxuICAgICAgICAgIDogdW5kZWZpbmVkO1xuXG4gICAgICAgIHZhciBjaHIgPSBzdHJTeW1ib2xzXG4gICAgICAgICAgPyBzdHJTeW1ib2xzWzBdXG4gICAgICAgICAgOiBzdHJpbmcuY2hhckF0KDApO1xuXG4gICAgICAgIHZhciB0cmFpbGluZyA9IHN0clN5bWJvbHNcbiAgICAgICAgICA/IGNhc3RTbGljZShzdHJTeW1ib2xzLCAxKS5qb2luKCcnKVxuICAgICAgICAgIDogc3RyaW5nLnNsaWNlKDEpO1xuXG4gICAgICAgIHJldHVybiBjaHJbbWV0aG9kTmFtZV0oKSArIHRyYWlsaW5nO1xuICAgICAgfTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgZnVuY3Rpb24gbGlrZSBgXy5jYW1lbENhc2VgLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBjYWxsYmFjayBUaGUgZnVuY3Rpb24gdG8gY29tYmluZSBlYWNoIHdvcmQuXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgY29tcG91bmRlciBmdW5jdGlvbi5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBjcmVhdGVDb21wb3VuZGVyKGNhbGxiYWNrKSB7XG4gICAgICByZXR1cm4gZnVuY3Rpb24oc3RyaW5nKSB7XG4gICAgICAgIHJldHVybiBhcnJheVJlZHVjZSh3b3JkcyhkZWJ1cnIoc3RyaW5nKS5yZXBsYWNlKHJlQXBvcywgJycpKSwgY2FsbGJhY2ssICcnKTtcbiAgICAgIH07XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGZ1bmN0aW9uIHRoYXQgcHJvZHVjZXMgYW4gaW5zdGFuY2Ugb2YgYEN0b3JgIHJlZ2FyZGxlc3Mgb2ZcbiAgICAgKiB3aGV0aGVyIGl0IHdhcyBpbnZva2VkIGFzIHBhcnQgb2YgYSBgbmV3YCBleHByZXNzaW9uIG9yIGJ5IGBjYWxsYCBvciBgYXBwbHlgLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBDdG9yIFRoZSBjb25zdHJ1Y3RvciB0byB3cmFwLlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IHdyYXBwZWQgZnVuY3Rpb24uXG4gICAgICovXG4gICAgZnVuY3Rpb24gY3JlYXRlQ3RvcihDdG9yKSB7XG4gICAgICByZXR1cm4gZnVuY3Rpb24oKSB7XG4gICAgICAgIC8vIFVzZSBhIGBzd2l0Y2hgIHN0YXRlbWVudCB0byB3b3JrIHdpdGggY2xhc3MgY29uc3RydWN0b3JzLiBTZWVcbiAgICAgICAgLy8gaHR0cDovL2VjbWEtaW50ZXJuYXRpb25hbC5vcmcvZWNtYS0yNjIvNy4wLyNzZWMtZWNtYXNjcmlwdC1mdW5jdGlvbi1vYmplY3RzLWNhbGwtdGhpc2FyZ3VtZW50LWFyZ3VtZW50c2xpc3RcbiAgICAgICAgLy8gZm9yIG1vcmUgZGV0YWlscy5cbiAgICAgICAgdmFyIGFyZ3MgPSBhcmd1bWVudHM7XG4gICAgICAgIHN3aXRjaCAoYXJncy5sZW5ndGgpIHtcbiAgICAgICAgICBjYXNlIDA6IHJldHVybiBuZXcgQ3RvcjtcbiAgICAgICAgICBjYXNlIDE6IHJldHVybiBuZXcgQ3RvcihhcmdzWzBdKTtcbiAgICAgICAgICBjYXNlIDI6IHJldHVybiBuZXcgQ3RvcihhcmdzWzBdLCBhcmdzWzFdKTtcbiAgICAgICAgICBjYXNlIDM6IHJldHVybiBuZXcgQ3RvcihhcmdzWzBdLCBhcmdzWzFdLCBhcmdzWzJdKTtcbiAgICAgICAgICBjYXNlIDQ6IHJldHVybiBuZXcgQ3RvcihhcmdzWzBdLCBhcmdzWzFdLCBhcmdzWzJdLCBhcmdzWzNdKTtcbiAgICAgICAgICBjYXNlIDU6IHJldHVybiBuZXcgQ3RvcihhcmdzWzBdLCBhcmdzWzFdLCBhcmdzWzJdLCBhcmdzWzNdLCBhcmdzWzRdKTtcbiAgICAgICAgICBjYXNlIDY6IHJldHVybiBuZXcgQ3RvcihhcmdzWzBdLCBhcmdzWzFdLCBhcmdzWzJdLCBhcmdzWzNdLCBhcmdzWzRdLCBhcmdzWzVdKTtcbiAgICAgICAgICBjYXNlIDc6IHJldHVybiBuZXcgQ3RvcihhcmdzWzBdLCBhcmdzWzFdLCBhcmdzWzJdLCBhcmdzWzNdLCBhcmdzWzRdLCBhcmdzWzVdLCBhcmdzWzZdKTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgdGhpc0JpbmRpbmcgPSBiYXNlQ3JlYXRlKEN0b3IucHJvdG90eXBlKSxcbiAgICAgICAgICAgIHJlc3VsdCA9IEN0b3IuYXBwbHkodGhpc0JpbmRpbmcsIGFyZ3MpO1xuXG4gICAgICAgIC8vIE1pbWljIHRoZSBjb25zdHJ1Y3RvcidzIGByZXR1cm5gIGJlaGF2aW9yLlxuICAgICAgICAvLyBTZWUgaHR0cHM6Ly9lczUuZ2l0aHViLmlvLyN4MTMuMi4yIGZvciBtb3JlIGRldGFpbHMuXG4gICAgICAgIHJldHVybiBpc09iamVjdChyZXN1bHQpID8gcmVzdWx0IDogdGhpc0JpbmRpbmc7XG4gICAgICB9O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBmdW5jdGlvbiB0aGF0IHdyYXBzIGBmdW5jYCB0byBlbmFibGUgY3VycnlpbmcuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGZ1bmMgVGhlIGZ1bmN0aW9uIHRvIHdyYXAuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGJpdG1hc2sgVGhlIGJpdG1hc2sgZmxhZ3MuIFNlZSBgY3JlYXRlV3JhcGAgZm9yIG1vcmUgZGV0YWlscy5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gYXJpdHkgVGhlIGFyaXR5IG9mIGBmdW5jYC5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyB3cmFwcGVkIGZ1bmN0aW9uLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGNyZWF0ZUN1cnJ5KGZ1bmMsIGJpdG1hc2ssIGFyaXR5KSB7XG4gICAgICB2YXIgQ3RvciA9IGNyZWF0ZUN0b3IoZnVuYyk7XG5cbiAgICAgIGZ1bmN0aW9uIHdyYXBwZXIoKSB7XG4gICAgICAgIHZhciBsZW5ndGggPSBhcmd1bWVudHMubGVuZ3RoLFxuICAgICAgICAgICAgYXJncyA9IEFycmF5KGxlbmd0aCksXG4gICAgICAgICAgICBpbmRleCA9IGxlbmd0aCxcbiAgICAgICAgICAgIHBsYWNlaG9sZGVyID0gZ2V0SG9sZGVyKHdyYXBwZXIpO1xuXG4gICAgICAgIHdoaWxlIChpbmRleC0tKSB7XG4gICAgICAgICAgYXJnc1tpbmRleF0gPSBhcmd1bWVudHNbaW5kZXhdO1xuICAgICAgICB9XG4gICAgICAgIHZhciBob2xkZXJzID0gKGxlbmd0aCA8IDMgJiYgYXJnc1swXSAhPT0gcGxhY2Vob2xkZXIgJiYgYXJnc1tsZW5ndGggLSAxXSAhPT0gcGxhY2Vob2xkZXIpXG4gICAgICAgICAgPyBbXVxuICAgICAgICAgIDogcmVwbGFjZUhvbGRlcnMoYXJncywgcGxhY2Vob2xkZXIpO1xuXG4gICAgICAgIGxlbmd0aCAtPSBob2xkZXJzLmxlbmd0aDtcbiAgICAgICAgaWYgKGxlbmd0aCA8IGFyaXR5KSB7XG4gICAgICAgICAgcmV0dXJuIGNyZWF0ZVJlY3VycnkoXG4gICAgICAgICAgICBmdW5jLCBiaXRtYXNrLCBjcmVhdGVIeWJyaWQsIHdyYXBwZXIucGxhY2Vob2xkZXIsIHVuZGVmaW5lZCxcbiAgICAgICAgICAgIGFyZ3MsIGhvbGRlcnMsIHVuZGVmaW5lZCwgdW5kZWZpbmVkLCBhcml0eSAtIGxlbmd0aCk7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGZuID0gKHRoaXMgJiYgdGhpcyAhPT0gcm9vdCAmJiB0aGlzIGluc3RhbmNlb2Ygd3JhcHBlcikgPyBDdG9yIDogZnVuYztcbiAgICAgICAgcmV0dXJuIGFwcGx5KGZuLCB0aGlzLCBhcmdzKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiB3cmFwcGVyO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBgXy5maW5kYCBvciBgXy5maW5kTGFzdGAgZnVuY3Rpb24uXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGZpbmRJbmRleEZ1bmMgVGhlIGZ1bmN0aW9uIHRvIGZpbmQgdGhlIGNvbGxlY3Rpb24gaW5kZXguXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgZmluZCBmdW5jdGlvbi5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBjcmVhdGVGaW5kKGZpbmRJbmRleEZ1bmMpIHtcbiAgICAgIHJldHVybiBmdW5jdGlvbihjb2xsZWN0aW9uLCBwcmVkaWNhdGUsIGZyb21JbmRleCkge1xuICAgICAgICB2YXIgaXRlcmFibGUgPSBPYmplY3QoY29sbGVjdGlvbik7XG4gICAgICAgIGlmICghaXNBcnJheUxpa2UoY29sbGVjdGlvbikpIHtcbiAgICAgICAgICB2YXIgaXRlcmF0ZWUgPSBnZXRJdGVyYXRlZShwcmVkaWNhdGUsIDMpO1xuICAgICAgICAgIGNvbGxlY3Rpb24gPSBrZXlzKGNvbGxlY3Rpb24pO1xuICAgICAgICAgIHByZWRpY2F0ZSA9IGZ1bmN0aW9uKGtleSkgeyByZXR1cm4gaXRlcmF0ZWUoaXRlcmFibGVba2V5XSwga2V5LCBpdGVyYWJsZSk7IH07XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGluZGV4ID0gZmluZEluZGV4RnVuYyhjb2xsZWN0aW9uLCBwcmVkaWNhdGUsIGZyb21JbmRleCk7XG4gICAgICAgIHJldHVybiBpbmRleCA+IC0xID8gaXRlcmFibGVbaXRlcmF0ZWUgPyBjb2xsZWN0aW9uW2luZGV4XSA6IGluZGV4XSA6IHVuZGVmaW5lZDtcbiAgICAgIH07XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGBfLmZsb3dgIG9yIGBfLmZsb3dSaWdodGAgZnVuY3Rpb24uXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW2Zyb21SaWdodF0gU3BlY2lmeSBpdGVyYXRpbmcgZnJvbSByaWdodCB0byBsZWZ0LlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IGZsb3cgZnVuY3Rpb24uXG4gICAgICovXG4gICAgZnVuY3Rpb24gY3JlYXRlRmxvdyhmcm9tUmlnaHQpIHtcbiAgICAgIHJldHVybiBmbGF0UmVzdChmdW5jdGlvbihmdW5jcykge1xuICAgICAgICB2YXIgbGVuZ3RoID0gZnVuY3MubGVuZ3RoLFxuICAgICAgICAgICAgaW5kZXggPSBsZW5ndGgsXG4gICAgICAgICAgICBwcmVyZXEgPSBMb2Rhc2hXcmFwcGVyLnByb3RvdHlwZS50aHJ1O1xuXG4gICAgICAgIGlmIChmcm9tUmlnaHQpIHtcbiAgICAgICAgICBmdW5jcy5yZXZlcnNlKCk7XG4gICAgICAgIH1cbiAgICAgICAgd2hpbGUgKGluZGV4LS0pIHtcbiAgICAgICAgICB2YXIgZnVuYyA9IGZ1bmNzW2luZGV4XTtcbiAgICAgICAgICBpZiAodHlwZW9mIGZ1bmMgIT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihGVU5DX0VSUk9SX1RFWFQpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAocHJlcmVxICYmICF3cmFwcGVyICYmIGdldEZ1bmNOYW1lKGZ1bmMpID09ICd3cmFwcGVyJykge1xuICAgICAgICAgICAgdmFyIHdyYXBwZXIgPSBuZXcgTG9kYXNoV3JhcHBlcihbXSwgdHJ1ZSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGluZGV4ID0gd3JhcHBlciA/IGluZGV4IDogbGVuZ3RoO1xuICAgICAgICB3aGlsZSAoKytpbmRleCA8IGxlbmd0aCkge1xuICAgICAgICAgIGZ1bmMgPSBmdW5jc1tpbmRleF07XG5cbiAgICAgICAgICB2YXIgZnVuY05hbWUgPSBnZXRGdW5jTmFtZShmdW5jKSxcbiAgICAgICAgICAgICAgZGF0YSA9IGZ1bmNOYW1lID09ICd3cmFwcGVyJyA/IGdldERhdGEoZnVuYykgOiB1bmRlZmluZWQ7XG5cbiAgICAgICAgICBpZiAoZGF0YSAmJiBpc0xhemlhYmxlKGRhdGFbMF0pICYmXG4gICAgICAgICAgICAgICAgZGF0YVsxXSA9PSAoV1JBUF9BUllfRkxBRyB8IFdSQVBfQ1VSUllfRkxBRyB8IFdSQVBfUEFSVElBTF9GTEFHIHwgV1JBUF9SRUFSR19GTEFHKSAmJlxuICAgICAgICAgICAgICAgICFkYXRhWzRdLmxlbmd0aCAmJiBkYXRhWzldID09IDFcbiAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICB3cmFwcGVyID0gd3JhcHBlcltnZXRGdW5jTmFtZShkYXRhWzBdKV0uYXBwbHkod3JhcHBlciwgZGF0YVszXSk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHdyYXBwZXIgPSAoZnVuYy5sZW5ndGggPT0gMSAmJiBpc0xhemlhYmxlKGZ1bmMpKVxuICAgICAgICAgICAgICA/IHdyYXBwZXJbZnVuY05hbWVdKClcbiAgICAgICAgICAgICAgOiB3cmFwcGVyLnRocnUoZnVuYyk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBmdW5jdGlvbigpIHtcbiAgICAgICAgICB2YXIgYXJncyA9IGFyZ3VtZW50cyxcbiAgICAgICAgICAgICAgdmFsdWUgPSBhcmdzWzBdO1xuXG4gICAgICAgICAgaWYgKHdyYXBwZXIgJiYgYXJncy5sZW5ndGggPT0gMSAmJiBpc0FycmF5KHZhbHVlKSkge1xuICAgICAgICAgICAgcmV0dXJuIHdyYXBwZXIucGxhbnQodmFsdWUpLnZhbHVlKCk7XG4gICAgICAgICAgfVxuICAgICAgICAgIHZhciBpbmRleCA9IDAsXG4gICAgICAgICAgICAgIHJlc3VsdCA9IGxlbmd0aCA/IGZ1bmNzW2luZGV4XS5hcHBseSh0aGlzLCBhcmdzKSA6IHZhbHVlO1xuXG4gICAgICAgICAgd2hpbGUgKCsraW5kZXggPCBsZW5ndGgpIHtcbiAgICAgICAgICAgIHJlc3VsdCA9IGZ1bmNzW2luZGV4XS5jYWxsKHRoaXMsIHJlc3VsdCk7XG4gICAgICAgICAgfVxuICAgICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICAgIH07XG4gICAgICB9KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgZnVuY3Rpb24gdGhhdCB3cmFwcyBgZnVuY2AgdG8gaW52b2tlIGl0IHdpdGggb3B0aW9uYWwgYHRoaXNgXG4gICAgICogYmluZGluZyBvZiBgdGhpc0FyZ2AsIHBhcnRpYWwgYXBwbGljYXRpb24sIGFuZCBjdXJyeWluZy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbnxzdHJpbmd9IGZ1bmMgVGhlIGZ1bmN0aW9uIG9yIG1ldGhvZCBuYW1lIHRvIHdyYXAuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGJpdG1hc2sgVGhlIGJpdG1hc2sgZmxhZ3MuIFNlZSBgY3JlYXRlV3JhcGAgZm9yIG1vcmUgZGV0YWlscy5cbiAgICAgKiBAcGFyYW0geyp9IFt0aGlzQXJnXSBUaGUgYHRoaXNgIGJpbmRpbmcgb2YgYGZ1bmNgLlxuICAgICAqIEBwYXJhbSB7QXJyYXl9IFtwYXJ0aWFsc10gVGhlIGFyZ3VtZW50cyB0byBwcmVwZW5kIHRvIHRob3NlIHByb3ZpZGVkIHRvXG4gICAgICogIHRoZSBuZXcgZnVuY3Rpb24uXG4gICAgICogQHBhcmFtIHtBcnJheX0gW2hvbGRlcnNdIFRoZSBgcGFydGlhbHNgIHBsYWNlaG9sZGVyIGluZGV4ZXMuXG4gICAgICogQHBhcmFtIHtBcnJheX0gW3BhcnRpYWxzUmlnaHRdIFRoZSBhcmd1bWVudHMgdG8gYXBwZW5kIHRvIHRob3NlIHByb3ZpZGVkXG4gICAgICogIHRvIHRoZSBuZXcgZnVuY3Rpb24uXG4gICAgICogQHBhcmFtIHtBcnJheX0gW2hvbGRlcnNSaWdodF0gVGhlIGBwYXJ0aWFsc1JpZ2h0YCBwbGFjZWhvbGRlciBpbmRleGVzLlxuICAgICAqIEBwYXJhbSB7QXJyYXl9IFthcmdQb3NdIFRoZSBhcmd1bWVudCBwb3NpdGlvbnMgb2YgdGhlIG5ldyBmdW5jdGlvbi5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW2FyeV0gVGhlIGFyaXR5IGNhcCBvZiBgZnVuY2AuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFthcml0eV0gVGhlIGFyaXR5IG9mIGBmdW5jYC5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyB3cmFwcGVkIGZ1bmN0aW9uLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGNyZWF0ZUh5YnJpZChmdW5jLCBiaXRtYXNrLCB0aGlzQXJnLCBwYXJ0aWFscywgaG9sZGVycywgcGFydGlhbHNSaWdodCwgaG9sZGVyc1JpZ2h0LCBhcmdQb3MsIGFyeSwgYXJpdHkpIHtcbiAgICAgIHZhciBpc0FyeSA9IGJpdG1hc2sgJiBXUkFQX0FSWV9GTEFHLFxuICAgICAgICAgIGlzQmluZCA9IGJpdG1hc2sgJiBXUkFQX0JJTkRfRkxBRyxcbiAgICAgICAgICBpc0JpbmRLZXkgPSBiaXRtYXNrICYgV1JBUF9CSU5EX0tFWV9GTEFHLFxuICAgICAgICAgIGlzQ3VycmllZCA9IGJpdG1hc2sgJiAoV1JBUF9DVVJSWV9GTEFHIHwgV1JBUF9DVVJSWV9SSUdIVF9GTEFHKSxcbiAgICAgICAgICBpc0ZsaXAgPSBiaXRtYXNrICYgV1JBUF9GTElQX0ZMQUcsXG4gICAgICAgICAgQ3RvciA9IGlzQmluZEtleSA/IHVuZGVmaW5lZCA6IGNyZWF0ZUN0b3IoZnVuYyk7XG5cbiAgICAgIGZ1bmN0aW9uIHdyYXBwZXIoKSB7XG4gICAgICAgIHZhciBsZW5ndGggPSBhcmd1bWVudHMubGVuZ3RoLFxuICAgICAgICAgICAgYXJncyA9IEFycmF5KGxlbmd0aCksXG4gICAgICAgICAgICBpbmRleCA9IGxlbmd0aDtcblxuICAgICAgICB3aGlsZSAoaW5kZXgtLSkge1xuICAgICAgICAgIGFyZ3NbaW5kZXhdID0gYXJndW1lbnRzW2luZGV4XTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoaXNDdXJyaWVkKSB7XG4gICAgICAgICAgdmFyIHBsYWNlaG9sZGVyID0gZ2V0SG9sZGVyKHdyYXBwZXIpLFxuICAgICAgICAgICAgICBob2xkZXJzQ291bnQgPSBjb3VudEhvbGRlcnMoYXJncywgcGxhY2Vob2xkZXIpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChwYXJ0aWFscykge1xuICAgICAgICAgIGFyZ3MgPSBjb21wb3NlQXJncyhhcmdzLCBwYXJ0aWFscywgaG9sZGVycywgaXNDdXJyaWVkKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAocGFydGlhbHNSaWdodCkge1xuICAgICAgICAgIGFyZ3MgPSBjb21wb3NlQXJnc1JpZ2h0KGFyZ3MsIHBhcnRpYWxzUmlnaHQsIGhvbGRlcnNSaWdodCwgaXNDdXJyaWVkKTtcbiAgICAgICAgfVxuICAgICAgICBsZW5ndGggLT0gaG9sZGVyc0NvdW50O1xuICAgICAgICBpZiAoaXNDdXJyaWVkICYmIGxlbmd0aCA8IGFyaXR5KSB7XG4gICAgICAgICAgdmFyIG5ld0hvbGRlcnMgPSByZXBsYWNlSG9sZGVycyhhcmdzLCBwbGFjZWhvbGRlcik7XG4gICAgICAgICAgcmV0dXJuIGNyZWF0ZVJlY3VycnkoXG4gICAgICAgICAgICBmdW5jLCBiaXRtYXNrLCBjcmVhdGVIeWJyaWQsIHdyYXBwZXIucGxhY2Vob2xkZXIsIHRoaXNBcmcsXG4gICAgICAgICAgICBhcmdzLCBuZXdIb2xkZXJzLCBhcmdQb3MsIGFyeSwgYXJpdHkgLSBsZW5ndGhcbiAgICAgICAgICApO1xuICAgICAgICB9XG4gICAgICAgIHZhciB0aGlzQmluZGluZyA9IGlzQmluZCA/IHRoaXNBcmcgOiB0aGlzLFxuICAgICAgICAgICAgZm4gPSBpc0JpbmRLZXkgPyB0aGlzQmluZGluZ1tmdW5jXSA6IGZ1bmM7XG5cbiAgICAgICAgbGVuZ3RoID0gYXJncy5sZW5ndGg7XG4gICAgICAgIGlmIChhcmdQb3MpIHtcbiAgICAgICAgICBhcmdzID0gcmVvcmRlcihhcmdzLCBhcmdQb3MpO1xuICAgICAgICB9IGVsc2UgaWYgKGlzRmxpcCAmJiBsZW5ndGggPiAxKSB7XG4gICAgICAgICAgYXJncy5yZXZlcnNlKCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGlzQXJ5ICYmIGFyeSA8IGxlbmd0aCkge1xuICAgICAgICAgIGFyZ3MubGVuZ3RoID0gYXJ5O1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzICYmIHRoaXMgIT09IHJvb3QgJiYgdGhpcyBpbnN0YW5jZW9mIHdyYXBwZXIpIHtcbiAgICAgICAgICBmbiA9IEN0b3IgfHwgY3JlYXRlQ3Rvcihmbik7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGZuLmFwcGx5KHRoaXNCaW5kaW5nLCBhcmdzKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiB3cmFwcGVyO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBmdW5jdGlvbiBsaWtlIGBfLmludmVydEJ5YC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gc2V0dGVyIFRoZSBmdW5jdGlvbiB0byBzZXQgYWNjdW11bGF0b3IgdmFsdWVzLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IHRvSXRlcmF0ZWUgVGhlIGZ1bmN0aW9uIHRvIHJlc29sdmUgaXRlcmF0ZWVzLlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IGludmVydGVyIGZ1bmN0aW9uLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGNyZWF0ZUludmVydGVyKHNldHRlciwgdG9JdGVyYXRlZSkge1xuICAgICAgcmV0dXJuIGZ1bmN0aW9uKG9iamVjdCwgaXRlcmF0ZWUpIHtcbiAgICAgICAgcmV0dXJuIGJhc2VJbnZlcnRlcihvYmplY3QsIHNldHRlciwgdG9JdGVyYXRlZShpdGVyYXRlZSksIHt9KTtcbiAgICAgIH07XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGZ1bmN0aW9uIHRoYXQgcGVyZm9ybXMgYSBtYXRoZW1hdGljYWwgb3BlcmF0aW9uIG9uIHR3byB2YWx1ZXMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IG9wZXJhdG9yIFRoZSBmdW5jdGlvbiB0byBwZXJmb3JtIHRoZSBvcGVyYXRpb24uXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtkZWZhdWx0VmFsdWVdIFRoZSB2YWx1ZSB1c2VkIGZvciBgdW5kZWZpbmVkYCBhcmd1bWVudHMuXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgbWF0aGVtYXRpY2FsIG9wZXJhdGlvbiBmdW5jdGlvbi5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBjcmVhdGVNYXRoT3BlcmF0aW9uKG9wZXJhdG9yLCBkZWZhdWx0VmFsdWUpIHtcbiAgICAgIHJldHVybiBmdW5jdGlvbih2YWx1ZSwgb3RoZXIpIHtcbiAgICAgICAgdmFyIHJlc3VsdDtcbiAgICAgICAgaWYgKHZhbHVlID09PSB1bmRlZmluZWQgJiYgb3RoZXIgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgIHJldHVybiBkZWZhdWx0VmFsdWU7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHZhbHVlICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICByZXN1bHQgPSB2YWx1ZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAob3RoZXIgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgIGlmIChyZXN1bHQgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgcmV0dXJuIG90aGVyO1xuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAodHlwZW9mIHZhbHVlID09ICdzdHJpbmcnIHx8IHR5cGVvZiBvdGhlciA9PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgdmFsdWUgPSBiYXNlVG9TdHJpbmcodmFsdWUpO1xuICAgICAgICAgICAgb3RoZXIgPSBiYXNlVG9TdHJpbmcob3RoZXIpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB2YWx1ZSA9IGJhc2VUb051bWJlcih2YWx1ZSk7XG4gICAgICAgICAgICBvdGhlciA9IGJhc2VUb051bWJlcihvdGhlcik7XG4gICAgICAgICAgfVxuICAgICAgICAgIHJlc3VsdCA9IG9wZXJhdG9yKHZhbHVlLCBvdGhlcik7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgIH07XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGZ1bmN0aW9uIGxpa2UgYF8ub3ZlcmAuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGFycmF5RnVuYyBUaGUgZnVuY3Rpb24gdG8gaXRlcmF0ZSBvdmVyIGl0ZXJhdGVlcy5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyBvdmVyIGZ1bmN0aW9uLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGNyZWF0ZU92ZXIoYXJyYXlGdW5jKSB7XG4gICAgICByZXR1cm4gZmxhdFJlc3QoZnVuY3Rpb24oaXRlcmF0ZWVzKSB7XG4gICAgICAgIGl0ZXJhdGVlcyA9IGFycmF5TWFwKGl0ZXJhdGVlcywgYmFzZVVuYXJ5KGdldEl0ZXJhdGVlKCkpKTtcbiAgICAgICAgcmV0dXJuIGJhc2VSZXN0KGZ1bmN0aW9uKGFyZ3MpIHtcbiAgICAgICAgICB2YXIgdGhpc0FyZyA9IHRoaXM7XG4gICAgICAgICAgcmV0dXJuIGFycmF5RnVuYyhpdGVyYXRlZXMsIGZ1bmN0aW9uKGl0ZXJhdGVlKSB7XG4gICAgICAgICAgICByZXR1cm4gYXBwbHkoaXRlcmF0ZWUsIHRoaXNBcmcsIGFyZ3MpO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgdGhlIHBhZGRpbmcgZm9yIGBzdHJpbmdgIGJhc2VkIG9uIGBsZW5ndGhgLiBUaGUgYGNoYXJzYCBzdHJpbmdcbiAgICAgKiBpcyB0cnVuY2F0ZWQgaWYgdGhlIG51bWJlciBvZiBjaGFyYWN0ZXJzIGV4Y2VlZHMgYGxlbmd0aGAuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBsZW5ndGggVGhlIHBhZGRpbmcgbGVuZ3RoLlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbY2hhcnM9JyAnXSBUaGUgc3RyaW5nIHVzZWQgYXMgcGFkZGluZy5cbiAgICAgKiBAcmV0dXJucyB7c3RyaW5nfSBSZXR1cm5zIHRoZSBwYWRkaW5nIGZvciBgc3RyaW5nYC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBjcmVhdGVQYWRkaW5nKGxlbmd0aCwgY2hhcnMpIHtcbiAgICAgIGNoYXJzID0gY2hhcnMgPT09IHVuZGVmaW5lZCA/ICcgJyA6IGJhc2VUb1N0cmluZyhjaGFycyk7XG5cbiAgICAgIHZhciBjaGFyc0xlbmd0aCA9IGNoYXJzLmxlbmd0aDtcbiAgICAgIGlmIChjaGFyc0xlbmd0aCA8IDIpIHtcbiAgICAgICAgcmV0dXJuIGNoYXJzTGVuZ3RoID8gYmFzZVJlcGVhdChjaGFycywgbGVuZ3RoKSA6IGNoYXJzO1xuICAgICAgfVxuICAgICAgdmFyIHJlc3VsdCA9IGJhc2VSZXBlYXQoY2hhcnMsIG5hdGl2ZUNlaWwobGVuZ3RoIC8gc3RyaW5nU2l6ZShjaGFycykpKTtcbiAgICAgIHJldHVybiBoYXNVbmljb2RlKGNoYXJzKVxuICAgICAgICA/IGNhc3RTbGljZShzdHJpbmdUb0FycmF5KHJlc3VsdCksIDAsIGxlbmd0aCkuam9pbignJylcbiAgICAgICAgOiByZXN1bHQuc2xpY2UoMCwgbGVuZ3RoKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgZnVuY3Rpb24gdGhhdCB3cmFwcyBgZnVuY2AgdG8gaW52b2tlIGl0IHdpdGggdGhlIGB0aGlzYCBiaW5kaW5nXG4gICAgICogb2YgYHRoaXNBcmdgIGFuZCBgcGFydGlhbHNgIHByZXBlbmRlZCB0byB0aGUgYXJndW1lbnRzIGl0IHJlY2VpdmVzLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBmdW5jIFRoZSBmdW5jdGlvbiB0byB3cmFwLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBiaXRtYXNrIFRoZSBiaXRtYXNrIGZsYWdzLiBTZWUgYGNyZWF0ZVdyYXBgIGZvciBtb3JlIGRldGFpbHMuXG4gICAgICogQHBhcmFtIHsqfSB0aGlzQXJnIFRoZSBgdGhpc2AgYmluZGluZyBvZiBgZnVuY2AuXG4gICAgICogQHBhcmFtIHtBcnJheX0gcGFydGlhbHMgVGhlIGFyZ3VtZW50cyB0byBwcmVwZW5kIHRvIHRob3NlIHByb3ZpZGVkIHRvXG4gICAgICogIHRoZSBuZXcgZnVuY3Rpb24uXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgd3JhcHBlZCBmdW5jdGlvbi5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBjcmVhdGVQYXJ0aWFsKGZ1bmMsIGJpdG1hc2ssIHRoaXNBcmcsIHBhcnRpYWxzKSB7XG4gICAgICB2YXIgaXNCaW5kID0gYml0bWFzayAmIFdSQVBfQklORF9GTEFHLFxuICAgICAgICAgIEN0b3IgPSBjcmVhdGVDdG9yKGZ1bmMpO1xuXG4gICAgICBmdW5jdGlvbiB3cmFwcGVyKCkge1xuICAgICAgICB2YXIgYXJnc0luZGV4ID0gLTEsXG4gICAgICAgICAgICBhcmdzTGVuZ3RoID0gYXJndW1lbnRzLmxlbmd0aCxcbiAgICAgICAgICAgIGxlZnRJbmRleCA9IC0xLFxuICAgICAgICAgICAgbGVmdExlbmd0aCA9IHBhcnRpYWxzLmxlbmd0aCxcbiAgICAgICAgICAgIGFyZ3MgPSBBcnJheShsZWZ0TGVuZ3RoICsgYXJnc0xlbmd0aCksXG4gICAgICAgICAgICBmbiA9ICh0aGlzICYmIHRoaXMgIT09IHJvb3QgJiYgdGhpcyBpbnN0YW5jZW9mIHdyYXBwZXIpID8gQ3RvciA6IGZ1bmM7XG5cbiAgICAgICAgd2hpbGUgKCsrbGVmdEluZGV4IDwgbGVmdExlbmd0aCkge1xuICAgICAgICAgIGFyZ3NbbGVmdEluZGV4XSA9IHBhcnRpYWxzW2xlZnRJbmRleF07XG4gICAgICAgIH1cbiAgICAgICAgd2hpbGUgKGFyZ3NMZW5ndGgtLSkge1xuICAgICAgICAgIGFyZ3NbbGVmdEluZGV4KytdID0gYXJndW1lbnRzWysrYXJnc0luZGV4XTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gYXBwbHkoZm4sIGlzQmluZCA/IHRoaXNBcmcgOiB0aGlzLCBhcmdzKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiB3cmFwcGVyO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBgXy5yYW5nZWAgb3IgYF8ucmFuZ2VSaWdodGAgZnVuY3Rpb24uXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW2Zyb21SaWdodF0gU3BlY2lmeSBpdGVyYXRpbmcgZnJvbSByaWdodCB0byBsZWZ0LlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IHJhbmdlIGZ1bmN0aW9uLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGNyZWF0ZVJhbmdlKGZyb21SaWdodCkge1xuICAgICAgcmV0dXJuIGZ1bmN0aW9uKHN0YXJ0LCBlbmQsIHN0ZXApIHtcbiAgICAgICAgaWYgKHN0ZXAgJiYgdHlwZW9mIHN0ZXAgIT0gJ251bWJlcicgJiYgaXNJdGVyYXRlZUNhbGwoc3RhcnQsIGVuZCwgc3RlcCkpIHtcbiAgICAgICAgICBlbmQgPSBzdGVwID0gdW5kZWZpbmVkO1xuICAgICAgICB9XG4gICAgICAgIC8vIEVuc3VyZSB0aGUgc2lnbiBvZiBgLTBgIGlzIHByZXNlcnZlZC5cbiAgICAgICAgc3RhcnQgPSB0b0Zpbml0ZShzdGFydCk7XG4gICAgICAgIGlmIChlbmQgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgIGVuZCA9IHN0YXJ0O1xuICAgICAgICAgIHN0YXJ0ID0gMDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBlbmQgPSB0b0Zpbml0ZShlbmQpO1xuICAgICAgICB9XG4gICAgICAgIHN0ZXAgPSBzdGVwID09PSB1bmRlZmluZWQgPyAoc3RhcnQgPCBlbmQgPyAxIDogLTEpIDogdG9GaW5pdGUoc3RlcCk7XG4gICAgICAgIHJldHVybiBiYXNlUmFuZ2Uoc3RhcnQsIGVuZCwgc3RlcCwgZnJvbVJpZ2h0KTtcbiAgICAgIH07XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGZ1bmN0aW9uIHRoYXQgcGVyZm9ybXMgYSByZWxhdGlvbmFsIG9wZXJhdGlvbiBvbiB0d28gdmFsdWVzLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBvcGVyYXRvciBUaGUgZnVuY3Rpb24gdG8gcGVyZm9ybSB0aGUgb3BlcmF0aW9uLlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IHJlbGF0aW9uYWwgb3BlcmF0aW9uIGZ1bmN0aW9uLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGNyZWF0ZVJlbGF0aW9uYWxPcGVyYXRpb24ob3BlcmF0b3IpIHtcbiAgICAgIHJldHVybiBmdW5jdGlvbih2YWx1ZSwgb3RoZXIpIHtcbiAgICAgICAgaWYgKCEodHlwZW9mIHZhbHVlID09ICdzdHJpbmcnICYmIHR5cGVvZiBvdGhlciA9PSAnc3RyaW5nJykpIHtcbiAgICAgICAgICB2YWx1ZSA9IHRvTnVtYmVyKHZhbHVlKTtcbiAgICAgICAgICBvdGhlciA9IHRvTnVtYmVyKG90aGVyKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gb3BlcmF0b3IodmFsdWUsIG90aGVyKTtcbiAgICAgIH07XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGZ1bmN0aW9uIHRoYXQgd3JhcHMgYGZ1bmNgIHRvIGNvbnRpbnVlIGN1cnJ5aW5nLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBmdW5jIFRoZSBmdW5jdGlvbiB0byB3cmFwLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBiaXRtYXNrIFRoZSBiaXRtYXNrIGZsYWdzLiBTZWUgYGNyZWF0ZVdyYXBgIGZvciBtb3JlIGRldGFpbHMuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gd3JhcEZ1bmMgVGhlIGZ1bmN0aW9uIHRvIGNyZWF0ZSB0aGUgYGZ1bmNgIHdyYXBwZXIuXG4gICAgICogQHBhcmFtIHsqfSBwbGFjZWhvbGRlciBUaGUgcGxhY2Vob2xkZXIgdmFsdWUuXG4gICAgICogQHBhcmFtIHsqfSBbdGhpc0FyZ10gVGhlIGB0aGlzYCBiaW5kaW5nIG9mIGBmdW5jYC5cbiAgICAgKiBAcGFyYW0ge0FycmF5fSBbcGFydGlhbHNdIFRoZSBhcmd1bWVudHMgdG8gcHJlcGVuZCB0byB0aG9zZSBwcm92aWRlZCB0b1xuICAgICAqICB0aGUgbmV3IGZ1bmN0aW9uLlxuICAgICAqIEBwYXJhbSB7QXJyYXl9IFtob2xkZXJzXSBUaGUgYHBhcnRpYWxzYCBwbGFjZWhvbGRlciBpbmRleGVzLlxuICAgICAqIEBwYXJhbSB7QXJyYXl9IFthcmdQb3NdIFRoZSBhcmd1bWVudCBwb3NpdGlvbnMgb2YgdGhlIG5ldyBmdW5jdGlvbi5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW2FyeV0gVGhlIGFyaXR5IGNhcCBvZiBgZnVuY2AuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFthcml0eV0gVGhlIGFyaXR5IG9mIGBmdW5jYC5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyB3cmFwcGVkIGZ1bmN0aW9uLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGNyZWF0ZVJlY3VycnkoZnVuYywgYml0bWFzaywgd3JhcEZ1bmMsIHBsYWNlaG9sZGVyLCB0aGlzQXJnLCBwYXJ0aWFscywgaG9sZGVycywgYXJnUG9zLCBhcnksIGFyaXR5KSB7XG4gICAgICB2YXIgaXNDdXJyeSA9IGJpdG1hc2sgJiBXUkFQX0NVUlJZX0ZMQUcsXG4gICAgICAgICAgbmV3SG9sZGVycyA9IGlzQ3VycnkgPyBob2xkZXJzIDogdW5kZWZpbmVkLFxuICAgICAgICAgIG5ld0hvbGRlcnNSaWdodCA9IGlzQ3VycnkgPyB1bmRlZmluZWQgOiBob2xkZXJzLFxuICAgICAgICAgIG5ld1BhcnRpYWxzID0gaXNDdXJyeSA/IHBhcnRpYWxzIDogdW5kZWZpbmVkLFxuICAgICAgICAgIG5ld1BhcnRpYWxzUmlnaHQgPSBpc0N1cnJ5ID8gdW5kZWZpbmVkIDogcGFydGlhbHM7XG5cbiAgICAgIGJpdG1hc2sgfD0gKGlzQ3VycnkgPyBXUkFQX1BBUlRJQUxfRkxBRyA6IFdSQVBfUEFSVElBTF9SSUdIVF9GTEFHKTtcbiAgICAgIGJpdG1hc2sgJj0gfihpc0N1cnJ5ID8gV1JBUF9QQVJUSUFMX1JJR0hUX0ZMQUcgOiBXUkFQX1BBUlRJQUxfRkxBRyk7XG5cbiAgICAgIGlmICghKGJpdG1hc2sgJiBXUkFQX0NVUlJZX0JPVU5EX0ZMQUcpKSB7XG4gICAgICAgIGJpdG1hc2sgJj0gfihXUkFQX0JJTkRfRkxBRyB8IFdSQVBfQklORF9LRVlfRkxBRyk7XG4gICAgICB9XG4gICAgICB2YXIgbmV3RGF0YSA9IFtcbiAgICAgICAgZnVuYywgYml0bWFzaywgdGhpc0FyZywgbmV3UGFydGlhbHMsIG5ld0hvbGRlcnMsIG5ld1BhcnRpYWxzUmlnaHQsXG4gICAgICAgIG5ld0hvbGRlcnNSaWdodCwgYXJnUG9zLCBhcnksIGFyaXR5XG4gICAgICBdO1xuXG4gICAgICB2YXIgcmVzdWx0ID0gd3JhcEZ1bmMuYXBwbHkodW5kZWZpbmVkLCBuZXdEYXRhKTtcbiAgICAgIGlmIChpc0xhemlhYmxlKGZ1bmMpKSB7XG4gICAgICAgIHNldERhdGEocmVzdWx0LCBuZXdEYXRhKTtcbiAgICAgIH1cbiAgICAgIHJlc3VsdC5wbGFjZWhvbGRlciA9IHBsYWNlaG9sZGVyO1xuICAgICAgcmV0dXJuIHNldFdyYXBUb1N0cmluZyhyZXN1bHQsIGZ1bmMsIGJpdG1hc2spO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBmdW5jdGlvbiBsaWtlIGBfLnJvdW5kYC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IG1ldGhvZE5hbWUgVGhlIG5hbWUgb2YgdGhlIGBNYXRoYCBtZXRob2QgdG8gdXNlIHdoZW4gcm91bmRpbmcuXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgcm91bmQgZnVuY3Rpb24uXG4gICAgICovXG4gICAgZnVuY3Rpb24gY3JlYXRlUm91bmQobWV0aG9kTmFtZSkge1xuICAgICAgdmFyIGZ1bmMgPSBNYXRoW21ldGhvZE5hbWVdO1xuICAgICAgcmV0dXJuIGZ1bmN0aW9uKG51bWJlciwgcHJlY2lzaW9uKSB7XG4gICAgICAgIG51bWJlciA9IHRvTnVtYmVyKG51bWJlcik7XG4gICAgICAgIHByZWNpc2lvbiA9IHByZWNpc2lvbiA9PSBudWxsID8gMCA6IG5hdGl2ZU1pbih0b0ludGVnZXIocHJlY2lzaW9uKSwgMjkyKTtcbiAgICAgICAgaWYgKHByZWNpc2lvbiAmJiBuYXRpdmVJc0Zpbml0ZShudW1iZXIpKSB7XG4gICAgICAgICAgLy8gU2hpZnQgd2l0aCBleHBvbmVudGlhbCBub3RhdGlvbiB0byBhdm9pZCBmbG9hdGluZy1wb2ludCBpc3N1ZXMuXG4gICAgICAgICAgLy8gU2VlIFtNRE5dKGh0dHBzOi8vbWRuLmlvL3JvdW5kI0V4YW1wbGVzKSBmb3IgbW9yZSBkZXRhaWxzLlxuICAgICAgICAgIHZhciBwYWlyID0gKHRvU3RyaW5nKG51bWJlcikgKyAnZScpLnNwbGl0KCdlJyksXG4gICAgICAgICAgICAgIHZhbHVlID0gZnVuYyhwYWlyWzBdICsgJ2UnICsgKCtwYWlyWzFdICsgcHJlY2lzaW9uKSk7XG5cbiAgICAgICAgICBwYWlyID0gKHRvU3RyaW5nKHZhbHVlKSArICdlJykuc3BsaXQoJ2UnKTtcbiAgICAgICAgICByZXR1cm4gKyhwYWlyWzBdICsgJ2UnICsgKCtwYWlyWzFdIC0gcHJlY2lzaW9uKSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGZ1bmMobnVtYmVyKTtcbiAgICAgIH07XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIHNldCBvYmplY3Qgb2YgYHZhbHVlc2AuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IHZhbHVlcyBUaGUgdmFsdWVzIHRvIGFkZCB0byB0aGUgc2V0LlxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgdGhlIG5ldyBzZXQuXG4gICAgICovXG4gICAgdmFyIGNyZWF0ZVNldCA9ICEoU2V0ICYmICgxIC8gc2V0VG9BcnJheShuZXcgU2V0KFssLTBdKSlbMV0pID09IElORklOSVRZKSA/IG5vb3AgOiBmdW5jdGlvbih2YWx1ZXMpIHtcbiAgICAgIHJldHVybiBuZXcgU2V0KHZhbHVlcyk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBgXy50b1BhaXJzYCBvciBgXy50b1BhaXJzSW5gIGZ1bmN0aW9uLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBrZXlzRnVuYyBUaGUgZnVuY3Rpb24gdG8gZ2V0IHRoZSBrZXlzIG9mIGEgZ2l2ZW4gb2JqZWN0LlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IHBhaXJzIGZ1bmN0aW9uLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGNyZWF0ZVRvUGFpcnMoa2V5c0Z1bmMpIHtcbiAgICAgIHJldHVybiBmdW5jdGlvbihvYmplY3QpIHtcbiAgICAgICAgdmFyIHRhZyA9IGdldFRhZyhvYmplY3QpO1xuICAgICAgICBpZiAodGFnID09IG1hcFRhZykge1xuICAgICAgICAgIHJldHVybiBtYXBUb0FycmF5KG9iamVjdCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRhZyA9PSBzZXRUYWcpIHtcbiAgICAgICAgICByZXR1cm4gc2V0VG9QYWlycyhvYmplY3QpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBiYXNlVG9QYWlycyhvYmplY3QsIGtleXNGdW5jKG9iamVjdCkpO1xuICAgICAgfTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgZnVuY3Rpb24gdGhhdCBlaXRoZXIgY3VycmllcyBvciBpbnZva2VzIGBmdW5jYCB3aXRoIG9wdGlvbmFsXG4gICAgICogYHRoaXNgIGJpbmRpbmcgYW5kIHBhcnRpYWxseSBhcHBsaWVkIGFyZ3VtZW50cy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbnxzdHJpbmd9IGZ1bmMgVGhlIGZ1bmN0aW9uIG9yIG1ldGhvZCBuYW1lIHRvIHdyYXAuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGJpdG1hc2sgVGhlIGJpdG1hc2sgZmxhZ3MuXG4gICAgICogICAgMSAtIGBfLmJpbmRgXG4gICAgICogICAgMiAtIGBfLmJpbmRLZXlgXG4gICAgICogICAgNCAtIGBfLmN1cnJ5YCBvciBgXy5jdXJyeVJpZ2h0YCBvZiBhIGJvdW5kIGZ1bmN0aW9uXG4gICAgICogICAgOCAtIGBfLmN1cnJ5YFxuICAgICAqICAgMTYgLSBgXy5jdXJyeVJpZ2h0YFxuICAgICAqICAgMzIgLSBgXy5wYXJ0aWFsYFxuICAgICAqICAgNjQgLSBgXy5wYXJ0aWFsUmlnaHRgXG4gICAgICogIDEyOCAtIGBfLnJlYXJnYFxuICAgICAqICAyNTYgLSBgXy5hcnlgXG4gICAgICogIDUxMiAtIGBfLmZsaXBgXG4gICAgICogQHBhcmFtIHsqfSBbdGhpc0FyZ10gVGhlIGB0aGlzYCBiaW5kaW5nIG9mIGBmdW5jYC5cbiAgICAgKiBAcGFyYW0ge0FycmF5fSBbcGFydGlhbHNdIFRoZSBhcmd1bWVudHMgdG8gYmUgcGFydGlhbGx5IGFwcGxpZWQuXG4gICAgICogQHBhcmFtIHtBcnJheX0gW2hvbGRlcnNdIFRoZSBgcGFydGlhbHNgIHBsYWNlaG9sZGVyIGluZGV4ZXMuXG4gICAgICogQHBhcmFtIHtBcnJheX0gW2FyZ1Bvc10gVGhlIGFyZ3VtZW50IHBvc2l0aW9ucyBvZiB0aGUgbmV3IGZ1bmN0aW9uLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbYXJ5XSBUaGUgYXJpdHkgY2FwIG9mIGBmdW5jYC5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW2FyaXR5XSBUaGUgYXJpdHkgb2YgYGZ1bmNgLlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IHdyYXBwZWQgZnVuY3Rpb24uXG4gICAgICovXG4gICAgZnVuY3Rpb24gY3JlYXRlV3JhcChmdW5jLCBiaXRtYXNrLCB0aGlzQXJnLCBwYXJ0aWFscywgaG9sZGVycywgYXJnUG9zLCBhcnksIGFyaXR5KSB7XG4gICAgICB2YXIgaXNCaW5kS2V5ID0gYml0bWFzayAmIFdSQVBfQklORF9LRVlfRkxBRztcbiAgICAgIGlmICghaXNCaW5kS2V5ICYmIHR5cGVvZiBmdW5jICE9ICdmdW5jdGlvbicpIHtcbiAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihGVU5DX0VSUk9SX1RFWFQpO1xuICAgICAgfVxuICAgICAgdmFyIGxlbmd0aCA9IHBhcnRpYWxzID8gcGFydGlhbHMubGVuZ3RoIDogMDtcbiAgICAgIGlmICghbGVuZ3RoKSB7XG4gICAgICAgIGJpdG1hc2sgJj0gfihXUkFQX1BBUlRJQUxfRkxBRyB8IFdSQVBfUEFSVElBTF9SSUdIVF9GTEFHKTtcbiAgICAgICAgcGFydGlhbHMgPSBob2xkZXJzID0gdW5kZWZpbmVkO1xuICAgICAgfVxuICAgICAgYXJ5ID0gYXJ5ID09PSB1bmRlZmluZWQgPyBhcnkgOiBuYXRpdmVNYXgodG9JbnRlZ2VyKGFyeSksIDApO1xuICAgICAgYXJpdHkgPSBhcml0eSA9PT0gdW5kZWZpbmVkID8gYXJpdHkgOiB0b0ludGVnZXIoYXJpdHkpO1xuICAgICAgbGVuZ3RoIC09IGhvbGRlcnMgPyBob2xkZXJzLmxlbmd0aCA6IDA7XG5cbiAgICAgIGlmIChiaXRtYXNrICYgV1JBUF9QQVJUSUFMX1JJR0hUX0ZMQUcpIHtcbiAgICAgICAgdmFyIHBhcnRpYWxzUmlnaHQgPSBwYXJ0aWFscyxcbiAgICAgICAgICAgIGhvbGRlcnNSaWdodCA9IGhvbGRlcnM7XG5cbiAgICAgICAgcGFydGlhbHMgPSBob2xkZXJzID0gdW5kZWZpbmVkO1xuICAgICAgfVxuICAgICAgdmFyIGRhdGEgPSBpc0JpbmRLZXkgPyB1bmRlZmluZWQgOiBnZXREYXRhKGZ1bmMpO1xuXG4gICAgICB2YXIgbmV3RGF0YSA9IFtcbiAgICAgICAgZnVuYywgYml0bWFzaywgdGhpc0FyZywgcGFydGlhbHMsIGhvbGRlcnMsIHBhcnRpYWxzUmlnaHQsIGhvbGRlcnNSaWdodCxcbiAgICAgICAgYXJnUG9zLCBhcnksIGFyaXR5XG4gICAgICBdO1xuXG4gICAgICBpZiAoZGF0YSkge1xuICAgICAgICBtZXJnZURhdGEobmV3RGF0YSwgZGF0YSk7XG4gICAgICB9XG4gICAgICBmdW5jID0gbmV3RGF0YVswXTtcbiAgICAgIGJpdG1hc2sgPSBuZXdEYXRhWzFdO1xuICAgICAgdGhpc0FyZyA9IG5ld0RhdGFbMl07XG4gICAgICBwYXJ0aWFscyA9IG5ld0RhdGFbM107XG4gICAgICBob2xkZXJzID0gbmV3RGF0YVs0XTtcbiAgICAgIGFyaXR5ID0gbmV3RGF0YVs5XSA9IG5ld0RhdGFbOV0gPT09IHVuZGVmaW5lZFxuICAgICAgICA/IChpc0JpbmRLZXkgPyAwIDogZnVuYy5sZW5ndGgpXG4gICAgICAgIDogbmF0aXZlTWF4KG5ld0RhdGFbOV0gLSBsZW5ndGgsIDApO1xuXG4gICAgICBpZiAoIWFyaXR5ICYmIGJpdG1hc2sgJiAoV1JBUF9DVVJSWV9GTEFHIHwgV1JBUF9DVVJSWV9SSUdIVF9GTEFHKSkge1xuICAgICAgICBiaXRtYXNrICY9IH4oV1JBUF9DVVJSWV9GTEFHIHwgV1JBUF9DVVJSWV9SSUdIVF9GTEFHKTtcbiAgICAgIH1cbiAgICAgIGlmICghYml0bWFzayB8fCBiaXRtYXNrID09IFdSQVBfQklORF9GTEFHKSB7XG4gICAgICAgIHZhciByZXN1bHQgPSBjcmVhdGVCaW5kKGZ1bmMsIGJpdG1hc2ssIHRoaXNBcmcpO1xuICAgICAgfSBlbHNlIGlmIChiaXRtYXNrID09IFdSQVBfQ1VSUllfRkxBRyB8fCBiaXRtYXNrID09IFdSQVBfQ1VSUllfUklHSFRfRkxBRykge1xuICAgICAgICByZXN1bHQgPSBjcmVhdGVDdXJyeShmdW5jLCBiaXRtYXNrLCBhcml0eSk7XG4gICAgICB9IGVsc2UgaWYgKChiaXRtYXNrID09IFdSQVBfUEFSVElBTF9GTEFHIHx8IGJpdG1hc2sgPT0gKFdSQVBfQklORF9GTEFHIHwgV1JBUF9QQVJUSUFMX0ZMQUcpKSAmJiAhaG9sZGVycy5sZW5ndGgpIHtcbiAgICAgICAgcmVzdWx0ID0gY3JlYXRlUGFydGlhbChmdW5jLCBiaXRtYXNrLCB0aGlzQXJnLCBwYXJ0aWFscyk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXN1bHQgPSBjcmVhdGVIeWJyaWQuYXBwbHkodW5kZWZpbmVkLCBuZXdEYXRhKTtcbiAgICAgIH1cbiAgICAgIHZhciBzZXR0ZXIgPSBkYXRhID8gYmFzZVNldERhdGEgOiBzZXREYXRhO1xuICAgICAgcmV0dXJuIHNldFdyYXBUb1N0cmluZyhzZXR0ZXIocmVzdWx0LCBuZXdEYXRhKSwgZnVuYywgYml0bWFzayk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVXNlZCBieSBgXy5kZWZhdWx0c2AgdG8gY3VzdG9taXplIGl0cyBgXy5hc3NpZ25JbmAgdXNlIHRvIGFzc2lnbiBwcm9wZXJ0aWVzXG4gICAgICogb2Ygc291cmNlIG9iamVjdHMgdG8gdGhlIGRlc3RpbmF0aW9uIG9iamVjdCBmb3IgYWxsIGRlc3RpbmF0aW9uIHByb3BlcnRpZXNcbiAgICAgKiB0aGF0IHJlc29sdmUgdG8gYHVuZGVmaW5lZGAuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7Kn0gb2JqVmFsdWUgVGhlIGRlc3RpbmF0aW9uIHZhbHVlLlxuICAgICAqIEBwYXJhbSB7Kn0gc3JjVmFsdWUgVGhlIHNvdXJjZSB2YWx1ZS5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSBrZXkgb2YgdGhlIHByb3BlcnR5IHRvIGFzc2lnbi5cbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBwYXJlbnQgb2JqZWN0IG9mIGBvYmpWYWx1ZWAuXG4gICAgICogQHJldHVybnMgeyp9IFJldHVybnMgdGhlIHZhbHVlIHRvIGFzc2lnbi5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBjdXN0b21EZWZhdWx0c0Fzc2lnbkluKG9ialZhbHVlLCBzcmNWYWx1ZSwga2V5LCBvYmplY3QpIHtcbiAgICAgIGlmIChvYmpWYWx1ZSA9PT0gdW5kZWZpbmVkIHx8XG4gICAgICAgICAgKGVxKG9ialZhbHVlLCBvYmplY3RQcm90b1trZXldKSAmJiAhaGFzT3duUHJvcGVydHkuY2FsbChvYmplY3QsIGtleSkpKSB7XG4gICAgICAgIHJldHVybiBzcmNWYWx1ZTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBvYmpWYWx1ZTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBVc2VkIGJ5IGBfLmRlZmF1bHRzRGVlcGAgdG8gY3VzdG9taXplIGl0cyBgXy5tZXJnZWAgdXNlIHRvIG1lcmdlIHNvdXJjZVxuICAgICAqIG9iamVjdHMgaW50byBkZXN0aW5hdGlvbiBvYmplY3RzIHRoYXQgYXJlIHBhc3NlZCB0aHJ1LlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0geyp9IG9ialZhbHVlIFRoZSBkZXN0aW5hdGlvbiB2YWx1ZS5cbiAgICAgKiBAcGFyYW0geyp9IHNyY1ZhbHVlIFRoZSBzb3VyY2UgdmFsdWUuXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGtleSBUaGUga2V5IG9mIHRoZSBwcm9wZXJ0eSB0byBtZXJnZS5cbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBwYXJlbnQgb2JqZWN0IG9mIGBvYmpWYWx1ZWAuXG4gICAgICogQHBhcmFtIHtPYmplY3R9IHNvdXJjZSBUaGUgcGFyZW50IG9iamVjdCBvZiBgc3JjVmFsdWVgLlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBbc3RhY2tdIFRyYWNrcyB0cmF2ZXJzZWQgc291cmNlIHZhbHVlcyBhbmQgdGhlaXIgbWVyZ2VkXG4gICAgICogIGNvdW50ZXJwYXJ0cy5cbiAgICAgKiBAcmV0dXJucyB7Kn0gUmV0dXJucyB0aGUgdmFsdWUgdG8gYXNzaWduLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGN1c3RvbURlZmF1bHRzTWVyZ2Uob2JqVmFsdWUsIHNyY1ZhbHVlLCBrZXksIG9iamVjdCwgc291cmNlLCBzdGFjaykge1xuICAgICAgaWYgKGlzT2JqZWN0KG9ialZhbHVlKSAmJiBpc09iamVjdChzcmNWYWx1ZSkpIHtcbiAgICAgICAgLy8gUmVjdXJzaXZlbHkgbWVyZ2Ugb2JqZWN0cyBhbmQgYXJyYXlzIChzdXNjZXB0aWJsZSB0byBjYWxsIHN0YWNrIGxpbWl0cykuXG4gICAgICAgIHN0YWNrLnNldChzcmNWYWx1ZSwgb2JqVmFsdWUpO1xuICAgICAgICBiYXNlTWVyZ2Uob2JqVmFsdWUsIHNyY1ZhbHVlLCB1bmRlZmluZWQsIGN1c3RvbURlZmF1bHRzTWVyZ2UsIHN0YWNrKTtcbiAgICAgICAgc3RhY2tbJ2RlbGV0ZSddKHNyY1ZhbHVlKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBvYmpWYWx1ZTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBVc2VkIGJ5IGBfLm9taXRgIHRvIGN1c3RvbWl6ZSBpdHMgYF8uY2xvbmVEZWVwYCB1c2UgdG8gb25seSBjbG9uZSBwbGFpblxuICAgICAqIG9iamVjdHMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGluc3BlY3QuXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGtleSBUaGUga2V5IG9mIHRoZSBwcm9wZXJ0eSB0byBpbnNwZWN0LlxuICAgICAqIEByZXR1cm5zIHsqfSBSZXR1cm5zIHRoZSB1bmNsb25lZCB2YWx1ZSBvciBgdW5kZWZpbmVkYCB0byBkZWZlciBjbG9uaW5nIHRvIGBfLmNsb25lRGVlcGAuXG4gICAgICovXG4gICAgZnVuY3Rpb24gY3VzdG9tT21pdENsb25lKHZhbHVlKSB7XG4gICAgICByZXR1cm4gaXNQbGFpbk9iamVjdCh2YWx1ZSkgPyB1bmRlZmluZWQgOiB2YWx1ZTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBBIHNwZWNpYWxpemVkIHZlcnNpb24gb2YgYGJhc2VJc0VxdWFsRGVlcGAgZm9yIGFycmF5cyB3aXRoIHN1cHBvcnQgZm9yXG4gICAgICogcGFydGlhbCBkZWVwIGNvbXBhcmlzb25zLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gY29tcGFyZS5cbiAgICAgKiBAcGFyYW0ge0FycmF5fSBvdGhlciBUaGUgb3RoZXIgYXJyYXkgdG8gY29tcGFyZS5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gYml0bWFzayBUaGUgYml0bWFzayBmbGFncy4gU2VlIGBiYXNlSXNFcXVhbGAgZm9yIG1vcmUgZGV0YWlscy5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBjdXN0b21pemVyIFRoZSBmdW5jdGlvbiB0byBjdXN0b21pemUgY29tcGFyaXNvbnMuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gZXF1YWxGdW5jIFRoZSBmdW5jdGlvbiB0byBkZXRlcm1pbmUgZXF1aXZhbGVudHMgb2YgdmFsdWVzLlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBzdGFjayBUcmFja3MgdHJhdmVyc2VkIGBhcnJheWAgYW5kIGBvdGhlcmAgb2JqZWN0cy5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgdGhlIGFycmF5cyBhcmUgZXF1aXZhbGVudCwgZWxzZSBgZmFsc2VgLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGVxdWFsQXJyYXlzKGFycmF5LCBvdGhlciwgYml0bWFzaywgY3VzdG9taXplciwgZXF1YWxGdW5jLCBzdGFjaykge1xuICAgICAgdmFyIGlzUGFydGlhbCA9IGJpdG1hc2sgJiBDT01QQVJFX1BBUlRJQUxfRkxBRyxcbiAgICAgICAgICBhcnJMZW5ndGggPSBhcnJheS5sZW5ndGgsXG4gICAgICAgICAgb3RoTGVuZ3RoID0gb3RoZXIubGVuZ3RoO1xuXG4gICAgICBpZiAoYXJyTGVuZ3RoICE9IG90aExlbmd0aCAmJiAhKGlzUGFydGlhbCAmJiBvdGhMZW5ndGggPiBhcnJMZW5ndGgpKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cbiAgICAgIC8vIEFzc3VtZSBjeWNsaWMgdmFsdWVzIGFyZSBlcXVhbC5cbiAgICAgIHZhciBzdGFja2VkID0gc3RhY2suZ2V0KGFycmF5KTtcbiAgICAgIGlmIChzdGFja2VkICYmIHN0YWNrLmdldChvdGhlcikpIHtcbiAgICAgICAgcmV0dXJuIHN0YWNrZWQgPT0gb3RoZXI7XG4gICAgICB9XG4gICAgICB2YXIgaW5kZXggPSAtMSxcbiAgICAgICAgICByZXN1bHQgPSB0cnVlLFxuICAgICAgICAgIHNlZW4gPSAoYml0bWFzayAmIENPTVBBUkVfVU5PUkRFUkVEX0ZMQUcpID8gbmV3IFNldENhY2hlIDogdW5kZWZpbmVkO1xuXG4gICAgICBzdGFjay5zZXQoYXJyYXksIG90aGVyKTtcbiAgICAgIHN0YWNrLnNldChvdGhlciwgYXJyYXkpO1xuXG4gICAgICAvLyBJZ25vcmUgbm9uLWluZGV4IHByb3BlcnRpZXMuXG4gICAgICB3aGlsZSAoKytpbmRleCA8IGFyckxlbmd0aCkge1xuICAgICAgICB2YXIgYXJyVmFsdWUgPSBhcnJheVtpbmRleF0sXG4gICAgICAgICAgICBvdGhWYWx1ZSA9IG90aGVyW2luZGV4XTtcblxuICAgICAgICBpZiAoY3VzdG9taXplcikge1xuICAgICAgICAgIHZhciBjb21wYXJlZCA9IGlzUGFydGlhbFxuICAgICAgICAgICAgPyBjdXN0b21pemVyKG90aFZhbHVlLCBhcnJWYWx1ZSwgaW5kZXgsIG90aGVyLCBhcnJheSwgc3RhY2spXG4gICAgICAgICAgICA6IGN1c3RvbWl6ZXIoYXJyVmFsdWUsIG90aFZhbHVlLCBpbmRleCwgYXJyYXksIG90aGVyLCBzdGFjayk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGNvbXBhcmVkICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICBpZiAoY29tcGFyZWQpIHtcbiAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgIH1cbiAgICAgICAgICByZXN1bHQgPSBmYWxzZTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgICAvLyBSZWN1cnNpdmVseSBjb21wYXJlIGFycmF5cyAoc3VzY2VwdGlibGUgdG8gY2FsbCBzdGFjayBsaW1pdHMpLlxuICAgICAgICBpZiAoc2Vlbikge1xuICAgICAgICAgIGlmICghYXJyYXlTb21lKG90aGVyLCBmdW5jdGlvbihvdGhWYWx1ZSwgb3RoSW5kZXgpIHtcbiAgICAgICAgICAgICAgICBpZiAoIWNhY2hlSGFzKHNlZW4sIG90aEluZGV4KSAmJlxuICAgICAgICAgICAgICAgICAgICAoYXJyVmFsdWUgPT09IG90aFZhbHVlIHx8IGVxdWFsRnVuYyhhcnJWYWx1ZSwgb3RoVmFsdWUsIGJpdG1hc2ssIGN1c3RvbWl6ZXIsIHN0YWNrKSkpIHtcbiAgICAgICAgICAgICAgICAgIHJldHVybiBzZWVuLnB1c2gob3RoSW5kZXgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfSkpIHtcbiAgICAgICAgICAgIHJlc3VsdCA9IGZhbHNlO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2UgaWYgKCEoXG4gICAgICAgICAgICAgIGFyclZhbHVlID09PSBvdGhWYWx1ZSB8fFxuICAgICAgICAgICAgICAgIGVxdWFsRnVuYyhhcnJWYWx1ZSwgb3RoVmFsdWUsIGJpdG1hc2ssIGN1c3RvbWl6ZXIsIHN0YWNrKVxuICAgICAgICAgICAgKSkge1xuICAgICAgICAgIHJlc3VsdCA9IGZhbHNlO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBzdGFja1snZGVsZXRlJ10oYXJyYXkpO1xuICAgICAgc3RhY2tbJ2RlbGV0ZSddKG90aGVyKTtcbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQSBzcGVjaWFsaXplZCB2ZXJzaW9uIG9mIGBiYXNlSXNFcXVhbERlZXBgIGZvciBjb21wYXJpbmcgb2JqZWN0cyBvZlxuICAgICAqIHRoZSBzYW1lIGB0b1N0cmluZ1RhZ2AuXG4gICAgICpcbiAgICAgKiAqKk5vdGU6KiogVGhpcyBmdW5jdGlvbiBvbmx5IHN1cHBvcnRzIGNvbXBhcmluZyB2YWx1ZXMgd2l0aCB0YWdzIG9mXG4gICAgICogYEJvb2xlYW5gLCBgRGF0ZWAsIGBFcnJvcmAsIGBOdW1iZXJgLCBgUmVnRXhwYCwgb3IgYFN0cmluZ2AuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBjb21wYXJlLlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvdGhlciBUaGUgb3RoZXIgb2JqZWN0IHRvIGNvbXBhcmUuXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHRhZyBUaGUgYHRvU3RyaW5nVGFnYCBvZiB0aGUgb2JqZWN0cyB0byBjb21wYXJlLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBiaXRtYXNrIFRoZSBiaXRtYXNrIGZsYWdzLiBTZWUgYGJhc2VJc0VxdWFsYCBmb3IgbW9yZSBkZXRhaWxzLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGN1c3RvbWl6ZXIgVGhlIGZ1bmN0aW9uIHRvIGN1c3RvbWl6ZSBjb21wYXJpc29ucy5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBlcXVhbEZ1bmMgVGhlIGZ1bmN0aW9uIHRvIGRldGVybWluZSBlcXVpdmFsZW50cyBvZiB2YWx1ZXMuXG4gICAgICogQHBhcmFtIHtPYmplY3R9IHN0YWNrIFRyYWNrcyB0cmF2ZXJzZWQgYG9iamVjdGAgYW5kIGBvdGhlcmAgb2JqZWN0cy5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgdGhlIG9iamVjdHMgYXJlIGVxdWl2YWxlbnQsIGVsc2UgYGZhbHNlYC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBlcXVhbEJ5VGFnKG9iamVjdCwgb3RoZXIsIHRhZywgYml0bWFzaywgY3VzdG9taXplciwgZXF1YWxGdW5jLCBzdGFjaykge1xuICAgICAgc3dpdGNoICh0YWcpIHtcbiAgICAgICAgY2FzZSBkYXRhVmlld1RhZzpcbiAgICAgICAgICBpZiAoKG9iamVjdC5ieXRlTGVuZ3RoICE9IG90aGVyLmJ5dGVMZW5ndGgpIHx8XG4gICAgICAgICAgICAgIChvYmplY3QuYnl0ZU9mZnNldCAhPSBvdGhlci5ieXRlT2Zmc2V0KSkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgIH1cbiAgICAgICAgICBvYmplY3QgPSBvYmplY3QuYnVmZmVyO1xuICAgICAgICAgIG90aGVyID0gb3RoZXIuYnVmZmVyO1xuXG4gICAgICAgIGNhc2UgYXJyYXlCdWZmZXJUYWc6XG4gICAgICAgICAgaWYgKChvYmplY3QuYnl0ZUxlbmd0aCAhPSBvdGhlci5ieXRlTGVuZ3RoKSB8fFxuICAgICAgICAgICAgICAhZXF1YWxGdW5jKG5ldyBVaW50OEFycmF5KG9iamVjdCksIG5ldyBVaW50OEFycmF5KG90aGVyKSkpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICB9XG4gICAgICAgICAgcmV0dXJuIHRydWU7XG5cbiAgICAgICAgY2FzZSBib29sVGFnOlxuICAgICAgICBjYXNlIGRhdGVUYWc6XG4gICAgICAgIGNhc2UgbnVtYmVyVGFnOlxuICAgICAgICAgIC8vIENvZXJjZSBib29sZWFucyB0byBgMWAgb3IgYDBgIGFuZCBkYXRlcyB0byBtaWxsaXNlY29uZHMuXG4gICAgICAgICAgLy8gSW52YWxpZCBkYXRlcyBhcmUgY29lcmNlZCB0byBgTmFOYC5cbiAgICAgICAgICByZXR1cm4gZXEoK29iamVjdCwgK290aGVyKTtcblxuICAgICAgICBjYXNlIGVycm9yVGFnOlxuICAgICAgICAgIHJldHVybiBvYmplY3QubmFtZSA9PSBvdGhlci5uYW1lICYmIG9iamVjdC5tZXNzYWdlID09IG90aGVyLm1lc3NhZ2U7XG5cbiAgICAgICAgY2FzZSByZWdleHBUYWc6XG4gICAgICAgIGNhc2Ugc3RyaW5nVGFnOlxuICAgICAgICAgIC8vIENvZXJjZSByZWdleGVzIHRvIHN0cmluZ3MgYW5kIHRyZWF0IHN0cmluZ3MsIHByaW1pdGl2ZXMgYW5kIG9iamVjdHMsXG4gICAgICAgICAgLy8gYXMgZXF1YWwuIFNlZSBodHRwOi8vd3d3LmVjbWEtaW50ZXJuYXRpb25hbC5vcmcvZWNtYS0yNjIvNy4wLyNzZWMtcmVnZXhwLnByb3RvdHlwZS50b3N0cmluZ1xuICAgICAgICAgIC8vIGZvciBtb3JlIGRldGFpbHMuXG4gICAgICAgICAgcmV0dXJuIG9iamVjdCA9PSAob3RoZXIgKyAnJyk7XG5cbiAgICAgICAgY2FzZSBtYXBUYWc6XG4gICAgICAgICAgdmFyIGNvbnZlcnQgPSBtYXBUb0FycmF5O1xuXG4gICAgICAgIGNhc2Ugc2V0VGFnOlxuICAgICAgICAgIHZhciBpc1BhcnRpYWwgPSBiaXRtYXNrICYgQ09NUEFSRV9QQVJUSUFMX0ZMQUc7XG4gICAgICAgICAgY29udmVydCB8fCAoY29udmVydCA9IHNldFRvQXJyYXkpO1xuXG4gICAgICAgICAgaWYgKG9iamVjdC5zaXplICE9IG90aGVyLnNpemUgJiYgIWlzUGFydGlhbCkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgIH1cbiAgICAgICAgICAvLyBBc3N1bWUgY3ljbGljIHZhbHVlcyBhcmUgZXF1YWwuXG4gICAgICAgICAgdmFyIHN0YWNrZWQgPSBzdGFjay5nZXQob2JqZWN0KTtcbiAgICAgICAgICBpZiAoc3RhY2tlZCkge1xuICAgICAgICAgICAgcmV0dXJuIHN0YWNrZWQgPT0gb3RoZXI7XG4gICAgICAgICAgfVxuICAgICAgICAgIGJpdG1hc2sgfD0gQ09NUEFSRV9VTk9SREVSRURfRkxBRztcblxuICAgICAgICAgIC8vIFJlY3Vyc2l2ZWx5IGNvbXBhcmUgb2JqZWN0cyAoc3VzY2VwdGlibGUgdG8gY2FsbCBzdGFjayBsaW1pdHMpLlxuICAgICAgICAgIHN0YWNrLnNldChvYmplY3QsIG90aGVyKTtcbiAgICAgICAgICB2YXIgcmVzdWx0ID0gZXF1YWxBcnJheXMoY29udmVydChvYmplY3QpLCBjb252ZXJ0KG90aGVyKSwgYml0bWFzaywgY3VzdG9taXplciwgZXF1YWxGdW5jLCBzdGFjayk7XG4gICAgICAgICAgc3RhY2tbJ2RlbGV0ZSddKG9iamVjdCk7XG4gICAgICAgICAgcmV0dXJuIHJlc3VsdDtcblxuICAgICAgICBjYXNlIHN5bWJvbFRhZzpcbiAgICAgICAgICBpZiAoc3ltYm9sVmFsdWVPZikge1xuICAgICAgICAgICAgcmV0dXJuIHN5bWJvbFZhbHVlT2YuY2FsbChvYmplY3QpID09IHN5bWJvbFZhbHVlT2YuY2FsbChvdGhlcik7XG4gICAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEEgc3BlY2lhbGl6ZWQgdmVyc2lvbiBvZiBgYmFzZUlzRXF1YWxEZWVwYCBmb3Igb2JqZWN0cyB3aXRoIHN1cHBvcnQgZm9yXG4gICAgICogcGFydGlhbCBkZWVwIGNvbXBhcmlzb25zLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gY29tcGFyZS5cbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb3RoZXIgVGhlIG90aGVyIG9iamVjdCB0byBjb21wYXJlLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBiaXRtYXNrIFRoZSBiaXRtYXNrIGZsYWdzLiBTZWUgYGJhc2VJc0VxdWFsYCBmb3IgbW9yZSBkZXRhaWxzLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGN1c3RvbWl6ZXIgVGhlIGZ1bmN0aW9uIHRvIGN1c3RvbWl6ZSBjb21wYXJpc29ucy5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBlcXVhbEZ1bmMgVGhlIGZ1bmN0aW9uIHRvIGRldGVybWluZSBlcXVpdmFsZW50cyBvZiB2YWx1ZXMuXG4gICAgICogQHBhcmFtIHtPYmplY3R9IHN0YWNrIFRyYWNrcyB0cmF2ZXJzZWQgYG9iamVjdGAgYW5kIGBvdGhlcmAgb2JqZWN0cy5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgdGhlIG9iamVjdHMgYXJlIGVxdWl2YWxlbnQsIGVsc2UgYGZhbHNlYC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBlcXVhbE9iamVjdHMob2JqZWN0LCBvdGhlciwgYml0bWFzaywgY3VzdG9taXplciwgZXF1YWxGdW5jLCBzdGFjaykge1xuICAgICAgdmFyIGlzUGFydGlhbCA9IGJpdG1hc2sgJiBDT01QQVJFX1BBUlRJQUxfRkxBRyxcbiAgICAgICAgICBvYmpQcm9wcyA9IGdldEFsbEtleXMob2JqZWN0KSxcbiAgICAgICAgICBvYmpMZW5ndGggPSBvYmpQcm9wcy5sZW5ndGgsXG4gICAgICAgICAgb3RoUHJvcHMgPSBnZXRBbGxLZXlzKG90aGVyKSxcbiAgICAgICAgICBvdGhMZW5ndGggPSBvdGhQcm9wcy5sZW5ndGg7XG5cbiAgICAgIGlmIChvYmpMZW5ndGggIT0gb3RoTGVuZ3RoICYmICFpc1BhcnRpYWwpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuICAgICAgdmFyIGluZGV4ID0gb2JqTGVuZ3RoO1xuICAgICAgd2hpbGUgKGluZGV4LS0pIHtcbiAgICAgICAgdmFyIGtleSA9IG9ialByb3BzW2luZGV4XTtcbiAgICAgICAgaWYgKCEoaXNQYXJ0aWFsID8ga2V5IGluIG90aGVyIDogaGFzT3duUHJvcGVydHkuY2FsbChvdGhlciwga2V5KSkpIHtcbiAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIC8vIEFzc3VtZSBjeWNsaWMgdmFsdWVzIGFyZSBlcXVhbC5cbiAgICAgIHZhciBzdGFja2VkID0gc3RhY2suZ2V0KG9iamVjdCk7XG4gICAgICBpZiAoc3RhY2tlZCAmJiBzdGFjay5nZXQob3RoZXIpKSB7XG4gICAgICAgIHJldHVybiBzdGFja2VkID09IG90aGVyO1xuICAgICAgfVxuICAgICAgdmFyIHJlc3VsdCA9IHRydWU7XG4gICAgICBzdGFjay5zZXQob2JqZWN0LCBvdGhlcik7XG4gICAgICBzdGFjay5zZXQob3RoZXIsIG9iamVjdCk7XG5cbiAgICAgIHZhciBza2lwQ3RvciA9IGlzUGFydGlhbDtcbiAgICAgIHdoaWxlICgrK2luZGV4IDwgb2JqTGVuZ3RoKSB7XG4gICAgICAgIGtleSA9IG9ialByb3BzW2luZGV4XTtcbiAgICAgICAgdmFyIG9ialZhbHVlID0gb2JqZWN0W2tleV0sXG4gICAgICAgICAgICBvdGhWYWx1ZSA9IG90aGVyW2tleV07XG5cbiAgICAgICAgaWYgKGN1c3RvbWl6ZXIpIHtcbiAgICAgICAgICB2YXIgY29tcGFyZWQgPSBpc1BhcnRpYWxcbiAgICAgICAgICAgID8gY3VzdG9taXplcihvdGhWYWx1ZSwgb2JqVmFsdWUsIGtleSwgb3RoZXIsIG9iamVjdCwgc3RhY2spXG4gICAgICAgICAgICA6IGN1c3RvbWl6ZXIob2JqVmFsdWUsIG90aFZhbHVlLCBrZXksIG9iamVjdCwgb3RoZXIsIHN0YWNrKTtcbiAgICAgICAgfVxuICAgICAgICAvLyBSZWN1cnNpdmVseSBjb21wYXJlIG9iamVjdHMgKHN1c2NlcHRpYmxlIHRvIGNhbGwgc3RhY2sgbGltaXRzKS5cbiAgICAgICAgaWYgKCEoY29tcGFyZWQgPT09IHVuZGVmaW5lZFxuICAgICAgICAgICAgICA/IChvYmpWYWx1ZSA9PT0gb3RoVmFsdWUgfHwgZXF1YWxGdW5jKG9ialZhbHVlLCBvdGhWYWx1ZSwgYml0bWFzaywgY3VzdG9taXplciwgc3RhY2spKVxuICAgICAgICAgICAgICA6IGNvbXBhcmVkXG4gICAgICAgICAgICApKSB7XG4gICAgICAgICAgcmVzdWx0ID0gZmFsc2U7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgICAgc2tpcEN0b3IgfHwgKHNraXBDdG9yID0ga2V5ID09ICdjb25zdHJ1Y3RvcicpO1xuICAgICAgfVxuICAgICAgaWYgKHJlc3VsdCAmJiAhc2tpcEN0b3IpIHtcbiAgICAgICAgdmFyIG9iakN0b3IgPSBvYmplY3QuY29uc3RydWN0b3IsXG4gICAgICAgICAgICBvdGhDdG9yID0gb3RoZXIuY29uc3RydWN0b3I7XG5cbiAgICAgICAgLy8gTm9uIGBPYmplY3RgIG9iamVjdCBpbnN0YW5jZXMgd2l0aCBkaWZmZXJlbnQgY29uc3RydWN0b3JzIGFyZSBub3QgZXF1YWwuXG4gICAgICAgIGlmIChvYmpDdG9yICE9IG90aEN0b3IgJiZcbiAgICAgICAgICAgICgnY29uc3RydWN0b3InIGluIG9iamVjdCAmJiAnY29uc3RydWN0b3InIGluIG90aGVyKSAmJlxuICAgICAgICAgICAgISh0eXBlb2Ygb2JqQ3RvciA9PSAnZnVuY3Rpb24nICYmIG9iakN0b3IgaW5zdGFuY2VvZiBvYmpDdG9yICYmXG4gICAgICAgICAgICAgIHR5cGVvZiBvdGhDdG9yID09ICdmdW5jdGlvbicgJiYgb3RoQ3RvciBpbnN0YW5jZW9mIG90aEN0b3IpKSB7XG4gICAgICAgICAgcmVzdWx0ID0gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHN0YWNrWydkZWxldGUnXShvYmplY3QpO1xuICAgICAgc3RhY2tbJ2RlbGV0ZSddKG90aGVyKTtcbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQSBzcGVjaWFsaXplZCB2ZXJzaW9uIG9mIGBiYXNlUmVzdGAgd2hpY2ggZmxhdHRlbnMgdGhlIHJlc3QgYXJyYXkuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGZ1bmMgVGhlIGZ1bmN0aW9uIHRvIGFwcGx5IGEgcmVzdCBwYXJhbWV0ZXIgdG8uXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgZnVuY3Rpb24uXG4gICAgICovXG4gICAgZnVuY3Rpb24gZmxhdFJlc3QoZnVuYykge1xuICAgICAgcmV0dXJuIHNldFRvU3RyaW5nKG92ZXJSZXN0KGZ1bmMsIHVuZGVmaW5lZCwgZmxhdHRlbiksIGZ1bmMgKyAnJyk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhbiBhcnJheSBvZiBvd24gZW51bWVyYWJsZSBwcm9wZXJ0eSBuYW1lcyBhbmQgc3ltYm9scyBvZiBgb2JqZWN0YC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIHF1ZXJ5LlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgYXJyYXkgb2YgcHJvcGVydHkgbmFtZXMgYW5kIHN5bWJvbHMuXG4gICAgICovXG4gICAgZnVuY3Rpb24gZ2V0QWxsS2V5cyhvYmplY3QpIHtcbiAgICAgIHJldHVybiBiYXNlR2V0QWxsS2V5cyhvYmplY3QsIGtleXMsIGdldFN5bWJvbHMpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYW4gYXJyYXkgb2Ygb3duIGFuZCBpbmhlcml0ZWQgZW51bWVyYWJsZSBwcm9wZXJ0eSBuYW1lcyBhbmRcbiAgICAgKiBzeW1ib2xzIG9mIGBvYmplY3RgLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gcXVlcnkuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBhcnJheSBvZiBwcm9wZXJ0eSBuYW1lcyBhbmQgc3ltYm9scy5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBnZXRBbGxLZXlzSW4ob2JqZWN0KSB7XG4gICAgICByZXR1cm4gYmFzZUdldEFsbEtleXMob2JqZWN0LCBrZXlzSW4sIGdldFN5bWJvbHNJbik7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogR2V0cyBtZXRhZGF0YSBmb3IgYGZ1bmNgLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBmdW5jIFRoZSBmdW5jdGlvbiB0byBxdWVyeS5cbiAgICAgKiBAcmV0dXJucyB7Kn0gUmV0dXJucyB0aGUgbWV0YWRhdGEgZm9yIGBmdW5jYC5cbiAgICAgKi9cbiAgICB2YXIgZ2V0RGF0YSA9ICFtZXRhTWFwID8gbm9vcCA6IGZ1bmN0aW9uKGZ1bmMpIHtcbiAgICAgIHJldHVybiBtZXRhTWFwLmdldChmdW5jKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogR2V0cyB0aGUgbmFtZSBvZiBgZnVuY2AuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGZ1bmMgVGhlIGZ1bmN0aW9uIHRvIHF1ZXJ5LlxuICAgICAqIEByZXR1cm5zIHtzdHJpbmd9IFJldHVybnMgdGhlIGZ1bmN0aW9uIG5hbWUuXG4gICAgICovXG4gICAgZnVuY3Rpb24gZ2V0RnVuY05hbWUoZnVuYykge1xuICAgICAgdmFyIHJlc3VsdCA9IChmdW5jLm5hbWUgKyAnJyksXG4gICAgICAgICAgYXJyYXkgPSByZWFsTmFtZXNbcmVzdWx0XSxcbiAgICAgICAgICBsZW5ndGggPSBoYXNPd25Qcm9wZXJ0eS5jYWxsKHJlYWxOYW1lcywgcmVzdWx0KSA/IGFycmF5Lmxlbmd0aCA6IDA7XG5cbiAgICAgIHdoaWxlIChsZW5ndGgtLSkge1xuICAgICAgICB2YXIgZGF0YSA9IGFycmF5W2xlbmd0aF0sXG4gICAgICAgICAgICBvdGhlckZ1bmMgPSBkYXRhLmZ1bmM7XG4gICAgICAgIGlmIChvdGhlckZ1bmMgPT0gbnVsbCB8fCBvdGhlckZ1bmMgPT0gZnVuYykge1xuICAgICAgICAgIHJldHVybiBkYXRhLm5hbWU7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogR2V0cyB0aGUgYXJndW1lbnQgcGxhY2Vob2xkZXIgdmFsdWUgZm9yIGBmdW5jYC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gZnVuYyBUaGUgZnVuY3Rpb24gdG8gaW5zcGVjdC5cbiAgICAgKiBAcmV0dXJucyB7Kn0gUmV0dXJucyB0aGUgcGxhY2Vob2xkZXIgdmFsdWUuXG4gICAgICovXG4gICAgZnVuY3Rpb24gZ2V0SG9sZGVyKGZ1bmMpIHtcbiAgICAgIHZhciBvYmplY3QgPSBoYXNPd25Qcm9wZXJ0eS5jYWxsKGxvZGFzaCwgJ3BsYWNlaG9sZGVyJykgPyBsb2Rhc2ggOiBmdW5jO1xuICAgICAgcmV0dXJuIG9iamVjdC5wbGFjZWhvbGRlcjtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBHZXRzIHRoZSBhcHByb3ByaWF0ZSBcIml0ZXJhdGVlXCIgZnVuY3Rpb24uIElmIGBfLml0ZXJhdGVlYCBpcyBjdXN0b21pemVkLFxuICAgICAqIHRoaXMgZnVuY3Rpb24gcmV0dXJucyB0aGUgY3VzdG9tIG1ldGhvZCwgb3RoZXJ3aXNlIGl0IHJldHVybnMgYGJhc2VJdGVyYXRlZWAuXG4gICAgICogSWYgYXJndW1lbnRzIGFyZSBwcm92aWRlZCwgdGhlIGNob3NlbiBmdW5jdGlvbiBpcyBpbnZva2VkIHdpdGggdGhlbSBhbmRcbiAgICAgKiBpdHMgcmVzdWx0IGlzIHJldHVybmVkLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0geyp9IFt2YWx1ZV0gVGhlIHZhbHVlIHRvIGNvbnZlcnQgdG8gYW4gaXRlcmF0ZWUuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFthcml0eV0gVGhlIGFyaXR5IG9mIHRoZSBjcmVhdGVkIGl0ZXJhdGVlLlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgY2hvc2VuIGZ1bmN0aW9uIG9yIGl0cyByZXN1bHQuXG4gICAgICovXG4gICAgZnVuY3Rpb24gZ2V0SXRlcmF0ZWUoKSB7XG4gICAgICB2YXIgcmVzdWx0ID0gbG9kYXNoLml0ZXJhdGVlIHx8IGl0ZXJhdGVlO1xuICAgICAgcmVzdWx0ID0gcmVzdWx0ID09PSBpdGVyYXRlZSA/IGJhc2VJdGVyYXRlZSA6IHJlc3VsdDtcbiAgICAgIHJldHVybiBhcmd1bWVudHMubGVuZ3RoID8gcmVzdWx0KGFyZ3VtZW50c1swXSwgYXJndW1lbnRzWzFdKSA6IHJlc3VsdDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBHZXRzIHRoZSBkYXRhIGZvciBgbWFwYC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG1hcCBUaGUgbWFwIHRvIHF1ZXJ5LlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgVGhlIHJlZmVyZW5jZSBrZXkuXG4gICAgICogQHJldHVybnMgeyp9IFJldHVybnMgdGhlIG1hcCBkYXRhLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGdldE1hcERhdGEobWFwLCBrZXkpIHtcbiAgICAgIHZhciBkYXRhID0gbWFwLl9fZGF0YV9fO1xuICAgICAgcmV0dXJuIGlzS2V5YWJsZShrZXkpXG4gICAgICAgID8gZGF0YVt0eXBlb2Yga2V5ID09ICdzdHJpbmcnID8gJ3N0cmluZycgOiAnaGFzaCddXG4gICAgICAgIDogZGF0YS5tYXA7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogR2V0cyB0aGUgcHJvcGVydHkgbmFtZXMsIHZhbHVlcywgYW5kIGNvbXBhcmUgZmxhZ3Mgb2YgYG9iamVjdGAuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBxdWVyeS5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIG1hdGNoIGRhdGEgb2YgYG9iamVjdGAuXG4gICAgICovXG4gICAgZnVuY3Rpb24gZ2V0TWF0Y2hEYXRhKG9iamVjdCkge1xuICAgICAgdmFyIHJlc3VsdCA9IGtleXMob2JqZWN0KSxcbiAgICAgICAgICBsZW5ndGggPSByZXN1bHQubGVuZ3RoO1xuXG4gICAgICB3aGlsZSAobGVuZ3RoLS0pIHtcbiAgICAgICAgdmFyIGtleSA9IHJlc3VsdFtsZW5ndGhdLFxuICAgICAgICAgICAgdmFsdWUgPSBvYmplY3Rba2V5XTtcblxuICAgICAgICByZXN1bHRbbGVuZ3RoXSA9IFtrZXksIHZhbHVlLCBpc1N0cmljdENvbXBhcmFibGUodmFsdWUpXTtcbiAgICAgIH1cbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogR2V0cyB0aGUgbmF0aXZlIGZ1bmN0aW9uIGF0IGBrZXlgIG9mIGBvYmplY3RgLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gcXVlcnkuXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGtleSBUaGUga2V5IG9mIHRoZSBtZXRob2QgdG8gZ2V0LlxuICAgICAqIEByZXR1cm5zIHsqfSBSZXR1cm5zIHRoZSBmdW5jdGlvbiBpZiBpdCdzIG5hdGl2ZSwgZWxzZSBgdW5kZWZpbmVkYC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBnZXROYXRpdmUob2JqZWN0LCBrZXkpIHtcbiAgICAgIHZhciB2YWx1ZSA9IGdldFZhbHVlKG9iamVjdCwga2V5KTtcbiAgICAgIHJldHVybiBiYXNlSXNOYXRpdmUodmFsdWUpID8gdmFsdWUgOiB1bmRlZmluZWQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQSBzcGVjaWFsaXplZCB2ZXJzaW9uIG9mIGBiYXNlR2V0VGFnYCB3aGljaCBpZ25vcmVzIGBTeW1ib2wudG9TdHJpbmdUYWdgIHZhbHVlcy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gcXVlcnkuXG4gICAgICogQHJldHVybnMge3N0cmluZ30gUmV0dXJucyB0aGUgcmF3IGB0b1N0cmluZ1RhZ2AuXG4gICAgICovXG4gICAgZnVuY3Rpb24gZ2V0UmF3VGFnKHZhbHVlKSB7XG4gICAgICB2YXIgaXNPd24gPSBoYXNPd25Qcm9wZXJ0eS5jYWxsKHZhbHVlLCBzeW1Ub1N0cmluZ1RhZyksXG4gICAgICAgICAgdGFnID0gdmFsdWVbc3ltVG9TdHJpbmdUYWddO1xuXG4gICAgICB0cnkge1xuICAgICAgICB2YWx1ZVtzeW1Ub1N0cmluZ1RhZ10gPSB1bmRlZmluZWQ7XG4gICAgICAgIHZhciB1bm1hc2tlZCA9IHRydWU7XG4gICAgICB9IGNhdGNoIChlKSB7fVxuXG4gICAgICB2YXIgcmVzdWx0ID0gbmF0aXZlT2JqZWN0VG9TdHJpbmcuY2FsbCh2YWx1ZSk7XG4gICAgICBpZiAodW5tYXNrZWQpIHtcbiAgICAgICAgaWYgKGlzT3duKSB7XG4gICAgICAgICAgdmFsdWVbc3ltVG9TdHJpbmdUYWddID0gdGFnO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGRlbGV0ZSB2YWx1ZVtzeW1Ub1N0cmluZ1RhZ107XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhbiBhcnJheSBvZiB0aGUgb3duIGVudW1lcmFibGUgc3ltYm9scyBvZiBgb2JqZWN0YC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIHF1ZXJ5LlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgYXJyYXkgb2Ygc3ltYm9scy5cbiAgICAgKi9cbiAgICB2YXIgZ2V0U3ltYm9scyA9ICFuYXRpdmVHZXRTeW1ib2xzID8gc3R1YkFycmF5IDogZnVuY3Rpb24ob2JqZWN0KSB7XG4gICAgICBpZiAob2JqZWN0ID09IG51bGwpIHtcbiAgICAgICAgcmV0dXJuIFtdO1xuICAgICAgfVxuICAgICAgb2JqZWN0ID0gT2JqZWN0KG9iamVjdCk7XG4gICAgICByZXR1cm4gYXJyYXlGaWx0ZXIobmF0aXZlR2V0U3ltYm9scyhvYmplY3QpLCBmdW5jdGlvbihzeW1ib2wpIHtcbiAgICAgICAgcmV0dXJuIHByb3BlcnR5SXNFbnVtZXJhYmxlLmNhbGwob2JqZWN0LCBzeW1ib2wpO1xuICAgICAgfSk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYW4gYXJyYXkgb2YgdGhlIG93biBhbmQgaW5oZXJpdGVkIGVudW1lcmFibGUgc3ltYm9scyBvZiBgb2JqZWN0YC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIHF1ZXJ5LlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgYXJyYXkgb2Ygc3ltYm9scy5cbiAgICAgKi9cbiAgICB2YXIgZ2V0U3ltYm9sc0luID0gIW5hdGl2ZUdldFN5bWJvbHMgPyBzdHViQXJyYXkgOiBmdW5jdGlvbihvYmplY3QpIHtcbiAgICAgIHZhciByZXN1bHQgPSBbXTtcbiAgICAgIHdoaWxlIChvYmplY3QpIHtcbiAgICAgICAgYXJyYXlQdXNoKHJlc3VsdCwgZ2V0U3ltYm9scyhvYmplY3QpKTtcbiAgICAgICAgb2JqZWN0ID0gZ2V0UHJvdG90eXBlKG9iamVjdCk7XG4gICAgICB9XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBHZXRzIHRoZSBgdG9TdHJpbmdUYWdgIG9mIGB2YWx1ZWAuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIHF1ZXJ5LlxuICAgICAqIEByZXR1cm5zIHtzdHJpbmd9IFJldHVybnMgdGhlIGB0b1N0cmluZ1RhZ2AuXG4gICAgICovXG4gICAgdmFyIGdldFRhZyA9IGJhc2VHZXRUYWc7XG5cbiAgICAvLyBGYWxsYmFjayBmb3IgZGF0YSB2aWV3cywgbWFwcywgc2V0cywgYW5kIHdlYWsgbWFwcyBpbiBJRSAxMSBhbmQgcHJvbWlzZXMgaW4gTm9kZS5qcyA8IDYuXG4gICAgaWYgKChEYXRhVmlldyAmJiBnZXRUYWcobmV3IERhdGFWaWV3KG5ldyBBcnJheUJ1ZmZlcigxKSkpICE9IGRhdGFWaWV3VGFnKSB8fFxuICAgICAgICAoTWFwICYmIGdldFRhZyhuZXcgTWFwKSAhPSBtYXBUYWcpIHx8XG4gICAgICAgIChQcm9taXNlICYmIGdldFRhZyhQcm9taXNlLnJlc29sdmUoKSkgIT0gcHJvbWlzZVRhZykgfHxcbiAgICAgICAgKFNldCAmJiBnZXRUYWcobmV3IFNldCkgIT0gc2V0VGFnKSB8fFxuICAgICAgICAoV2Vha01hcCAmJiBnZXRUYWcobmV3IFdlYWtNYXApICE9IHdlYWtNYXBUYWcpKSB7XG4gICAgICBnZXRUYWcgPSBmdW5jdGlvbih2YWx1ZSkge1xuICAgICAgICB2YXIgcmVzdWx0ID0gYmFzZUdldFRhZyh2YWx1ZSksXG4gICAgICAgICAgICBDdG9yID0gcmVzdWx0ID09IG9iamVjdFRhZyA/IHZhbHVlLmNvbnN0cnVjdG9yIDogdW5kZWZpbmVkLFxuICAgICAgICAgICAgY3RvclN0cmluZyA9IEN0b3IgPyB0b1NvdXJjZShDdG9yKSA6ICcnO1xuXG4gICAgICAgIGlmIChjdG9yU3RyaW5nKSB7XG4gICAgICAgICAgc3dpdGNoIChjdG9yU3RyaW5nKSB7XG4gICAgICAgICAgICBjYXNlIGRhdGFWaWV3Q3RvclN0cmluZzogcmV0dXJuIGRhdGFWaWV3VGFnO1xuICAgICAgICAgICAgY2FzZSBtYXBDdG9yU3RyaW5nOiByZXR1cm4gbWFwVGFnO1xuICAgICAgICAgICAgY2FzZSBwcm9taXNlQ3RvclN0cmluZzogcmV0dXJuIHByb21pc2VUYWc7XG4gICAgICAgICAgICBjYXNlIHNldEN0b3JTdHJpbmc6IHJldHVybiBzZXRUYWc7XG4gICAgICAgICAgICBjYXNlIHdlYWtNYXBDdG9yU3RyaW5nOiByZXR1cm4gd2Vha01hcFRhZztcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgIH07XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogR2V0cyB0aGUgdmlldywgYXBwbHlpbmcgYW55IGB0cmFuc2Zvcm1zYCB0byB0aGUgYHN0YXJ0YCBhbmQgYGVuZGAgcG9zaXRpb25zLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gc3RhcnQgVGhlIHN0YXJ0IG9mIHRoZSB2aWV3LlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBlbmQgVGhlIGVuZCBvZiB0aGUgdmlldy5cbiAgICAgKiBAcGFyYW0ge0FycmF5fSB0cmFuc2Zvcm1zIFRoZSB0cmFuc2Zvcm1hdGlvbnMgdG8gYXBwbHkgdG8gdGhlIHZpZXcuXG4gICAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyBhbiBvYmplY3QgY29udGFpbmluZyB0aGUgYHN0YXJ0YCBhbmQgYGVuZGBcbiAgICAgKiAgcG9zaXRpb25zIG9mIHRoZSB2aWV3LlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGdldFZpZXcoc3RhcnQsIGVuZCwgdHJhbnNmb3Jtcykge1xuICAgICAgdmFyIGluZGV4ID0gLTEsXG4gICAgICAgICAgbGVuZ3RoID0gdHJhbnNmb3Jtcy5sZW5ndGg7XG5cbiAgICAgIHdoaWxlICgrK2luZGV4IDwgbGVuZ3RoKSB7XG4gICAgICAgIHZhciBkYXRhID0gdHJhbnNmb3Jtc1tpbmRleF0sXG4gICAgICAgICAgICBzaXplID0gZGF0YS5zaXplO1xuXG4gICAgICAgIHN3aXRjaCAoZGF0YS50eXBlKSB7XG4gICAgICAgICAgY2FzZSAnZHJvcCc6ICAgICAgc3RhcnQgKz0gc2l6ZTsgYnJlYWs7XG4gICAgICAgICAgY2FzZSAnZHJvcFJpZ2h0JzogZW5kIC09IHNpemU7IGJyZWFrO1xuICAgICAgICAgIGNhc2UgJ3Rha2UnOiAgICAgIGVuZCA9IG5hdGl2ZU1pbihlbmQsIHN0YXJ0ICsgc2l6ZSk7IGJyZWFrO1xuICAgICAgICAgIGNhc2UgJ3Rha2VSaWdodCc6IHN0YXJ0ID0gbmF0aXZlTWF4KHN0YXJ0LCBlbmQgLSBzaXplKTsgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiB7ICdzdGFydCc6IHN0YXJ0LCAnZW5kJzogZW5kIH07XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogRXh0cmFjdHMgd3JhcHBlciBkZXRhaWxzIGZyb20gdGhlIGBzb3VyY2VgIGJvZHkgY29tbWVudC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHNvdXJjZSBUaGUgc291cmNlIHRvIGluc3BlY3QuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSB3cmFwcGVyIGRldGFpbHMuXG4gICAgICovXG4gICAgZnVuY3Rpb24gZ2V0V3JhcERldGFpbHMoc291cmNlKSB7XG4gICAgICB2YXIgbWF0Y2ggPSBzb3VyY2UubWF0Y2gocmVXcmFwRGV0YWlscyk7XG4gICAgICByZXR1cm4gbWF0Y2ggPyBtYXRjaFsxXS5zcGxpdChyZVNwbGl0RGV0YWlscykgOiBbXTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDaGVja3MgaWYgYHBhdGhgIGV4aXN0cyBvbiBgb2JqZWN0YC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIHF1ZXJ5LlxuICAgICAqIEBwYXJhbSB7QXJyYXl8c3RyaW5nfSBwYXRoIFRoZSBwYXRoIHRvIGNoZWNrLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGhhc0Z1bmMgVGhlIGZ1bmN0aW9uIHRvIGNoZWNrIHByb3BlcnRpZXMuXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGBwYXRoYCBleGlzdHMsIGVsc2UgYGZhbHNlYC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBoYXNQYXRoKG9iamVjdCwgcGF0aCwgaGFzRnVuYykge1xuICAgICAgcGF0aCA9IGNhc3RQYXRoKHBhdGgsIG9iamVjdCk7XG5cbiAgICAgIHZhciBpbmRleCA9IC0xLFxuICAgICAgICAgIGxlbmd0aCA9IHBhdGgubGVuZ3RoLFxuICAgICAgICAgIHJlc3VsdCA9IGZhbHNlO1xuXG4gICAgICB3aGlsZSAoKytpbmRleCA8IGxlbmd0aCkge1xuICAgICAgICB2YXIga2V5ID0gdG9LZXkocGF0aFtpbmRleF0pO1xuICAgICAgICBpZiAoIShyZXN1bHQgPSBvYmplY3QgIT0gbnVsbCAmJiBoYXNGdW5jKG9iamVjdCwga2V5KSkpIHtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgICBvYmplY3QgPSBvYmplY3Rba2V5XTtcbiAgICAgIH1cbiAgICAgIGlmIChyZXN1bHQgfHwgKytpbmRleCAhPSBsZW5ndGgpIHtcbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgIH1cbiAgICAgIGxlbmd0aCA9IG9iamVjdCA9PSBudWxsID8gMCA6IG9iamVjdC5sZW5ndGg7XG4gICAgICByZXR1cm4gISFsZW5ndGggJiYgaXNMZW5ndGgobGVuZ3RoKSAmJiBpc0luZGV4KGtleSwgbGVuZ3RoKSAmJlxuICAgICAgICAoaXNBcnJheShvYmplY3QpIHx8IGlzQXJndW1lbnRzKG9iamVjdCkpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEluaXRpYWxpemVzIGFuIGFycmF5IGNsb25lLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gY2xvbmUuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBpbml0aWFsaXplZCBjbG9uZS5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBpbml0Q2xvbmVBcnJheShhcnJheSkge1xuICAgICAgdmFyIGxlbmd0aCA9IGFycmF5Lmxlbmd0aCxcbiAgICAgICAgICByZXN1bHQgPSBuZXcgYXJyYXkuY29uc3RydWN0b3IobGVuZ3RoKTtcblxuICAgICAgLy8gQWRkIHByb3BlcnRpZXMgYXNzaWduZWQgYnkgYFJlZ0V4cCNleGVjYC5cbiAgICAgIGlmIChsZW5ndGggJiYgdHlwZW9mIGFycmF5WzBdID09ICdzdHJpbmcnICYmIGhhc093blByb3BlcnR5LmNhbGwoYXJyYXksICdpbmRleCcpKSB7XG4gICAgICAgIHJlc3VsdC5pbmRleCA9IGFycmF5LmluZGV4O1xuICAgICAgICByZXN1bHQuaW5wdXQgPSBhcnJheS5pbnB1dDtcbiAgICAgIH1cbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogSW5pdGlhbGl6ZXMgYW4gb2JqZWN0IGNsb25lLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gY2xvbmUuXG4gICAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyB0aGUgaW5pdGlhbGl6ZWQgY2xvbmUuXG4gICAgICovXG4gICAgZnVuY3Rpb24gaW5pdENsb25lT2JqZWN0KG9iamVjdCkge1xuICAgICAgcmV0dXJuICh0eXBlb2Ygb2JqZWN0LmNvbnN0cnVjdG9yID09ICdmdW5jdGlvbicgJiYgIWlzUHJvdG90eXBlKG9iamVjdCkpXG4gICAgICAgID8gYmFzZUNyZWF0ZShnZXRQcm90b3R5cGUob2JqZWN0KSlcbiAgICAgICAgOiB7fTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBJbml0aWFsaXplcyBhbiBvYmplY3QgY2xvbmUgYmFzZWQgb24gaXRzIGB0b1N0cmluZ1RhZ2AuXG4gICAgICpcbiAgICAgKiAqKk5vdGU6KiogVGhpcyBmdW5jdGlvbiBvbmx5IHN1cHBvcnRzIGNsb25pbmcgdmFsdWVzIHdpdGggdGFncyBvZlxuICAgICAqIGBCb29sZWFuYCwgYERhdGVgLCBgRXJyb3JgLCBgTWFwYCwgYE51bWJlcmAsIGBSZWdFeHBgLCBgU2V0YCwgb3IgYFN0cmluZ2AuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBjbG9uZS5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gdGFnIFRoZSBgdG9TdHJpbmdUYWdgIG9mIHRoZSBvYmplY3QgdG8gY2xvbmUuXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbaXNEZWVwXSBTcGVjaWZ5IGEgZGVlcCBjbG9uZS5cbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIHRoZSBpbml0aWFsaXplZCBjbG9uZS5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBpbml0Q2xvbmVCeVRhZyhvYmplY3QsIHRhZywgaXNEZWVwKSB7XG4gICAgICB2YXIgQ3RvciA9IG9iamVjdC5jb25zdHJ1Y3RvcjtcbiAgICAgIHN3aXRjaCAodGFnKSB7XG4gICAgICAgIGNhc2UgYXJyYXlCdWZmZXJUYWc6XG4gICAgICAgICAgcmV0dXJuIGNsb25lQXJyYXlCdWZmZXIob2JqZWN0KTtcblxuICAgICAgICBjYXNlIGJvb2xUYWc6XG4gICAgICAgIGNhc2UgZGF0ZVRhZzpcbiAgICAgICAgICByZXR1cm4gbmV3IEN0b3IoK29iamVjdCk7XG5cbiAgICAgICAgY2FzZSBkYXRhVmlld1RhZzpcbiAgICAgICAgICByZXR1cm4gY2xvbmVEYXRhVmlldyhvYmplY3QsIGlzRGVlcCk7XG5cbiAgICAgICAgY2FzZSBmbG9hdDMyVGFnOiBjYXNlIGZsb2F0NjRUYWc6XG4gICAgICAgIGNhc2UgaW50OFRhZzogY2FzZSBpbnQxNlRhZzogY2FzZSBpbnQzMlRhZzpcbiAgICAgICAgY2FzZSB1aW50OFRhZzogY2FzZSB1aW50OENsYW1wZWRUYWc6IGNhc2UgdWludDE2VGFnOiBjYXNlIHVpbnQzMlRhZzpcbiAgICAgICAgICByZXR1cm4gY2xvbmVUeXBlZEFycmF5KG9iamVjdCwgaXNEZWVwKTtcblxuICAgICAgICBjYXNlIG1hcFRhZzpcbiAgICAgICAgICByZXR1cm4gbmV3IEN0b3I7XG5cbiAgICAgICAgY2FzZSBudW1iZXJUYWc6XG4gICAgICAgIGNhc2Ugc3RyaW5nVGFnOlxuICAgICAgICAgIHJldHVybiBuZXcgQ3RvcihvYmplY3QpO1xuXG4gICAgICAgIGNhc2UgcmVnZXhwVGFnOlxuICAgICAgICAgIHJldHVybiBjbG9uZVJlZ0V4cChvYmplY3QpO1xuXG4gICAgICAgIGNhc2Ugc2V0VGFnOlxuICAgICAgICAgIHJldHVybiBuZXcgQ3RvcjtcblxuICAgICAgICBjYXNlIHN5bWJvbFRhZzpcbiAgICAgICAgICByZXR1cm4gY2xvbmVTeW1ib2wob2JqZWN0KTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBJbnNlcnRzIHdyYXBwZXIgYGRldGFpbHNgIGluIGEgY29tbWVudCBhdCB0aGUgdG9wIG9mIHRoZSBgc291cmNlYCBib2R5LlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gc291cmNlIFRoZSBzb3VyY2UgdG8gbW9kaWZ5LlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gZGV0YWlscyBUaGUgZGV0YWlscyB0byBpbnNlcnQuXG4gICAgICogQHJldHVybnMge3N0cmluZ30gUmV0dXJucyB0aGUgbW9kaWZpZWQgc291cmNlLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGluc2VydFdyYXBEZXRhaWxzKHNvdXJjZSwgZGV0YWlscykge1xuICAgICAgdmFyIGxlbmd0aCA9IGRldGFpbHMubGVuZ3RoO1xuICAgICAgaWYgKCFsZW5ndGgpIHtcbiAgICAgICAgcmV0dXJuIHNvdXJjZTtcbiAgICAgIH1cbiAgICAgIHZhciBsYXN0SW5kZXggPSBsZW5ndGggLSAxO1xuICAgICAgZGV0YWlsc1tsYXN0SW5kZXhdID0gKGxlbmd0aCA+IDEgPyAnJiAnIDogJycpICsgZGV0YWlsc1tsYXN0SW5kZXhdO1xuICAgICAgZGV0YWlscyA9IGRldGFpbHMuam9pbihsZW5ndGggPiAyID8gJywgJyA6ICcgJyk7XG4gICAgICByZXR1cm4gc291cmNlLnJlcGxhY2UocmVXcmFwQ29tbWVudCwgJ3tcXG4vKiBbd3JhcHBlZCB3aXRoICcgKyBkZXRhaWxzICsgJ10gKi9cXG4nKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBhIGZsYXR0ZW5hYmxlIGBhcmd1bWVudHNgIG9iamVjdCBvciBhcnJheS5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgZmxhdHRlbmFibGUsIGVsc2UgYGZhbHNlYC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBpc0ZsYXR0ZW5hYmxlKHZhbHVlKSB7XG4gICAgICByZXR1cm4gaXNBcnJheSh2YWx1ZSkgfHwgaXNBcmd1bWVudHModmFsdWUpIHx8XG4gICAgICAgICEhKHNwcmVhZGFibGVTeW1ib2wgJiYgdmFsdWUgJiYgdmFsdWVbc3ByZWFkYWJsZVN5bWJvbF0pO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIGEgdmFsaWQgYXJyYXktbGlrZSBpbmRleC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtsZW5ndGg9TUFYX1NBRkVfSU5URUdFUl0gVGhlIHVwcGVyIGJvdW5kcyBvZiBhIHZhbGlkIGluZGV4LlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGEgdmFsaWQgaW5kZXgsIGVsc2UgYGZhbHNlYC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBpc0luZGV4KHZhbHVlLCBsZW5ndGgpIHtcbiAgICAgIHZhciB0eXBlID0gdHlwZW9mIHZhbHVlO1xuICAgICAgbGVuZ3RoID0gbGVuZ3RoID09IG51bGwgPyBNQVhfU0FGRV9JTlRFR0VSIDogbGVuZ3RoO1xuXG4gICAgICByZXR1cm4gISFsZW5ndGggJiZcbiAgICAgICAgKHR5cGUgPT0gJ251bWJlcicgfHxcbiAgICAgICAgICAodHlwZSAhPSAnc3ltYm9sJyAmJiByZUlzVWludC50ZXN0KHZhbHVlKSkpICYmXG4gICAgICAgICAgICAodmFsdWUgPiAtMSAmJiB2YWx1ZSAlIDEgPT0gMCAmJiB2YWx1ZSA8IGxlbmd0aCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2hlY2tzIGlmIHRoZSBnaXZlbiBhcmd1bWVudHMgYXJlIGZyb20gYW4gaXRlcmF0ZWUgY2FsbC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgcG90ZW50aWFsIGl0ZXJhdGVlIHZhbHVlIGFyZ3VtZW50LlxuICAgICAqIEBwYXJhbSB7Kn0gaW5kZXggVGhlIHBvdGVudGlhbCBpdGVyYXRlZSBpbmRleCBvciBrZXkgYXJndW1lbnQuXG4gICAgICogQHBhcmFtIHsqfSBvYmplY3QgVGhlIHBvdGVudGlhbCBpdGVyYXRlZSBvYmplY3QgYXJndW1lbnQuXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIHRoZSBhcmd1bWVudHMgYXJlIGZyb20gYW4gaXRlcmF0ZWUgY2FsbCxcbiAgICAgKiAgZWxzZSBgZmFsc2VgLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGlzSXRlcmF0ZWVDYWxsKHZhbHVlLCBpbmRleCwgb2JqZWN0KSB7XG4gICAgICBpZiAoIWlzT2JqZWN0KG9iamVjdCkpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuICAgICAgdmFyIHR5cGUgPSB0eXBlb2YgaW5kZXg7XG4gICAgICBpZiAodHlwZSA9PSAnbnVtYmVyJ1xuICAgICAgICAgICAgPyAoaXNBcnJheUxpa2Uob2JqZWN0KSAmJiBpc0luZGV4KGluZGV4LCBvYmplY3QubGVuZ3RoKSlcbiAgICAgICAgICAgIDogKHR5cGUgPT0gJ3N0cmluZycgJiYgaW5kZXggaW4gb2JqZWN0KVxuICAgICAgICAgICkge1xuICAgICAgICByZXR1cm4gZXEob2JqZWN0W2luZGV4XSwgdmFsdWUpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIGEgcHJvcGVydHkgbmFtZSBhbmQgbm90IGEgcHJvcGVydHkgcGF0aC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gICAgICogQHBhcmFtIHtPYmplY3R9IFtvYmplY3RdIFRoZSBvYmplY3QgdG8gcXVlcnkga2V5cyBvbi5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBhIHByb3BlcnR5IG5hbWUsIGVsc2UgYGZhbHNlYC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBpc0tleSh2YWx1ZSwgb2JqZWN0KSB7XG4gICAgICBpZiAoaXNBcnJheSh2YWx1ZSkpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuICAgICAgdmFyIHR5cGUgPSB0eXBlb2YgdmFsdWU7XG4gICAgICBpZiAodHlwZSA9PSAnbnVtYmVyJyB8fCB0eXBlID09ICdzeW1ib2wnIHx8IHR5cGUgPT0gJ2Jvb2xlYW4nIHx8XG4gICAgICAgICAgdmFsdWUgPT0gbnVsbCB8fCBpc1N5bWJvbCh2YWx1ZSkpIHtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICB9XG4gICAgICByZXR1cm4gcmVJc1BsYWluUHJvcC50ZXN0KHZhbHVlKSB8fCAhcmVJc0RlZXBQcm9wLnRlc3QodmFsdWUpIHx8XG4gICAgICAgIChvYmplY3QgIT0gbnVsbCAmJiB2YWx1ZSBpbiBPYmplY3Qob2JqZWN0KSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgc3VpdGFibGUgZm9yIHVzZSBhcyB1bmlxdWUgb2JqZWN0IGtleS5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgc3VpdGFibGUsIGVsc2UgYGZhbHNlYC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBpc0tleWFibGUodmFsdWUpIHtcbiAgICAgIHZhciB0eXBlID0gdHlwZW9mIHZhbHVlO1xuICAgICAgcmV0dXJuICh0eXBlID09ICdzdHJpbmcnIHx8IHR5cGUgPT0gJ251bWJlcicgfHwgdHlwZSA9PSAnc3ltYm9sJyB8fCB0eXBlID09ICdib29sZWFuJylcbiAgICAgICAgPyAodmFsdWUgIT09ICdfX3Byb3RvX18nKVxuICAgICAgICA6ICh2YWx1ZSA9PT0gbnVsbCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2hlY2tzIGlmIGBmdW5jYCBoYXMgYSBsYXp5IGNvdW50ZXJwYXJ0LlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBmdW5jIFRoZSBmdW5jdGlvbiB0byBjaGVjay5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYGZ1bmNgIGhhcyBhIGxhenkgY291bnRlcnBhcnQsXG4gICAgICogIGVsc2UgYGZhbHNlYC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBpc0xhemlhYmxlKGZ1bmMpIHtcbiAgICAgIHZhciBmdW5jTmFtZSA9IGdldEZ1bmNOYW1lKGZ1bmMpLFxuICAgICAgICAgIG90aGVyID0gbG9kYXNoW2Z1bmNOYW1lXTtcblxuICAgICAgaWYgKHR5cGVvZiBvdGhlciAhPSAnZnVuY3Rpb24nIHx8ICEoZnVuY05hbWUgaW4gTGF6eVdyYXBwZXIucHJvdG90eXBlKSkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG4gICAgICBpZiAoZnVuYyA9PT0gb3RoZXIpIHtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICB9XG4gICAgICB2YXIgZGF0YSA9IGdldERhdGEob3RoZXIpO1xuICAgICAgcmV0dXJuICEhZGF0YSAmJiBmdW5jID09PSBkYXRhWzBdO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENoZWNrcyBpZiBgZnVuY2AgaGFzIGl0cyBzb3VyY2UgbWFza2VkLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBmdW5jIFRoZSBmdW5jdGlvbiB0byBjaGVjay5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYGZ1bmNgIGlzIG1hc2tlZCwgZWxzZSBgZmFsc2VgLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGlzTWFza2VkKGZ1bmMpIHtcbiAgICAgIHJldHVybiAhIW1hc2tTcmNLZXkgJiYgKG1hc2tTcmNLZXkgaW4gZnVuYyk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2hlY2tzIGlmIGBmdW5jYCBpcyBjYXBhYmxlIG9mIGJlaW5nIG1hc2tlZC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGBmdW5jYCBpcyBtYXNrYWJsZSwgZWxzZSBgZmFsc2VgLlxuICAgICAqL1xuICAgIHZhciBpc01hc2thYmxlID0gY29yZUpzRGF0YSA/IGlzRnVuY3Rpb24gOiBzdHViRmFsc2U7XG5cbiAgICAvKipcbiAgICAgKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBsaWtlbHkgYSBwcm90b3R5cGUgb2JqZWN0LlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBhIHByb3RvdHlwZSwgZWxzZSBgZmFsc2VgLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGlzUHJvdG90eXBlKHZhbHVlKSB7XG4gICAgICB2YXIgQ3RvciA9IHZhbHVlICYmIHZhbHVlLmNvbnN0cnVjdG9yLFxuICAgICAgICAgIHByb3RvID0gKHR5cGVvZiBDdG9yID09ICdmdW5jdGlvbicgJiYgQ3Rvci5wcm90b3R5cGUpIHx8IG9iamVjdFByb3RvO1xuXG4gICAgICByZXR1cm4gdmFsdWUgPT09IHByb3RvO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIHN1aXRhYmxlIGZvciBzdHJpY3QgZXF1YWxpdHkgY29tcGFyaXNvbnMsIGkuZS4gYD09PWAuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlmIHN1aXRhYmxlIGZvciBzdHJpY3RcbiAgICAgKiAgZXF1YWxpdHkgY29tcGFyaXNvbnMsIGVsc2UgYGZhbHNlYC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBpc1N0cmljdENvbXBhcmFibGUodmFsdWUpIHtcbiAgICAgIHJldHVybiB2YWx1ZSA9PT0gdmFsdWUgJiYgIWlzT2JqZWN0KHZhbHVlKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBBIHNwZWNpYWxpemVkIHZlcnNpb24gb2YgYG1hdGNoZXNQcm9wZXJ0eWAgZm9yIHNvdXJjZSB2YWx1ZXMgc3VpdGFibGVcbiAgICAgKiBmb3Igc3RyaWN0IGVxdWFsaXR5IGNvbXBhcmlzb25zLCBpLmUuIGA9PT1gLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSBrZXkgb2YgdGhlIHByb3BlcnR5IHRvIGdldC5cbiAgICAgKiBAcGFyYW0geyp9IHNyY1ZhbHVlIFRoZSB2YWx1ZSB0byBtYXRjaC5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyBzcGVjIGZ1bmN0aW9uLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIG1hdGNoZXNTdHJpY3RDb21wYXJhYmxlKGtleSwgc3JjVmFsdWUpIHtcbiAgICAgIHJldHVybiBmdW5jdGlvbihvYmplY3QpIHtcbiAgICAgICAgaWYgKG9iamVjdCA9PSBudWxsKSB7XG4gICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBvYmplY3Rba2V5XSA9PT0gc3JjVmFsdWUgJiZcbiAgICAgICAgICAoc3JjVmFsdWUgIT09IHVuZGVmaW5lZCB8fCAoa2V5IGluIE9iamVjdChvYmplY3QpKSk7XG4gICAgICB9O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEEgc3BlY2lhbGl6ZWQgdmVyc2lvbiBvZiBgXy5tZW1vaXplYCB3aGljaCBjbGVhcnMgdGhlIG1lbW9pemVkIGZ1bmN0aW9uJ3NcbiAgICAgKiBjYWNoZSB3aGVuIGl0IGV4Y2VlZHMgYE1BWF9NRU1PSVpFX1NJWkVgLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBmdW5jIFRoZSBmdW5jdGlvbiB0byBoYXZlIGl0cyBvdXRwdXQgbWVtb2l6ZWQuXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgbWVtb2l6ZWQgZnVuY3Rpb24uXG4gICAgICovXG4gICAgZnVuY3Rpb24gbWVtb2l6ZUNhcHBlZChmdW5jKSB7XG4gICAgICB2YXIgcmVzdWx0ID0gbWVtb2l6ZShmdW5jLCBmdW5jdGlvbihrZXkpIHtcbiAgICAgICAgaWYgKGNhY2hlLnNpemUgPT09IE1BWF9NRU1PSVpFX1NJWkUpIHtcbiAgICAgICAgICBjYWNoZS5jbGVhcigpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBrZXk7XG4gICAgICB9KTtcblxuICAgICAgdmFyIGNhY2hlID0gcmVzdWx0LmNhY2hlO1xuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBNZXJnZXMgdGhlIGZ1bmN0aW9uIG1ldGFkYXRhIG9mIGBzb3VyY2VgIGludG8gYGRhdGFgLlxuICAgICAqXG4gICAgICogTWVyZ2luZyBtZXRhZGF0YSByZWR1Y2VzIHRoZSBudW1iZXIgb2Ygd3JhcHBlcnMgdXNlZCB0byBpbnZva2UgYSBmdW5jdGlvbi5cbiAgICAgKiBUaGlzIGlzIHBvc3NpYmxlIGJlY2F1c2UgbWV0aG9kcyBsaWtlIGBfLmJpbmRgLCBgXy5jdXJyeWAsIGFuZCBgXy5wYXJ0aWFsYFxuICAgICAqIG1heSBiZSBhcHBsaWVkIHJlZ2FyZGxlc3Mgb2YgZXhlY3V0aW9uIG9yZGVyLiBNZXRob2RzIGxpa2UgYF8uYXJ5YCBhbmRcbiAgICAgKiBgXy5yZWFyZ2AgbW9kaWZ5IGZ1bmN0aW9uIGFyZ3VtZW50cywgbWFraW5nIHRoZSBvcmRlciBpbiB3aGljaCB0aGV5IGFyZVxuICAgICAqIGV4ZWN1dGVkIGltcG9ydGFudCwgcHJldmVudGluZyB0aGUgbWVyZ2luZyBvZiBtZXRhZGF0YS4gSG93ZXZlciwgd2UgbWFrZVxuICAgICAqIGFuIGV4Y2VwdGlvbiBmb3IgYSBzYWZlIGNvbWJpbmVkIGNhc2Ugd2hlcmUgY3VycmllZCBmdW5jdGlvbnMgaGF2ZSBgXy5hcnlgXG4gICAgICogYW5kIG9yIGBfLnJlYXJnYCBhcHBsaWVkLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBkYXRhIFRoZSBkZXN0aW5hdGlvbiBtZXRhZGF0YS5cbiAgICAgKiBAcGFyYW0ge0FycmF5fSBzb3VyY2UgVGhlIHNvdXJjZSBtZXRhZGF0YS5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgYGRhdGFgLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIG1lcmdlRGF0YShkYXRhLCBzb3VyY2UpIHtcbiAgICAgIHZhciBiaXRtYXNrID0gZGF0YVsxXSxcbiAgICAgICAgICBzcmNCaXRtYXNrID0gc291cmNlWzFdLFxuICAgICAgICAgIG5ld0JpdG1hc2sgPSBiaXRtYXNrIHwgc3JjQml0bWFzayxcbiAgICAgICAgICBpc0NvbW1vbiA9IG5ld0JpdG1hc2sgPCAoV1JBUF9CSU5EX0ZMQUcgfCBXUkFQX0JJTkRfS0VZX0ZMQUcgfCBXUkFQX0FSWV9GTEFHKTtcblxuICAgICAgdmFyIGlzQ29tYm8gPVxuICAgICAgICAoKHNyY0JpdG1hc2sgPT0gV1JBUF9BUllfRkxBRykgJiYgKGJpdG1hc2sgPT0gV1JBUF9DVVJSWV9GTEFHKSkgfHxcbiAgICAgICAgKChzcmNCaXRtYXNrID09IFdSQVBfQVJZX0ZMQUcpICYmIChiaXRtYXNrID09IFdSQVBfUkVBUkdfRkxBRykgJiYgKGRhdGFbN10ubGVuZ3RoIDw9IHNvdXJjZVs4XSkpIHx8XG4gICAgICAgICgoc3JjQml0bWFzayA9PSAoV1JBUF9BUllfRkxBRyB8IFdSQVBfUkVBUkdfRkxBRykpICYmIChzb3VyY2VbN10ubGVuZ3RoIDw9IHNvdXJjZVs4XSkgJiYgKGJpdG1hc2sgPT0gV1JBUF9DVVJSWV9GTEFHKSk7XG5cbiAgICAgIC8vIEV4aXQgZWFybHkgaWYgbWV0YWRhdGEgY2FuJ3QgYmUgbWVyZ2VkLlxuICAgICAgaWYgKCEoaXNDb21tb24gfHwgaXNDb21ibykpIHtcbiAgICAgICAgcmV0dXJuIGRhdGE7XG4gICAgICB9XG4gICAgICAvLyBVc2Ugc291cmNlIGB0aGlzQXJnYCBpZiBhdmFpbGFibGUuXG4gICAgICBpZiAoc3JjQml0bWFzayAmIFdSQVBfQklORF9GTEFHKSB7XG4gICAgICAgIGRhdGFbMl0gPSBzb3VyY2VbMl07XG4gICAgICAgIC8vIFNldCB3aGVuIGN1cnJ5aW5nIGEgYm91bmQgZnVuY3Rpb24uXG4gICAgICAgIG5ld0JpdG1hc2sgfD0gYml0bWFzayAmIFdSQVBfQklORF9GTEFHID8gMCA6IFdSQVBfQ1VSUllfQk9VTkRfRkxBRztcbiAgICAgIH1cbiAgICAgIC8vIENvbXBvc2UgcGFydGlhbCBhcmd1bWVudHMuXG4gICAgICB2YXIgdmFsdWUgPSBzb3VyY2VbM107XG4gICAgICBpZiAodmFsdWUpIHtcbiAgICAgICAgdmFyIHBhcnRpYWxzID0gZGF0YVszXTtcbiAgICAgICAgZGF0YVszXSA9IHBhcnRpYWxzID8gY29tcG9zZUFyZ3MocGFydGlhbHMsIHZhbHVlLCBzb3VyY2VbNF0pIDogdmFsdWU7XG4gICAgICAgIGRhdGFbNF0gPSBwYXJ0aWFscyA/IHJlcGxhY2VIb2xkZXJzKGRhdGFbM10sIFBMQUNFSE9MREVSKSA6IHNvdXJjZVs0XTtcbiAgICAgIH1cbiAgICAgIC8vIENvbXBvc2UgcGFydGlhbCByaWdodCBhcmd1bWVudHMuXG4gICAgICB2YWx1ZSA9IHNvdXJjZVs1XTtcbiAgICAgIGlmICh2YWx1ZSkge1xuICAgICAgICBwYXJ0aWFscyA9IGRhdGFbNV07XG4gICAgICAgIGRhdGFbNV0gPSBwYXJ0aWFscyA/IGNvbXBvc2VBcmdzUmlnaHQocGFydGlhbHMsIHZhbHVlLCBzb3VyY2VbNl0pIDogdmFsdWU7XG4gICAgICAgIGRhdGFbNl0gPSBwYXJ0aWFscyA/IHJlcGxhY2VIb2xkZXJzKGRhdGFbNV0sIFBMQUNFSE9MREVSKSA6IHNvdXJjZVs2XTtcbiAgICAgIH1cbiAgICAgIC8vIFVzZSBzb3VyY2UgYGFyZ1Bvc2AgaWYgYXZhaWxhYmxlLlxuICAgICAgdmFsdWUgPSBzb3VyY2VbN107XG4gICAgICBpZiAodmFsdWUpIHtcbiAgICAgICAgZGF0YVs3XSA9IHZhbHVlO1xuICAgICAgfVxuICAgICAgLy8gVXNlIHNvdXJjZSBgYXJ5YCBpZiBpdCdzIHNtYWxsZXIuXG4gICAgICBpZiAoc3JjQml0bWFzayAmIFdSQVBfQVJZX0ZMQUcpIHtcbiAgICAgICAgZGF0YVs4XSA9IGRhdGFbOF0gPT0gbnVsbCA/IHNvdXJjZVs4XSA6IG5hdGl2ZU1pbihkYXRhWzhdLCBzb3VyY2VbOF0pO1xuICAgICAgfVxuICAgICAgLy8gVXNlIHNvdXJjZSBgYXJpdHlgIGlmIG9uZSBpcyBub3QgcHJvdmlkZWQuXG4gICAgICBpZiAoZGF0YVs5XSA9PSBudWxsKSB7XG4gICAgICAgIGRhdGFbOV0gPSBzb3VyY2VbOV07XG4gICAgICB9XG4gICAgICAvLyBVc2Ugc291cmNlIGBmdW5jYCBhbmQgbWVyZ2UgYml0bWFza3MuXG4gICAgICBkYXRhWzBdID0gc291cmNlWzBdO1xuICAgICAgZGF0YVsxXSA9IG5ld0JpdG1hc2s7XG5cbiAgICAgIHJldHVybiBkYXRhO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoaXMgZnVuY3Rpb24gaXMgbGlrZVxuICAgICAqIFtgT2JqZWN0LmtleXNgXShodHRwOi8vZWNtYS1pbnRlcm5hdGlvbmFsLm9yZy9lY21hLTI2Mi83LjAvI3NlYy1vYmplY3Qua2V5cylcbiAgICAgKiBleGNlcHQgdGhhdCBpdCBpbmNsdWRlcyBpbmhlcml0ZWQgZW51bWVyYWJsZSBwcm9wZXJ0aWVzLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gcXVlcnkuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBhcnJheSBvZiBwcm9wZXJ0eSBuYW1lcy5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBuYXRpdmVLZXlzSW4ob2JqZWN0KSB7XG4gICAgICB2YXIgcmVzdWx0ID0gW107XG4gICAgICBpZiAob2JqZWN0ICE9IG51bGwpIHtcbiAgICAgICAgZm9yICh2YXIga2V5IGluIE9iamVjdChvYmplY3QpKSB7XG4gICAgICAgICAgcmVzdWx0LnB1c2goa2V5KTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDb252ZXJ0cyBgdmFsdWVgIHRvIGEgc3RyaW5nIHVzaW5nIGBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nYC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY29udmVydC5cbiAgICAgKiBAcmV0dXJucyB7c3RyaW5nfSBSZXR1cm5zIHRoZSBjb252ZXJ0ZWQgc3RyaW5nLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIG9iamVjdFRvU3RyaW5nKHZhbHVlKSB7XG4gICAgICByZXR1cm4gbmF0aXZlT2JqZWN0VG9TdHJpbmcuY2FsbCh2YWx1ZSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQSBzcGVjaWFsaXplZCB2ZXJzaW9uIG9mIGBiYXNlUmVzdGAgd2hpY2ggdHJhbnNmb3JtcyB0aGUgcmVzdCBhcnJheS5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gZnVuYyBUaGUgZnVuY3Rpb24gdG8gYXBwbHkgYSByZXN0IHBhcmFtZXRlciB0by5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3N0YXJ0PWZ1bmMubGVuZ3RoLTFdIFRoZSBzdGFydCBwb3NpdGlvbiBvZiB0aGUgcmVzdCBwYXJhbWV0ZXIuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gdHJhbnNmb3JtIFRoZSByZXN0IGFycmF5IHRyYW5zZm9ybS5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyBmdW5jdGlvbi5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBvdmVyUmVzdChmdW5jLCBzdGFydCwgdHJhbnNmb3JtKSB7XG4gICAgICBzdGFydCA9IG5hdGl2ZU1heChzdGFydCA9PT0gdW5kZWZpbmVkID8gKGZ1bmMubGVuZ3RoIC0gMSkgOiBzdGFydCwgMCk7XG4gICAgICByZXR1cm4gZnVuY3Rpb24oKSB7XG4gICAgICAgIHZhciBhcmdzID0gYXJndW1lbnRzLFxuICAgICAgICAgICAgaW5kZXggPSAtMSxcbiAgICAgICAgICAgIGxlbmd0aCA9IG5hdGl2ZU1heChhcmdzLmxlbmd0aCAtIHN0YXJ0LCAwKSxcbiAgICAgICAgICAgIGFycmF5ID0gQXJyYXkobGVuZ3RoKTtcblxuICAgICAgICB3aGlsZSAoKytpbmRleCA8IGxlbmd0aCkge1xuICAgICAgICAgIGFycmF5W2luZGV4XSA9IGFyZ3Nbc3RhcnQgKyBpbmRleF07XG4gICAgICAgIH1cbiAgICAgICAgaW5kZXggPSAtMTtcbiAgICAgICAgdmFyIG90aGVyQXJncyA9IEFycmF5KHN0YXJ0ICsgMSk7XG4gICAgICAgIHdoaWxlICgrK2luZGV4IDwgc3RhcnQpIHtcbiAgICAgICAgICBvdGhlckFyZ3NbaW5kZXhdID0gYXJnc1tpbmRleF07XG4gICAgICAgIH1cbiAgICAgICAgb3RoZXJBcmdzW3N0YXJ0XSA9IHRyYW5zZm9ybShhcnJheSk7XG4gICAgICAgIHJldHVybiBhcHBseShmdW5jLCB0aGlzLCBvdGhlckFyZ3MpO1xuICAgICAgfTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBHZXRzIHRoZSBwYXJlbnQgdmFsdWUgYXQgYHBhdGhgIG9mIGBvYmplY3RgLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gcXVlcnkuXG4gICAgICogQHBhcmFtIHtBcnJheX0gcGF0aCBUaGUgcGF0aCB0byBnZXQgdGhlIHBhcmVudCB2YWx1ZSBvZi5cbiAgICAgKiBAcmV0dXJucyB7Kn0gUmV0dXJucyB0aGUgcGFyZW50IHZhbHVlLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHBhcmVudChvYmplY3QsIHBhdGgpIHtcbiAgICAgIHJldHVybiBwYXRoLmxlbmd0aCA8IDIgPyBvYmplY3QgOiBiYXNlR2V0KG9iamVjdCwgYmFzZVNsaWNlKHBhdGgsIDAsIC0xKSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmVvcmRlciBgYXJyYXlgIGFjY29yZGluZyB0byB0aGUgc3BlY2lmaWVkIGluZGV4ZXMgd2hlcmUgdGhlIGVsZW1lbnQgYXRcbiAgICAgKiB0aGUgZmlyc3QgaW5kZXggaXMgYXNzaWduZWQgYXMgdGhlIGZpcnN0IGVsZW1lbnQsIHRoZSBlbGVtZW50IGF0XG4gICAgICogdGhlIHNlY29uZCBpbmRleCBpcyBhc3NpZ25lZCBhcyB0aGUgc2Vjb25kIGVsZW1lbnQsIGFuZCBzbyBvbi5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIHJlb3JkZXIuXG4gICAgICogQHBhcmFtIHtBcnJheX0gaW5kZXhlcyBUaGUgYXJyYW5nZWQgYXJyYXkgaW5kZXhlcy5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgYGFycmF5YC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiByZW9yZGVyKGFycmF5LCBpbmRleGVzKSB7XG4gICAgICB2YXIgYXJyTGVuZ3RoID0gYXJyYXkubGVuZ3RoLFxuICAgICAgICAgIGxlbmd0aCA9IG5hdGl2ZU1pbihpbmRleGVzLmxlbmd0aCwgYXJyTGVuZ3RoKSxcbiAgICAgICAgICBvbGRBcnJheSA9IGNvcHlBcnJheShhcnJheSk7XG5cbiAgICAgIHdoaWxlIChsZW5ndGgtLSkge1xuICAgICAgICB2YXIgaW5kZXggPSBpbmRleGVzW2xlbmd0aF07XG4gICAgICAgIGFycmF5W2xlbmd0aF0gPSBpc0luZGV4KGluZGV4LCBhcnJMZW5ndGgpID8gb2xkQXJyYXlbaW5kZXhdIDogdW5kZWZpbmVkO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGFycmF5O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEdldHMgdGhlIHZhbHVlIGF0IGBrZXlgLCB1bmxlc3MgYGtleWAgaXMgXCJfX3Byb3RvX19cIiBvciBcImNvbnN0cnVjdG9yXCIuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBxdWVyeS5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSBrZXkgb2YgdGhlIHByb3BlcnR5IHRvIGdldC5cbiAgICAgKiBAcmV0dXJucyB7Kn0gUmV0dXJucyB0aGUgcHJvcGVydHkgdmFsdWUuXG4gICAgICovXG4gICAgZnVuY3Rpb24gc2FmZUdldChvYmplY3QsIGtleSkge1xuICAgICAgaWYgKGtleSA9PT0gJ2NvbnN0cnVjdG9yJyAmJiB0eXBlb2Ygb2JqZWN0W2tleV0gPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICBpZiAoa2V5ID09ICdfX3Byb3RvX18nKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIG9iamVjdFtrZXldO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFNldHMgbWV0YWRhdGEgZm9yIGBmdW5jYC5cbiAgICAgKlxuICAgICAqICoqTm90ZToqKiBJZiB0aGlzIGZ1bmN0aW9uIGJlY29tZXMgaG90LCBpLmUuIGlzIGludm9rZWQgYSBsb3QgaW4gYSBzaG9ydFxuICAgICAqIHBlcmlvZCBvZiB0aW1lLCBpdCB3aWxsIHRyaXAgaXRzIGJyZWFrZXIgYW5kIHRyYW5zaXRpb24gdG8gYW4gaWRlbnRpdHlcbiAgICAgKiBmdW5jdGlvbiB0byBhdm9pZCBnYXJiYWdlIGNvbGxlY3Rpb24gcGF1c2VzIGluIFY4LiBTZWVcbiAgICAgKiBbVjggaXNzdWUgMjA3MF0oaHR0cHM6Ly9idWdzLmNocm9taXVtLm9yZy9wL3Y4L2lzc3Vlcy9kZXRhaWw/aWQ9MjA3MClcbiAgICAgKiBmb3IgbW9yZSBkZXRhaWxzLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBmdW5jIFRoZSBmdW5jdGlvbiB0byBhc3NvY2lhdGUgbWV0YWRhdGEgd2l0aC5cbiAgICAgKiBAcGFyYW0geyp9IGRhdGEgVGhlIG1ldGFkYXRhLlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyBgZnVuY2AuXG4gICAgICovXG4gICAgdmFyIHNldERhdGEgPSBzaG9ydE91dChiYXNlU2V0RGF0YSk7XG5cbiAgICAvKipcbiAgICAgKiBBIHNpbXBsZSB3cmFwcGVyIGFyb3VuZCB0aGUgZ2xvYmFsIFtgc2V0VGltZW91dGBdKGh0dHBzOi8vbWRuLmlvL3NldFRpbWVvdXQpLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBmdW5jIFRoZSBmdW5jdGlvbiB0byBkZWxheS5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gd2FpdCBUaGUgbnVtYmVyIG9mIG1pbGxpc2Vjb25kcyB0byBkZWxheSBpbnZvY2F0aW9uLlxuICAgICAqIEByZXR1cm5zIHtudW1iZXJ8T2JqZWN0fSBSZXR1cm5zIHRoZSB0aW1lciBpZCBvciB0aW1lb3V0IG9iamVjdC5cbiAgICAgKi9cbiAgICB2YXIgc2V0VGltZW91dCA9IGN0eFNldFRpbWVvdXQgfHwgZnVuY3Rpb24oZnVuYywgd2FpdCkge1xuICAgICAgcmV0dXJuIHJvb3Quc2V0VGltZW91dChmdW5jLCB3YWl0KTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogU2V0cyB0aGUgYHRvU3RyaW5nYCBtZXRob2Qgb2YgYGZ1bmNgIHRvIHJldHVybiBgc3RyaW5nYC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gZnVuYyBUaGUgZnVuY3Rpb24gdG8gbW9kaWZ5LlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IHN0cmluZyBUaGUgYHRvU3RyaW5nYCByZXN1bHQuXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIGBmdW5jYC5cbiAgICAgKi9cbiAgICB2YXIgc2V0VG9TdHJpbmcgPSBzaG9ydE91dChiYXNlU2V0VG9TdHJpbmcpO1xuXG4gICAgLyoqXG4gICAgICogU2V0cyB0aGUgYHRvU3RyaW5nYCBtZXRob2Qgb2YgYHdyYXBwZXJgIHRvIG1pbWljIHRoZSBzb3VyY2Ugb2YgYHJlZmVyZW5jZWBcbiAgICAgKiB3aXRoIHdyYXBwZXIgZGV0YWlscyBpbiBhIGNvbW1lbnQgYXQgdGhlIHRvcCBvZiB0aGUgc291cmNlIGJvZHkuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IHdyYXBwZXIgVGhlIGZ1bmN0aW9uIHRvIG1vZGlmeS5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSByZWZlcmVuY2UgVGhlIHJlZmVyZW5jZSBmdW5jdGlvbi5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gYml0bWFzayBUaGUgYml0bWFzayBmbGFncy4gU2VlIGBjcmVhdGVXcmFwYCBmb3IgbW9yZSBkZXRhaWxzLlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyBgd3JhcHBlcmAuXG4gICAgICovXG4gICAgZnVuY3Rpb24gc2V0V3JhcFRvU3RyaW5nKHdyYXBwZXIsIHJlZmVyZW5jZSwgYml0bWFzaykge1xuICAgICAgdmFyIHNvdXJjZSA9IChyZWZlcmVuY2UgKyAnJyk7XG4gICAgICByZXR1cm4gc2V0VG9TdHJpbmcod3JhcHBlciwgaW5zZXJ0V3JhcERldGFpbHMoc291cmNlLCB1cGRhdGVXcmFwRGV0YWlscyhnZXRXcmFwRGV0YWlscyhzb3VyY2UpLCBiaXRtYXNrKSkpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBmdW5jdGlvbiB0aGF0J2xsIHNob3J0IG91dCBhbmQgaW52b2tlIGBpZGVudGl0eWAgaW5zdGVhZFxuICAgICAqIG9mIGBmdW5jYCB3aGVuIGl0J3MgY2FsbGVkIGBIT1RfQ09VTlRgIG9yIG1vcmUgdGltZXMgaW4gYEhPVF9TUEFOYFxuICAgICAqIG1pbGxpc2Vjb25kcy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gZnVuYyBUaGUgZnVuY3Rpb24gdG8gcmVzdHJpY3QuXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgc2hvcnRhYmxlIGZ1bmN0aW9uLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHNob3J0T3V0KGZ1bmMpIHtcbiAgICAgIHZhciBjb3VudCA9IDAsXG4gICAgICAgICAgbGFzdENhbGxlZCA9IDA7XG5cbiAgICAgIHJldHVybiBmdW5jdGlvbigpIHtcbiAgICAgICAgdmFyIHN0YW1wID0gbmF0aXZlTm93KCksXG4gICAgICAgICAgICByZW1haW5pbmcgPSBIT1RfU1BBTiAtIChzdGFtcCAtIGxhc3RDYWxsZWQpO1xuXG4gICAgICAgIGxhc3RDYWxsZWQgPSBzdGFtcDtcbiAgICAgICAgaWYgKHJlbWFpbmluZyA+IDApIHtcbiAgICAgICAgICBpZiAoKytjb3VudCA+PSBIT1RfQ09VTlQpIHtcbiAgICAgICAgICAgIHJldHVybiBhcmd1bWVudHNbMF07XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGNvdW50ID0gMDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZnVuYy5hcHBseSh1bmRlZmluZWQsIGFyZ3VtZW50cyk7XG4gICAgICB9O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEEgc3BlY2lhbGl6ZWQgdmVyc2lvbiBvZiBgXy5zaHVmZmxlYCB3aGljaCBtdXRhdGVzIGFuZCBzZXRzIHRoZSBzaXplIG9mIGBhcnJheWAuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBzaHVmZmxlLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbc2l6ZT1hcnJheS5sZW5ndGhdIFRoZSBzaXplIG9mIGBhcnJheWAuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIGBhcnJheWAuXG4gICAgICovXG4gICAgZnVuY3Rpb24gc2h1ZmZsZVNlbGYoYXJyYXksIHNpemUpIHtcbiAgICAgIHZhciBpbmRleCA9IC0xLFxuICAgICAgICAgIGxlbmd0aCA9IGFycmF5Lmxlbmd0aCxcbiAgICAgICAgICBsYXN0SW5kZXggPSBsZW5ndGggLSAxO1xuXG4gICAgICBzaXplID0gc2l6ZSA9PT0gdW5kZWZpbmVkID8gbGVuZ3RoIDogc2l6ZTtcbiAgICAgIHdoaWxlICgrK2luZGV4IDwgc2l6ZSkge1xuICAgICAgICB2YXIgcmFuZCA9IGJhc2VSYW5kb20oaW5kZXgsIGxhc3RJbmRleCksXG4gICAgICAgICAgICB2YWx1ZSA9IGFycmF5W3JhbmRdO1xuXG4gICAgICAgIGFycmF5W3JhbmRdID0gYXJyYXlbaW5kZXhdO1xuICAgICAgICBhcnJheVtpbmRleF0gPSB2YWx1ZTtcbiAgICAgIH1cbiAgICAgIGFycmF5Lmxlbmd0aCA9IHNpemU7XG4gICAgICByZXR1cm4gYXJyYXk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ29udmVydHMgYHN0cmluZ2AgdG8gYSBwcm9wZXJ0eSBwYXRoIGFycmF5LlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gc3RyaW5nIFRoZSBzdHJpbmcgdG8gY29udmVydC5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIHByb3BlcnR5IHBhdGggYXJyYXkuXG4gICAgICovXG4gICAgdmFyIHN0cmluZ1RvUGF0aCA9IG1lbW9pemVDYXBwZWQoZnVuY3Rpb24oc3RyaW5nKSB7XG4gICAgICB2YXIgcmVzdWx0ID0gW107XG4gICAgICBpZiAoc3RyaW5nLmNoYXJDb2RlQXQoMCkgPT09IDQ2IC8qIC4gKi8pIHtcbiAgICAgICAgcmVzdWx0LnB1c2goJycpO1xuICAgICAgfVxuICAgICAgc3RyaW5nLnJlcGxhY2UocmVQcm9wTmFtZSwgZnVuY3Rpb24obWF0Y2gsIG51bWJlciwgcXVvdGUsIHN1YlN0cmluZykge1xuICAgICAgICByZXN1bHQucHVzaChxdW90ZSA/IHN1YlN0cmluZy5yZXBsYWNlKHJlRXNjYXBlQ2hhciwgJyQxJykgOiAobnVtYmVyIHx8IG1hdGNoKSk7XG4gICAgICB9KTtcbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfSk7XG5cbiAgICAvKipcbiAgICAgKiBDb252ZXJ0cyBgdmFsdWVgIHRvIGEgc3RyaW5nIGtleSBpZiBpdCdzIG5vdCBhIHN0cmluZyBvciBzeW1ib2wuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGluc3BlY3QuXG4gICAgICogQHJldHVybnMge3N0cmluZ3xzeW1ib2x9IFJldHVybnMgdGhlIGtleS5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiB0b0tleSh2YWx1ZSkge1xuICAgICAgaWYgKHR5cGVvZiB2YWx1ZSA9PSAnc3RyaW5nJyB8fCBpc1N5bWJvbCh2YWx1ZSkpIHtcbiAgICAgICAgcmV0dXJuIHZhbHVlO1xuICAgICAgfVxuICAgICAgdmFyIHJlc3VsdCA9ICh2YWx1ZSArICcnKTtcbiAgICAgIHJldHVybiAocmVzdWx0ID09ICcwJyAmJiAoMSAvIHZhbHVlKSA9PSAtSU5GSU5JVFkpID8gJy0wJyA6IHJlc3VsdDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDb252ZXJ0cyBgZnVuY2AgdG8gaXRzIHNvdXJjZSBjb2RlLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBmdW5jIFRoZSBmdW5jdGlvbiB0byBjb252ZXJ0LlxuICAgICAqIEByZXR1cm5zIHtzdHJpbmd9IFJldHVybnMgdGhlIHNvdXJjZSBjb2RlLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHRvU291cmNlKGZ1bmMpIHtcbiAgICAgIGlmIChmdW5jICE9IG51bGwpIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICByZXR1cm4gZnVuY1RvU3RyaW5nLmNhbGwoZnVuYyk7XG4gICAgICAgIH0gY2F0Y2ggKGUpIHt9XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgcmV0dXJuIChmdW5jICsgJycpO1xuICAgICAgICB9IGNhdGNoIChlKSB7fVxuICAgICAgfVxuICAgICAgcmV0dXJuICcnO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFVwZGF0ZXMgd3JhcHBlciBgZGV0YWlsc2AgYmFzZWQgb24gYGJpdG1hc2tgIGZsYWdzLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IGRldGFpbHMgVGhlIGRldGFpbHMgdG8gbW9kaWZ5LlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBiaXRtYXNrIFRoZSBiaXRtYXNrIGZsYWdzLiBTZWUgYGNyZWF0ZVdyYXBgIGZvciBtb3JlIGRldGFpbHMuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIGBkZXRhaWxzYC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiB1cGRhdGVXcmFwRGV0YWlscyhkZXRhaWxzLCBiaXRtYXNrKSB7XG4gICAgICBhcnJheUVhY2god3JhcEZsYWdzLCBmdW5jdGlvbihwYWlyKSB7XG4gICAgICAgIHZhciB2YWx1ZSA9ICdfLicgKyBwYWlyWzBdO1xuICAgICAgICBpZiAoKGJpdG1hc2sgJiBwYWlyWzFdKSAmJiAhYXJyYXlJbmNsdWRlcyhkZXRhaWxzLCB2YWx1ZSkpIHtcbiAgICAgICAgICBkZXRhaWxzLnB1c2godmFsdWUpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICAgIHJldHVybiBkZXRhaWxzLnNvcnQoKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgY2xvbmUgb2YgYHdyYXBwZXJgLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gd3JhcHBlciBUaGUgd3JhcHBlciB0byBjbG9uZS5cbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIHRoZSBjbG9uZWQgd3JhcHBlci5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiB3cmFwcGVyQ2xvbmUod3JhcHBlcikge1xuICAgICAgaWYgKHdyYXBwZXIgaW5zdGFuY2VvZiBMYXp5V3JhcHBlcikge1xuICAgICAgICByZXR1cm4gd3JhcHBlci5jbG9uZSgpO1xuICAgICAgfVxuICAgICAgdmFyIHJlc3VsdCA9IG5ldyBMb2Rhc2hXcmFwcGVyKHdyYXBwZXIuX193cmFwcGVkX18sIHdyYXBwZXIuX19jaGFpbl9fKTtcbiAgICAgIHJlc3VsdC5fX2FjdGlvbnNfXyA9IGNvcHlBcnJheSh3cmFwcGVyLl9fYWN0aW9uc19fKTtcbiAgICAgIHJlc3VsdC5fX2luZGV4X18gID0gd3JhcHBlci5fX2luZGV4X187XG4gICAgICByZXN1bHQuX192YWx1ZXNfXyA9IHdyYXBwZXIuX192YWx1ZXNfXztcbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuXG4gICAgLyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhbiBhcnJheSBvZiBlbGVtZW50cyBzcGxpdCBpbnRvIGdyb3VwcyB0aGUgbGVuZ3RoIG9mIGBzaXplYC5cbiAgICAgKiBJZiBgYXJyYXlgIGNhbid0IGJlIHNwbGl0IGV2ZW5seSwgdGhlIGZpbmFsIGNodW5rIHdpbGwgYmUgdGhlIHJlbWFpbmluZ1xuICAgICAqIGVsZW1lbnRzLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDMuMC4wXG4gICAgICogQGNhdGVnb3J5IEFycmF5XG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIHByb2Nlc3MuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtzaXplPTFdIFRoZSBsZW5ndGggb2YgZWFjaCBjaHVua1xuICAgICAqIEBwYXJhbS0ge09iamVjdH0gW2d1YXJkXSBFbmFibGVzIHVzZSBhcyBhbiBpdGVyYXRlZSBmb3IgbWV0aG9kcyBsaWtlIGBfLm1hcGAuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBuZXcgYXJyYXkgb2YgY2h1bmtzLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmNodW5rKFsnYScsICdiJywgJ2MnLCAnZCddLCAyKTtcbiAgICAgKiAvLyA9PiBbWydhJywgJ2InXSwgWydjJywgJ2QnXV1cbiAgICAgKlxuICAgICAqIF8uY2h1bmsoWydhJywgJ2InLCAnYycsICdkJ10sIDMpO1xuICAgICAqIC8vID0+IFtbJ2EnLCAnYicsICdjJ10sIFsnZCddXVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGNodW5rKGFycmF5LCBzaXplLCBndWFyZCkge1xuICAgICAgaWYgKChndWFyZCA/IGlzSXRlcmF0ZWVDYWxsKGFycmF5LCBzaXplLCBndWFyZCkgOiBzaXplID09PSB1bmRlZmluZWQpKSB7XG4gICAgICAgIHNpemUgPSAxO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgc2l6ZSA9IG5hdGl2ZU1heCh0b0ludGVnZXIoc2l6ZSksIDApO1xuICAgICAgfVxuICAgICAgdmFyIGxlbmd0aCA9IGFycmF5ID09IG51bGwgPyAwIDogYXJyYXkubGVuZ3RoO1xuICAgICAgaWYgKCFsZW5ndGggfHwgc2l6ZSA8IDEpIHtcbiAgICAgICAgcmV0dXJuIFtdO1xuICAgICAgfVxuICAgICAgdmFyIGluZGV4ID0gMCxcbiAgICAgICAgICByZXNJbmRleCA9IDAsXG4gICAgICAgICAgcmVzdWx0ID0gQXJyYXkobmF0aXZlQ2VpbChsZW5ndGggLyBzaXplKSk7XG5cbiAgICAgIHdoaWxlIChpbmRleCA8IGxlbmd0aCkge1xuICAgICAgICByZXN1bHRbcmVzSW5kZXgrK10gPSBiYXNlU2xpY2UoYXJyYXksIGluZGV4LCAoaW5kZXggKz0gc2l6ZSkpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGFuIGFycmF5IHdpdGggYWxsIGZhbHNleSB2YWx1ZXMgcmVtb3ZlZC4gVGhlIHZhbHVlcyBgZmFsc2VgLCBgbnVsbGAsXG4gICAgICogYDBgLCBgXCJcImAsIGB1bmRlZmluZWRgLCBhbmQgYE5hTmAgYXJlIGZhbHNleS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAwLjEuMFxuICAgICAqIEBjYXRlZ29yeSBBcnJheVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBjb21wYWN0LlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgbmV3IGFycmF5IG9mIGZpbHRlcmVkIHZhbHVlcy5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5jb21wYWN0KFswLCAxLCBmYWxzZSwgMiwgJycsIDNdKTtcbiAgICAgKiAvLyA9PiBbMSwgMiwgM11cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBjb21wYWN0KGFycmF5KSB7XG4gICAgICB2YXIgaW5kZXggPSAtMSxcbiAgICAgICAgICBsZW5ndGggPSBhcnJheSA9PSBudWxsID8gMCA6IGFycmF5Lmxlbmd0aCxcbiAgICAgICAgICByZXNJbmRleCA9IDAsXG4gICAgICAgICAgcmVzdWx0ID0gW107XG5cbiAgICAgIHdoaWxlICgrK2luZGV4IDwgbGVuZ3RoKSB7XG4gICAgICAgIHZhciB2YWx1ZSA9IGFycmF5W2luZGV4XTtcbiAgICAgICAgaWYgKHZhbHVlKSB7XG4gICAgICAgICAgcmVzdWx0W3Jlc0luZGV4KytdID0gdmFsdWU7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIG5ldyBhcnJheSBjb25jYXRlbmF0aW5nIGBhcnJheWAgd2l0aCBhbnkgYWRkaXRpb25hbCBhcnJheXNcbiAgICAgKiBhbmQvb3IgdmFsdWVzLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IEFycmF5XG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIGNvbmNhdGVuYXRlLlxuICAgICAqIEBwYXJhbSB7Li4uKn0gW3ZhbHVlc10gVGhlIHZhbHVlcyB0byBjb25jYXRlbmF0ZS5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIG5ldyBjb25jYXRlbmF0ZWQgYXJyYXkuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBhcnJheSA9IFsxXTtcbiAgICAgKiB2YXIgb3RoZXIgPSBfLmNvbmNhdChhcnJheSwgMiwgWzNdLCBbWzRdXSk7XG4gICAgICpcbiAgICAgKiBjb25zb2xlLmxvZyhvdGhlcik7XG4gICAgICogLy8gPT4gWzEsIDIsIDMsIFs0XV1cbiAgICAgKlxuICAgICAqIGNvbnNvbGUubG9nKGFycmF5KTtcbiAgICAgKiAvLyA9PiBbMV1cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBjb25jYXQoKSB7XG4gICAgICB2YXIgbGVuZ3RoID0gYXJndW1lbnRzLmxlbmd0aDtcbiAgICAgIGlmICghbGVuZ3RoKSB7XG4gICAgICAgIHJldHVybiBbXTtcbiAgICAgIH1cbiAgICAgIHZhciBhcmdzID0gQXJyYXkobGVuZ3RoIC0gMSksXG4gICAgICAgICAgYXJyYXkgPSBhcmd1bWVudHNbMF0sXG4gICAgICAgICAgaW5kZXggPSBsZW5ndGg7XG5cbiAgICAgIHdoaWxlIChpbmRleC0tKSB7XG4gICAgICAgIGFyZ3NbaW5kZXggLSAxXSA9IGFyZ3VtZW50c1tpbmRleF07XG4gICAgICB9XG4gICAgICByZXR1cm4gYXJyYXlQdXNoKGlzQXJyYXkoYXJyYXkpID8gY29weUFycmF5KGFycmF5KSA6IFthcnJheV0sIGJhc2VGbGF0dGVuKGFyZ3MsIDEpKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGFuIGFycmF5IG9mIGBhcnJheWAgdmFsdWVzIG5vdCBpbmNsdWRlZCBpbiB0aGUgb3RoZXIgZ2l2ZW4gYXJyYXlzXG4gICAgICogdXNpbmcgW2BTYW1lVmFsdWVaZXJvYF0oaHR0cDovL2VjbWEtaW50ZXJuYXRpb25hbC5vcmcvZWNtYS0yNjIvNy4wLyNzZWMtc2FtZXZhbHVlemVybylcbiAgICAgKiBmb3IgZXF1YWxpdHkgY29tcGFyaXNvbnMuIFRoZSBvcmRlciBhbmQgcmVmZXJlbmNlcyBvZiByZXN1bHQgdmFsdWVzIGFyZVxuICAgICAqIGRldGVybWluZWQgYnkgdGhlIGZpcnN0IGFycmF5LlxuICAgICAqXG4gICAgICogKipOb3RlOioqIFVubGlrZSBgXy5wdWxsQWxsYCwgdGhpcyBtZXRob2QgcmV0dXJucyBhIG5ldyBhcnJheS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAwLjEuMFxuICAgICAqIEBjYXRlZ29yeSBBcnJheVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBpbnNwZWN0LlxuICAgICAqIEBwYXJhbSB7Li4uQXJyYXl9IFt2YWx1ZXNdIFRoZSB2YWx1ZXMgdG8gZXhjbHVkZS5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIG5ldyBhcnJheSBvZiBmaWx0ZXJlZCB2YWx1ZXMuXG4gICAgICogQHNlZSBfLndpdGhvdXQsIF8ueG9yXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uZGlmZmVyZW5jZShbMiwgMV0sIFsyLCAzXSk7XG4gICAgICogLy8gPT4gWzFdXG4gICAgICovXG4gICAgdmFyIGRpZmZlcmVuY2UgPSBiYXNlUmVzdChmdW5jdGlvbihhcnJheSwgdmFsdWVzKSB7XG4gICAgICByZXR1cm4gaXNBcnJheUxpa2VPYmplY3QoYXJyYXkpXG4gICAgICAgID8gYmFzZURpZmZlcmVuY2UoYXJyYXksIGJhc2VGbGF0dGVuKHZhbHVlcywgMSwgaXNBcnJheUxpa2VPYmplY3QsIHRydWUpKVxuICAgICAgICA6IFtdO1xuICAgIH0pO1xuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgaXMgbGlrZSBgXy5kaWZmZXJlbmNlYCBleGNlcHQgdGhhdCBpdCBhY2NlcHRzIGBpdGVyYXRlZWAgd2hpY2hcbiAgICAgKiBpcyBpbnZva2VkIGZvciBlYWNoIGVsZW1lbnQgb2YgYGFycmF5YCBhbmQgYHZhbHVlc2AgdG8gZ2VuZXJhdGUgdGhlIGNyaXRlcmlvblxuICAgICAqIGJ5IHdoaWNoIHRoZXkncmUgY29tcGFyZWQuIFRoZSBvcmRlciBhbmQgcmVmZXJlbmNlcyBvZiByZXN1bHQgdmFsdWVzIGFyZVxuICAgICAqIGRldGVybWluZWQgYnkgdGhlIGZpcnN0IGFycmF5LiBUaGUgaXRlcmF0ZWUgaXMgaW52b2tlZCB3aXRoIG9uZSBhcmd1bWVudDpcbiAgICAgKiAodmFsdWUpLlxuICAgICAqXG4gICAgICogKipOb3RlOioqIFVubGlrZSBgXy5wdWxsQWxsQnlgLCB0aGlzIG1ldGhvZCByZXR1cm5zIGEgbmV3IGFycmF5LlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IEFycmF5XG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIGluc3BlY3QuXG4gICAgICogQHBhcmFtIHsuLi5BcnJheX0gW3ZhbHVlc10gVGhlIHZhbHVlcyB0byBleGNsdWRlLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtpdGVyYXRlZT1fLmlkZW50aXR5XSBUaGUgaXRlcmF0ZWUgaW52b2tlZCBwZXIgZWxlbWVudC5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIG5ldyBhcnJheSBvZiBmaWx0ZXJlZCB2YWx1ZXMuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uZGlmZmVyZW5jZUJ5KFsyLjEsIDEuMl0sIFsyLjMsIDMuNF0sIE1hdGguZmxvb3IpO1xuICAgICAqIC8vID0+IFsxLjJdXG4gICAgICpcbiAgICAgKiAvLyBUaGUgYF8ucHJvcGVydHlgIGl0ZXJhdGVlIHNob3J0aGFuZC5cbiAgICAgKiBfLmRpZmZlcmVuY2VCeShbeyAneCc6IDIgfSwgeyAneCc6IDEgfV0sIFt7ICd4JzogMSB9XSwgJ3gnKTtcbiAgICAgKiAvLyA9PiBbeyAneCc6IDIgfV1cbiAgICAgKi9cbiAgICB2YXIgZGlmZmVyZW5jZUJ5ID0gYmFzZVJlc3QoZnVuY3Rpb24oYXJyYXksIHZhbHVlcykge1xuICAgICAgdmFyIGl0ZXJhdGVlID0gbGFzdCh2YWx1ZXMpO1xuICAgICAgaWYgKGlzQXJyYXlMaWtlT2JqZWN0KGl0ZXJhdGVlKSkge1xuICAgICAgICBpdGVyYXRlZSA9IHVuZGVmaW5lZDtcbiAgICAgIH1cbiAgICAgIHJldHVybiBpc0FycmF5TGlrZU9iamVjdChhcnJheSlcbiAgICAgICAgPyBiYXNlRGlmZmVyZW5jZShhcnJheSwgYmFzZUZsYXR0ZW4odmFsdWVzLCAxLCBpc0FycmF5TGlrZU9iamVjdCwgdHJ1ZSksIGdldEl0ZXJhdGVlKGl0ZXJhdGVlLCAyKSlcbiAgICAgICAgOiBbXTtcbiAgICB9KTtcblxuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIGlzIGxpa2UgYF8uZGlmZmVyZW5jZWAgZXhjZXB0IHRoYXQgaXQgYWNjZXB0cyBgY29tcGFyYXRvcmBcbiAgICAgKiB3aGljaCBpcyBpbnZva2VkIHRvIGNvbXBhcmUgZWxlbWVudHMgb2YgYGFycmF5YCB0byBgdmFsdWVzYC4gVGhlIG9yZGVyIGFuZFxuICAgICAqIHJlZmVyZW5jZXMgb2YgcmVzdWx0IHZhbHVlcyBhcmUgZGV0ZXJtaW5lZCBieSB0aGUgZmlyc3QgYXJyYXkuIFRoZSBjb21wYXJhdG9yXG4gICAgICogaXMgaW52b2tlZCB3aXRoIHR3byBhcmd1bWVudHM6IChhcnJWYWwsIG90aFZhbCkuXG4gICAgICpcbiAgICAgKiAqKk5vdGU6KiogVW5saWtlIGBfLnB1bGxBbGxXaXRoYCwgdGhpcyBtZXRob2QgcmV0dXJucyBhIG5ldyBhcnJheS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBBcnJheVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBpbnNwZWN0LlxuICAgICAqIEBwYXJhbSB7Li4uQXJyYXl9IFt2YWx1ZXNdIFRoZSB2YWx1ZXMgdG8gZXhjbHVkZS5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbY29tcGFyYXRvcl0gVGhlIGNvbXBhcmF0b3IgaW52b2tlZCBwZXIgZWxlbWVudC5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIG5ldyBhcnJheSBvZiBmaWx0ZXJlZCB2YWx1ZXMuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBvYmplY3RzID0gW3sgJ3gnOiAxLCAneSc6IDIgfSwgeyAneCc6IDIsICd5JzogMSB9XTtcbiAgICAgKlxuICAgICAqIF8uZGlmZmVyZW5jZVdpdGgob2JqZWN0cywgW3sgJ3gnOiAxLCAneSc6IDIgfV0sIF8uaXNFcXVhbCk7XG4gICAgICogLy8gPT4gW3sgJ3gnOiAyLCAneSc6IDEgfV1cbiAgICAgKi9cbiAgICB2YXIgZGlmZmVyZW5jZVdpdGggPSBiYXNlUmVzdChmdW5jdGlvbihhcnJheSwgdmFsdWVzKSB7XG4gICAgICB2YXIgY29tcGFyYXRvciA9IGxhc3QodmFsdWVzKTtcbiAgICAgIGlmIChpc0FycmF5TGlrZU9iamVjdChjb21wYXJhdG9yKSkge1xuICAgICAgICBjb21wYXJhdG9yID0gdW5kZWZpbmVkO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGlzQXJyYXlMaWtlT2JqZWN0KGFycmF5KVxuICAgICAgICA/IGJhc2VEaWZmZXJlbmNlKGFycmF5LCBiYXNlRmxhdHRlbih2YWx1ZXMsIDEsIGlzQXJyYXlMaWtlT2JqZWN0LCB0cnVlKSwgdW5kZWZpbmVkLCBjb21wYXJhdG9yKVxuICAgICAgICA6IFtdO1xuICAgIH0pO1xuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIHNsaWNlIG9mIGBhcnJheWAgd2l0aCBgbmAgZWxlbWVudHMgZHJvcHBlZCBmcm9tIHRoZSBiZWdpbm5pbmcuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMC41LjBcbiAgICAgKiBAY2F0ZWdvcnkgQXJyYXlcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gcXVlcnkuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtuPTFdIFRoZSBudW1iZXIgb2YgZWxlbWVudHMgdG8gZHJvcC5cbiAgICAgKiBAcGFyYW0tIHtPYmplY3R9IFtndWFyZF0gRW5hYmxlcyB1c2UgYXMgYW4gaXRlcmF0ZWUgZm9yIG1ldGhvZHMgbGlrZSBgXy5tYXBgLlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgc2xpY2Ugb2YgYGFycmF5YC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5kcm9wKFsxLCAyLCAzXSk7XG4gICAgICogLy8gPT4gWzIsIDNdXG4gICAgICpcbiAgICAgKiBfLmRyb3AoWzEsIDIsIDNdLCAyKTtcbiAgICAgKiAvLyA9PiBbM11cbiAgICAgKlxuICAgICAqIF8uZHJvcChbMSwgMiwgM10sIDUpO1xuICAgICAqIC8vID0+IFtdXG4gICAgICpcbiAgICAgKiBfLmRyb3AoWzEsIDIsIDNdLCAwKTtcbiAgICAgKiAvLyA9PiBbMSwgMiwgM11cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBkcm9wKGFycmF5LCBuLCBndWFyZCkge1xuICAgICAgdmFyIGxlbmd0aCA9IGFycmF5ID09IG51bGwgPyAwIDogYXJyYXkubGVuZ3RoO1xuICAgICAgaWYgKCFsZW5ndGgpIHtcbiAgICAgICAgcmV0dXJuIFtdO1xuICAgICAgfVxuICAgICAgbiA9IChndWFyZCB8fCBuID09PSB1bmRlZmluZWQpID8gMSA6IHRvSW50ZWdlcihuKTtcbiAgICAgIHJldHVybiBiYXNlU2xpY2UoYXJyYXksIG4gPCAwID8gMCA6IG4sIGxlbmd0aCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIHNsaWNlIG9mIGBhcnJheWAgd2l0aCBgbmAgZWxlbWVudHMgZHJvcHBlZCBmcm9tIHRoZSBlbmQuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMy4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgQXJyYXlcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gcXVlcnkuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtuPTFdIFRoZSBudW1iZXIgb2YgZWxlbWVudHMgdG8gZHJvcC5cbiAgICAgKiBAcGFyYW0tIHtPYmplY3R9IFtndWFyZF0gRW5hYmxlcyB1c2UgYXMgYW4gaXRlcmF0ZWUgZm9yIG1ldGhvZHMgbGlrZSBgXy5tYXBgLlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgc2xpY2Ugb2YgYGFycmF5YC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5kcm9wUmlnaHQoWzEsIDIsIDNdKTtcbiAgICAgKiAvLyA9PiBbMSwgMl1cbiAgICAgKlxuICAgICAqIF8uZHJvcFJpZ2h0KFsxLCAyLCAzXSwgMik7XG4gICAgICogLy8gPT4gWzFdXG4gICAgICpcbiAgICAgKiBfLmRyb3BSaWdodChbMSwgMiwgM10sIDUpO1xuICAgICAqIC8vID0+IFtdXG4gICAgICpcbiAgICAgKiBfLmRyb3BSaWdodChbMSwgMiwgM10sIDApO1xuICAgICAqIC8vID0+IFsxLCAyLCAzXVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGRyb3BSaWdodChhcnJheSwgbiwgZ3VhcmQpIHtcbiAgICAgIHZhciBsZW5ndGggPSBhcnJheSA9PSBudWxsID8gMCA6IGFycmF5Lmxlbmd0aDtcbiAgICAgIGlmICghbGVuZ3RoKSB7XG4gICAgICAgIHJldHVybiBbXTtcbiAgICAgIH1cbiAgICAgIG4gPSAoZ3VhcmQgfHwgbiA9PT0gdW5kZWZpbmVkKSA/IDEgOiB0b0ludGVnZXIobik7XG4gICAgICBuID0gbGVuZ3RoIC0gbjtcbiAgICAgIHJldHVybiBiYXNlU2xpY2UoYXJyYXksIDAsIG4gPCAwID8gMCA6IG4pO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBzbGljZSBvZiBgYXJyYXlgIGV4Y2x1ZGluZyBlbGVtZW50cyBkcm9wcGVkIGZyb20gdGhlIGVuZC5cbiAgICAgKiBFbGVtZW50cyBhcmUgZHJvcHBlZCB1bnRpbCBgcHJlZGljYXRlYCByZXR1cm5zIGZhbHNleS4gVGhlIHByZWRpY2F0ZSBpc1xuICAgICAqIGludm9rZWQgd2l0aCB0aHJlZSBhcmd1bWVudHM6ICh2YWx1ZSwgaW5kZXgsIGFycmF5KS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAzLjAuMFxuICAgICAqIEBjYXRlZ29yeSBBcnJheVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBxdWVyeS5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbcHJlZGljYXRlPV8uaWRlbnRpdHldIFRoZSBmdW5jdGlvbiBpbnZva2VkIHBlciBpdGVyYXRpb24uXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBzbGljZSBvZiBgYXJyYXlgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgdXNlcnMgPSBbXG4gICAgICogICB7ICd1c2VyJzogJ2Jhcm5leScsICAnYWN0aXZlJzogdHJ1ZSB9LFxuICAgICAqICAgeyAndXNlcic6ICdmcmVkJywgICAgJ2FjdGl2ZSc6IGZhbHNlIH0sXG4gICAgICogICB7ICd1c2VyJzogJ3BlYmJsZXMnLCAnYWN0aXZlJzogZmFsc2UgfVxuICAgICAqIF07XG4gICAgICpcbiAgICAgKiBfLmRyb3BSaWdodFdoaWxlKHVzZXJzLCBmdW5jdGlvbihvKSB7IHJldHVybiAhby5hY3RpdmU7IH0pO1xuICAgICAqIC8vID0+IG9iamVjdHMgZm9yIFsnYmFybmV5J11cbiAgICAgKlxuICAgICAqIC8vIFRoZSBgXy5tYXRjaGVzYCBpdGVyYXRlZSBzaG9ydGhhbmQuXG4gICAgICogXy5kcm9wUmlnaHRXaGlsZSh1c2VycywgeyAndXNlcic6ICdwZWJibGVzJywgJ2FjdGl2ZSc6IGZhbHNlIH0pO1xuICAgICAqIC8vID0+IG9iamVjdHMgZm9yIFsnYmFybmV5JywgJ2ZyZWQnXVxuICAgICAqXG4gICAgICogLy8gVGhlIGBfLm1hdGNoZXNQcm9wZXJ0eWAgaXRlcmF0ZWUgc2hvcnRoYW5kLlxuICAgICAqIF8uZHJvcFJpZ2h0V2hpbGUodXNlcnMsIFsnYWN0aXZlJywgZmFsc2VdKTtcbiAgICAgKiAvLyA9PiBvYmplY3RzIGZvciBbJ2Jhcm5leSddXG4gICAgICpcbiAgICAgKiAvLyBUaGUgYF8ucHJvcGVydHlgIGl0ZXJhdGVlIHNob3J0aGFuZC5cbiAgICAgKiBfLmRyb3BSaWdodFdoaWxlKHVzZXJzLCAnYWN0aXZlJyk7XG4gICAgICogLy8gPT4gb2JqZWN0cyBmb3IgWydiYXJuZXknLCAnZnJlZCcsICdwZWJibGVzJ11cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBkcm9wUmlnaHRXaGlsZShhcnJheSwgcHJlZGljYXRlKSB7XG4gICAgICByZXR1cm4gKGFycmF5ICYmIGFycmF5Lmxlbmd0aClcbiAgICAgICAgPyBiYXNlV2hpbGUoYXJyYXksIGdldEl0ZXJhdGVlKHByZWRpY2F0ZSwgMyksIHRydWUsIHRydWUpXG4gICAgICAgIDogW107XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIHNsaWNlIG9mIGBhcnJheWAgZXhjbHVkaW5nIGVsZW1lbnRzIGRyb3BwZWQgZnJvbSB0aGUgYmVnaW5uaW5nLlxuICAgICAqIEVsZW1lbnRzIGFyZSBkcm9wcGVkIHVudGlsIGBwcmVkaWNhdGVgIHJldHVybnMgZmFsc2V5LiBUaGUgcHJlZGljYXRlIGlzXG4gICAgICogaW52b2tlZCB3aXRoIHRocmVlIGFyZ3VtZW50czogKHZhbHVlLCBpbmRleCwgYXJyYXkpLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDMuMC4wXG4gICAgICogQGNhdGVnb3J5IEFycmF5XG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIHF1ZXJ5LlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtwcmVkaWNhdGU9Xy5pZGVudGl0eV0gVGhlIGZ1bmN0aW9uIGludm9rZWQgcGVyIGl0ZXJhdGlvbi5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIHNsaWNlIG9mIGBhcnJheWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciB1c2VycyA9IFtcbiAgICAgKiAgIHsgJ3VzZXInOiAnYmFybmV5JywgICdhY3RpdmUnOiBmYWxzZSB9LFxuICAgICAqICAgeyAndXNlcic6ICdmcmVkJywgICAgJ2FjdGl2ZSc6IGZhbHNlIH0sXG4gICAgICogICB7ICd1c2VyJzogJ3BlYmJsZXMnLCAnYWN0aXZlJzogdHJ1ZSB9XG4gICAgICogXTtcbiAgICAgKlxuICAgICAqIF8uZHJvcFdoaWxlKHVzZXJzLCBmdW5jdGlvbihvKSB7IHJldHVybiAhby5hY3RpdmU7IH0pO1xuICAgICAqIC8vID0+IG9iamVjdHMgZm9yIFsncGViYmxlcyddXG4gICAgICpcbiAgICAgKiAvLyBUaGUgYF8ubWF0Y2hlc2AgaXRlcmF0ZWUgc2hvcnRoYW5kLlxuICAgICAqIF8uZHJvcFdoaWxlKHVzZXJzLCB7ICd1c2VyJzogJ2Jhcm5leScsICdhY3RpdmUnOiBmYWxzZSB9KTtcbiAgICAgKiAvLyA9PiBvYmplY3RzIGZvciBbJ2ZyZWQnLCAncGViYmxlcyddXG4gICAgICpcbiAgICAgKiAvLyBUaGUgYF8ubWF0Y2hlc1Byb3BlcnR5YCBpdGVyYXRlZSBzaG9ydGhhbmQuXG4gICAgICogXy5kcm9wV2hpbGUodXNlcnMsIFsnYWN0aXZlJywgZmFsc2VdKTtcbiAgICAgKiAvLyA9PiBvYmplY3RzIGZvciBbJ3BlYmJsZXMnXVxuICAgICAqXG4gICAgICogLy8gVGhlIGBfLnByb3BlcnR5YCBpdGVyYXRlZSBzaG9ydGhhbmQuXG4gICAgICogXy5kcm9wV2hpbGUodXNlcnMsICdhY3RpdmUnKTtcbiAgICAgKiAvLyA9PiBvYmplY3RzIGZvciBbJ2Jhcm5leScsICdmcmVkJywgJ3BlYmJsZXMnXVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGRyb3BXaGlsZShhcnJheSwgcHJlZGljYXRlKSB7XG4gICAgICByZXR1cm4gKGFycmF5ICYmIGFycmF5Lmxlbmd0aClcbiAgICAgICAgPyBiYXNlV2hpbGUoYXJyYXksIGdldEl0ZXJhdGVlKHByZWRpY2F0ZSwgMyksIHRydWUpXG4gICAgICAgIDogW107XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogRmlsbHMgZWxlbWVudHMgb2YgYGFycmF5YCB3aXRoIGB2YWx1ZWAgZnJvbSBgc3RhcnRgIHVwIHRvLCBidXQgbm90XG4gICAgICogaW5jbHVkaW5nLCBgZW5kYC5cbiAgICAgKlxuICAgICAqICoqTm90ZToqKiBUaGlzIG1ldGhvZCBtdXRhdGVzIGBhcnJheWAuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMy4yLjBcbiAgICAgKiBAY2F0ZWdvcnkgQXJyYXlcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gZmlsbC5cbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBmaWxsIGBhcnJheWAgd2l0aC5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3N0YXJ0PTBdIFRoZSBzdGFydCBwb3NpdGlvbi5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW2VuZD1hcnJheS5sZW5ndGhdIFRoZSBlbmQgcG9zaXRpb24uXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIGBhcnJheWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBhcnJheSA9IFsxLCAyLCAzXTtcbiAgICAgKlxuICAgICAqIF8uZmlsbChhcnJheSwgJ2EnKTtcbiAgICAgKiBjb25zb2xlLmxvZyhhcnJheSk7XG4gICAgICogLy8gPT4gWydhJywgJ2EnLCAnYSddXG4gICAgICpcbiAgICAgKiBfLmZpbGwoQXJyYXkoMyksIDIpO1xuICAgICAqIC8vID0+IFsyLCAyLCAyXVxuICAgICAqXG4gICAgICogXy5maWxsKFs0LCA2LCA4LCAxMF0sICcqJywgMSwgMyk7XG4gICAgICogLy8gPT4gWzQsICcqJywgJyonLCAxMF1cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBmaWxsKGFycmF5LCB2YWx1ZSwgc3RhcnQsIGVuZCkge1xuICAgICAgdmFyIGxlbmd0aCA9IGFycmF5ID09IG51bGwgPyAwIDogYXJyYXkubGVuZ3RoO1xuICAgICAgaWYgKCFsZW5ndGgpIHtcbiAgICAgICAgcmV0dXJuIFtdO1xuICAgICAgfVxuICAgICAgaWYgKHN0YXJ0ICYmIHR5cGVvZiBzdGFydCAhPSAnbnVtYmVyJyAmJiBpc0l0ZXJhdGVlQ2FsbChhcnJheSwgdmFsdWUsIHN0YXJ0KSkge1xuICAgICAgICBzdGFydCA9IDA7XG4gICAgICAgIGVuZCA9IGxlbmd0aDtcbiAgICAgIH1cbiAgICAgIHJldHVybiBiYXNlRmlsbChhcnJheSwgdmFsdWUsIHN0YXJ0LCBlbmQpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIGlzIGxpa2UgYF8uZmluZGAgZXhjZXB0IHRoYXQgaXQgcmV0dXJucyB0aGUgaW5kZXggb2YgdGhlIGZpcnN0XG4gICAgICogZWxlbWVudCBgcHJlZGljYXRlYCByZXR1cm5zIHRydXRoeSBmb3IgaW5zdGVhZCBvZiB0aGUgZWxlbWVudCBpdHNlbGYuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMS4xLjBcbiAgICAgKiBAY2F0ZWdvcnkgQXJyYXlcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gaW5zcGVjdC5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbcHJlZGljYXRlPV8uaWRlbnRpdHldIFRoZSBmdW5jdGlvbiBpbnZva2VkIHBlciBpdGVyYXRpb24uXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtmcm9tSW5kZXg9MF0gVGhlIGluZGV4IHRvIHNlYXJjaCBmcm9tLlxuICAgICAqIEByZXR1cm5zIHtudW1iZXJ9IFJldHVybnMgdGhlIGluZGV4IG9mIHRoZSBmb3VuZCBlbGVtZW50LCBlbHNlIGAtMWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciB1c2VycyA9IFtcbiAgICAgKiAgIHsgJ3VzZXInOiAnYmFybmV5JywgICdhY3RpdmUnOiBmYWxzZSB9LFxuICAgICAqICAgeyAndXNlcic6ICdmcmVkJywgICAgJ2FjdGl2ZSc6IGZhbHNlIH0sXG4gICAgICogICB7ICd1c2VyJzogJ3BlYmJsZXMnLCAnYWN0aXZlJzogdHJ1ZSB9XG4gICAgICogXTtcbiAgICAgKlxuICAgICAqIF8uZmluZEluZGV4KHVzZXJzLCBmdW5jdGlvbihvKSB7IHJldHVybiBvLnVzZXIgPT0gJ2Jhcm5leSc7IH0pO1xuICAgICAqIC8vID0+IDBcbiAgICAgKlxuICAgICAqIC8vIFRoZSBgXy5tYXRjaGVzYCBpdGVyYXRlZSBzaG9ydGhhbmQuXG4gICAgICogXy5maW5kSW5kZXgodXNlcnMsIHsgJ3VzZXInOiAnZnJlZCcsICdhY3RpdmUnOiBmYWxzZSB9KTtcbiAgICAgKiAvLyA9PiAxXG4gICAgICpcbiAgICAgKiAvLyBUaGUgYF8ubWF0Y2hlc1Byb3BlcnR5YCBpdGVyYXRlZSBzaG9ydGhhbmQuXG4gICAgICogXy5maW5kSW5kZXgodXNlcnMsIFsnYWN0aXZlJywgZmFsc2VdKTtcbiAgICAgKiAvLyA9PiAwXG4gICAgICpcbiAgICAgKiAvLyBUaGUgYF8ucHJvcGVydHlgIGl0ZXJhdGVlIHNob3J0aGFuZC5cbiAgICAgKiBfLmZpbmRJbmRleCh1c2VycywgJ2FjdGl2ZScpO1xuICAgICAqIC8vID0+IDJcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBmaW5kSW5kZXgoYXJyYXksIHByZWRpY2F0ZSwgZnJvbUluZGV4KSB7XG4gICAgICB2YXIgbGVuZ3RoID0gYXJyYXkgPT0gbnVsbCA/IDAgOiBhcnJheS5sZW5ndGg7XG4gICAgICBpZiAoIWxlbmd0aCkge1xuICAgICAgICByZXR1cm4gLTE7XG4gICAgICB9XG4gICAgICB2YXIgaW5kZXggPSBmcm9tSW5kZXggPT0gbnVsbCA/IDAgOiB0b0ludGVnZXIoZnJvbUluZGV4KTtcbiAgICAgIGlmIChpbmRleCA8IDApIHtcbiAgICAgICAgaW5kZXggPSBuYXRpdmVNYXgobGVuZ3RoICsgaW5kZXgsIDApO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGJhc2VGaW5kSW5kZXgoYXJyYXksIGdldEl0ZXJhdGVlKHByZWRpY2F0ZSwgMyksIGluZGV4KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCBpcyBsaWtlIGBfLmZpbmRJbmRleGAgZXhjZXB0IHRoYXQgaXQgaXRlcmF0ZXMgb3ZlciBlbGVtZW50c1xuICAgICAqIG9mIGBjb2xsZWN0aW9uYCBmcm9tIHJpZ2h0IHRvIGxlZnQuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMi4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgQXJyYXlcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gaW5zcGVjdC5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbcHJlZGljYXRlPV8uaWRlbnRpdHldIFRoZSBmdW5jdGlvbiBpbnZva2VkIHBlciBpdGVyYXRpb24uXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtmcm9tSW5kZXg9YXJyYXkubGVuZ3RoLTFdIFRoZSBpbmRleCB0byBzZWFyY2ggZnJvbS5cbiAgICAgKiBAcmV0dXJucyB7bnVtYmVyfSBSZXR1cm5zIHRoZSBpbmRleCBvZiB0aGUgZm91bmQgZWxlbWVudCwgZWxzZSBgLTFgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgdXNlcnMgPSBbXG4gICAgICogICB7ICd1c2VyJzogJ2Jhcm5leScsICAnYWN0aXZlJzogdHJ1ZSB9LFxuICAgICAqICAgeyAndXNlcic6ICdmcmVkJywgICAgJ2FjdGl2ZSc6IGZhbHNlIH0sXG4gICAgICogICB7ICd1c2VyJzogJ3BlYmJsZXMnLCAnYWN0aXZlJzogZmFsc2UgfVxuICAgICAqIF07XG4gICAgICpcbiAgICAgKiBfLmZpbmRMYXN0SW5kZXgodXNlcnMsIGZ1bmN0aW9uKG8pIHsgcmV0dXJuIG8udXNlciA9PSAncGViYmxlcyc7IH0pO1xuICAgICAqIC8vID0+IDJcbiAgICAgKlxuICAgICAqIC8vIFRoZSBgXy5tYXRjaGVzYCBpdGVyYXRlZSBzaG9ydGhhbmQuXG4gICAgICogXy5maW5kTGFzdEluZGV4KHVzZXJzLCB7ICd1c2VyJzogJ2Jhcm5leScsICdhY3RpdmUnOiB0cnVlIH0pO1xuICAgICAqIC8vID0+IDBcbiAgICAgKlxuICAgICAqIC8vIFRoZSBgXy5tYXRjaGVzUHJvcGVydHlgIGl0ZXJhdGVlIHNob3J0aGFuZC5cbiAgICAgKiBfLmZpbmRMYXN0SW5kZXgodXNlcnMsIFsnYWN0aXZlJywgZmFsc2VdKTtcbiAgICAgKiAvLyA9PiAyXG4gICAgICpcbiAgICAgKiAvLyBUaGUgYF8ucHJvcGVydHlgIGl0ZXJhdGVlIHNob3J0aGFuZC5cbiAgICAgKiBfLmZpbmRMYXN0SW5kZXgodXNlcnMsICdhY3RpdmUnKTtcbiAgICAgKiAvLyA9PiAwXG4gICAgICovXG4gICAgZnVuY3Rpb24gZmluZExhc3RJbmRleChhcnJheSwgcHJlZGljYXRlLCBmcm9tSW5kZXgpIHtcbiAgICAgIHZhciBsZW5ndGggPSBhcnJheSA9PSBudWxsID8gMCA6IGFycmF5Lmxlbmd0aDtcbiAgICAgIGlmICghbGVuZ3RoKSB7XG4gICAgICAgIHJldHVybiAtMTtcbiAgICAgIH1cbiAgICAgIHZhciBpbmRleCA9IGxlbmd0aCAtIDE7XG4gICAgICBpZiAoZnJvbUluZGV4ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgaW5kZXggPSB0b0ludGVnZXIoZnJvbUluZGV4KTtcbiAgICAgICAgaW5kZXggPSBmcm9tSW5kZXggPCAwXG4gICAgICAgICAgPyBuYXRpdmVNYXgobGVuZ3RoICsgaW5kZXgsIDApXG4gICAgICAgICAgOiBuYXRpdmVNaW4oaW5kZXgsIGxlbmd0aCAtIDEpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGJhc2VGaW5kSW5kZXgoYXJyYXksIGdldEl0ZXJhdGVlKHByZWRpY2F0ZSwgMyksIGluZGV4LCB0cnVlKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBGbGF0dGVucyBgYXJyYXlgIGEgc2luZ2xlIGxldmVsIGRlZXAuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMC4xLjBcbiAgICAgKiBAY2F0ZWdvcnkgQXJyYXlcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gZmxhdHRlbi5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIG5ldyBmbGF0dGVuZWQgYXJyYXkuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uZmxhdHRlbihbMSwgWzIsIFszLCBbNF1dLCA1XV0pO1xuICAgICAqIC8vID0+IFsxLCAyLCBbMywgWzRdXSwgNV1cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBmbGF0dGVuKGFycmF5KSB7XG4gICAgICB2YXIgbGVuZ3RoID0gYXJyYXkgPT0gbnVsbCA/IDAgOiBhcnJheS5sZW5ndGg7XG4gICAgICByZXR1cm4gbGVuZ3RoID8gYmFzZUZsYXR0ZW4oYXJyYXksIDEpIDogW107XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmVjdXJzaXZlbHkgZmxhdHRlbnMgYGFycmF5YC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAzLjAuMFxuICAgICAqIEBjYXRlZ29yeSBBcnJheVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBmbGF0dGVuLlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgbmV3IGZsYXR0ZW5lZCBhcnJheS5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5mbGF0dGVuRGVlcChbMSwgWzIsIFszLCBbNF1dLCA1XV0pO1xuICAgICAqIC8vID0+IFsxLCAyLCAzLCA0LCA1XVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGZsYXR0ZW5EZWVwKGFycmF5KSB7XG4gICAgICB2YXIgbGVuZ3RoID0gYXJyYXkgPT0gbnVsbCA/IDAgOiBhcnJheS5sZW5ndGg7XG4gICAgICByZXR1cm4gbGVuZ3RoID8gYmFzZUZsYXR0ZW4oYXJyYXksIElORklOSVRZKSA6IFtdO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJlY3Vyc2l2ZWx5IGZsYXR0ZW4gYGFycmF5YCB1cCB0byBgZGVwdGhgIHRpbWVzLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuNC4wXG4gICAgICogQGNhdGVnb3J5IEFycmF5XG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIGZsYXR0ZW4uXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtkZXB0aD0xXSBUaGUgbWF4aW11bSByZWN1cnNpb24gZGVwdGguXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBuZXcgZmxhdHRlbmVkIGFycmF5LlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgYXJyYXkgPSBbMSwgWzIsIFszLCBbNF1dLCA1XV07XG4gICAgICpcbiAgICAgKiBfLmZsYXR0ZW5EZXB0aChhcnJheSwgMSk7XG4gICAgICogLy8gPT4gWzEsIDIsIFszLCBbNF1dLCA1XVxuICAgICAqXG4gICAgICogXy5mbGF0dGVuRGVwdGgoYXJyYXksIDIpO1xuICAgICAqIC8vID0+IFsxLCAyLCAzLCBbNF0sIDVdXG4gICAgICovXG4gICAgZnVuY3Rpb24gZmxhdHRlbkRlcHRoKGFycmF5LCBkZXB0aCkge1xuICAgICAgdmFyIGxlbmd0aCA9IGFycmF5ID09IG51bGwgPyAwIDogYXJyYXkubGVuZ3RoO1xuICAgICAgaWYgKCFsZW5ndGgpIHtcbiAgICAgICAgcmV0dXJuIFtdO1xuICAgICAgfVxuICAgICAgZGVwdGggPSBkZXB0aCA9PT0gdW5kZWZpbmVkID8gMSA6IHRvSW50ZWdlcihkZXB0aCk7XG4gICAgICByZXR1cm4gYmFzZUZsYXR0ZW4oYXJyYXksIGRlcHRoKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgaW52ZXJzZSBvZiBgXy50b1BhaXJzYDsgdGhpcyBtZXRob2QgcmV0dXJucyBhbiBvYmplY3QgY29tcG9zZWRcbiAgICAgKiBmcm9tIGtleS12YWx1ZSBgcGFpcnNgLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IEFycmF5XG4gICAgICogQHBhcmFtIHtBcnJheX0gcGFpcnMgVGhlIGtleS12YWx1ZSBwYWlycy5cbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIHRoZSBuZXcgb2JqZWN0LlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmZyb21QYWlycyhbWydhJywgMV0sIFsnYicsIDJdXSk7XG4gICAgICogLy8gPT4geyAnYSc6IDEsICdiJzogMiB9XG4gICAgICovXG4gICAgZnVuY3Rpb24gZnJvbVBhaXJzKHBhaXJzKSB7XG4gICAgICB2YXIgaW5kZXggPSAtMSxcbiAgICAgICAgICBsZW5ndGggPSBwYWlycyA9PSBudWxsID8gMCA6IHBhaXJzLmxlbmd0aCxcbiAgICAgICAgICByZXN1bHQgPSB7fTtcblxuICAgICAgd2hpbGUgKCsraW5kZXggPCBsZW5ndGgpIHtcbiAgICAgICAgdmFyIHBhaXIgPSBwYWlyc1tpbmRleF07XG4gICAgICAgIHJlc3VsdFtwYWlyWzBdXSA9IHBhaXJbMV07XG4gICAgICB9XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEdldHMgdGhlIGZpcnN0IGVsZW1lbnQgb2YgYGFycmF5YC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAwLjEuMFxuICAgICAqIEBhbGlhcyBmaXJzdFxuICAgICAqIEBjYXRlZ29yeSBBcnJheVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBxdWVyeS5cbiAgICAgKiBAcmV0dXJucyB7Kn0gUmV0dXJucyB0aGUgZmlyc3QgZWxlbWVudCBvZiBgYXJyYXlgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmhlYWQoWzEsIDIsIDNdKTtcbiAgICAgKiAvLyA9PiAxXG4gICAgICpcbiAgICAgKiBfLmhlYWQoW10pO1xuICAgICAqIC8vID0+IHVuZGVmaW5lZFxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGhlYWQoYXJyYXkpIHtcbiAgICAgIHJldHVybiAoYXJyYXkgJiYgYXJyYXkubGVuZ3RoKSA/IGFycmF5WzBdIDogdW5kZWZpbmVkO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEdldHMgdGhlIGluZGV4IGF0IHdoaWNoIHRoZSBmaXJzdCBvY2N1cnJlbmNlIG9mIGB2YWx1ZWAgaXMgZm91bmQgaW4gYGFycmF5YFxuICAgICAqIHVzaW5nIFtgU2FtZVZhbHVlWmVyb2BdKGh0dHA6Ly9lY21hLWludGVybmF0aW9uYWwub3JnL2VjbWEtMjYyLzcuMC8jc2VjLXNhbWV2YWx1ZXplcm8pXG4gICAgICogZm9yIGVxdWFsaXR5IGNvbXBhcmlzb25zLiBJZiBgZnJvbUluZGV4YCBpcyBuZWdhdGl2ZSwgaXQncyB1c2VkIGFzIHRoZVxuICAgICAqIG9mZnNldCBmcm9tIHRoZSBlbmQgb2YgYGFycmF5YC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAwLjEuMFxuICAgICAqIEBjYXRlZ29yeSBBcnJheVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBpbnNwZWN0LlxuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIHNlYXJjaCBmb3IuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtmcm9tSW5kZXg9MF0gVGhlIGluZGV4IHRvIHNlYXJjaCBmcm9tLlxuICAgICAqIEByZXR1cm5zIHtudW1iZXJ9IFJldHVybnMgdGhlIGluZGV4IG9mIHRoZSBtYXRjaGVkIHZhbHVlLCBlbHNlIGAtMWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uaW5kZXhPZihbMSwgMiwgMSwgMl0sIDIpO1xuICAgICAqIC8vID0+IDFcbiAgICAgKlxuICAgICAqIC8vIFNlYXJjaCBmcm9tIHRoZSBgZnJvbUluZGV4YC5cbiAgICAgKiBfLmluZGV4T2YoWzEsIDIsIDEsIDJdLCAyLCAyKTtcbiAgICAgKiAvLyA9PiAzXG4gICAgICovXG4gICAgZnVuY3Rpb24gaW5kZXhPZihhcnJheSwgdmFsdWUsIGZyb21JbmRleCkge1xuICAgICAgdmFyIGxlbmd0aCA9IGFycmF5ID09IG51bGwgPyAwIDogYXJyYXkubGVuZ3RoO1xuICAgICAgaWYgKCFsZW5ndGgpIHtcbiAgICAgICAgcmV0dXJuIC0xO1xuICAgICAgfVxuICAgICAgdmFyIGluZGV4ID0gZnJvbUluZGV4ID09IG51bGwgPyAwIDogdG9JbnRlZ2VyKGZyb21JbmRleCk7XG4gICAgICBpZiAoaW5kZXggPCAwKSB7XG4gICAgICAgIGluZGV4ID0gbmF0aXZlTWF4KGxlbmd0aCArIGluZGV4LCAwKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBiYXNlSW5kZXhPZihhcnJheSwgdmFsdWUsIGluZGV4KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBHZXRzIGFsbCBidXQgdGhlIGxhc3QgZWxlbWVudCBvZiBgYXJyYXlgLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDAuMS4wXG4gICAgICogQGNhdGVnb3J5IEFycmF5XG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIHF1ZXJ5LlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgc2xpY2Ugb2YgYGFycmF5YC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5pbml0aWFsKFsxLCAyLCAzXSk7XG4gICAgICogLy8gPT4gWzEsIDJdXG4gICAgICovXG4gICAgZnVuY3Rpb24gaW5pdGlhbChhcnJheSkge1xuICAgICAgdmFyIGxlbmd0aCA9IGFycmF5ID09IG51bGwgPyAwIDogYXJyYXkubGVuZ3RoO1xuICAgICAgcmV0dXJuIGxlbmd0aCA/IGJhc2VTbGljZShhcnJheSwgMCwgLTEpIDogW107XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhbiBhcnJheSBvZiB1bmlxdWUgdmFsdWVzIHRoYXQgYXJlIGluY2x1ZGVkIGluIGFsbCBnaXZlbiBhcnJheXNcbiAgICAgKiB1c2luZyBbYFNhbWVWYWx1ZVplcm9gXShodHRwOi8vZWNtYS1pbnRlcm5hdGlvbmFsLm9yZy9lY21hLTI2Mi83LjAvI3NlYy1zYW1ldmFsdWV6ZXJvKVxuICAgICAqIGZvciBlcXVhbGl0eSBjb21wYXJpc29ucy4gVGhlIG9yZGVyIGFuZCByZWZlcmVuY2VzIG9mIHJlc3VsdCB2YWx1ZXMgYXJlXG4gICAgICogZGV0ZXJtaW5lZCBieSB0aGUgZmlyc3QgYXJyYXkuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMC4xLjBcbiAgICAgKiBAY2F0ZWdvcnkgQXJyYXlcbiAgICAgKiBAcGFyYW0gey4uLkFycmF5fSBbYXJyYXlzXSBUaGUgYXJyYXlzIHRvIGluc3BlY3QuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBuZXcgYXJyYXkgb2YgaW50ZXJzZWN0aW5nIHZhbHVlcy5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5pbnRlcnNlY3Rpb24oWzIsIDFdLCBbMiwgM10pO1xuICAgICAqIC8vID0+IFsyXVxuICAgICAqL1xuICAgIHZhciBpbnRlcnNlY3Rpb24gPSBiYXNlUmVzdChmdW5jdGlvbihhcnJheXMpIHtcbiAgICAgIHZhciBtYXBwZWQgPSBhcnJheU1hcChhcnJheXMsIGNhc3RBcnJheUxpa2VPYmplY3QpO1xuICAgICAgcmV0dXJuIChtYXBwZWQubGVuZ3RoICYmIG1hcHBlZFswXSA9PT0gYXJyYXlzWzBdKVxuICAgICAgICA/IGJhc2VJbnRlcnNlY3Rpb24obWFwcGVkKVxuICAgICAgICA6IFtdO1xuICAgIH0pO1xuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgaXMgbGlrZSBgXy5pbnRlcnNlY3Rpb25gIGV4Y2VwdCB0aGF0IGl0IGFjY2VwdHMgYGl0ZXJhdGVlYFxuICAgICAqIHdoaWNoIGlzIGludm9rZWQgZm9yIGVhY2ggZWxlbWVudCBvZiBlYWNoIGBhcnJheXNgIHRvIGdlbmVyYXRlIHRoZSBjcml0ZXJpb25cbiAgICAgKiBieSB3aGljaCB0aGV5J3JlIGNvbXBhcmVkLiBUaGUgb3JkZXIgYW5kIHJlZmVyZW5jZXMgb2YgcmVzdWx0IHZhbHVlcyBhcmVcbiAgICAgKiBkZXRlcm1pbmVkIGJ5IHRoZSBmaXJzdCBhcnJheS4gVGhlIGl0ZXJhdGVlIGlzIGludm9rZWQgd2l0aCBvbmUgYXJndW1lbnQ6XG4gICAgICogKHZhbHVlKS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBBcnJheVxuICAgICAqIEBwYXJhbSB7Li4uQXJyYXl9IFthcnJheXNdIFRoZSBhcnJheXMgdG8gaW5zcGVjdC5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbaXRlcmF0ZWU9Xy5pZGVudGl0eV0gVGhlIGl0ZXJhdGVlIGludm9rZWQgcGVyIGVsZW1lbnQuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBuZXcgYXJyYXkgb2YgaW50ZXJzZWN0aW5nIHZhbHVlcy5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5pbnRlcnNlY3Rpb25CeShbMi4xLCAxLjJdLCBbMi4zLCAzLjRdLCBNYXRoLmZsb29yKTtcbiAgICAgKiAvLyA9PiBbMi4xXVxuICAgICAqXG4gICAgICogLy8gVGhlIGBfLnByb3BlcnR5YCBpdGVyYXRlZSBzaG9ydGhhbmQuXG4gICAgICogXy5pbnRlcnNlY3Rpb25CeShbeyAneCc6IDEgfV0sIFt7ICd4JzogMiB9LCB7ICd4JzogMSB9XSwgJ3gnKTtcbiAgICAgKiAvLyA9PiBbeyAneCc6IDEgfV1cbiAgICAgKi9cbiAgICB2YXIgaW50ZXJzZWN0aW9uQnkgPSBiYXNlUmVzdChmdW5jdGlvbihhcnJheXMpIHtcbiAgICAgIHZhciBpdGVyYXRlZSA9IGxhc3QoYXJyYXlzKSxcbiAgICAgICAgICBtYXBwZWQgPSBhcnJheU1hcChhcnJheXMsIGNhc3RBcnJheUxpa2VPYmplY3QpO1xuXG4gICAgICBpZiAoaXRlcmF0ZWUgPT09IGxhc3QobWFwcGVkKSkge1xuICAgICAgICBpdGVyYXRlZSA9IHVuZGVmaW5lZDtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIG1hcHBlZC5wb3AoKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiAobWFwcGVkLmxlbmd0aCAmJiBtYXBwZWRbMF0gPT09IGFycmF5c1swXSlcbiAgICAgICAgPyBiYXNlSW50ZXJzZWN0aW9uKG1hcHBlZCwgZ2V0SXRlcmF0ZWUoaXRlcmF0ZWUsIDIpKVxuICAgICAgICA6IFtdO1xuICAgIH0pO1xuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgaXMgbGlrZSBgXy5pbnRlcnNlY3Rpb25gIGV4Y2VwdCB0aGF0IGl0IGFjY2VwdHMgYGNvbXBhcmF0b3JgXG4gICAgICogd2hpY2ggaXMgaW52b2tlZCB0byBjb21wYXJlIGVsZW1lbnRzIG9mIGBhcnJheXNgLiBUaGUgb3JkZXIgYW5kIHJlZmVyZW5jZXNcbiAgICAgKiBvZiByZXN1bHQgdmFsdWVzIGFyZSBkZXRlcm1pbmVkIGJ5IHRoZSBmaXJzdCBhcnJheS4gVGhlIGNvbXBhcmF0b3IgaXNcbiAgICAgKiBpbnZva2VkIHdpdGggdHdvIGFyZ3VtZW50czogKGFyclZhbCwgb3RoVmFsKS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBBcnJheVxuICAgICAqIEBwYXJhbSB7Li4uQXJyYXl9IFthcnJheXNdIFRoZSBhcnJheXMgdG8gaW5zcGVjdC5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbY29tcGFyYXRvcl0gVGhlIGNvbXBhcmF0b3IgaW52b2tlZCBwZXIgZWxlbWVudC5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIG5ldyBhcnJheSBvZiBpbnRlcnNlY3RpbmcgdmFsdWVzLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgb2JqZWN0cyA9IFt7ICd4JzogMSwgJ3knOiAyIH0sIHsgJ3gnOiAyLCAneSc6IDEgfV07XG4gICAgICogdmFyIG90aGVycyA9IFt7ICd4JzogMSwgJ3knOiAxIH0sIHsgJ3gnOiAxLCAneSc6IDIgfV07XG4gICAgICpcbiAgICAgKiBfLmludGVyc2VjdGlvbldpdGgob2JqZWN0cywgb3RoZXJzLCBfLmlzRXF1YWwpO1xuICAgICAqIC8vID0+IFt7ICd4JzogMSwgJ3knOiAyIH1dXG4gICAgICovXG4gICAgdmFyIGludGVyc2VjdGlvbldpdGggPSBiYXNlUmVzdChmdW5jdGlvbihhcnJheXMpIHtcbiAgICAgIHZhciBjb21wYXJhdG9yID0gbGFzdChhcnJheXMpLFxuICAgICAgICAgIG1hcHBlZCA9IGFycmF5TWFwKGFycmF5cywgY2FzdEFycmF5TGlrZU9iamVjdCk7XG5cbiAgICAgIGNvbXBhcmF0b3IgPSB0eXBlb2YgY29tcGFyYXRvciA9PSAnZnVuY3Rpb24nID8gY29tcGFyYXRvciA6IHVuZGVmaW5lZDtcbiAgICAgIGlmIChjb21wYXJhdG9yKSB7XG4gICAgICAgIG1hcHBlZC5wb3AoKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiAobWFwcGVkLmxlbmd0aCAmJiBtYXBwZWRbMF0gPT09IGFycmF5c1swXSlcbiAgICAgICAgPyBiYXNlSW50ZXJzZWN0aW9uKG1hcHBlZCwgdW5kZWZpbmVkLCBjb21wYXJhdG9yKVxuICAgICAgICA6IFtdO1xuICAgIH0pO1xuXG4gICAgLyoqXG4gICAgICogQ29udmVydHMgYWxsIGVsZW1lbnRzIGluIGBhcnJheWAgaW50byBhIHN0cmluZyBzZXBhcmF0ZWQgYnkgYHNlcGFyYXRvcmAuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgQXJyYXlcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gY29udmVydC5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW3NlcGFyYXRvcj0nLCddIFRoZSBlbGVtZW50IHNlcGFyYXRvci5cbiAgICAgKiBAcmV0dXJucyB7c3RyaW5nfSBSZXR1cm5zIHRoZSBqb2luZWQgc3RyaW5nLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmpvaW4oWydhJywgJ2InLCAnYyddLCAnficpO1xuICAgICAqIC8vID0+ICdhfmJ+YydcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBqb2luKGFycmF5LCBzZXBhcmF0b3IpIHtcbiAgICAgIHJldHVybiBhcnJheSA9PSBudWxsID8gJycgOiBuYXRpdmVKb2luLmNhbGwoYXJyYXksIHNlcGFyYXRvcik7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogR2V0cyB0aGUgbGFzdCBlbGVtZW50IG9mIGBhcnJheWAuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMC4xLjBcbiAgICAgKiBAY2F0ZWdvcnkgQXJyYXlcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gcXVlcnkuXG4gICAgICogQHJldHVybnMgeyp9IFJldHVybnMgdGhlIGxhc3QgZWxlbWVudCBvZiBgYXJyYXlgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmxhc3QoWzEsIDIsIDNdKTtcbiAgICAgKiAvLyA9PiAzXG4gICAgICovXG4gICAgZnVuY3Rpb24gbGFzdChhcnJheSkge1xuICAgICAgdmFyIGxlbmd0aCA9IGFycmF5ID09IG51bGwgPyAwIDogYXJyYXkubGVuZ3RoO1xuICAgICAgcmV0dXJuIGxlbmd0aCA/IGFycmF5W2xlbmd0aCAtIDFdIDogdW5kZWZpbmVkO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIGlzIGxpa2UgYF8uaW5kZXhPZmAgZXhjZXB0IHRoYXQgaXQgaXRlcmF0ZXMgb3ZlciBlbGVtZW50cyBvZlxuICAgICAqIGBhcnJheWAgZnJvbSByaWdodCB0byBsZWZ0LlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDAuMS4wXG4gICAgICogQGNhdGVnb3J5IEFycmF5XG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIGluc3BlY3QuXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gc2VhcmNoIGZvci5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW2Zyb21JbmRleD1hcnJheS5sZW5ndGgtMV0gVGhlIGluZGV4IHRvIHNlYXJjaCBmcm9tLlxuICAgICAqIEByZXR1cm5zIHtudW1iZXJ9IFJldHVybnMgdGhlIGluZGV4IG9mIHRoZSBtYXRjaGVkIHZhbHVlLCBlbHNlIGAtMWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8ubGFzdEluZGV4T2YoWzEsIDIsIDEsIDJdLCAyKTtcbiAgICAgKiAvLyA9PiAzXG4gICAgICpcbiAgICAgKiAvLyBTZWFyY2ggZnJvbSB0aGUgYGZyb21JbmRleGAuXG4gICAgICogXy5sYXN0SW5kZXhPZihbMSwgMiwgMSwgMl0sIDIsIDIpO1xuICAgICAqIC8vID0+IDFcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBsYXN0SW5kZXhPZihhcnJheSwgdmFsdWUsIGZyb21JbmRleCkge1xuICAgICAgdmFyIGxlbmd0aCA9IGFycmF5ID09IG51bGwgPyAwIDogYXJyYXkubGVuZ3RoO1xuICAgICAgaWYgKCFsZW5ndGgpIHtcbiAgICAgICAgcmV0dXJuIC0xO1xuICAgICAgfVxuICAgICAgdmFyIGluZGV4ID0gbGVuZ3RoO1xuICAgICAgaWYgKGZyb21JbmRleCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGluZGV4ID0gdG9JbnRlZ2VyKGZyb21JbmRleCk7XG4gICAgICAgIGluZGV4ID0gaW5kZXggPCAwID8gbmF0aXZlTWF4KGxlbmd0aCArIGluZGV4LCAwKSA6IG5hdGl2ZU1pbihpbmRleCwgbGVuZ3RoIC0gMSk7XG4gICAgICB9XG4gICAgICByZXR1cm4gdmFsdWUgPT09IHZhbHVlXG4gICAgICAgID8gc3RyaWN0TGFzdEluZGV4T2YoYXJyYXksIHZhbHVlLCBpbmRleClcbiAgICAgICAgOiBiYXNlRmluZEluZGV4KGFycmF5LCBiYXNlSXNOYU4sIGluZGV4LCB0cnVlKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBHZXRzIHRoZSBlbGVtZW50IGF0IGluZGV4IGBuYCBvZiBgYXJyYXlgLiBJZiBgbmAgaXMgbmVnYXRpdmUsIHRoZSBudGhcbiAgICAgKiBlbGVtZW50IGZyb20gdGhlIGVuZCBpcyByZXR1cm5lZC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjExLjBcbiAgICAgKiBAY2F0ZWdvcnkgQXJyYXlcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gcXVlcnkuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtuPTBdIFRoZSBpbmRleCBvZiB0aGUgZWxlbWVudCB0byByZXR1cm4uXG4gICAgICogQHJldHVybnMgeyp9IFJldHVybnMgdGhlIG50aCBlbGVtZW50IG9mIGBhcnJheWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBhcnJheSA9IFsnYScsICdiJywgJ2MnLCAnZCddO1xuICAgICAqXG4gICAgICogXy5udGgoYXJyYXksIDEpO1xuICAgICAqIC8vID0+ICdiJ1xuICAgICAqXG4gICAgICogXy5udGgoYXJyYXksIC0yKTtcbiAgICAgKiAvLyA9PiAnYyc7XG4gICAgICovXG4gICAgZnVuY3Rpb24gbnRoKGFycmF5LCBuKSB7XG4gICAgICByZXR1cm4gKGFycmF5ICYmIGFycmF5Lmxlbmd0aCkgPyBiYXNlTnRoKGFycmF5LCB0b0ludGVnZXIobikpIDogdW5kZWZpbmVkO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJlbW92ZXMgYWxsIGdpdmVuIHZhbHVlcyBmcm9tIGBhcnJheWAgdXNpbmdcbiAgICAgKiBbYFNhbWVWYWx1ZVplcm9gXShodHRwOi8vZWNtYS1pbnRlcm5hdGlvbmFsLm9yZy9lY21hLTI2Mi83LjAvI3NlYy1zYW1ldmFsdWV6ZXJvKVxuICAgICAqIGZvciBlcXVhbGl0eSBjb21wYXJpc29ucy5cbiAgICAgKlxuICAgICAqICoqTm90ZToqKiBVbmxpa2UgYF8ud2l0aG91dGAsIHRoaXMgbWV0aG9kIG11dGF0ZXMgYGFycmF5YC4gVXNlIGBfLnJlbW92ZWBcbiAgICAgKiB0byByZW1vdmUgZWxlbWVudHMgZnJvbSBhbiBhcnJheSBieSBwcmVkaWNhdGUuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMi4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgQXJyYXlcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gbW9kaWZ5LlxuICAgICAqIEBwYXJhbSB7Li4uKn0gW3ZhbHVlc10gVGhlIHZhbHVlcyB0byByZW1vdmUuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIGBhcnJheWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBhcnJheSA9IFsnYScsICdiJywgJ2MnLCAnYScsICdiJywgJ2MnXTtcbiAgICAgKlxuICAgICAqIF8ucHVsbChhcnJheSwgJ2EnLCAnYycpO1xuICAgICAqIGNvbnNvbGUubG9nKGFycmF5KTtcbiAgICAgKiAvLyA9PiBbJ2InLCAnYiddXG4gICAgICovXG4gICAgdmFyIHB1bGwgPSBiYXNlUmVzdChwdWxsQWxsKTtcblxuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIGlzIGxpa2UgYF8ucHVsbGAgZXhjZXB0IHRoYXQgaXQgYWNjZXB0cyBhbiBhcnJheSBvZiB2YWx1ZXMgdG8gcmVtb3ZlLlxuICAgICAqXG4gICAgICogKipOb3RlOioqIFVubGlrZSBgXy5kaWZmZXJlbmNlYCwgdGhpcyBtZXRob2QgbXV0YXRlcyBgYXJyYXlgLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IEFycmF5XG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIG1vZGlmeS5cbiAgICAgKiBAcGFyYW0ge0FycmF5fSB2YWx1ZXMgVGhlIHZhbHVlcyB0byByZW1vdmUuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIGBhcnJheWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBhcnJheSA9IFsnYScsICdiJywgJ2MnLCAnYScsICdiJywgJ2MnXTtcbiAgICAgKlxuICAgICAqIF8ucHVsbEFsbChhcnJheSwgWydhJywgJ2MnXSk7XG4gICAgICogY29uc29sZS5sb2coYXJyYXkpO1xuICAgICAqIC8vID0+IFsnYicsICdiJ11cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBwdWxsQWxsKGFycmF5LCB2YWx1ZXMpIHtcbiAgICAgIHJldHVybiAoYXJyYXkgJiYgYXJyYXkubGVuZ3RoICYmIHZhbHVlcyAmJiB2YWx1ZXMubGVuZ3RoKVxuICAgICAgICA/IGJhc2VQdWxsQWxsKGFycmF5LCB2YWx1ZXMpXG4gICAgICAgIDogYXJyYXk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgaXMgbGlrZSBgXy5wdWxsQWxsYCBleGNlcHQgdGhhdCBpdCBhY2NlcHRzIGBpdGVyYXRlZWAgd2hpY2ggaXNcbiAgICAgKiBpbnZva2VkIGZvciBlYWNoIGVsZW1lbnQgb2YgYGFycmF5YCBhbmQgYHZhbHVlc2AgdG8gZ2VuZXJhdGUgdGhlIGNyaXRlcmlvblxuICAgICAqIGJ5IHdoaWNoIHRoZXkncmUgY29tcGFyZWQuIFRoZSBpdGVyYXRlZSBpcyBpbnZva2VkIHdpdGggb25lIGFyZ3VtZW50OiAodmFsdWUpLlxuICAgICAqXG4gICAgICogKipOb3RlOioqIFVubGlrZSBgXy5kaWZmZXJlbmNlQnlgLCB0aGlzIG1ldGhvZCBtdXRhdGVzIGBhcnJheWAuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgQXJyYXlcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gbW9kaWZ5LlxuICAgICAqIEBwYXJhbSB7QXJyYXl9IHZhbHVlcyBUaGUgdmFsdWVzIHRvIHJlbW92ZS5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbaXRlcmF0ZWU9Xy5pZGVudGl0eV0gVGhlIGl0ZXJhdGVlIGludm9rZWQgcGVyIGVsZW1lbnQuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIGBhcnJheWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBhcnJheSA9IFt7ICd4JzogMSB9LCB7ICd4JzogMiB9LCB7ICd4JzogMyB9LCB7ICd4JzogMSB9XTtcbiAgICAgKlxuICAgICAqIF8ucHVsbEFsbEJ5KGFycmF5LCBbeyAneCc6IDEgfSwgeyAneCc6IDMgfV0sICd4Jyk7XG4gICAgICogY29uc29sZS5sb2coYXJyYXkpO1xuICAgICAqIC8vID0+IFt7ICd4JzogMiB9XVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHB1bGxBbGxCeShhcnJheSwgdmFsdWVzLCBpdGVyYXRlZSkge1xuICAgICAgcmV0dXJuIChhcnJheSAmJiBhcnJheS5sZW5ndGggJiYgdmFsdWVzICYmIHZhbHVlcy5sZW5ndGgpXG4gICAgICAgID8gYmFzZVB1bGxBbGwoYXJyYXksIHZhbHVlcywgZ2V0SXRlcmF0ZWUoaXRlcmF0ZWUsIDIpKVxuICAgICAgICA6IGFycmF5O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIGlzIGxpa2UgYF8ucHVsbEFsbGAgZXhjZXB0IHRoYXQgaXQgYWNjZXB0cyBgY29tcGFyYXRvcmAgd2hpY2hcbiAgICAgKiBpcyBpbnZva2VkIHRvIGNvbXBhcmUgZWxlbWVudHMgb2YgYGFycmF5YCB0byBgdmFsdWVzYC4gVGhlIGNvbXBhcmF0b3IgaXNcbiAgICAgKiBpbnZva2VkIHdpdGggdHdvIGFyZ3VtZW50czogKGFyclZhbCwgb3RoVmFsKS5cbiAgICAgKlxuICAgICAqICoqTm90ZToqKiBVbmxpa2UgYF8uZGlmZmVyZW5jZVdpdGhgLCB0aGlzIG1ldGhvZCBtdXRhdGVzIGBhcnJheWAuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC42LjBcbiAgICAgKiBAY2F0ZWdvcnkgQXJyYXlcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gbW9kaWZ5LlxuICAgICAqIEBwYXJhbSB7QXJyYXl9IHZhbHVlcyBUaGUgdmFsdWVzIHRvIHJlbW92ZS5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbY29tcGFyYXRvcl0gVGhlIGNvbXBhcmF0b3IgaW52b2tlZCBwZXIgZWxlbWVudC5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgYGFycmF5YC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIGFycmF5ID0gW3sgJ3gnOiAxLCAneSc6IDIgfSwgeyAneCc6IDMsICd5JzogNCB9LCB7ICd4JzogNSwgJ3knOiA2IH1dO1xuICAgICAqXG4gICAgICogXy5wdWxsQWxsV2l0aChhcnJheSwgW3sgJ3gnOiAzLCAneSc6IDQgfV0sIF8uaXNFcXVhbCk7XG4gICAgICogY29uc29sZS5sb2coYXJyYXkpO1xuICAgICAqIC8vID0+IFt7ICd4JzogMSwgJ3knOiAyIH0sIHsgJ3gnOiA1LCAneSc6IDYgfV1cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBwdWxsQWxsV2l0aChhcnJheSwgdmFsdWVzLCBjb21wYXJhdG9yKSB7XG4gICAgICByZXR1cm4gKGFycmF5ICYmIGFycmF5Lmxlbmd0aCAmJiB2YWx1ZXMgJiYgdmFsdWVzLmxlbmd0aClcbiAgICAgICAgPyBiYXNlUHVsbEFsbChhcnJheSwgdmFsdWVzLCB1bmRlZmluZWQsIGNvbXBhcmF0b3IpXG4gICAgICAgIDogYXJyYXk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmVtb3ZlcyBlbGVtZW50cyBmcm9tIGBhcnJheWAgY29ycmVzcG9uZGluZyB0byBgaW5kZXhlc2AgYW5kIHJldHVybnMgYW5cbiAgICAgKiBhcnJheSBvZiByZW1vdmVkIGVsZW1lbnRzLlxuICAgICAqXG4gICAgICogKipOb3RlOioqIFVubGlrZSBgXy5hdGAsIHRoaXMgbWV0aG9kIG11dGF0ZXMgYGFycmF5YC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAzLjAuMFxuICAgICAqIEBjYXRlZ29yeSBBcnJheVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBtb2RpZnkuXG4gICAgICogQHBhcmFtIHsuLi4obnVtYmVyfG51bWJlcltdKX0gW2luZGV4ZXNdIFRoZSBpbmRleGVzIG9mIGVsZW1lbnRzIHRvIHJlbW92ZS5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIG5ldyBhcnJheSBvZiByZW1vdmVkIGVsZW1lbnRzLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgYXJyYXkgPSBbJ2EnLCAnYicsICdjJywgJ2QnXTtcbiAgICAgKiB2YXIgcHVsbGVkID0gXy5wdWxsQXQoYXJyYXksIFsxLCAzXSk7XG4gICAgICpcbiAgICAgKiBjb25zb2xlLmxvZyhhcnJheSk7XG4gICAgICogLy8gPT4gWydhJywgJ2MnXVxuICAgICAqXG4gICAgICogY29uc29sZS5sb2cocHVsbGVkKTtcbiAgICAgKiAvLyA9PiBbJ2InLCAnZCddXG4gICAgICovXG4gICAgdmFyIHB1bGxBdCA9IGZsYXRSZXN0KGZ1bmN0aW9uKGFycmF5LCBpbmRleGVzKSB7XG4gICAgICB2YXIgbGVuZ3RoID0gYXJyYXkgPT0gbnVsbCA/IDAgOiBhcnJheS5sZW5ndGgsXG4gICAgICAgICAgcmVzdWx0ID0gYmFzZUF0KGFycmF5LCBpbmRleGVzKTtcblxuICAgICAgYmFzZVB1bGxBdChhcnJheSwgYXJyYXlNYXAoaW5kZXhlcywgZnVuY3Rpb24oaW5kZXgpIHtcbiAgICAgICAgcmV0dXJuIGlzSW5kZXgoaW5kZXgsIGxlbmd0aCkgPyAraW5kZXggOiBpbmRleDtcbiAgICAgIH0pLnNvcnQoY29tcGFyZUFzY2VuZGluZykpO1xuXG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH0pO1xuXG4gICAgLyoqXG4gICAgICogUmVtb3ZlcyBhbGwgZWxlbWVudHMgZnJvbSBgYXJyYXlgIHRoYXQgYHByZWRpY2F0ZWAgcmV0dXJucyB0cnV0aHkgZm9yXG4gICAgICogYW5kIHJldHVybnMgYW4gYXJyYXkgb2YgdGhlIHJlbW92ZWQgZWxlbWVudHMuIFRoZSBwcmVkaWNhdGUgaXMgaW52b2tlZFxuICAgICAqIHdpdGggdGhyZWUgYXJndW1lbnRzOiAodmFsdWUsIGluZGV4LCBhcnJheSkuXG4gICAgICpcbiAgICAgKiAqKk5vdGU6KiogVW5saWtlIGBfLmZpbHRlcmAsIHRoaXMgbWV0aG9kIG11dGF0ZXMgYGFycmF5YC4gVXNlIGBfLnB1bGxgXG4gICAgICogdG8gcHVsbCBlbGVtZW50cyBmcm9tIGFuIGFycmF5IGJ5IHZhbHVlLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDIuMC4wXG4gICAgICogQGNhdGVnb3J5IEFycmF5XG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIG1vZGlmeS5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbcHJlZGljYXRlPV8uaWRlbnRpdHldIFRoZSBmdW5jdGlvbiBpbnZva2VkIHBlciBpdGVyYXRpb24uXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBuZXcgYXJyYXkgb2YgcmVtb3ZlZCBlbGVtZW50cy5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIGFycmF5ID0gWzEsIDIsIDMsIDRdO1xuICAgICAqIHZhciBldmVucyA9IF8ucmVtb3ZlKGFycmF5LCBmdW5jdGlvbihuKSB7XG4gICAgICogICByZXR1cm4gbiAlIDIgPT0gMDtcbiAgICAgKiB9KTtcbiAgICAgKlxuICAgICAqIGNvbnNvbGUubG9nKGFycmF5KTtcbiAgICAgKiAvLyA9PiBbMSwgM11cbiAgICAgKlxuICAgICAqIGNvbnNvbGUubG9nKGV2ZW5zKTtcbiAgICAgKiAvLyA9PiBbMiwgNF1cbiAgICAgKi9cbiAgICBmdW5jdGlvbiByZW1vdmUoYXJyYXksIHByZWRpY2F0ZSkge1xuICAgICAgdmFyIHJlc3VsdCA9IFtdO1xuICAgICAgaWYgKCEoYXJyYXkgJiYgYXJyYXkubGVuZ3RoKSkge1xuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgfVxuICAgICAgdmFyIGluZGV4ID0gLTEsXG4gICAgICAgICAgaW5kZXhlcyA9IFtdLFxuICAgICAgICAgIGxlbmd0aCA9IGFycmF5Lmxlbmd0aDtcblxuICAgICAgcHJlZGljYXRlID0gZ2V0SXRlcmF0ZWUocHJlZGljYXRlLCAzKTtcbiAgICAgIHdoaWxlICgrK2luZGV4IDwgbGVuZ3RoKSB7XG4gICAgICAgIHZhciB2YWx1ZSA9IGFycmF5W2luZGV4XTtcbiAgICAgICAgaWYgKHByZWRpY2F0ZSh2YWx1ZSwgaW5kZXgsIGFycmF5KSkge1xuICAgICAgICAgIHJlc3VsdC5wdXNoKHZhbHVlKTtcbiAgICAgICAgICBpbmRleGVzLnB1c2goaW5kZXgpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBiYXNlUHVsbEF0KGFycmF5LCBpbmRleGVzKTtcbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmV2ZXJzZXMgYGFycmF5YCBzbyB0aGF0IHRoZSBmaXJzdCBlbGVtZW50IGJlY29tZXMgdGhlIGxhc3QsIHRoZSBzZWNvbmRcbiAgICAgKiBlbGVtZW50IGJlY29tZXMgdGhlIHNlY29uZCB0byBsYXN0LCBhbmQgc28gb24uXG4gICAgICpcbiAgICAgKiAqKk5vdGU6KiogVGhpcyBtZXRob2QgbXV0YXRlcyBgYXJyYXlgIGFuZCBpcyBiYXNlZCBvblxuICAgICAqIFtgQXJyYXkjcmV2ZXJzZWBdKGh0dHBzOi8vbWRuLmlvL0FycmF5L3JldmVyc2UpLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IEFycmF5XG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIG1vZGlmeS5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgYGFycmF5YC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIGFycmF5ID0gWzEsIDIsIDNdO1xuICAgICAqXG4gICAgICogXy5yZXZlcnNlKGFycmF5KTtcbiAgICAgKiAvLyA9PiBbMywgMiwgMV1cbiAgICAgKlxuICAgICAqIGNvbnNvbGUubG9nKGFycmF5KTtcbiAgICAgKiAvLyA9PiBbMywgMiwgMV1cbiAgICAgKi9cbiAgICBmdW5jdGlvbiByZXZlcnNlKGFycmF5KSB7XG4gICAgICByZXR1cm4gYXJyYXkgPT0gbnVsbCA/IGFycmF5IDogbmF0aXZlUmV2ZXJzZS5jYWxsKGFycmF5KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgc2xpY2Ugb2YgYGFycmF5YCBmcm9tIGBzdGFydGAgdXAgdG8sIGJ1dCBub3QgaW5jbHVkaW5nLCBgZW5kYC5cbiAgICAgKlxuICAgICAqICoqTm90ZToqKiBUaGlzIG1ldGhvZCBpcyB1c2VkIGluc3RlYWQgb2ZcbiAgICAgKiBbYEFycmF5I3NsaWNlYF0oaHR0cHM6Ly9tZG4uaW8vQXJyYXkvc2xpY2UpIHRvIGVuc3VyZSBkZW5zZSBhcnJheXMgYXJlXG4gICAgICogcmV0dXJuZWQuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMy4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgQXJyYXlcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gc2xpY2UuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtzdGFydD0wXSBUaGUgc3RhcnQgcG9zaXRpb24uXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtlbmQ9YXJyYXkubGVuZ3RoXSBUaGUgZW5kIHBvc2l0aW9uLlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgc2xpY2Ugb2YgYGFycmF5YC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBzbGljZShhcnJheSwgc3RhcnQsIGVuZCkge1xuICAgICAgdmFyIGxlbmd0aCA9IGFycmF5ID09IG51bGwgPyAwIDogYXJyYXkubGVuZ3RoO1xuICAgICAgaWYgKCFsZW5ndGgpIHtcbiAgICAgICAgcmV0dXJuIFtdO1xuICAgICAgfVxuICAgICAgaWYgKGVuZCAmJiB0eXBlb2YgZW5kICE9ICdudW1iZXInICYmIGlzSXRlcmF0ZWVDYWxsKGFycmF5LCBzdGFydCwgZW5kKSkge1xuICAgICAgICBzdGFydCA9IDA7XG4gICAgICAgIGVuZCA9IGxlbmd0aDtcbiAgICAgIH1cbiAgICAgIGVsc2Uge1xuICAgICAgICBzdGFydCA9IHN0YXJ0ID09IG51bGwgPyAwIDogdG9JbnRlZ2VyKHN0YXJ0KTtcbiAgICAgICAgZW5kID0gZW5kID09PSB1bmRlZmluZWQgPyBsZW5ndGggOiB0b0ludGVnZXIoZW5kKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBiYXNlU2xpY2UoYXJyYXksIHN0YXJ0LCBlbmQpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFVzZXMgYSBiaW5hcnkgc2VhcmNoIHRvIGRldGVybWluZSB0aGUgbG93ZXN0IGluZGV4IGF0IHdoaWNoIGB2YWx1ZWBcbiAgICAgKiBzaG91bGQgYmUgaW5zZXJ0ZWQgaW50byBgYXJyYXlgIGluIG9yZGVyIHRvIG1haW50YWluIGl0cyBzb3J0IG9yZGVyLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDAuMS4wXG4gICAgICogQGNhdGVnb3J5IEFycmF5XG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIHNvcnRlZCBhcnJheSB0byBpbnNwZWN0LlxuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGV2YWx1YXRlLlxuICAgICAqIEByZXR1cm5zIHtudW1iZXJ9IFJldHVybnMgdGhlIGluZGV4IGF0IHdoaWNoIGB2YWx1ZWAgc2hvdWxkIGJlIGluc2VydGVkXG4gICAgICogIGludG8gYGFycmF5YC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5zb3J0ZWRJbmRleChbMzAsIDUwXSwgNDApO1xuICAgICAqIC8vID0+IDFcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBzb3J0ZWRJbmRleChhcnJheSwgdmFsdWUpIHtcbiAgICAgIHJldHVybiBiYXNlU29ydGVkSW5kZXgoYXJyYXksIHZhbHVlKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCBpcyBsaWtlIGBfLnNvcnRlZEluZGV4YCBleGNlcHQgdGhhdCBpdCBhY2NlcHRzIGBpdGVyYXRlZWBcbiAgICAgKiB3aGljaCBpcyBpbnZva2VkIGZvciBgdmFsdWVgIGFuZCBlYWNoIGVsZW1lbnQgb2YgYGFycmF5YCB0byBjb21wdXRlIHRoZWlyXG4gICAgICogc29ydCByYW5raW5nLiBUaGUgaXRlcmF0ZWUgaXMgaW52b2tlZCB3aXRoIG9uZSBhcmd1bWVudDogKHZhbHVlKS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBBcnJheVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBzb3J0ZWQgYXJyYXkgdG8gaW5zcGVjdC5cbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBldmFsdWF0ZS5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbaXRlcmF0ZWU9Xy5pZGVudGl0eV0gVGhlIGl0ZXJhdGVlIGludm9rZWQgcGVyIGVsZW1lbnQuXG4gICAgICogQHJldHVybnMge251bWJlcn0gUmV0dXJucyB0aGUgaW5kZXggYXQgd2hpY2ggYHZhbHVlYCBzaG91bGQgYmUgaW5zZXJ0ZWRcbiAgICAgKiAgaW50byBgYXJyYXlgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgb2JqZWN0cyA9IFt7ICd4JzogNCB9LCB7ICd4JzogNSB9XTtcbiAgICAgKlxuICAgICAqIF8uc29ydGVkSW5kZXhCeShvYmplY3RzLCB7ICd4JzogNCB9LCBmdW5jdGlvbihvKSB7IHJldHVybiBvLng7IH0pO1xuICAgICAqIC8vID0+IDBcbiAgICAgKlxuICAgICAqIC8vIFRoZSBgXy5wcm9wZXJ0eWAgaXRlcmF0ZWUgc2hvcnRoYW5kLlxuICAgICAqIF8uc29ydGVkSW5kZXhCeShvYmplY3RzLCB7ICd4JzogNCB9LCAneCcpO1xuICAgICAqIC8vID0+IDBcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBzb3J0ZWRJbmRleEJ5KGFycmF5LCB2YWx1ZSwgaXRlcmF0ZWUpIHtcbiAgICAgIHJldHVybiBiYXNlU29ydGVkSW5kZXhCeShhcnJheSwgdmFsdWUsIGdldEl0ZXJhdGVlKGl0ZXJhdGVlLCAyKSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgaXMgbGlrZSBgXy5pbmRleE9mYCBleGNlcHQgdGhhdCBpdCBwZXJmb3JtcyBhIGJpbmFyeVxuICAgICAqIHNlYXJjaCBvbiBhIHNvcnRlZCBgYXJyYXlgLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IEFycmF5XG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIGluc3BlY3QuXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gc2VhcmNoIGZvci5cbiAgICAgKiBAcmV0dXJucyB7bnVtYmVyfSBSZXR1cm5zIHRoZSBpbmRleCBvZiB0aGUgbWF0Y2hlZCB2YWx1ZSwgZWxzZSBgLTFgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLnNvcnRlZEluZGV4T2YoWzQsIDUsIDUsIDUsIDZdLCA1KTtcbiAgICAgKiAvLyA9PiAxXG4gICAgICovXG4gICAgZnVuY3Rpb24gc29ydGVkSW5kZXhPZihhcnJheSwgdmFsdWUpIHtcbiAgICAgIHZhciBsZW5ndGggPSBhcnJheSA9PSBudWxsID8gMCA6IGFycmF5Lmxlbmd0aDtcbiAgICAgIGlmIChsZW5ndGgpIHtcbiAgICAgICAgdmFyIGluZGV4ID0gYmFzZVNvcnRlZEluZGV4KGFycmF5LCB2YWx1ZSk7XG4gICAgICAgIGlmIChpbmRleCA8IGxlbmd0aCAmJiBlcShhcnJheVtpbmRleF0sIHZhbHVlKSkge1xuICAgICAgICAgIHJldHVybiBpbmRleDtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIC0xO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIGlzIGxpa2UgYF8uc29ydGVkSW5kZXhgIGV4Y2VwdCB0aGF0IGl0IHJldHVybnMgdGhlIGhpZ2hlc3RcbiAgICAgKiBpbmRleCBhdCB3aGljaCBgdmFsdWVgIHNob3VsZCBiZSBpbnNlcnRlZCBpbnRvIGBhcnJheWAgaW4gb3JkZXIgdG9cbiAgICAgKiBtYWludGFpbiBpdHMgc29ydCBvcmRlci5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAzLjAuMFxuICAgICAqIEBjYXRlZ29yeSBBcnJheVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBzb3J0ZWQgYXJyYXkgdG8gaW5zcGVjdC5cbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBldmFsdWF0ZS5cbiAgICAgKiBAcmV0dXJucyB7bnVtYmVyfSBSZXR1cm5zIHRoZSBpbmRleCBhdCB3aGljaCBgdmFsdWVgIHNob3VsZCBiZSBpbnNlcnRlZFxuICAgICAqICBpbnRvIGBhcnJheWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uc29ydGVkTGFzdEluZGV4KFs0LCA1LCA1LCA1LCA2XSwgNSk7XG4gICAgICogLy8gPT4gNFxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHNvcnRlZExhc3RJbmRleChhcnJheSwgdmFsdWUpIHtcbiAgICAgIHJldHVybiBiYXNlU29ydGVkSW5kZXgoYXJyYXksIHZhbHVlLCB0cnVlKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCBpcyBsaWtlIGBfLnNvcnRlZExhc3RJbmRleGAgZXhjZXB0IHRoYXQgaXQgYWNjZXB0cyBgaXRlcmF0ZWVgXG4gICAgICogd2hpY2ggaXMgaW52b2tlZCBmb3IgYHZhbHVlYCBhbmQgZWFjaCBlbGVtZW50IG9mIGBhcnJheWAgdG8gY29tcHV0ZSB0aGVpclxuICAgICAqIHNvcnQgcmFua2luZy4gVGhlIGl0ZXJhdGVlIGlzIGludm9rZWQgd2l0aCBvbmUgYXJndW1lbnQ6ICh2YWx1ZSkuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgQXJyYXlcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgc29ydGVkIGFycmF5IHRvIGluc3BlY3QuXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gZXZhbHVhdGUuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2l0ZXJhdGVlPV8uaWRlbnRpdHldIFRoZSBpdGVyYXRlZSBpbnZva2VkIHBlciBlbGVtZW50LlxuICAgICAqIEByZXR1cm5zIHtudW1iZXJ9IFJldHVybnMgdGhlIGluZGV4IGF0IHdoaWNoIGB2YWx1ZWAgc2hvdWxkIGJlIGluc2VydGVkXG4gICAgICogIGludG8gYGFycmF5YC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIG9iamVjdHMgPSBbeyAneCc6IDQgfSwgeyAneCc6IDUgfV07XG4gICAgICpcbiAgICAgKiBfLnNvcnRlZExhc3RJbmRleEJ5KG9iamVjdHMsIHsgJ3gnOiA0IH0sIGZ1bmN0aW9uKG8pIHsgcmV0dXJuIG8ueDsgfSk7XG4gICAgICogLy8gPT4gMVxuICAgICAqXG4gICAgICogLy8gVGhlIGBfLnByb3BlcnR5YCBpdGVyYXRlZSBzaG9ydGhhbmQuXG4gICAgICogXy5zb3J0ZWRMYXN0SW5kZXhCeShvYmplY3RzLCB7ICd4JzogNCB9LCAneCcpO1xuICAgICAqIC8vID0+IDFcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBzb3J0ZWRMYXN0SW5kZXhCeShhcnJheSwgdmFsdWUsIGl0ZXJhdGVlKSB7XG4gICAgICByZXR1cm4gYmFzZVNvcnRlZEluZGV4QnkoYXJyYXksIHZhbHVlLCBnZXRJdGVyYXRlZShpdGVyYXRlZSwgMiksIHRydWUpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIGlzIGxpa2UgYF8ubGFzdEluZGV4T2ZgIGV4Y2VwdCB0aGF0IGl0IHBlcmZvcm1zIGEgYmluYXJ5XG4gICAgICogc2VhcmNoIG9uIGEgc29ydGVkIGBhcnJheWAuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgQXJyYXlcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gaW5zcGVjdC5cbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBzZWFyY2ggZm9yLlxuICAgICAqIEByZXR1cm5zIHtudW1iZXJ9IFJldHVybnMgdGhlIGluZGV4IG9mIHRoZSBtYXRjaGVkIHZhbHVlLCBlbHNlIGAtMWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uc29ydGVkTGFzdEluZGV4T2YoWzQsIDUsIDUsIDUsIDZdLCA1KTtcbiAgICAgKiAvLyA9PiAzXG4gICAgICovXG4gICAgZnVuY3Rpb24gc29ydGVkTGFzdEluZGV4T2YoYXJyYXksIHZhbHVlKSB7XG4gICAgICB2YXIgbGVuZ3RoID0gYXJyYXkgPT0gbnVsbCA/IDAgOiBhcnJheS5sZW5ndGg7XG4gICAgICBpZiAobGVuZ3RoKSB7XG4gICAgICAgIHZhciBpbmRleCA9IGJhc2VTb3J0ZWRJbmRleChhcnJheSwgdmFsdWUsIHRydWUpIC0gMTtcbiAgICAgICAgaWYgKGVxKGFycmF5W2luZGV4XSwgdmFsdWUpKSB7XG4gICAgICAgICAgcmV0dXJuIGluZGV4O1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gLTE7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgaXMgbGlrZSBgXy51bmlxYCBleGNlcHQgdGhhdCBpdCdzIGRlc2lnbmVkIGFuZCBvcHRpbWl6ZWRcbiAgICAgKiBmb3Igc29ydGVkIGFycmF5cy5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBBcnJheVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBpbnNwZWN0LlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgbmV3IGR1cGxpY2F0ZSBmcmVlIGFycmF5LlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLnNvcnRlZFVuaXEoWzEsIDEsIDJdKTtcbiAgICAgKiAvLyA9PiBbMSwgMl1cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBzb3J0ZWRVbmlxKGFycmF5KSB7XG4gICAgICByZXR1cm4gKGFycmF5ICYmIGFycmF5Lmxlbmd0aClcbiAgICAgICAgPyBiYXNlU29ydGVkVW5pcShhcnJheSlcbiAgICAgICAgOiBbXTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCBpcyBsaWtlIGBfLnVuaXFCeWAgZXhjZXB0IHRoYXQgaXQncyBkZXNpZ25lZCBhbmQgb3B0aW1pemVkXG4gICAgICogZm9yIHNvcnRlZCBhcnJheXMuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgQXJyYXlcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gaW5zcGVjdC5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbaXRlcmF0ZWVdIFRoZSBpdGVyYXRlZSBpbnZva2VkIHBlciBlbGVtZW50LlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgbmV3IGR1cGxpY2F0ZSBmcmVlIGFycmF5LlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLnNvcnRlZFVuaXFCeShbMS4xLCAxLjIsIDIuMywgMi40XSwgTWF0aC5mbG9vcik7XG4gICAgICogLy8gPT4gWzEuMSwgMi4zXVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHNvcnRlZFVuaXFCeShhcnJheSwgaXRlcmF0ZWUpIHtcbiAgICAgIHJldHVybiAoYXJyYXkgJiYgYXJyYXkubGVuZ3RoKVxuICAgICAgICA/IGJhc2VTb3J0ZWRVbmlxKGFycmF5LCBnZXRJdGVyYXRlZShpdGVyYXRlZSwgMikpXG4gICAgICAgIDogW107XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogR2V0cyBhbGwgYnV0IHRoZSBmaXJzdCBlbGVtZW50IG9mIGBhcnJheWAuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgQXJyYXlcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gcXVlcnkuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBzbGljZSBvZiBgYXJyYXlgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLnRhaWwoWzEsIDIsIDNdKTtcbiAgICAgKiAvLyA9PiBbMiwgM11cbiAgICAgKi9cbiAgICBmdW5jdGlvbiB0YWlsKGFycmF5KSB7XG4gICAgICB2YXIgbGVuZ3RoID0gYXJyYXkgPT0gbnVsbCA/IDAgOiBhcnJheS5sZW5ndGg7XG4gICAgICByZXR1cm4gbGVuZ3RoID8gYmFzZVNsaWNlKGFycmF5LCAxLCBsZW5ndGgpIDogW107XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIHNsaWNlIG9mIGBhcnJheWAgd2l0aCBgbmAgZWxlbWVudHMgdGFrZW4gZnJvbSB0aGUgYmVnaW5uaW5nLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDAuMS4wXG4gICAgICogQGNhdGVnb3J5IEFycmF5XG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIHF1ZXJ5LlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbbj0xXSBUaGUgbnVtYmVyIG9mIGVsZW1lbnRzIHRvIHRha2UuXG4gICAgICogQHBhcmFtLSB7T2JqZWN0fSBbZ3VhcmRdIEVuYWJsZXMgdXNlIGFzIGFuIGl0ZXJhdGVlIGZvciBtZXRob2RzIGxpa2UgYF8ubWFwYC5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIHNsaWNlIG9mIGBhcnJheWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8udGFrZShbMSwgMiwgM10pO1xuICAgICAqIC8vID0+IFsxXVxuICAgICAqXG4gICAgICogXy50YWtlKFsxLCAyLCAzXSwgMik7XG4gICAgICogLy8gPT4gWzEsIDJdXG4gICAgICpcbiAgICAgKiBfLnRha2UoWzEsIDIsIDNdLCA1KTtcbiAgICAgKiAvLyA9PiBbMSwgMiwgM11cbiAgICAgKlxuICAgICAqIF8udGFrZShbMSwgMiwgM10sIDApO1xuICAgICAqIC8vID0+IFtdXG4gICAgICovXG4gICAgZnVuY3Rpb24gdGFrZShhcnJheSwgbiwgZ3VhcmQpIHtcbiAgICAgIGlmICghKGFycmF5ICYmIGFycmF5Lmxlbmd0aCkpIHtcbiAgICAgICAgcmV0dXJuIFtdO1xuICAgICAgfVxuICAgICAgbiA9IChndWFyZCB8fCBuID09PSB1bmRlZmluZWQpID8gMSA6IHRvSW50ZWdlcihuKTtcbiAgICAgIHJldHVybiBiYXNlU2xpY2UoYXJyYXksIDAsIG4gPCAwID8gMCA6IG4pO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBzbGljZSBvZiBgYXJyYXlgIHdpdGggYG5gIGVsZW1lbnRzIHRha2VuIGZyb20gdGhlIGVuZC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAzLjAuMFxuICAgICAqIEBjYXRlZ29yeSBBcnJheVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBxdWVyeS5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW249MV0gVGhlIG51bWJlciBvZiBlbGVtZW50cyB0byB0YWtlLlxuICAgICAqIEBwYXJhbS0ge09iamVjdH0gW2d1YXJkXSBFbmFibGVzIHVzZSBhcyBhbiBpdGVyYXRlZSBmb3IgbWV0aG9kcyBsaWtlIGBfLm1hcGAuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBzbGljZSBvZiBgYXJyYXlgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLnRha2VSaWdodChbMSwgMiwgM10pO1xuICAgICAqIC8vID0+IFszXVxuICAgICAqXG4gICAgICogXy50YWtlUmlnaHQoWzEsIDIsIDNdLCAyKTtcbiAgICAgKiAvLyA9PiBbMiwgM11cbiAgICAgKlxuICAgICAqIF8udGFrZVJpZ2h0KFsxLCAyLCAzXSwgNSk7XG4gICAgICogLy8gPT4gWzEsIDIsIDNdXG4gICAgICpcbiAgICAgKiBfLnRha2VSaWdodChbMSwgMiwgM10sIDApO1xuICAgICAqIC8vID0+IFtdXG4gICAgICovXG4gICAgZnVuY3Rpb24gdGFrZVJpZ2h0KGFycmF5LCBuLCBndWFyZCkge1xuICAgICAgdmFyIGxlbmd0aCA9IGFycmF5ID09IG51bGwgPyAwIDogYXJyYXkubGVuZ3RoO1xuICAgICAgaWYgKCFsZW5ndGgpIHtcbiAgICAgICAgcmV0dXJuIFtdO1xuICAgICAgfVxuICAgICAgbiA9IChndWFyZCB8fCBuID09PSB1bmRlZmluZWQpID8gMSA6IHRvSW50ZWdlcihuKTtcbiAgICAgIG4gPSBsZW5ndGggLSBuO1xuICAgICAgcmV0dXJuIGJhc2VTbGljZShhcnJheSwgbiA8IDAgPyAwIDogbiwgbGVuZ3RoKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgc2xpY2Ugb2YgYGFycmF5YCB3aXRoIGVsZW1lbnRzIHRha2VuIGZyb20gdGhlIGVuZC4gRWxlbWVudHMgYXJlXG4gICAgICogdGFrZW4gdW50aWwgYHByZWRpY2F0ZWAgcmV0dXJucyBmYWxzZXkuIFRoZSBwcmVkaWNhdGUgaXMgaW52b2tlZCB3aXRoXG4gICAgICogdGhyZWUgYXJndW1lbnRzOiAodmFsdWUsIGluZGV4LCBhcnJheSkuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMy4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgQXJyYXlcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gcXVlcnkuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW3ByZWRpY2F0ZT1fLmlkZW50aXR5XSBUaGUgZnVuY3Rpb24gaW52b2tlZCBwZXIgaXRlcmF0aW9uLlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgc2xpY2Ugb2YgYGFycmF5YC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIHVzZXJzID0gW1xuICAgICAqICAgeyAndXNlcic6ICdiYXJuZXknLCAgJ2FjdGl2ZSc6IHRydWUgfSxcbiAgICAgKiAgIHsgJ3VzZXInOiAnZnJlZCcsICAgICdhY3RpdmUnOiBmYWxzZSB9LFxuICAgICAqICAgeyAndXNlcic6ICdwZWJibGVzJywgJ2FjdGl2ZSc6IGZhbHNlIH1cbiAgICAgKiBdO1xuICAgICAqXG4gICAgICogXy50YWtlUmlnaHRXaGlsZSh1c2VycywgZnVuY3Rpb24obykgeyByZXR1cm4gIW8uYWN0aXZlOyB9KTtcbiAgICAgKiAvLyA9PiBvYmplY3RzIGZvciBbJ2ZyZWQnLCAncGViYmxlcyddXG4gICAgICpcbiAgICAgKiAvLyBUaGUgYF8ubWF0Y2hlc2AgaXRlcmF0ZWUgc2hvcnRoYW5kLlxuICAgICAqIF8udGFrZVJpZ2h0V2hpbGUodXNlcnMsIHsgJ3VzZXInOiAncGViYmxlcycsICdhY3RpdmUnOiBmYWxzZSB9KTtcbiAgICAgKiAvLyA9PiBvYmplY3RzIGZvciBbJ3BlYmJsZXMnXVxuICAgICAqXG4gICAgICogLy8gVGhlIGBfLm1hdGNoZXNQcm9wZXJ0eWAgaXRlcmF0ZWUgc2hvcnRoYW5kLlxuICAgICAqIF8udGFrZVJpZ2h0V2hpbGUodXNlcnMsIFsnYWN0aXZlJywgZmFsc2VdKTtcbiAgICAgKiAvLyA9PiBvYmplY3RzIGZvciBbJ2ZyZWQnLCAncGViYmxlcyddXG4gICAgICpcbiAgICAgKiAvLyBUaGUgYF8ucHJvcGVydHlgIGl0ZXJhdGVlIHNob3J0aGFuZC5cbiAgICAgKiBfLnRha2VSaWdodFdoaWxlKHVzZXJzLCAnYWN0aXZlJyk7XG4gICAgICogLy8gPT4gW11cbiAgICAgKi9cbiAgICBmdW5jdGlvbiB0YWtlUmlnaHRXaGlsZShhcnJheSwgcHJlZGljYXRlKSB7XG4gICAgICByZXR1cm4gKGFycmF5ICYmIGFycmF5Lmxlbmd0aClcbiAgICAgICAgPyBiYXNlV2hpbGUoYXJyYXksIGdldEl0ZXJhdGVlKHByZWRpY2F0ZSwgMyksIGZhbHNlLCB0cnVlKVxuICAgICAgICA6IFtdO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBzbGljZSBvZiBgYXJyYXlgIHdpdGggZWxlbWVudHMgdGFrZW4gZnJvbSB0aGUgYmVnaW5uaW5nLiBFbGVtZW50c1xuICAgICAqIGFyZSB0YWtlbiB1bnRpbCBgcHJlZGljYXRlYCByZXR1cm5zIGZhbHNleS4gVGhlIHByZWRpY2F0ZSBpcyBpbnZva2VkIHdpdGhcbiAgICAgKiB0aHJlZSBhcmd1bWVudHM6ICh2YWx1ZSwgaW5kZXgsIGFycmF5KS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAzLjAuMFxuICAgICAqIEBjYXRlZ29yeSBBcnJheVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBxdWVyeS5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbcHJlZGljYXRlPV8uaWRlbnRpdHldIFRoZSBmdW5jdGlvbiBpbnZva2VkIHBlciBpdGVyYXRpb24uXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBzbGljZSBvZiBgYXJyYXlgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgdXNlcnMgPSBbXG4gICAgICogICB7ICd1c2VyJzogJ2Jhcm5leScsICAnYWN0aXZlJzogZmFsc2UgfSxcbiAgICAgKiAgIHsgJ3VzZXInOiAnZnJlZCcsICAgICdhY3RpdmUnOiBmYWxzZSB9LFxuICAgICAqICAgeyAndXNlcic6ICdwZWJibGVzJywgJ2FjdGl2ZSc6IHRydWUgfVxuICAgICAqIF07XG4gICAgICpcbiAgICAgKiBfLnRha2VXaGlsZSh1c2VycywgZnVuY3Rpb24obykgeyByZXR1cm4gIW8uYWN0aXZlOyB9KTtcbiAgICAgKiAvLyA9PiBvYmplY3RzIGZvciBbJ2Jhcm5leScsICdmcmVkJ11cbiAgICAgKlxuICAgICAqIC8vIFRoZSBgXy5tYXRjaGVzYCBpdGVyYXRlZSBzaG9ydGhhbmQuXG4gICAgICogXy50YWtlV2hpbGUodXNlcnMsIHsgJ3VzZXInOiAnYmFybmV5JywgJ2FjdGl2ZSc6IGZhbHNlIH0pO1xuICAgICAqIC8vID0+IG9iamVjdHMgZm9yIFsnYmFybmV5J11cbiAgICAgKlxuICAgICAqIC8vIFRoZSBgXy5tYXRjaGVzUHJvcGVydHlgIGl0ZXJhdGVlIHNob3J0aGFuZC5cbiAgICAgKiBfLnRha2VXaGlsZSh1c2VycywgWydhY3RpdmUnLCBmYWxzZV0pO1xuICAgICAqIC8vID0+IG9iamVjdHMgZm9yIFsnYmFybmV5JywgJ2ZyZWQnXVxuICAgICAqXG4gICAgICogLy8gVGhlIGBfLnByb3BlcnR5YCBpdGVyYXRlZSBzaG9ydGhhbmQuXG4gICAgICogXy50YWtlV2hpbGUodXNlcnMsICdhY3RpdmUnKTtcbiAgICAgKiAvLyA9PiBbXVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHRha2VXaGlsZShhcnJheSwgcHJlZGljYXRlKSB7XG4gICAgICByZXR1cm4gKGFycmF5ICYmIGFycmF5Lmxlbmd0aClcbiAgICAgICAgPyBiYXNlV2hpbGUoYXJyYXksIGdldEl0ZXJhdGVlKHByZWRpY2F0ZSwgMykpXG4gICAgICAgIDogW107XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhbiBhcnJheSBvZiB1bmlxdWUgdmFsdWVzLCBpbiBvcmRlciwgZnJvbSBhbGwgZ2l2ZW4gYXJyYXlzIHVzaW5nXG4gICAgICogW2BTYW1lVmFsdWVaZXJvYF0oaHR0cDovL2VjbWEtaW50ZXJuYXRpb25hbC5vcmcvZWNtYS0yNjIvNy4wLyNzZWMtc2FtZXZhbHVlemVybylcbiAgICAgKiBmb3IgZXF1YWxpdHkgY29tcGFyaXNvbnMuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMC4xLjBcbiAgICAgKiBAY2F0ZWdvcnkgQXJyYXlcbiAgICAgKiBAcGFyYW0gey4uLkFycmF5fSBbYXJyYXlzXSBUaGUgYXJyYXlzIHRvIGluc3BlY3QuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBuZXcgYXJyYXkgb2YgY29tYmluZWQgdmFsdWVzLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLnVuaW9uKFsyXSwgWzEsIDJdKTtcbiAgICAgKiAvLyA9PiBbMiwgMV1cbiAgICAgKi9cbiAgICB2YXIgdW5pb24gPSBiYXNlUmVzdChmdW5jdGlvbihhcnJheXMpIHtcbiAgICAgIHJldHVybiBiYXNlVW5pcShiYXNlRmxhdHRlbihhcnJheXMsIDEsIGlzQXJyYXlMaWtlT2JqZWN0LCB0cnVlKSk7XG4gICAgfSk7XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCBpcyBsaWtlIGBfLnVuaW9uYCBleGNlcHQgdGhhdCBpdCBhY2NlcHRzIGBpdGVyYXRlZWAgd2hpY2ggaXNcbiAgICAgKiBpbnZva2VkIGZvciBlYWNoIGVsZW1lbnQgb2YgZWFjaCBgYXJyYXlzYCB0byBnZW5lcmF0ZSB0aGUgY3JpdGVyaW9uIGJ5XG4gICAgICogd2hpY2ggdW5pcXVlbmVzcyBpcyBjb21wdXRlZC4gUmVzdWx0IHZhbHVlcyBhcmUgY2hvc2VuIGZyb20gdGhlIGZpcnN0XG4gICAgICogYXJyYXkgaW4gd2hpY2ggdGhlIHZhbHVlIG9jY3Vycy4gVGhlIGl0ZXJhdGVlIGlzIGludm9rZWQgd2l0aCBvbmUgYXJndW1lbnQ6XG4gICAgICogKHZhbHVlKS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBBcnJheVxuICAgICAqIEBwYXJhbSB7Li4uQXJyYXl9IFthcnJheXNdIFRoZSBhcnJheXMgdG8gaW5zcGVjdC5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbaXRlcmF0ZWU9Xy5pZGVudGl0eV0gVGhlIGl0ZXJhdGVlIGludm9rZWQgcGVyIGVsZW1lbnQuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBuZXcgYXJyYXkgb2YgY29tYmluZWQgdmFsdWVzLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLnVuaW9uQnkoWzIuMV0sIFsxLjIsIDIuM10sIE1hdGguZmxvb3IpO1xuICAgICAqIC8vID0+IFsyLjEsIDEuMl1cbiAgICAgKlxuICAgICAqIC8vIFRoZSBgXy5wcm9wZXJ0eWAgaXRlcmF0ZWUgc2hvcnRoYW5kLlxuICAgICAqIF8udW5pb25CeShbeyAneCc6IDEgfV0sIFt7ICd4JzogMiB9LCB7ICd4JzogMSB9XSwgJ3gnKTtcbiAgICAgKiAvLyA9PiBbeyAneCc6IDEgfSwgeyAneCc6IDIgfV1cbiAgICAgKi9cbiAgICB2YXIgdW5pb25CeSA9IGJhc2VSZXN0KGZ1bmN0aW9uKGFycmF5cykge1xuICAgICAgdmFyIGl0ZXJhdGVlID0gbGFzdChhcnJheXMpO1xuICAgICAgaWYgKGlzQXJyYXlMaWtlT2JqZWN0KGl0ZXJhdGVlKSkge1xuICAgICAgICBpdGVyYXRlZSA9IHVuZGVmaW5lZDtcbiAgICAgIH1cbiAgICAgIHJldHVybiBiYXNlVW5pcShiYXNlRmxhdHRlbihhcnJheXMsIDEsIGlzQXJyYXlMaWtlT2JqZWN0LCB0cnVlKSwgZ2V0SXRlcmF0ZWUoaXRlcmF0ZWUsIDIpKTtcbiAgICB9KTtcblxuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIGlzIGxpa2UgYF8udW5pb25gIGV4Y2VwdCB0aGF0IGl0IGFjY2VwdHMgYGNvbXBhcmF0b3JgIHdoaWNoXG4gICAgICogaXMgaW52b2tlZCB0byBjb21wYXJlIGVsZW1lbnRzIG9mIGBhcnJheXNgLiBSZXN1bHQgdmFsdWVzIGFyZSBjaG9zZW4gZnJvbVxuICAgICAqIHRoZSBmaXJzdCBhcnJheSBpbiB3aGljaCB0aGUgdmFsdWUgb2NjdXJzLiBUaGUgY29tcGFyYXRvciBpcyBpbnZva2VkXG4gICAgICogd2l0aCB0d28gYXJndW1lbnRzOiAoYXJyVmFsLCBvdGhWYWwpLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IEFycmF5XG4gICAgICogQHBhcmFtIHsuLi5BcnJheX0gW2FycmF5c10gVGhlIGFycmF5cyB0byBpbnNwZWN0LlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtjb21wYXJhdG9yXSBUaGUgY29tcGFyYXRvciBpbnZva2VkIHBlciBlbGVtZW50LlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgbmV3IGFycmF5IG9mIGNvbWJpbmVkIHZhbHVlcy5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIG9iamVjdHMgPSBbeyAneCc6IDEsICd5JzogMiB9LCB7ICd4JzogMiwgJ3knOiAxIH1dO1xuICAgICAqIHZhciBvdGhlcnMgPSBbeyAneCc6IDEsICd5JzogMSB9LCB7ICd4JzogMSwgJ3knOiAyIH1dO1xuICAgICAqXG4gICAgICogXy51bmlvbldpdGgob2JqZWN0cywgb3RoZXJzLCBfLmlzRXF1YWwpO1xuICAgICAqIC8vID0+IFt7ICd4JzogMSwgJ3knOiAyIH0sIHsgJ3gnOiAyLCAneSc6IDEgfSwgeyAneCc6IDEsICd5JzogMSB9XVxuICAgICAqL1xuICAgIHZhciB1bmlvbldpdGggPSBiYXNlUmVzdChmdW5jdGlvbihhcnJheXMpIHtcbiAgICAgIHZhciBjb21wYXJhdG9yID0gbGFzdChhcnJheXMpO1xuICAgICAgY29tcGFyYXRvciA9IHR5cGVvZiBjb21wYXJhdG9yID09ICdmdW5jdGlvbicgPyBjb21wYXJhdG9yIDogdW5kZWZpbmVkO1xuICAgICAgcmV0dXJuIGJhc2VVbmlxKGJhc2VGbGF0dGVuKGFycmF5cywgMSwgaXNBcnJheUxpa2VPYmplY3QsIHRydWUpLCB1bmRlZmluZWQsIGNvbXBhcmF0b3IpO1xuICAgIH0pO1xuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGR1cGxpY2F0ZS1mcmVlIHZlcnNpb24gb2YgYW4gYXJyYXksIHVzaW5nXG4gICAgICogW2BTYW1lVmFsdWVaZXJvYF0oaHR0cDovL2VjbWEtaW50ZXJuYXRpb25hbC5vcmcvZWNtYS0yNjIvNy4wLyNzZWMtc2FtZXZhbHVlemVybylcbiAgICAgKiBmb3IgZXF1YWxpdHkgY29tcGFyaXNvbnMsIGluIHdoaWNoIG9ubHkgdGhlIGZpcnN0IG9jY3VycmVuY2Ugb2YgZWFjaCBlbGVtZW50XG4gICAgICogaXMga2VwdC4gVGhlIG9yZGVyIG9mIHJlc3VsdCB2YWx1ZXMgaXMgZGV0ZXJtaW5lZCBieSB0aGUgb3JkZXIgdGhleSBvY2N1clxuICAgICAqIGluIHRoZSBhcnJheS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAwLjEuMFxuICAgICAqIEBjYXRlZ29yeSBBcnJheVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBpbnNwZWN0LlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgbmV3IGR1cGxpY2F0ZSBmcmVlIGFycmF5LlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLnVuaXEoWzIsIDEsIDJdKTtcbiAgICAgKiAvLyA9PiBbMiwgMV1cbiAgICAgKi9cbiAgICBmdW5jdGlvbiB1bmlxKGFycmF5KSB7XG4gICAgICByZXR1cm4gKGFycmF5ICYmIGFycmF5Lmxlbmd0aCkgPyBiYXNlVW5pcShhcnJheSkgOiBbXTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCBpcyBsaWtlIGBfLnVuaXFgIGV4Y2VwdCB0aGF0IGl0IGFjY2VwdHMgYGl0ZXJhdGVlYCB3aGljaCBpc1xuICAgICAqIGludm9rZWQgZm9yIGVhY2ggZWxlbWVudCBpbiBgYXJyYXlgIHRvIGdlbmVyYXRlIHRoZSBjcml0ZXJpb24gYnkgd2hpY2hcbiAgICAgKiB1bmlxdWVuZXNzIGlzIGNvbXB1dGVkLiBUaGUgb3JkZXIgb2YgcmVzdWx0IHZhbHVlcyBpcyBkZXRlcm1pbmVkIGJ5IHRoZVxuICAgICAqIG9yZGVyIHRoZXkgb2NjdXIgaW4gdGhlIGFycmF5LiBUaGUgaXRlcmF0ZWUgaXMgaW52b2tlZCB3aXRoIG9uZSBhcmd1bWVudDpcbiAgICAgKiAodmFsdWUpLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IEFycmF5XG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIGluc3BlY3QuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2l0ZXJhdGVlPV8uaWRlbnRpdHldIFRoZSBpdGVyYXRlZSBpbnZva2VkIHBlciBlbGVtZW50LlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgbmV3IGR1cGxpY2F0ZSBmcmVlIGFycmF5LlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLnVuaXFCeShbMi4xLCAxLjIsIDIuM10sIE1hdGguZmxvb3IpO1xuICAgICAqIC8vID0+IFsyLjEsIDEuMl1cbiAgICAgKlxuICAgICAqIC8vIFRoZSBgXy5wcm9wZXJ0eWAgaXRlcmF0ZWUgc2hvcnRoYW5kLlxuICAgICAqIF8udW5pcUJ5KFt7ICd4JzogMSB9LCB7ICd4JzogMiB9LCB7ICd4JzogMSB9XSwgJ3gnKTtcbiAgICAgKiAvLyA9PiBbeyAneCc6IDEgfSwgeyAneCc6IDIgfV1cbiAgICAgKi9cbiAgICBmdW5jdGlvbiB1bmlxQnkoYXJyYXksIGl0ZXJhdGVlKSB7XG4gICAgICByZXR1cm4gKGFycmF5ICYmIGFycmF5Lmxlbmd0aCkgPyBiYXNlVW5pcShhcnJheSwgZ2V0SXRlcmF0ZWUoaXRlcmF0ZWUsIDIpKSA6IFtdO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIGlzIGxpa2UgYF8udW5pcWAgZXhjZXB0IHRoYXQgaXQgYWNjZXB0cyBgY29tcGFyYXRvcmAgd2hpY2hcbiAgICAgKiBpcyBpbnZva2VkIHRvIGNvbXBhcmUgZWxlbWVudHMgb2YgYGFycmF5YC4gVGhlIG9yZGVyIG9mIHJlc3VsdCB2YWx1ZXMgaXNcbiAgICAgKiBkZXRlcm1pbmVkIGJ5IHRoZSBvcmRlciB0aGV5IG9jY3VyIGluIHRoZSBhcnJheS5UaGUgY29tcGFyYXRvciBpcyBpbnZva2VkXG4gICAgICogd2l0aCB0d28gYXJndW1lbnRzOiAoYXJyVmFsLCBvdGhWYWwpLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IEFycmF5XG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIGluc3BlY3QuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2NvbXBhcmF0b3JdIFRoZSBjb21wYXJhdG9yIGludm9rZWQgcGVyIGVsZW1lbnQuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBuZXcgZHVwbGljYXRlIGZyZWUgYXJyYXkuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBvYmplY3RzID0gW3sgJ3gnOiAxLCAneSc6IDIgfSwgeyAneCc6IDIsICd5JzogMSB9LCB7ICd4JzogMSwgJ3knOiAyIH1dO1xuICAgICAqXG4gICAgICogXy51bmlxV2l0aChvYmplY3RzLCBfLmlzRXF1YWwpO1xuICAgICAqIC8vID0+IFt7ICd4JzogMSwgJ3knOiAyIH0sIHsgJ3gnOiAyLCAneSc6IDEgfV1cbiAgICAgKi9cbiAgICBmdW5jdGlvbiB1bmlxV2l0aChhcnJheSwgY29tcGFyYXRvcikge1xuICAgICAgY29tcGFyYXRvciA9IHR5cGVvZiBjb21wYXJhdG9yID09ICdmdW5jdGlvbicgPyBjb21wYXJhdG9yIDogdW5kZWZpbmVkO1xuICAgICAgcmV0dXJuIChhcnJheSAmJiBhcnJheS5sZW5ndGgpID8gYmFzZVVuaXEoYXJyYXksIHVuZGVmaW5lZCwgY29tcGFyYXRvcikgOiBbXTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCBpcyBsaWtlIGBfLnppcGAgZXhjZXB0IHRoYXQgaXQgYWNjZXB0cyBhbiBhcnJheSBvZiBncm91cGVkXG4gICAgICogZWxlbWVudHMgYW5kIGNyZWF0ZXMgYW4gYXJyYXkgcmVncm91cGluZyB0aGUgZWxlbWVudHMgdG8gdGhlaXIgcHJlLXppcFxuICAgICAqIGNvbmZpZ3VyYXRpb24uXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMS4yLjBcbiAgICAgKiBAY2F0ZWdvcnkgQXJyYXlcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgb2YgZ3JvdXBlZCBlbGVtZW50cyB0byBwcm9jZXNzLlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgbmV3IGFycmF5IG9mIHJlZ3JvdXBlZCBlbGVtZW50cy5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIHppcHBlZCA9IF8uemlwKFsnYScsICdiJ10sIFsxLCAyXSwgW3RydWUsIGZhbHNlXSk7XG4gICAgICogLy8gPT4gW1snYScsIDEsIHRydWVdLCBbJ2InLCAyLCBmYWxzZV1dXG4gICAgICpcbiAgICAgKiBfLnVuemlwKHppcHBlZCk7XG4gICAgICogLy8gPT4gW1snYScsICdiJ10sIFsxLCAyXSwgW3RydWUsIGZhbHNlXV1cbiAgICAgKi9cbiAgICBmdW5jdGlvbiB1bnppcChhcnJheSkge1xuICAgICAgaWYgKCEoYXJyYXkgJiYgYXJyYXkubGVuZ3RoKSkge1xuICAgICAgICByZXR1cm4gW107XG4gICAgICB9XG4gICAgICB2YXIgbGVuZ3RoID0gMDtcbiAgICAgIGFycmF5ID0gYXJyYXlGaWx0ZXIoYXJyYXksIGZ1bmN0aW9uKGdyb3VwKSB7XG4gICAgICAgIGlmIChpc0FycmF5TGlrZU9iamVjdChncm91cCkpIHtcbiAgICAgICAgICBsZW5ndGggPSBuYXRpdmVNYXgoZ3JvdXAubGVuZ3RoLCBsZW5ndGgpO1xuICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICAgIHJldHVybiBiYXNlVGltZXMobGVuZ3RoLCBmdW5jdGlvbihpbmRleCkge1xuICAgICAgICByZXR1cm4gYXJyYXlNYXAoYXJyYXksIGJhc2VQcm9wZXJ0eShpbmRleCkpO1xuICAgICAgfSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgaXMgbGlrZSBgXy51bnppcGAgZXhjZXB0IHRoYXQgaXQgYWNjZXB0cyBgaXRlcmF0ZWVgIHRvIHNwZWNpZnlcbiAgICAgKiBob3cgcmVncm91cGVkIHZhbHVlcyBzaG91bGQgYmUgY29tYmluZWQuIFRoZSBpdGVyYXRlZSBpcyBpbnZva2VkIHdpdGggdGhlXG4gICAgICogZWxlbWVudHMgb2YgZWFjaCBncm91cDogKC4uLmdyb3VwKS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAzLjguMFxuICAgICAqIEBjYXRlZ29yeSBBcnJheVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSBvZiBncm91cGVkIGVsZW1lbnRzIHRvIHByb2Nlc3MuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2l0ZXJhdGVlPV8uaWRlbnRpdHldIFRoZSBmdW5jdGlvbiB0byBjb21iaW5lXG4gICAgICogIHJlZ3JvdXBlZCB2YWx1ZXMuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBuZXcgYXJyYXkgb2YgcmVncm91cGVkIGVsZW1lbnRzLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgemlwcGVkID0gXy56aXAoWzEsIDJdLCBbMTAsIDIwXSwgWzEwMCwgMjAwXSk7XG4gICAgICogLy8gPT4gW1sxLCAxMCwgMTAwXSwgWzIsIDIwLCAyMDBdXVxuICAgICAqXG4gICAgICogXy51bnppcFdpdGgoemlwcGVkLCBfLmFkZCk7XG4gICAgICogLy8gPT4gWzMsIDMwLCAzMDBdXG4gICAgICovXG4gICAgZnVuY3Rpb24gdW56aXBXaXRoKGFycmF5LCBpdGVyYXRlZSkge1xuICAgICAgaWYgKCEoYXJyYXkgJiYgYXJyYXkubGVuZ3RoKSkge1xuICAgICAgICByZXR1cm4gW107XG4gICAgICB9XG4gICAgICB2YXIgcmVzdWx0ID0gdW56aXAoYXJyYXkpO1xuICAgICAgaWYgKGl0ZXJhdGVlID09IG51bGwpIHtcbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgIH1cbiAgICAgIHJldHVybiBhcnJheU1hcChyZXN1bHQsIGZ1bmN0aW9uKGdyb3VwKSB7XG4gICAgICAgIHJldHVybiBhcHBseShpdGVyYXRlZSwgdW5kZWZpbmVkLCBncm91cCk7XG4gICAgICB9KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGFuIGFycmF5IGV4Y2x1ZGluZyBhbGwgZ2l2ZW4gdmFsdWVzIHVzaW5nXG4gICAgICogW2BTYW1lVmFsdWVaZXJvYF0oaHR0cDovL2VjbWEtaW50ZXJuYXRpb25hbC5vcmcvZWNtYS0yNjIvNy4wLyNzZWMtc2FtZXZhbHVlemVybylcbiAgICAgKiBmb3IgZXF1YWxpdHkgY29tcGFyaXNvbnMuXG4gICAgICpcbiAgICAgKiAqKk5vdGU6KiogVW5saWtlIGBfLnB1bGxgLCB0aGlzIG1ldGhvZCByZXR1cm5zIGEgbmV3IGFycmF5LlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDAuMS4wXG4gICAgICogQGNhdGVnb3J5IEFycmF5XG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIGluc3BlY3QuXG4gICAgICogQHBhcmFtIHsuLi4qfSBbdmFsdWVzXSBUaGUgdmFsdWVzIHRvIGV4Y2x1ZGUuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBuZXcgYXJyYXkgb2YgZmlsdGVyZWQgdmFsdWVzLlxuICAgICAqIEBzZWUgXy5kaWZmZXJlbmNlLCBfLnhvclxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLndpdGhvdXQoWzIsIDEsIDIsIDNdLCAxLCAyKTtcbiAgICAgKiAvLyA9PiBbM11cbiAgICAgKi9cbiAgICB2YXIgd2l0aG91dCA9IGJhc2VSZXN0KGZ1bmN0aW9uKGFycmF5LCB2YWx1ZXMpIHtcbiAgICAgIHJldHVybiBpc0FycmF5TGlrZU9iamVjdChhcnJheSlcbiAgICAgICAgPyBiYXNlRGlmZmVyZW5jZShhcnJheSwgdmFsdWVzKVxuICAgICAgICA6IFtdO1xuICAgIH0pO1xuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhbiBhcnJheSBvZiB1bmlxdWUgdmFsdWVzIHRoYXQgaXMgdGhlXG4gICAgICogW3N5bW1ldHJpYyBkaWZmZXJlbmNlXShodHRwczovL2VuLndpa2lwZWRpYS5vcmcvd2lraS9TeW1tZXRyaWNfZGlmZmVyZW5jZSlcbiAgICAgKiBvZiB0aGUgZ2l2ZW4gYXJyYXlzLiBUaGUgb3JkZXIgb2YgcmVzdWx0IHZhbHVlcyBpcyBkZXRlcm1pbmVkIGJ5IHRoZSBvcmRlclxuICAgICAqIHRoZXkgb2NjdXIgaW4gdGhlIGFycmF5cy5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAyLjQuMFxuICAgICAqIEBjYXRlZ29yeSBBcnJheVxuICAgICAqIEBwYXJhbSB7Li4uQXJyYXl9IFthcnJheXNdIFRoZSBhcnJheXMgdG8gaW5zcGVjdC5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIG5ldyBhcnJheSBvZiBmaWx0ZXJlZCB2YWx1ZXMuXG4gICAgICogQHNlZSBfLmRpZmZlcmVuY2UsIF8ud2l0aG91dFxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLnhvcihbMiwgMV0sIFsyLCAzXSk7XG4gICAgICogLy8gPT4gWzEsIDNdXG4gICAgICovXG4gICAgdmFyIHhvciA9IGJhc2VSZXN0KGZ1bmN0aW9uKGFycmF5cykge1xuICAgICAgcmV0dXJuIGJhc2VYb3IoYXJyYXlGaWx0ZXIoYXJyYXlzLCBpc0FycmF5TGlrZU9iamVjdCkpO1xuICAgIH0pO1xuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgaXMgbGlrZSBgXy54b3JgIGV4Y2VwdCB0aGF0IGl0IGFjY2VwdHMgYGl0ZXJhdGVlYCB3aGljaCBpc1xuICAgICAqIGludm9rZWQgZm9yIGVhY2ggZWxlbWVudCBvZiBlYWNoIGBhcnJheXNgIHRvIGdlbmVyYXRlIHRoZSBjcml0ZXJpb24gYnlcbiAgICAgKiB3aGljaCBieSB3aGljaCB0aGV5J3JlIGNvbXBhcmVkLiBUaGUgb3JkZXIgb2YgcmVzdWx0IHZhbHVlcyBpcyBkZXRlcm1pbmVkXG4gICAgICogYnkgdGhlIG9yZGVyIHRoZXkgb2NjdXIgaW4gdGhlIGFycmF5cy4gVGhlIGl0ZXJhdGVlIGlzIGludm9rZWQgd2l0aCBvbmVcbiAgICAgKiBhcmd1bWVudDogKHZhbHVlKS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBBcnJheVxuICAgICAqIEBwYXJhbSB7Li4uQXJyYXl9IFthcnJheXNdIFRoZSBhcnJheXMgdG8gaW5zcGVjdC5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbaXRlcmF0ZWU9Xy5pZGVudGl0eV0gVGhlIGl0ZXJhdGVlIGludm9rZWQgcGVyIGVsZW1lbnQuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBuZXcgYXJyYXkgb2YgZmlsdGVyZWQgdmFsdWVzLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLnhvckJ5KFsyLjEsIDEuMl0sIFsyLjMsIDMuNF0sIE1hdGguZmxvb3IpO1xuICAgICAqIC8vID0+IFsxLjIsIDMuNF1cbiAgICAgKlxuICAgICAqIC8vIFRoZSBgXy5wcm9wZXJ0eWAgaXRlcmF0ZWUgc2hvcnRoYW5kLlxuICAgICAqIF8ueG9yQnkoW3sgJ3gnOiAxIH1dLCBbeyAneCc6IDIgfSwgeyAneCc6IDEgfV0sICd4Jyk7XG4gICAgICogLy8gPT4gW3sgJ3gnOiAyIH1dXG4gICAgICovXG4gICAgdmFyIHhvckJ5ID0gYmFzZVJlc3QoZnVuY3Rpb24oYXJyYXlzKSB7XG4gICAgICB2YXIgaXRlcmF0ZWUgPSBsYXN0KGFycmF5cyk7XG4gICAgICBpZiAoaXNBcnJheUxpa2VPYmplY3QoaXRlcmF0ZWUpKSB7XG4gICAgICAgIGl0ZXJhdGVlID0gdW5kZWZpbmVkO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGJhc2VYb3IoYXJyYXlGaWx0ZXIoYXJyYXlzLCBpc0FycmF5TGlrZU9iamVjdCksIGdldEl0ZXJhdGVlKGl0ZXJhdGVlLCAyKSk7XG4gICAgfSk7XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCBpcyBsaWtlIGBfLnhvcmAgZXhjZXB0IHRoYXQgaXQgYWNjZXB0cyBgY29tcGFyYXRvcmAgd2hpY2ggaXNcbiAgICAgKiBpbnZva2VkIHRvIGNvbXBhcmUgZWxlbWVudHMgb2YgYGFycmF5c2AuIFRoZSBvcmRlciBvZiByZXN1bHQgdmFsdWVzIGlzXG4gICAgICogZGV0ZXJtaW5lZCBieSB0aGUgb3JkZXIgdGhleSBvY2N1ciBpbiB0aGUgYXJyYXlzLiBUaGUgY29tcGFyYXRvciBpcyBpbnZva2VkXG4gICAgICogd2l0aCB0d28gYXJndW1lbnRzOiAoYXJyVmFsLCBvdGhWYWwpLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IEFycmF5XG4gICAgICogQHBhcmFtIHsuLi5BcnJheX0gW2FycmF5c10gVGhlIGFycmF5cyB0byBpbnNwZWN0LlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtjb21wYXJhdG9yXSBUaGUgY29tcGFyYXRvciBpbnZva2VkIHBlciBlbGVtZW50LlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgbmV3IGFycmF5IG9mIGZpbHRlcmVkIHZhbHVlcy5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIG9iamVjdHMgPSBbeyAneCc6IDEsICd5JzogMiB9LCB7ICd4JzogMiwgJ3knOiAxIH1dO1xuICAgICAqIHZhciBvdGhlcnMgPSBbeyAneCc6IDEsICd5JzogMSB9LCB7ICd4JzogMSwgJ3knOiAyIH1dO1xuICAgICAqXG4gICAgICogXy54b3JXaXRoKG9iamVjdHMsIG90aGVycywgXy5pc0VxdWFsKTtcbiAgICAgKiAvLyA9PiBbeyAneCc6IDIsICd5JzogMSB9LCB7ICd4JzogMSwgJ3knOiAxIH1dXG4gICAgICovXG4gICAgdmFyIHhvcldpdGggPSBiYXNlUmVzdChmdW5jdGlvbihhcnJheXMpIHtcbiAgICAgIHZhciBjb21wYXJhdG9yID0gbGFzdChhcnJheXMpO1xuICAgICAgY29tcGFyYXRvciA9IHR5cGVvZiBjb21wYXJhdG9yID09ICdmdW5jdGlvbicgPyBjb21wYXJhdG9yIDogdW5kZWZpbmVkO1xuICAgICAgcmV0dXJuIGJhc2VYb3IoYXJyYXlGaWx0ZXIoYXJyYXlzLCBpc0FycmF5TGlrZU9iamVjdCksIHVuZGVmaW5lZCwgY29tcGFyYXRvcik7XG4gICAgfSk7XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGFuIGFycmF5IG9mIGdyb3VwZWQgZWxlbWVudHMsIHRoZSBmaXJzdCBvZiB3aGljaCBjb250YWlucyB0aGVcbiAgICAgKiBmaXJzdCBlbGVtZW50cyBvZiB0aGUgZ2l2ZW4gYXJyYXlzLCB0aGUgc2Vjb25kIG9mIHdoaWNoIGNvbnRhaW5zIHRoZVxuICAgICAqIHNlY29uZCBlbGVtZW50cyBvZiB0aGUgZ2l2ZW4gYXJyYXlzLCBhbmQgc28gb24uXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMC4xLjBcbiAgICAgKiBAY2F0ZWdvcnkgQXJyYXlcbiAgICAgKiBAcGFyYW0gey4uLkFycmF5fSBbYXJyYXlzXSBUaGUgYXJyYXlzIHRvIHByb2Nlc3MuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBuZXcgYXJyYXkgb2YgZ3JvdXBlZCBlbGVtZW50cy5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy56aXAoWydhJywgJ2InXSwgWzEsIDJdLCBbdHJ1ZSwgZmFsc2VdKTtcbiAgICAgKiAvLyA9PiBbWydhJywgMSwgdHJ1ZV0sIFsnYicsIDIsIGZhbHNlXV1cbiAgICAgKi9cbiAgICB2YXIgemlwID0gYmFzZVJlc3QodW56aXApO1xuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgaXMgbGlrZSBgXy5mcm9tUGFpcnNgIGV4Y2VwdCB0aGF0IGl0IGFjY2VwdHMgdHdvIGFycmF5cyxcbiAgICAgKiBvbmUgb2YgcHJvcGVydHkgaWRlbnRpZmllcnMgYW5kIG9uZSBvZiBjb3JyZXNwb25kaW5nIHZhbHVlcy5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAwLjQuMFxuICAgICAqIEBjYXRlZ29yeSBBcnJheVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IFtwcm9wcz1bXV0gVGhlIHByb3BlcnR5IGlkZW50aWZpZXJzLlxuICAgICAqIEBwYXJhbSB7QXJyYXl9IFt2YWx1ZXM9W11dIFRoZSBwcm9wZXJ0eSB2YWx1ZXMuXG4gICAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyB0aGUgbmV3IG9iamVjdC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy56aXBPYmplY3QoWydhJywgJ2InXSwgWzEsIDJdKTtcbiAgICAgKiAvLyA9PiB7ICdhJzogMSwgJ2InOiAyIH1cbiAgICAgKi9cbiAgICBmdW5jdGlvbiB6aXBPYmplY3QocHJvcHMsIHZhbHVlcykge1xuICAgICAgcmV0dXJuIGJhc2VaaXBPYmplY3QocHJvcHMgfHwgW10sIHZhbHVlcyB8fCBbXSwgYXNzaWduVmFsdWUpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIGlzIGxpa2UgYF8uemlwT2JqZWN0YCBleGNlcHQgdGhhdCBpdCBzdXBwb3J0cyBwcm9wZXJ0eSBwYXRocy5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjEuMFxuICAgICAqIEBjYXRlZ29yeSBBcnJheVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IFtwcm9wcz1bXV0gVGhlIHByb3BlcnR5IGlkZW50aWZpZXJzLlxuICAgICAqIEBwYXJhbSB7QXJyYXl9IFt2YWx1ZXM9W11dIFRoZSBwcm9wZXJ0eSB2YWx1ZXMuXG4gICAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyB0aGUgbmV3IG9iamVjdC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy56aXBPYmplY3REZWVwKFsnYS5iWzBdLmMnLCAnYS5iWzFdLmQnXSwgWzEsIDJdKTtcbiAgICAgKiAvLyA9PiB7ICdhJzogeyAnYic6IFt7ICdjJzogMSB9LCB7ICdkJzogMiB9XSB9IH1cbiAgICAgKi9cbiAgICBmdW5jdGlvbiB6aXBPYmplY3REZWVwKHByb3BzLCB2YWx1ZXMpIHtcbiAgICAgIHJldHVybiBiYXNlWmlwT2JqZWN0KHByb3BzIHx8IFtdLCB2YWx1ZXMgfHwgW10sIGJhc2VTZXQpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIGlzIGxpa2UgYF8uemlwYCBleGNlcHQgdGhhdCBpdCBhY2NlcHRzIGBpdGVyYXRlZWAgdG8gc3BlY2lmeVxuICAgICAqIGhvdyBncm91cGVkIHZhbHVlcyBzaG91bGQgYmUgY29tYmluZWQuIFRoZSBpdGVyYXRlZSBpcyBpbnZva2VkIHdpdGggdGhlXG4gICAgICogZWxlbWVudHMgb2YgZWFjaCBncm91cDogKC4uLmdyb3VwKS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAzLjguMFxuICAgICAqIEBjYXRlZ29yeSBBcnJheVxuICAgICAqIEBwYXJhbSB7Li4uQXJyYXl9IFthcnJheXNdIFRoZSBhcnJheXMgdG8gcHJvY2Vzcy5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbaXRlcmF0ZWU9Xy5pZGVudGl0eV0gVGhlIGZ1bmN0aW9uIHRvIGNvbWJpbmVcbiAgICAgKiAgZ3JvdXBlZCB2YWx1ZXMuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBuZXcgYXJyYXkgb2YgZ3JvdXBlZCBlbGVtZW50cy5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy56aXBXaXRoKFsxLCAyXSwgWzEwLCAyMF0sIFsxMDAsIDIwMF0sIGZ1bmN0aW9uKGEsIGIsIGMpIHtcbiAgICAgKiAgIHJldHVybiBhICsgYiArIGM7XG4gICAgICogfSk7XG4gICAgICogLy8gPT4gWzExMSwgMjIyXVxuICAgICAqL1xuICAgIHZhciB6aXBXaXRoID0gYmFzZVJlc3QoZnVuY3Rpb24oYXJyYXlzKSB7XG4gICAgICB2YXIgbGVuZ3RoID0gYXJyYXlzLmxlbmd0aCxcbiAgICAgICAgICBpdGVyYXRlZSA9IGxlbmd0aCA+IDEgPyBhcnJheXNbbGVuZ3RoIC0gMV0gOiB1bmRlZmluZWQ7XG5cbiAgICAgIGl0ZXJhdGVlID0gdHlwZW9mIGl0ZXJhdGVlID09ICdmdW5jdGlvbicgPyAoYXJyYXlzLnBvcCgpLCBpdGVyYXRlZSkgOiB1bmRlZmluZWQ7XG4gICAgICByZXR1cm4gdW56aXBXaXRoKGFycmF5cywgaXRlcmF0ZWUpO1xuICAgIH0pO1xuXG4gICAgLyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGBsb2Rhc2hgIHdyYXBwZXIgaW5zdGFuY2UgdGhhdCB3cmFwcyBgdmFsdWVgIHdpdGggZXhwbGljaXQgbWV0aG9kXG4gICAgICogY2hhaW4gc2VxdWVuY2VzIGVuYWJsZWQuIFRoZSByZXN1bHQgb2Ygc3VjaCBzZXF1ZW5jZXMgbXVzdCBiZSB1bndyYXBwZWRcbiAgICAgKiB3aXRoIGBfI3ZhbHVlYC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAxLjMuMFxuICAgICAqIEBjYXRlZ29yeSBTZXFcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byB3cmFwLlxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgdGhlIG5ldyBgbG9kYXNoYCB3cmFwcGVyIGluc3RhbmNlLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgdXNlcnMgPSBbXG4gICAgICogICB7ICd1c2VyJzogJ2Jhcm5leScsICAnYWdlJzogMzYgfSxcbiAgICAgKiAgIHsgJ3VzZXInOiAnZnJlZCcsICAgICdhZ2UnOiA0MCB9LFxuICAgICAqICAgeyAndXNlcic6ICdwZWJibGVzJywgJ2FnZSc6IDEgfVxuICAgICAqIF07XG4gICAgICpcbiAgICAgKiB2YXIgeW91bmdlc3QgPSBfXG4gICAgICogICAuY2hhaW4odXNlcnMpXG4gICAgICogICAuc29ydEJ5KCdhZ2UnKVxuICAgICAqICAgLm1hcChmdW5jdGlvbihvKSB7XG4gICAgICogICAgIHJldHVybiBvLnVzZXIgKyAnIGlzICcgKyBvLmFnZTtcbiAgICAgKiAgIH0pXG4gICAgICogICAuaGVhZCgpXG4gICAgICogICAudmFsdWUoKTtcbiAgICAgKiAvLyA9PiAncGViYmxlcyBpcyAxJ1xuICAgICAqL1xuICAgIGZ1bmN0aW9uIGNoYWluKHZhbHVlKSB7XG4gICAgICB2YXIgcmVzdWx0ID0gbG9kYXNoKHZhbHVlKTtcbiAgICAgIHJlc3VsdC5fX2NoYWluX18gPSB0cnVlO1xuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCBpbnZva2VzIGBpbnRlcmNlcHRvcmAgYW5kIHJldHVybnMgYHZhbHVlYC4gVGhlIGludGVyY2VwdG9yXG4gICAgICogaXMgaW52b2tlZCB3aXRoIG9uZSBhcmd1bWVudDsgKHZhbHVlKS4gVGhlIHB1cnBvc2Ugb2YgdGhpcyBtZXRob2QgaXMgdG9cbiAgICAgKiBcInRhcCBpbnRvXCIgYSBtZXRob2QgY2hhaW4gc2VxdWVuY2UgaW4gb3JkZXIgdG8gbW9kaWZ5IGludGVybWVkaWF0ZSByZXN1bHRzLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDAuMS4wXG4gICAgICogQGNhdGVnb3J5IFNlcVxuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIHByb3ZpZGUgdG8gYGludGVyY2VwdG9yYC5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBpbnRlcmNlcHRvciBUaGUgZnVuY3Rpb24gdG8gaW52b2tlLlxuICAgICAqIEByZXR1cm5zIHsqfSBSZXR1cm5zIGB2YWx1ZWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8oWzEsIDIsIDNdKVxuICAgICAqICAudGFwKGZ1bmN0aW9uKGFycmF5KSB7XG4gICAgICogICAgLy8gTXV0YXRlIGlucHV0IGFycmF5LlxuICAgICAqICAgIGFycmF5LnBvcCgpO1xuICAgICAqICB9KVxuICAgICAqICAucmV2ZXJzZSgpXG4gICAgICogIC52YWx1ZSgpO1xuICAgICAqIC8vID0+IFsyLCAxXVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHRhcCh2YWx1ZSwgaW50ZXJjZXB0b3IpIHtcbiAgICAgIGludGVyY2VwdG9yKHZhbHVlKTtcbiAgICAgIHJldHVybiB2YWx1ZTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCBpcyBsaWtlIGBfLnRhcGAgZXhjZXB0IHRoYXQgaXQgcmV0dXJucyB0aGUgcmVzdWx0IG9mIGBpbnRlcmNlcHRvcmAuXG4gICAgICogVGhlIHB1cnBvc2Ugb2YgdGhpcyBtZXRob2QgaXMgdG8gXCJwYXNzIHRocnVcIiB2YWx1ZXMgcmVwbGFjaW5nIGludGVybWVkaWF0ZVxuICAgICAqIHJlc3VsdHMgaW4gYSBtZXRob2QgY2hhaW4gc2VxdWVuY2UuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMy4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgU2VxXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gcHJvdmlkZSB0byBgaW50ZXJjZXB0b3JgLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGludGVyY2VwdG9yIFRoZSBmdW5jdGlvbiB0byBpbnZva2UuXG4gICAgICogQHJldHVybnMgeyp9IFJldHVybnMgdGhlIHJlc3VsdCBvZiBgaW50ZXJjZXB0b3JgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfKCcgIGFiYyAgJylcbiAgICAgKiAgLmNoYWluKClcbiAgICAgKiAgLnRyaW0oKVxuICAgICAqICAudGhydShmdW5jdGlvbih2YWx1ZSkge1xuICAgICAqICAgIHJldHVybiBbdmFsdWVdO1xuICAgICAqICB9KVxuICAgICAqICAudmFsdWUoKTtcbiAgICAgKiAvLyA9PiBbJ2FiYyddXG4gICAgICovXG4gICAgZnVuY3Rpb24gdGhydSh2YWx1ZSwgaW50ZXJjZXB0b3IpIHtcbiAgICAgIHJldHVybiBpbnRlcmNlcHRvcih2YWx1ZSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgaXMgdGhlIHdyYXBwZXIgdmVyc2lvbiBvZiBgXy5hdGAuXG4gICAgICpcbiAgICAgKiBAbmFtZSBhdFxuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDEuMC4wXG4gICAgICogQGNhdGVnb3J5IFNlcVxuICAgICAqIEBwYXJhbSB7Li4uKHN0cmluZ3xzdHJpbmdbXSl9IFtwYXRoc10gVGhlIHByb3BlcnR5IHBhdGhzIHRvIHBpY2suXG4gICAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyB0aGUgbmV3IGBsb2Rhc2hgIHdyYXBwZXIgaW5zdGFuY2UuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBvYmplY3QgPSB7ICdhJzogW3sgJ2InOiB7ICdjJzogMyB9IH0sIDRdIH07XG4gICAgICpcbiAgICAgKiBfKG9iamVjdCkuYXQoWydhWzBdLmIuYycsICdhWzFdJ10pLnZhbHVlKCk7XG4gICAgICogLy8gPT4gWzMsIDRdXG4gICAgICovXG4gICAgdmFyIHdyYXBwZXJBdCA9IGZsYXRSZXN0KGZ1bmN0aW9uKHBhdGhzKSB7XG4gICAgICB2YXIgbGVuZ3RoID0gcGF0aHMubGVuZ3RoLFxuICAgICAgICAgIHN0YXJ0ID0gbGVuZ3RoID8gcGF0aHNbMF0gOiAwLFxuICAgICAgICAgIHZhbHVlID0gdGhpcy5fX3dyYXBwZWRfXyxcbiAgICAgICAgICBpbnRlcmNlcHRvciA9IGZ1bmN0aW9uKG9iamVjdCkgeyByZXR1cm4gYmFzZUF0KG9iamVjdCwgcGF0aHMpOyB9O1xuXG4gICAgICBpZiAobGVuZ3RoID4gMSB8fCB0aGlzLl9fYWN0aW9uc19fLmxlbmd0aCB8fFxuICAgICAgICAgICEodmFsdWUgaW5zdGFuY2VvZiBMYXp5V3JhcHBlcikgfHwgIWlzSW5kZXgoc3RhcnQpKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnRocnUoaW50ZXJjZXB0b3IpO1xuICAgICAgfVxuICAgICAgdmFsdWUgPSB2YWx1ZS5zbGljZShzdGFydCwgK3N0YXJ0ICsgKGxlbmd0aCA/IDEgOiAwKSk7XG4gICAgICB2YWx1ZS5fX2FjdGlvbnNfXy5wdXNoKHtcbiAgICAgICAgJ2Z1bmMnOiB0aHJ1LFxuICAgICAgICAnYXJncyc6IFtpbnRlcmNlcHRvcl0sXG4gICAgICAgICd0aGlzQXJnJzogdW5kZWZpbmVkXG4gICAgICB9KTtcbiAgICAgIHJldHVybiBuZXcgTG9kYXNoV3JhcHBlcih2YWx1ZSwgdGhpcy5fX2NoYWluX18pLnRocnUoZnVuY3Rpb24oYXJyYXkpIHtcbiAgICAgICAgaWYgKGxlbmd0aCAmJiAhYXJyYXkubGVuZ3RoKSB7XG4gICAgICAgICAgYXJyYXkucHVzaCh1bmRlZmluZWQpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBhcnJheTtcbiAgICAgIH0pO1xuICAgIH0pO1xuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGBsb2Rhc2hgIHdyYXBwZXIgaW5zdGFuY2Ugd2l0aCBleHBsaWNpdCBtZXRob2QgY2hhaW4gc2VxdWVuY2VzIGVuYWJsZWQuXG4gICAgICpcbiAgICAgKiBAbmFtZSBjaGFpblxuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDAuMS4wXG4gICAgICogQGNhdGVnb3J5IFNlcVxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgdGhlIG5ldyBgbG9kYXNoYCB3cmFwcGVyIGluc3RhbmNlLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgdXNlcnMgPSBbXG4gICAgICogICB7ICd1c2VyJzogJ2Jhcm5leScsICdhZ2UnOiAzNiB9LFxuICAgICAqICAgeyAndXNlcic6ICdmcmVkJywgICAnYWdlJzogNDAgfVxuICAgICAqIF07XG4gICAgICpcbiAgICAgKiAvLyBBIHNlcXVlbmNlIHdpdGhvdXQgZXhwbGljaXQgY2hhaW5pbmcuXG4gICAgICogXyh1c2VycykuaGVhZCgpO1xuICAgICAqIC8vID0+IHsgJ3VzZXInOiAnYmFybmV5JywgJ2FnZSc6IDM2IH1cbiAgICAgKlxuICAgICAqIC8vIEEgc2VxdWVuY2Ugd2l0aCBleHBsaWNpdCBjaGFpbmluZy5cbiAgICAgKiBfKHVzZXJzKVxuICAgICAqICAgLmNoYWluKClcbiAgICAgKiAgIC5oZWFkKClcbiAgICAgKiAgIC5waWNrKCd1c2VyJylcbiAgICAgKiAgIC52YWx1ZSgpO1xuICAgICAqIC8vID0+IHsgJ3VzZXInOiAnYmFybmV5JyB9XG4gICAgICovXG4gICAgZnVuY3Rpb24gd3JhcHBlckNoYWluKCkge1xuICAgICAgcmV0dXJuIGNoYWluKHRoaXMpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEV4ZWN1dGVzIHRoZSBjaGFpbiBzZXF1ZW5jZSBhbmQgcmV0dXJucyB0aGUgd3JhcHBlZCByZXN1bHQuXG4gICAgICpcbiAgICAgKiBAbmFtZSBjb21taXRcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAzLjIuMFxuICAgICAqIEBjYXRlZ29yeSBTZXFcbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIHRoZSBuZXcgYGxvZGFzaGAgd3JhcHBlciBpbnN0YW5jZS5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIGFycmF5ID0gWzEsIDJdO1xuICAgICAqIHZhciB3cmFwcGVkID0gXyhhcnJheSkucHVzaCgzKTtcbiAgICAgKlxuICAgICAqIGNvbnNvbGUubG9nKGFycmF5KTtcbiAgICAgKiAvLyA9PiBbMSwgMl1cbiAgICAgKlxuICAgICAqIHdyYXBwZWQgPSB3cmFwcGVkLmNvbW1pdCgpO1xuICAgICAqIGNvbnNvbGUubG9nKGFycmF5KTtcbiAgICAgKiAvLyA9PiBbMSwgMiwgM11cbiAgICAgKlxuICAgICAqIHdyYXBwZWQubGFzdCgpO1xuICAgICAqIC8vID0+IDNcbiAgICAgKlxuICAgICAqIGNvbnNvbGUubG9nKGFycmF5KTtcbiAgICAgKiAvLyA9PiBbMSwgMiwgM11cbiAgICAgKi9cbiAgICBmdW5jdGlvbiB3cmFwcGVyQ29tbWl0KCkge1xuICAgICAgcmV0dXJuIG5ldyBMb2Rhc2hXcmFwcGVyKHRoaXMudmFsdWUoKSwgdGhpcy5fX2NoYWluX18pO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEdldHMgdGhlIG5leHQgdmFsdWUgb24gYSB3cmFwcGVkIG9iamVjdCBmb2xsb3dpbmcgdGhlXG4gICAgICogW2l0ZXJhdG9yIHByb3RvY29sXShodHRwczovL21kbi5pby9pdGVyYXRpb25fcHJvdG9jb2xzI2l0ZXJhdG9yKS5cbiAgICAgKlxuICAgICAqIEBuYW1lIG5leHRcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBTZXFcbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIHRoZSBuZXh0IGl0ZXJhdG9yIHZhbHVlLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgd3JhcHBlZCA9IF8oWzEsIDJdKTtcbiAgICAgKlxuICAgICAqIHdyYXBwZWQubmV4dCgpO1xuICAgICAqIC8vID0+IHsgJ2RvbmUnOiBmYWxzZSwgJ3ZhbHVlJzogMSB9XG4gICAgICpcbiAgICAgKiB3cmFwcGVkLm5leHQoKTtcbiAgICAgKiAvLyA9PiB7ICdkb25lJzogZmFsc2UsICd2YWx1ZSc6IDIgfVxuICAgICAqXG4gICAgICogd3JhcHBlZC5uZXh0KCk7XG4gICAgICogLy8gPT4geyAnZG9uZSc6IHRydWUsICd2YWx1ZSc6IHVuZGVmaW5lZCB9XG4gICAgICovXG4gICAgZnVuY3Rpb24gd3JhcHBlck5leHQoKSB7XG4gICAgICBpZiAodGhpcy5fX3ZhbHVlc19fID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgdGhpcy5fX3ZhbHVlc19fID0gdG9BcnJheSh0aGlzLnZhbHVlKCkpO1xuICAgICAgfVxuICAgICAgdmFyIGRvbmUgPSB0aGlzLl9faW5kZXhfXyA+PSB0aGlzLl9fdmFsdWVzX18ubGVuZ3RoLFxuICAgICAgICAgIHZhbHVlID0gZG9uZSA/IHVuZGVmaW5lZCA6IHRoaXMuX192YWx1ZXNfX1t0aGlzLl9faW5kZXhfXysrXTtcblxuICAgICAgcmV0dXJuIHsgJ2RvbmUnOiBkb25lLCAndmFsdWUnOiB2YWx1ZSB9O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEVuYWJsZXMgdGhlIHdyYXBwZXIgdG8gYmUgaXRlcmFibGUuXG4gICAgICpcbiAgICAgKiBAbmFtZSBTeW1ib2wuaXRlcmF0b3JcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBTZXFcbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIHRoZSB3cmFwcGVyIG9iamVjdC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIHdyYXBwZWQgPSBfKFsxLCAyXSk7XG4gICAgICpcbiAgICAgKiB3cmFwcGVkW1N5bWJvbC5pdGVyYXRvcl0oKSA9PT0gd3JhcHBlZDtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBBcnJheS5mcm9tKHdyYXBwZWQpO1xuICAgICAqIC8vID0+IFsxLCAyXVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHdyYXBwZXJUb0l0ZXJhdG9yKCkge1xuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGNsb25lIG9mIHRoZSBjaGFpbiBzZXF1ZW5jZSBwbGFudGluZyBgdmFsdWVgIGFzIHRoZSB3cmFwcGVkIHZhbHVlLlxuICAgICAqXG4gICAgICogQG5hbWUgcGxhbnRcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAzLjIuMFxuICAgICAqIEBjYXRlZ29yeSBTZXFcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBwbGFudC5cbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIHRoZSBuZXcgYGxvZGFzaGAgd3JhcHBlciBpbnN0YW5jZS5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogZnVuY3Rpb24gc3F1YXJlKG4pIHtcbiAgICAgKiAgIHJldHVybiBuICogbjtcbiAgICAgKiB9XG4gICAgICpcbiAgICAgKiB2YXIgd3JhcHBlZCA9IF8oWzEsIDJdKS5tYXAoc3F1YXJlKTtcbiAgICAgKiB2YXIgb3RoZXIgPSB3cmFwcGVkLnBsYW50KFszLCA0XSk7XG4gICAgICpcbiAgICAgKiBvdGhlci52YWx1ZSgpO1xuICAgICAqIC8vID0+IFs5LCAxNl1cbiAgICAgKlxuICAgICAqIHdyYXBwZWQudmFsdWUoKTtcbiAgICAgKiAvLyA9PiBbMSwgNF1cbiAgICAgKi9cbiAgICBmdW5jdGlvbiB3cmFwcGVyUGxhbnQodmFsdWUpIHtcbiAgICAgIHZhciByZXN1bHQsXG4gICAgICAgICAgcGFyZW50ID0gdGhpcztcblxuICAgICAgd2hpbGUgKHBhcmVudCBpbnN0YW5jZW9mIGJhc2VMb2Rhc2gpIHtcbiAgICAgICAgdmFyIGNsb25lID0gd3JhcHBlckNsb25lKHBhcmVudCk7XG4gICAgICAgIGNsb25lLl9faW5kZXhfXyA9IDA7XG4gICAgICAgIGNsb25lLl9fdmFsdWVzX18gPSB1bmRlZmluZWQ7XG4gICAgICAgIGlmIChyZXN1bHQpIHtcbiAgICAgICAgICBwcmV2aW91cy5fX3dyYXBwZWRfXyA9IGNsb25lO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHJlc3VsdCA9IGNsb25lO1xuICAgICAgICB9XG4gICAgICAgIHZhciBwcmV2aW91cyA9IGNsb25lO1xuICAgICAgICBwYXJlbnQgPSBwYXJlbnQuX193cmFwcGVkX187XG4gICAgICB9XG4gICAgICBwcmV2aW91cy5fX3dyYXBwZWRfXyA9IHZhbHVlO1xuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCBpcyB0aGUgd3JhcHBlciB2ZXJzaW9uIG9mIGBfLnJldmVyc2VgLlxuICAgICAqXG4gICAgICogKipOb3RlOioqIFRoaXMgbWV0aG9kIG11dGF0ZXMgdGhlIHdyYXBwZWQgYXJyYXkuXG4gICAgICpcbiAgICAgKiBAbmFtZSByZXZlcnNlXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMC4xLjBcbiAgICAgKiBAY2F0ZWdvcnkgU2VxXG4gICAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyB0aGUgbmV3IGBsb2Rhc2hgIHdyYXBwZXIgaW5zdGFuY2UuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBhcnJheSA9IFsxLCAyLCAzXTtcbiAgICAgKlxuICAgICAqIF8oYXJyYXkpLnJldmVyc2UoKS52YWx1ZSgpXG4gICAgICogLy8gPT4gWzMsIDIsIDFdXG4gICAgICpcbiAgICAgKiBjb25zb2xlLmxvZyhhcnJheSk7XG4gICAgICogLy8gPT4gWzMsIDIsIDFdXG4gICAgICovXG4gICAgZnVuY3Rpb24gd3JhcHBlclJldmVyc2UoKSB7XG4gICAgICB2YXIgdmFsdWUgPSB0aGlzLl9fd3JhcHBlZF9fO1xuICAgICAgaWYgKHZhbHVlIGluc3RhbmNlb2YgTGF6eVdyYXBwZXIpIHtcbiAgICAgICAgdmFyIHdyYXBwZWQgPSB2YWx1ZTtcbiAgICAgICAgaWYgKHRoaXMuX19hY3Rpb25zX18ubGVuZ3RoKSB7XG4gICAgICAgICAgd3JhcHBlZCA9IG5ldyBMYXp5V3JhcHBlcih0aGlzKTtcbiAgICAgICAgfVxuICAgICAgICB3cmFwcGVkID0gd3JhcHBlZC5yZXZlcnNlKCk7XG4gICAgICAgIHdyYXBwZWQuX19hY3Rpb25zX18ucHVzaCh7XG4gICAgICAgICAgJ2Z1bmMnOiB0aHJ1LFxuICAgICAgICAgICdhcmdzJzogW3JldmVyc2VdLFxuICAgICAgICAgICd0aGlzQXJnJzogdW5kZWZpbmVkXG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gbmV3IExvZGFzaFdyYXBwZXIod3JhcHBlZCwgdGhpcy5fX2NoYWluX18pO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHRoaXMudGhydShyZXZlcnNlKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBFeGVjdXRlcyB0aGUgY2hhaW4gc2VxdWVuY2UgdG8gcmVzb2x2ZSB0aGUgdW53cmFwcGVkIHZhbHVlLlxuICAgICAqXG4gICAgICogQG5hbWUgdmFsdWVcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAwLjEuMFxuICAgICAqIEBhbGlhcyB0b0pTT04sIHZhbHVlT2ZcbiAgICAgKiBAY2F0ZWdvcnkgU2VxXG4gICAgICogQHJldHVybnMgeyp9IFJldHVybnMgdGhlIHJlc29sdmVkIHVud3JhcHBlZCB2YWx1ZS5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXyhbMSwgMiwgM10pLnZhbHVlKCk7XG4gICAgICogLy8gPT4gWzEsIDIsIDNdXG4gICAgICovXG4gICAgZnVuY3Rpb24gd3JhcHBlclZhbHVlKCkge1xuICAgICAgcmV0dXJuIGJhc2VXcmFwcGVyVmFsdWUodGhpcy5fX3dyYXBwZWRfXywgdGhpcy5fX2FjdGlvbnNfXyk7XG4gICAgfVxuXG4gICAgLyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhbiBvYmplY3QgY29tcG9zZWQgb2Yga2V5cyBnZW5lcmF0ZWQgZnJvbSB0aGUgcmVzdWx0cyBvZiBydW5uaW5nXG4gICAgICogZWFjaCBlbGVtZW50IG9mIGBjb2xsZWN0aW9uYCB0aHJ1IGBpdGVyYXRlZWAuIFRoZSBjb3JyZXNwb25kaW5nIHZhbHVlIG9mXG4gICAgICogZWFjaCBrZXkgaXMgdGhlIG51bWJlciBvZiB0aW1lcyB0aGUga2V5IHdhcyByZXR1cm5lZCBieSBgaXRlcmF0ZWVgLiBUaGVcbiAgICAgKiBpdGVyYXRlZSBpcyBpbnZva2VkIHdpdGggb25lIGFyZ3VtZW50OiAodmFsdWUpLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDAuNS4wXG4gICAgICogQGNhdGVnb3J5IENvbGxlY3Rpb25cbiAgICAgKiBAcGFyYW0ge0FycmF5fE9iamVjdH0gY29sbGVjdGlvbiBUaGUgY29sbGVjdGlvbiB0byBpdGVyYXRlIG92ZXIuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2l0ZXJhdGVlPV8uaWRlbnRpdHldIFRoZSBpdGVyYXRlZSB0byB0cmFuc2Zvcm0ga2V5cy5cbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIHRoZSBjb21wb3NlZCBhZ2dyZWdhdGUgb2JqZWN0LlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmNvdW50QnkoWzYuMSwgNC4yLCA2LjNdLCBNYXRoLmZsb29yKTtcbiAgICAgKiAvLyA9PiB7ICc0JzogMSwgJzYnOiAyIH1cbiAgICAgKlxuICAgICAqIC8vIFRoZSBgXy5wcm9wZXJ0eWAgaXRlcmF0ZWUgc2hvcnRoYW5kLlxuICAgICAqIF8uY291bnRCeShbJ29uZScsICd0d28nLCAndGhyZWUnXSwgJ2xlbmd0aCcpO1xuICAgICAqIC8vID0+IHsgJzMnOiAyLCAnNSc6IDEgfVxuICAgICAqL1xuICAgIHZhciBjb3VudEJ5ID0gY3JlYXRlQWdncmVnYXRvcihmdW5jdGlvbihyZXN1bHQsIHZhbHVlLCBrZXkpIHtcbiAgICAgIGlmIChoYXNPd25Qcm9wZXJ0eS5jYWxsKHJlc3VsdCwga2V5KSkge1xuICAgICAgICArK3Jlc3VsdFtrZXldO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgYmFzZUFzc2lnblZhbHVlKHJlc3VsdCwga2V5LCAxKTtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIC8qKlxuICAgICAqIENoZWNrcyBpZiBgcHJlZGljYXRlYCByZXR1cm5zIHRydXRoeSBmb3IgKiphbGwqKiBlbGVtZW50cyBvZiBgY29sbGVjdGlvbmAuXG4gICAgICogSXRlcmF0aW9uIGlzIHN0b3BwZWQgb25jZSBgcHJlZGljYXRlYCByZXR1cm5zIGZhbHNleS4gVGhlIHByZWRpY2F0ZSBpc1xuICAgICAqIGludm9rZWQgd2l0aCB0aHJlZSBhcmd1bWVudHM6ICh2YWx1ZSwgaW5kZXh8a2V5LCBjb2xsZWN0aW9uKS5cbiAgICAgKlxuICAgICAqICoqTm90ZToqKiBUaGlzIG1ldGhvZCByZXR1cm5zIGB0cnVlYCBmb3JcbiAgICAgKiBbZW1wdHkgY29sbGVjdGlvbnNdKGh0dHBzOi8vZW4ud2lraXBlZGlhLm9yZy93aWtpL0VtcHR5X3NldCkgYmVjYXVzZVxuICAgICAqIFtldmVyeXRoaW5nIGlzIHRydWVdKGh0dHBzOi8vZW4ud2lraXBlZGlhLm9yZy93aWtpL1ZhY3VvdXNfdHJ1dGgpIG9mXG4gICAgICogZWxlbWVudHMgb2YgZW1wdHkgY29sbGVjdGlvbnMuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMC4xLjBcbiAgICAgKiBAY2F0ZWdvcnkgQ29sbGVjdGlvblxuICAgICAqIEBwYXJhbSB7QXJyYXl8T2JqZWN0fSBjb2xsZWN0aW9uIFRoZSBjb2xsZWN0aW9uIHRvIGl0ZXJhdGUgb3Zlci5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbcHJlZGljYXRlPV8uaWRlbnRpdHldIFRoZSBmdW5jdGlvbiBpbnZva2VkIHBlciBpdGVyYXRpb24uXG4gICAgICogQHBhcmFtLSB7T2JqZWN0fSBbZ3VhcmRdIEVuYWJsZXMgdXNlIGFzIGFuIGl0ZXJhdGVlIGZvciBtZXRob2RzIGxpa2UgYF8ubWFwYC5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYWxsIGVsZW1lbnRzIHBhc3MgdGhlIHByZWRpY2F0ZSBjaGVjayxcbiAgICAgKiAgZWxzZSBgZmFsc2VgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmV2ZXJ5KFt0cnVlLCAxLCBudWxsLCAneWVzJ10sIEJvb2xlYW4pO1xuICAgICAqIC8vID0+IGZhbHNlXG4gICAgICpcbiAgICAgKiB2YXIgdXNlcnMgPSBbXG4gICAgICogICB7ICd1c2VyJzogJ2Jhcm5leScsICdhZ2UnOiAzNiwgJ2FjdGl2ZSc6IGZhbHNlIH0sXG4gICAgICogICB7ICd1c2VyJzogJ2ZyZWQnLCAgICdhZ2UnOiA0MCwgJ2FjdGl2ZSc6IGZhbHNlIH1cbiAgICAgKiBdO1xuICAgICAqXG4gICAgICogLy8gVGhlIGBfLm1hdGNoZXNgIGl0ZXJhdGVlIHNob3J0aGFuZC5cbiAgICAgKiBfLmV2ZXJ5KHVzZXJzLCB7ICd1c2VyJzogJ2Jhcm5leScsICdhY3RpdmUnOiBmYWxzZSB9KTtcbiAgICAgKiAvLyA9PiBmYWxzZVxuICAgICAqXG4gICAgICogLy8gVGhlIGBfLm1hdGNoZXNQcm9wZXJ0eWAgaXRlcmF0ZWUgc2hvcnRoYW5kLlxuICAgICAqIF8uZXZlcnkodXNlcnMsIFsnYWN0aXZlJywgZmFsc2VdKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiAvLyBUaGUgYF8ucHJvcGVydHlgIGl0ZXJhdGVlIHNob3J0aGFuZC5cbiAgICAgKiBfLmV2ZXJ5KHVzZXJzLCAnYWN0aXZlJyk7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBldmVyeShjb2xsZWN0aW9uLCBwcmVkaWNhdGUsIGd1YXJkKSB7XG4gICAgICB2YXIgZnVuYyA9IGlzQXJyYXkoY29sbGVjdGlvbikgPyBhcnJheUV2ZXJ5IDogYmFzZUV2ZXJ5O1xuICAgICAgaWYgKGd1YXJkICYmIGlzSXRlcmF0ZWVDYWxsKGNvbGxlY3Rpb24sIHByZWRpY2F0ZSwgZ3VhcmQpKSB7XG4gICAgICAgIHByZWRpY2F0ZSA9IHVuZGVmaW5lZDtcbiAgICAgIH1cbiAgICAgIHJldHVybiBmdW5jKGNvbGxlY3Rpb24sIGdldEl0ZXJhdGVlKHByZWRpY2F0ZSwgMykpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEl0ZXJhdGVzIG92ZXIgZWxlbWVudHMgb2YgYGNvbGxlY3Rpb25gLCByZXR1cm5pbmcgYW4gYXJyYXkgb2YgYWxsIGVsZW1lbnRzXG4gICAgICogYHByZWRpY2F0ZWAgcmV0dXJucyB0cnV0aHkgZm9yLiBUaGUgcHJlZGljYXRlIGlzIGludm9rZWQgd2l0aCB0aHJlZVxuICAgICAqIGFyZ3VtZW50czogKHZhbHVlLCBpbmRleHxrZXksIGNvbGxlY3Rpb24pLlxuICAgICAqXG4gICAgICogKipOb3RlOioqIFVubGlrZSBgXy5yZW1vdmVgLCB0aGlzIG1ldGhvZCByZXR1cm5zIGEgbmV3IGFycmF5LlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDAuMS4wXG4gICAgICogQGNhdGVnb3J5IENvbGxlY3Rpb25cbiAgICAgKiBAcGFyYW0ge0FycmF5fE9iamVjdH0gY29sbGVjdGlvbiBUaGUgY29sbGVjdGlvbiB0byBpdGVyYXRlIG92ZXIuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW3ByZWRpY2F0ZT1fLmlkZW50aXR5XSBUaGUgZnVuY3Rpb24gaW52b2tlZCBwZXIgaXRlcmF0aW9uLlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgbmV3IGZpbHRlcmVkIGFycmF5LlxuICAgICAqIEBzZWUgXy5yZWplY3RcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIHVzZXJzID0gW1xuICAgICAqICAgeyAndXNlcic6ICdiYXJuZXknLCAnYWdlJzogMzYsICdhY3RpdmUnOiB0cnVlIH0sXG4gICAgICogICB7ICd1c2VyJzogJ2ZyZWQnLCAgICdhZ2UnOiA0MCwgJ2FjdGl2ZSc6IGZhbHNlIH1cbiAgICAgKiBdO1xuICAgICAqXG4gICAgICogXy5maWx0ZXIodXNlcnMsIGZ1bmN0aW9uKG8pIHsgcmV0dXJuICFvLmFjdGl2ZTsgfSk7XG4gICAgICogLy8gPT4gb2JqZWN0cyBmb3IgWydmcmVkJ11cbiAgICAgKlxuICAgICAqIC8vIFRoZSBgXy5tYXRjaGVzYCBpdGVyYXRlZSBzaG9ydGhhbmQuXG4gICAgICogXy5maWx0ZXIodXNlcnMsIHsgJ2FnZSc6IDM2LCAnYWN0aXZlJzogdHJ1ZSB9KTtcbiAgICAgKiAvLyA9PiBvYmplY3RzIGZvciBbJ2Jhcm5leSddXG4gICAgICpcbiAgICAgKiAvLyBUaGUgYF8ubWF0Y2hlc1Byb3BlcnR5YCBpdGVyYXRlZSBzaG9ydGhhbmQuXG4gICAgICogXy5maWx0ZXIodXNlcnMsIFsnYWN0aXZlJywgZmFsc2VdKTtcbiAgICAgKiAvLyA9PiBvYmplY3RzIGZvciBbJ2ZyZWQnXVxuICAgICAqXG4gICAgICogLy8gVGhlIGBfLnByb3BlcnR5YCBpdGVyYXRlZSBzaG9ydGhhbmQuXG4gICAgICogXy5maWx0ZXIodXNlcnMsICdhY3RpdmUnKTtcbiAgICAgKiAvLyA9PiBvYmplY3RzIGZvciBbJ2Jhcm5leSddXG4gICAgICovXG4gICAgZnVuY3Rpb24gZmlsdGVyKGNvbGxlY3Rpb24sIHByZWRpY2F0ZSkge1xuICAgICAgdmFyIGZ1bmMgPSBpc0FycmF5KGNvbGxlY3Rpb24pID8gYXJyYXlGaWx0ZXIgOiBiYXNlRmlsdGVyO1xuICAgICAgcmV0dXJuIGZ1bmMoY29sbGVjdGlvbiwgZ2V0SXRlcmF0ZWUocHJlZGljYXRlLCAzKSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogSXRlcmF0ZXMgb3ZlciBlbGVtZW50cyBvZiBgY29sbGVjdGlvbmAsIHJldHVybmluZyB0aGUgZmlyc3QgZWxlbWVudFxuICAgICAqIGBwcmVkaWNhdGVgIHJldHVybnMgdHJ1dGh5IGZvci4gVGhlIHByZWRpY2F0ZSBpcyBpbnZva2VkIHdpdGggdGhyZWVcbiAgICAgKiBhcmd1bWVudHM6ICh2YWx1ZSwgaW5kZXh8a2V5LCBjb2xsZWN0aW9uKS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAwLjEuMFxuICAgICAqIEBjYXRlZ29yeSBDb2xsZWN0aW9uXG4gICAgICogQHBhcmFtIHtBcnJheXxPYmplY3R9IGNvbGxlY3Rpb24gVGhlIGNvbGxlY3Rpb24gdG8gaW5zcGVjdC5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbcHJlZGljYXRlPV8uaWRlbnRpdHldIFRoZSBmdW5jdGlvbiBpbnZva2VkIHBlciBpdGVyYXRpb24uXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtmcm9tSW5kZXg9MF0gVGhlIGluZGV4IHRvIHNlYXJjaCBmcm9tLlxuICAgICAqIEByZXR1cm5zIHsqfSBSZXR1cm5zIHRoZSBtYXRjaGVkIGVsZW1lbnQsIGVsc2UgYHVuZGVmaW5lZGAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciB1c2VycyA9IFtcbiAgICAgKiAgIHsgJ3VzZXInOiAnYmFybmV5JywgICdhZ2UnOiAzNiwgJ2FjdGl2ZSc6IHRydWUgfSxcbiAgICAgKiAgIHsgJ3VzZXInOiAnZnJlZCcsICAgICdhZ2UnOiA0MCwgJ2FjdGl2ZSc6IGZhbHNlIH0sXG4gICAgICogICB7ICd1c2VyJzogJ3BlYmJsZXMnLCAnYWdlJzogMSwgICdhY3RpdmUnOiB0cnVlIH1cbiAgICAgKiBdO1xuICAgICAqXG4gICAgICogXy5maW5kKHVzZXJzLCBmdW5jdGlvbihvKSB7IHJldHVybiBvLmFnZSA8IDQwOyB9KTtcbiAgICAgKiAvLyA9PiBvYmplY3QgZm9yICdiYXJuZXknXG4gICAgICpcbiAgICAgKiAvLyBUaGUgYF8ubWF0Y2hlc2AgaXRlcmF0ZWUgc2hvcnRoYW5kLlxuICAgICAqIF8uZmluZCh1c2VycywgeyAnYWdlJzogMSwgJ2FjdGl2ZSc6IHRydWUgfSk7XG4gICAgICogLy8gPT4gb2JqZWN0IGZvciAncGViYmxlcydcbiAgICAgKlxuICAgICAqIC8vIFRoZSBgXy5tYXRjaGVzUHJvcGVydHlgIGl0ZXJhdGVlIHNob3J0aGFuZC5cbiAgICAgKiBfLmZpbmQodXNlcnMsIFsnYWN0aXZlJywgZmFsc2VdKTtcbiAgICAgKiAvLyA9PiBvYmplY3QgZm9yICdmcmVkJ1xuICAgICAqXG4gICAgICogLy8gVGhlIGBfLnByb3BlcnR5YCBpdGVyYXRlZSBzaG9ydGhhbmQuXG4gICAgICogXy5maW5kKHVzZXJzLCAnYWN0aXZlJyk7XG4gICAgICogLy8gPT4gb2JqZWN0IGZvciAnYmFybmV5J1xuICAgICAqL1xuICAgIHZhciBmaW5kID0gY3JlYXRlRmluZChmaW5kSW5kZXgpO1xuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgaXMgbGlrZSBgXy5maW5kYCBleGNlcHQgdGhhdCBpdCBpdGVyYXRlcyBvdmVyIGVsZW1lbnRzIG9mXG4gICAgICogYGNvbGxlY3Rpb25gIGZyb20gcmlnaHQgdG8gbGVmdC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAyLjAuMFxuICAgICAqIEBjYXRlZ29yeSBDb2xsZWN0aW9uXG4gICAgICogQHBhcmFtIHtBcnJheXxPYmplY3R9IGNvbGxlY3Rpb24gVGhlIGNvbGxlY3Rpb24gdG8gaW5zcGVjdC5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbcHJlZGljYXRlPV8uaWRlbnRpdHldIFRoZSBmdW5jdGlvbiBpbnZva2VkIHBlciBpdGVyYXRpb24uXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtmcm9tSW5kZXg9Y29sbGVjdGlvbi5sZW5ndGgtMV0gVGhlIGluZGV4IHRvIHNlYXJjaCBmcm9tLlxuICAgICAqIEByZXR1cm5zIHsqfSBSZXR1cm5zIHRoZSBtYXRjaGVkIGVsZW1lbnQsIGVsc2UgYHVuZGVmaW5lZGAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uZmluZExhc3QoWzEsIDIsIDMsIDRdLCBmdW5jdGlvbihuKSB7XG4gICAgICogICByZXR1cm4gbiAlIDIgPT0gMTtcbiAgICAgKiB9KTtcbiAgICAgKiAvLyA9PiAzXG4gICAgICovXG4gICAgdmFyIGZpbmRMYXN0ID0gY3JlYXRlRmluZChmaW5kTGFzdEluZGV4KTtcblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBmbGF0dGVuZWQgYXJyYXkgb2YgdmFsdWVzIGJ5IHJ1bm5pbmcgZWFjaCBlbGVtZW50IGluIGBjb2xsZWN0aW9uYFxuICAgICAqIHRocnUgYGl0ZXJhdGVlYCBhbmQgZmxhdHRlbmluZyB0aGUgbWFwcGVkIHJlc3VsdHMuIFRoZSBpdGVyYXRlZSBpcyBpbnZva2VkXG4gICAgICogd2l0aCB0aHJlZSBhcmd1bWVudHM6ICh2YWx1ZSwgaW5kZXh8a2V5LCBjb2xsZWN0aW9uKS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBDb2xsZWN0aW9uXG4gICAgICogQHBhcmFtIHtBcnJheXxPYmplY3R9IGNvbGxlY3Rpb24gVGhlIGNvbGxlY3Rpb24gdG8gaXRlcmF0ZSBvdmVyLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtpdGVyYXRlZT1fLmlkZW50aXR5XSBUaGUgZnVuY3Rpb24gaW52b2tlZCBwZXIgaXRlcmF0aW9uLlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgbmV3IGZsYXR0ZW5lZCBhcnJheS5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogZnVuY3Rpb24gZHVwbGljYXRlKG4pIHtcbiAgICAgKiAgIHJldHVybiBbbiwgbl07XG4gICAgICogfVxuICAgICAqXG4gICAgICogXy5mbGF0TWFwKFsxLCAyXSwgZHVwbGljYXRlKTtcbiAgICAgKiAvLyA9PiBbMSwgMSwgMiwgMl1cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBmbGF0TWFwKGNvbGxlY3Rpb24sIGl0ZXJhdGVlKSB7XG4gICAgICByZXR1cm4gYmFzZUZsYXR0ZW4obWFwKGNvbGxlY3Rpb24sIGl0ZXJhdGVlKSwgMSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgaXMgbGlrZSBgXy5mbGF0TWFwYCBleGNlcHQgdGhhdCBpdCByZWN1cnNpdmVseSBmbGF0dGVucyB0aGVcbiAgICAgKiBtYXBwZWQgcmVzdWx0cy5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjcuMFxuICAgICAqIEBjYXRlZ29yeSBDb2xsZWN0aW9uXG4gICAgICogQHBhcmFtIHtBcnJheXxPYmplY3R9IGNvbGxlY3Rpb24gVGhlIGNvbGxlY3Rpb24gdG8gaXRlcmF0ZSBvdmVyLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtpdGVyYXRlZT1fLmlkZW50aXR5XSBUaGUgZnVuY3Rpb24gaW52b2tlZCBwZXIgaXRlcmF0aW9uLlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgbmV3IGZsYXR0ZW5lZCBhcnJheS5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogZnVuY3Rpb24gZHVwbGljYXRlKG4pIHtcbiAgICAgKiAgIHJldHVybiBbW1tuLCBuXV1dO1xuICAgICAqIH1cbiAgICAgKlxuICAgICAqIF8uZmxhdE1hcERlZXAoWzEsIDJdLCBkdXBsaWNhdGUpO1xuICAgICAqIC8vID0+IFsxLCAxLCAyLCAyXVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGZsYXRNYXBEZWVwKGNvbGxlY3Rpb24sIGl0ZXJhdGVlKSB7XG4gICAgICByZXR1cm4gYmFzZUZsYXR0ZW4obWFwKGNvbGxlY3Rpb24sIGl0ZXJhdGVlKSwgSU5GSU5JVFkpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIGlzIGxpa2UgYF8uZmxhdE1hcGAgZXhjZXB0IHRoYXQgaXQgcmVjdXJzaXZlbHkgZmxhdHRlbnMgdGhlXG4gICAgICogbWFwcGVkIHJlc3VsdHMgdXAgdG8gYGRlcHRoYCB0aW1lcy5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjcuMFxuICAgICAqIEBjYXRlZ29yeSBDb2xsZWN0aW9uXG4gICAgICogQHBhcmFtIHtBcnJheXxPYmplY3R9IGNvbGxlY3Rpb24gVGhlIGNvbGxlY3Rpb24gdG8gaXRlcmF0ZSBvdmVyLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtpdGVyYXRlZT1fLmlkZW50aXR5XSBUaGUgZnVuY3Rpb24gaW52b2tlZCBwZXIgaXRlcmF0aW9uLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbZGVwdGg9MV0gVGhlIG1heGltdW0gcmVjdXJzaW9uIGRlcHRoLlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgbmV3IGZsYXR0ZW5lZCBhcnJheS5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogZnVuY3Rpb24gZHVwbGljYXRlKG4pIHtcbiAgICAgKiAgIHJldHVybiBbW1tuLCBuXV1dO1xuICAgICAqIH1cbiAgICAgKlxuICAgICAqIF8uZmxhdE1hcERlcHRoKFsxLCAyXSwgZHVwbGljYXRlLCAyKTtcbiAgICAgKiAvLyA9PiBbWzEsIDFdLCBbMiwgMl1dXG4gICAgICovXG4gICAgZnVuY3Rpb24gZmxhdE1hcERlcHRoKGNvbGxlY3Rpb24sIGl0ZXJhdGVlLCBkZXB0aCkge1xuICAgICAgZGVwdGggPSBkZXB0aCA9PT0gdW5kZWZpbmVkID8gMSA6IHRvSW50ZWdlcihkZXB0aCk7XG4gICAgICByZXR1cm4gYmFzZUZsYXR0ZW4obWFwKGNvbGxlY3Rpb24sIGl0ZXJhdGVlKSwgZGVwdGgpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEl0ZXJhdGVzIG92ZXIgZWxlbWVudHMgb2YgYGNvbGxlY3Rpb25gIGFuZCBpbnZva2VzIGBpdGVyYXRlZWAgZm9yIGVhY2ggZWxlbWVudC5cbiAgICAgKiBUaGUgaXRlcmF0ZWUgaXMgaW52b2tlZCB3aXRoIHRocmVlIGFyZ3VtZW50czogKHZhbHVlLCBpbmRleHxrZXksIGNvbGxlY3Rpb24pLlxuICAgICAqIEl0ZXJhdGVlIGZ1bmN0aW9ucyBtYXkgZXhpdCBpdGVyYXRpb24gZWFybHkgYnkgZXhwbGljaXRseSByZXR1cm5pbmcgYGZhbHNlYC5cbiAgICAgKlxuICAgICAqICoqTm90ZToqKiBBcyB3aXRoIG90aGVyIFwiQ29sbGVjdGlvbnNcIiBtZXRob2RzLCBvYmplY3RzIHdpdGggYSBcImxlbmd0aFwiXG4gICAgICogcHJvcGVydHkgYXJlIGl0ZXJhdGVkIGxpa2UgYXJyYXlzLiBUbyBhdm9pZCB0aGlzIGJlaGF2aW9yIHVzZSBgXy5mb3JJbmBcbiAgICAgKiBvciBgXy5mb3JPd25gIGZvciBvYmplY3QgaXRlcmF0aW9uLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDAuMS4wXG4gICAgICogQGFsaWFzIGVhY2hcbiAgICAgKiBAY2F0ZWdvcnkgQ29sbGVjdGlvblxuICAgICAqIEBwYXJhbSB7QXJyYXl8T2JqZWN0fSBjb2xsZWN0aW9uIFRoZSBjb2xsZWN0aW9uIHRvIGl0ZXJhdGUgb3Zlci5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbaXRlcmF0ZWU9Xy5pZGVudGl0eV0gVGhlIGZ1bmN0aW9uIGludm9rZWQgcGVyIGl0ZXJhdGlvbi5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl8T2JqZWN0fSBSZXR1cm5zIGBjb2xsZWN0aW9uYC5cbiAgICAgKiBAc2VlIF8uZm9yRWFjaFJpZ2h0XG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uZm9yRWFjaChbMSwgMl0sIGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgICogICBjb25zb2xlLmxvZyh2YWx1ZSk7XG4gICAgICogfSk7XG4gICAgICogLy8gPT4gTG9ncyBgMWAgdGhlbiBgMmAuXG4gICAgICpcbiAgICAgKiBfLmZvckVhY2goeyAnYSc6IDEsICdiJzogMiB9LCBmdW5jdGlvbih2YWx1ZSwga2V5KSB7XG4gICAgICogICBjb25zb2xlLmxvZyhrZXkpO1xuICAgICAqIH0pO1xuICAgICAqIC8vID0+IExvZ3MgJ2EnIHRoZW4gJ2InIChpdGVyYXRpb24gb3JkZXIgaXMgbm90IGd1YXJhbnRlZWQpLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGZvckVhY2goY29sbGVjdGlvbiwgaXRlcmF0ZWUpIHtcbiAgICAgIHZhciBmdW5jID0gaXNBcnJheShjb2xsZWN0aW9uKSA/IGFycmF5RWFjaCA6IGJhc2VFYWNoO1xuICAgICAgcmV0dXJuIGZ1bmMoY29sbGVjdGlvbiwgZ2V0SXRlcmF0ZWUoaXRlcmF0ZWUsIDMpKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCBpcyBsaWtlIGBfLmZvckVhY2hgIGV4Y2VwdCB0aGF0IGl0IGl0ZXJhdGVzIG92ZXIgZWxlbWVudHMgb2ZcbiAgICAgKiBgY29sbGVjdGlvbmAgZnJvbSByaWdodCB0byBsZWZ0LlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDIuMC4wXG4gICAgICogQGFsaWFzIGVhY2hSaWdodFxuICAgICAqIEBjYXRlZ29yeSBDb2xsZWN0aW9uXG4gICAgICogQHBhcmFtIHtBcnJheXxPYmplY3R9IGNvbGxlY3Rpb24gVGhlIGNvbGxlY3Rpb24gdG8gaXRlcmF0ZSBvdmVyLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtpdGVyYXRlZT1fLmlkZW50aXR5XSBUaGUgZnVuY3Rpb24gaW52b2tlZCBwZXIgaXRlcmF0aW9uLlxuICAgICAqIEByZXR1cm5zIHtBcnJheXxPYmplY3R9IFJldHVybnMgYGNvbGxlY3Rpb25gLlxuICAgICAqIEBzZWUgXy5mb3JFYWNoXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uZm9yRWFjaFJpZ2h0KFsxLCAyXSwgZnVuY3Rpb24odmFsdWUpIHtcbiAgICAgKiAgIGNvbnNvbGUubG9nKHZhbHVlKTtcbiAgICAgKiB9KTtcbiAgICAgKiAvLyA9PiBMb2dzIGAyYCB0aGVuIGAxYC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBmb3JFYWNoUmlnaHQoY29sbGVjdGlvbiwgaXRlcmF0ZWUpIHtcbiAgICAgIHZhciBmdW5jID0gaXNBcnJheShjb2xsZWN0aW9uKSA/IGFycmF5RWFjaFJpZ2h0IDogYmFzZUVhY2hSaWdodDtcbiAgICAgIHJldHVybiBmdW5jKGNvbGxlY3Rpb24sIGdldEl0ZXJhdGVlKGl0ZXJhdGVlLCAzKSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhbiBvYmplY3QgY29tcG9zZWQgb2Yga2V5cyBnZW5lcmF0ZWQgZnJvbSB0aGUgcmVzdWx0cyBvZiBydW5uaW5nXG4gICAgICogZWFjaCBlbGVtZW50IG9mIGBjb2xsZWN0aW9uYCB0aHJ1IGBpdGVyYXRlZWAuIFRoZSBvcmRlciBvZiBncm91cGVkIHZhbHVlc1xuICAgICAqIGlzIGRldGVybWluZWQgYnkgdGhlIG9yZGVyIHRoZXkgb2NjdXIgaW4gYGNvbGxlY3Rpb25gLiBUaGUgY29ycmVzcG9uZGluZ1xuICAgICAqIHZhbHVlIG9mIGVhY2gga2V5IGlzIGFuIGFycmF5IG9mIGVsZW1lbnRzIHJlc3BvbnNpYmxlIGZvciBnZW5lcmF0aW5nIHRoZVxuICAgICAqIGtleS4gVGhlIGl0ZXJhdGVlIGlzIGludm9rZWQgd2l0aCBvbmUgYXJndW1lbnQ6ICh2YWx1ZSkuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMC4xLjBcbiAgICAgKiBAY2F0ZWdvcnkgQ29sbGVjdGlvblxuICAgICAqIEBwYXJhbSB7QXJyYXl8T2JqZWN0fSBjb2xsZWN0aW9uIFRoZSBjb2xsZWN0aW9uIHRvIGl0ZXJhdGUgb3Zlci5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbaXRlcmF0ZWU9Xy5pZGVudGl0eV0gVGhlIGl0ZXJhdGVlIHRvIHRyYW5zZm9ybSBrZXlzLlxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgdGhlIGNvbXBvc2VkIGFnZ3JlZ2F0ZSBvYmplY3QuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uZ3JvdXBCeShbNi4xLCA0LjIsIDYuM10sIE1hdGguZmxvb3IpO1xuICAgICAqIC8vID0+IHsgJzQnOiBbNC4yXSwgJzYnOiBbNi4xLCA2LjNdIH1cbiAgICAgKlxuICAgICAqIC8vIFRoZSBgXy5wcm9wZXJ0eWAgaXRlcmF0ZWUgc2hvcnRoYW5kLlxuICAgICAqIF8uZ3JvdXBCeShbJ29uZScsICd0d28nLCAndGhyZWUnXSwgJ2xlbmd0aCcpO1xuICAgICAqIC8vID0+IHsgJzMnOiBbJ29uZScsICd0d28nXSwgJzUnOiBbJ3RocmVlJ10gfVxuICAgICAqL1xuICAgIHZhciBncm91cEJ5ID0gY3JlYXRlQWdncmVnYXRvcihmdW5jdGlvbihyZXN1bHQsIHZhbHVlLCBrZXkpIHtcbiAgICAgIGlmIChoYXNPd25Qcm9wZXJ0eS5jYWxsKHJlc3VsdCwga2V5KSkge1xuICAgICAgICByZXN1bHRba2V5XS5wdXNoKHZhbHVlKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGJhc2VBc3NpZ25WYWx1ZShyZXN1bHQsIGtleSwgW3ZhbHVlXSk7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICAvKipcbiAgICAgKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBpbiBgY29sbGVjdGlvbmAuIElmIGBjb2xsZWN0aW9uYCBpcyBhIHN0cmluZywgaXQnc1xuICAgICAqIGNoZWNrZWQgZm9yIGEgc3Vic3RyaW5nIG9mIGB2YWx1ZWAsIG90aGVyd2lzZVxuICAgICAqIFtgU2FtZVZhbHVlWmVyb2BdKGh0dHA6Ly9lY21hLWludGVybmF0aW9uYWwub3JnL2VjbWEtMjYyLzcuMC8jc2VjLXNhbWV2YWx1ZXplcm8pXG4gICAgICogaXMgdXNlZCBmb3IgZXF1YWxpdHkgY29tcGFyaXNvbnMuIElmIGBmcm9tSW5kZXhgIGlzIG5lZ2F0aXZlLCBpdCdzIHVzZWQgYXNcbiAgICAgKiB0aGUgb2Zmc2V0IGZyb20gdGhlIGVuZCBvZiBgY29sbGVjdGlvbmAuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMC4xLjBcbiAgICAgKiBAY2F0ZWdvcnkgQ29sbGVjdGlvblxuICAgICAqIEBwYXJhbSB7QXJyYXl8T2JqZWN0fHN0cmluZ30gY29sbGVjdGlvbiBUaGUgY29sbGVjdGlvbiB0byBpbnNwZWN0LlxuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIHNlYXJjaCBmb3IuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtmcm9tSW5kZXg9MF0gVGhlIGluZGV4IHRvIHNlYXJjaCBmcm9tLlxuICAgICAqIEBwYXJhbS0ge09iamVjdH0gW2d1YXJkXSBFbmFibGVzIHVzZSBhcyBhbiBpdGVyYXRlZSBmb3IgbWV0aG9kcyBsaWtlIGBfLnJlZHVjZWAuXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgZm91bmQsIGVsc2UgYGZhbHNlYC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5pbmNsdWRlcyhbMSwgMiwgM10sIDEpO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKlxuICAgICAqIF8uaW5jbHVkZXMoWzEsIDIsIDNdLCAxLCAyKTtcbiAgICAgKiAvLyA9PiBmYWxzZVxuICAgICAqXG4gICAgICogXy5pbmNsdWRlcyh7ICdhJzogMSwgJ2InOiAyIH0sIDEpO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKlxuICAgICAqIF8uaW5jbHVkZXMoJ2FiY2QnLCAnYmMnKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICovXG4gICAgZnVuY3Rpb24gaW5jbHVkZXMoY29sbGVjdGlvbiwgdmFsdWUsIGZyb21JbmRleCwgZ3VhcmQpIHtcbiAgICAgIGNvbGxlY3Rpb24gPSBpc0FycmF5TGlrZShjb2xsZWN0aW9uKSA/IGNvbGxlY3Rpb24gOiB2YWx1ZXMoY29sbGVjdGlvbik7XG4gICAgICBmcm9tSW5kZXggPSAoZnJvbUluZGV4ICYmICFndWFyZCkgPyB0b0ludGVnZXIoZnJvbUluZGV4KSA6IDA7XG5cbiAgICAgIHZhciBsZW5ndGggPSBjb2xsZWN0aW9uLmxlbmd0aDtcbiAgICAgIGlmIChmcm9tSW5kZXggPCAwKSB7XG4gICAgICAgIGZyb21JbmRleCA9IG5hdGl2ZU1heChsZW5ndGggKyBmcm9tSW5kZXgsIDApO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGlzU3RyaW5nKGNvbGxlY3Rpb24pXG4gICAgICAgID8gKGZyb21JbmRleCA8PSBsZW5ndGggJiYgY29sbGVjdGlvbi5pbmRleE9mKHZhbHVlLCBmcm9tSW5kZXgpID4gLTEpXG4gICAgICAgIDogKCEhbGVuZ3RoICYmIGJhc2VJbmRleE9mKGNvbGxlY3Rpb24sIHZhbHVlLCBmcm9tSW5kZXgpID4gLTEpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEludm9rZXMgdGhlIG1ldGhvZCBhdCBgcGF0aGAgb2YgZWFjaCBlbGVtZW50IGluIGBjb2xsZWN0aW9uYCwgcmV0dXJuaW5nXG4gICAgICogYW4gYXJyYXkgb2YgdGhlIHJlc3VsdHMgb2YgZWFjaCBpbnZva2VkIG1ldGhvZC4gQW55IGFkZGl0aW9uYWwgYXJndW1lbnRzXG4gICAgICogYXJlIHByb3ZpZGVkIHRvIGVhY2ggaW52b2tlZCBtZXRob2QuIElmIGBwYXRoYCBpcyBhIGZ1bmN0aW9uLCBpdCdzIGludm9rZWRcbiAgICAgKiBmb3IsIGFuZCBgdGhpc2AgYm91bmQgdG8sIGVhY2ggZWxlbWVudCBpbiBgY29sbGVjdGlvbmAuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgQ29sbGVjdGlvblxuICAgICAqIEBwYXJhbSB7QXJyYXl8T2JqZWN0fSBjb2xsZWN0aW9uIFRoZSBjb2xsZWN0aW9uIHRvIGl0ZXJhdGUgb3Zlci5cbiAgICAgKiBAcGFyYW0ge0FycmF5fEZ1bmN0aW9ufHN0cmluZ30gcGF0aCBUaGUgcGF0aCBvZiB0aGUgbWV0aG9kIHRvIGludm9rZSBvclxuICAgICAqICB0aGUgZnVuY3Rpb24gaW52b2tlZCBwZXIgaXRlcmF0aW9uLlxuICAgICAqIEBwYXJhbSB7Li4uKn0gW2FyZ3NdIFRoZSBhcmd1bWVudHMgdG8gaW52b2tlIGVhY2ggbWV0aG9kIHdpdGguXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBhcnJheSBvZiByZXN1bHRzLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmludm9rZU1hcChbWzUsIDEsIDddLCBbMywgMiwgMV1dLCAnc29ydCcpO1xuICAgICAqIC8vID0+IFtbMSwgNSwgN10sIFsxLCAyLCAzXV1cbiAgICAgKlxuICAgICAqIF8uaW52b2tlTWFwKFsxMjMsIDQ1Nl0sIFN0cmluZy5wcm90b3R5cGUuc3BsaXQsICcnKTtcbiAgICAgKiAvLyA9PiBbWycxJywgJzInLCAnMyddLCBbJzQnLCAnNScsICc2J11dXG4gICAgICovXG4gICAgdmFyIGludm9rZU1hcCA9IGJhc2VSZXN0KGZ1bmN0aW9uKGNvbGxlY3Rpb24sIHBhdGgsIGFyZ3MpIHtcbiAgICAgIHZhciBpbmRleCA9IC0xLFxuICAgICAgICAgIGlzRnVuYyA9IHR5cGVvZiBwYXRoID09ICdmdW5jdGlvbicsXG4gICAgICAgICAgcmVzdWx0ID0gaXNBcnJheUxpa2UoY29sbGVjdGlvbikgPyBBcnJheShjb2xsZWN0aW9uLmxlbmd0aCkgOiBbXTtcblxuICAgICAgYmFzZUVhY2goY29sbGVjdGlvbiwgZnVuY3Rpb24odmFsdWUpIHtcbiAgICAgICAgcmVzdWx0WysraW5kZXhdID0gaXNGdW5jID8gYXBwbHkocGF0aCwgdmFsdWUsIGFyZ3MpIDogYmFzZUludm9rZSh2YWx1ZSwgcGF0aCwgYXJncyk7XG4gICAgICB9KTtcbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfSk7XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGFuIG9iamVjdCBjb21wb3NlZCBvZiBrZXlzIGdlbmVyYXRlZCBmcm9tIHRoZSByZXN1bHRzIG9mIHJ1bm5pbmdcbiAgICAgKiBlYWNoIGVsZW1lbnQgb2YgYGNvbGxlY3Rpb25gIHRocnUgYGl0ZXJhdGVlYC4gVGhlIGNvcnJlc3BvbmRpbmcgdmFsdWUgb2ZcbiAgICAgKiBlYWNoIGtleSBpcyB0aGUgbGFzdCBlbGVtZW50IHJlc3BvbnNpYmxlIGZvciBnZW5lcmF0aW5nIHRoZSBrZXkuIFRoZVxuICAgICAqIGl0ZXJhdGVlIGlzIGludm9rZWQgd2l0aCBvbmUgYXJndW1lbnQ6ICh2YWx1ZSkuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgQ29sbGVjdGlvblxuICAgICAqIEBwYXJhbSB7QXJyYXl8T2JqZWN0fSBjb2xsZWN0aW9uIFRoZSBjb2xsZWN0aW9uIHRvIGl0ZXJhdGUgb3Zlci5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbaXRlcmF0ZWU9Xy5pZGVudGl0eV0gVGhlIGl0ZXJhdGVlIHRvIHRyYW5zZm9ybSBrZXlzLlxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgdGhlIGNvbXBvc2VkIGFnZ3JlZ2F0ZSBvYmplY3QuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBhcnJheSA9IFtcbiAgICAgKiAgIHsgJ2Rpcic6ICdsZWZ0JywgJ2NvZGUnOiA5NyB9LFxuICAgICAqICAgeyAnZGlyJzogJ3JpZ2h0JywgJ2NvZGUnOiAxMDAgfVxuICAgICAqIF07XG4gICAgICpcbiAgICAgKiBfLmtleUJ5KGFycmF5LCBmdW5jdGlvbihvKSB7XG4gICAgICogICByZXR1cm4gU3RyaW5nLmZyb21DaGFyQ29kZShvLmNvZGUpO1xuICAgICAqIH0pO1xuICAgICAqIC8vID0+IHsgJ2EnOiB7ICdkaXInOiAnbGVmdCcsICdjb2RlJzogOTcgfSwgJ2QnOiB7ICdkaXInOiAncmlnaHQnLCAnY29kZSc6IDEwMCB9IH1cbiAgICAgKlxuICAgICAqIF8ua2V5QnkoYXJyYXksICdkaXInKTtcbiAgICAgKiAvLyA9PiB7ICdsZWZ0JzogeyAnZGlyJzogJ2xlZnQnLCAnY29kZSc6IDk3IH0sICdyaWdodCc6IHsgJ2Rpcic6ICdyaWdodCcsICdjb2RlJzogMTAwIH0gfVxuICAgICAqL1xuICAgIHZhciBrZXlCeSA9IGNyZWF0ZUFnZ3JlZ2F0b3IoZnVuY3Rpb24ocmVzdWx0LCB2YWx1ZSwga2V5KSB7XG4gICAgICBiYXNlQXNzaWduVmFsdWUocmVzdWx0LCBrZXksIHZhbHVlKTtcbiAgICB9KTtcblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYW4gYXJyYXkgb2YgdmFsdWVzIGJ5IHJ1bm5pbmcgZWFjaCBlbGVtZW50IGluIGBjb2xsZWN0aW9uYCB0aHJ1XG4gICAgICogYGl0ZXJhdGVlYC4gVGhlIGl0ZXJhdGVlIGlzIGludm9rZWQgd2l0aCB0aHJlZSBhcmd1bWVudHM6XG4gICAgICogKHZhbHVlLCBpbmRleHxrZXksIGNvbGxlY3Rpb24pLlxuICAgICAqXG4gICAgICogTWFueSBsb2Rhc2ggbWV0aG9kcyBhcmUgZ3VhcmRlZCB0byB3b3JrIGFzIGl0ZXJhdGVlcyBmb3IgbWV0aG9kcyBsaWtlXG4gICAgICogYF8uZXZlcnlgLCBgXy5maWx0ZXJgLCBgXy5tYXBgLCBgXy5tYXBWYWx1ZXNgLCBgXy5yZWplY3RgLCBhbmQgYF8uc29tZWAuXG4gICAgICpcbiAgICAgKiBUaGUgZ3VhcmRlZCBtZXRob2RzIGFyZTpcbiAgICAgKiBgYXJ5YCwgYGNodW5rYCwgYGN1cnJ5YCwgYGN1cnJ5UmlnaHRgLCBgZHJvcGAsIGBkcm9wUmlnaHRgLCBgZXZlcnlgLFxuICAgICAqIGBmaWxsYCwgYGludmVydGAsIGBwYXJzZUludGAsIGByYW5kb21gLCBgcmFuZ2VgLCBgcmFuZ2VSaWdodGAsIGByZXBlYXRgLFxuICAgICAqIGBzYW1wbGVTaXplYCwgYHNsaWNlYCwgYHNvbWVgLCBgc29ydEJ5YCwgYHNwbGl0YCwgYHRha2VgLCBgdGFrZVJpZ2h0YCxcbiAgICAgKiBgdGVtcGxhdGVgLCBgdHJpbWAsIGB0cmltRW5kYCwgYHRyaW1TdGFydGAsIGFuZCBgd29yZHNgXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMC4xLjBcbiAgICAgKiBAY2F0ZWdvcnkgQ29sbGVjdGlvblxuICAgICAqIEBwYXJhbSB7QXJyYXl8T2JqZWN0fSBjb2xsZWN0aW9uIFRoZSBjb2xsZWN0aW9uIHRvIGl0ZXJhdGUgb3Zlci5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbaXRlcmF0ZWU9Xy5pZGVudGl0eV0gVGhlIGZ1bmN0aW9uIGludm9rZWQgcGVyIGl0ZXJhdGlvbi5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIG5ldyBtYXBwZWQgYXJyYXkuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIGZ1bmN0aW9uIHNxdWFyZShuKSB7XG4gICAgICogICByZXR1cm4gbiAqIG47XG4gICAgICogfVxuICAgICAqXG4gICAgICogXy5tYXAoWzQsIDhdLCBzcXVhcmUpO1xuICAgICAqIC8vID0+IFsxNiwgNjRdXG4gICAgICpcbiAgICAgKiBfLm1hcCh7ICdhJzogNCwgJ2InOiA4IH0sIHNxdWFyZSk7XG4gICAgICogLy8gPT4gWzE2LCA2NF0gKGl0ZXJhdGlvbiBvcmRlciBpcyBub3QgZ3VhcmFudGVlZClcbiAgICAgKlxuICAgICAqIHZhciB1c2VycyA9IFtcbiAgICAgKiAgIHsgJ3VzZXInOiAnYmFybmV5JyB9LFxuICAgICAqICAgeyAndXNlcic6ICdmcmVkJyB9XG4gICAgICogXTtcbiAgICAgKlxuICAgICAqIC8vIFRoZSBgXy5wcm9wZXJ0eWAgaXRlcmF0ZWUgc2hvcnRoYW5kLlxuICAgICAqIF8ubWFwKHVzZXJzLCAndXNlcicpO1xuICAgICAqIC8vID0+IFsnYmFybmV5JywgJ2ZyZWQnXVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIG1hcChjb2xsZWN0aW9uLCBpdGVyYXRlZSkge1xuICAgICAgdmFyIGZ1bmMgPSBpc0FycmF5KGNvbGxlY3Rpb24pID8gYXJyYXlNYXAgOiBiYXNlTWFwO1xuICAgICAgcmV0dXJuIGZ1bmMoY29sbGVjdGlvbiwgZ2V0SXRlcmF0ZWUoaXRlcmF0ZWUsIDMpKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCBpcyBsaWtlIGBfLnNvcnRCeWAgZXhjZXB0IHRoYXQgaXQgYWxsb3dzIHNwZWNpZnlpbmcgdGhlIHNvcnRcbiAgICAgKiBvcmRlcnMgb2YgdGhlIGl0ZXJhdGVlcyB0byBzb3J0IGJ5LiBJZiBgb3JkZXJzYCBpcyB1bnNwZWNpZmllZCwgYWxsIHZhbHVlc1xuICAgICAqIGFyZSBzb3J0ZWQgaW4gYXNjZW5kaW5nIG9yZGVyLiBPdGhlcndpc2UsIHNwZWNpZnkgYW4gb3JkZXIgb2YgXCJkZXNjXCIgZm9yXG4gICAgICogZGVzY2VuZGluZyBvciBcImFzY1wiIGZvciBhc2NlbmRpbmcgc29ydCBvcmRlciBvZiBjb3JyZXNwb25kaW5nIHZhbHVlcy5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBDb2xsZWN0aW9uXG4gICAgICogQHBhcmFtIHtBcnJheXxPYmplY3R9IGNvbGxlY3Rpb24gVGhlIGNvbGxlY3Rpb24gdG8gaXRlcmF0ZSBvdmVyLlxuICAgICAqIEBwYXJhbSB7QXJyYXlbXXxGdW5jdGlvbltdfE9iamVjdFtdfHN0cmluZ1tdfSBbaXRlcmF0ZWVzPVtfLmlkZW50aXR5XV1cbiAgICAgKiAgVGhlIGl0ZXJhdGVlcyB0byBzb3J0IGJ5LlxuICAgICAqIEBwYXJhbSB7c3RyaW5nW119IFtvcmRlcnNdIFRoZSBzb3J0IG9yZGVycyBvZiBgaXRlcmF0ZWVzYC5cbiAgICAgKiBAcGFyYW0tIHtPYmplY3R9IFtndWFyZF0gRW5hYmxlcyB1c2UgYXMgYW4gaXRlcmF0ZWUgZm9yIG1ldGhvZHMgbGlrZSBgXy5yZWR1Y2VgLlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgbmV3IHNvcnRlZCBhcnJheS5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIHVzZXJzID0gW1xuICAgICAqICAgeyAndXNlcic6ICdmcmVkJywgICAnYWdlJzogNDggfSxcbiAgICAgKiAgIHsgJ3VzZXInOiAnYmFybmV5JywgJ2FnZSc6IDM0IH0sXG4gICAgICogICB7ICd1c2VyJzogJ2ZyZWQnLCAgICdhZ2UnOiA0MCB9LFxuICAgICAqICAgeyAndXNlcic6ICdiYXJuZXknLCAnYWdlJzogMzYgfVxuICAgICAqIF07XG4gICAgICpcbiAgICAgKiAvLyBTb3J0IGJ5IGB1c2VyYCBpbiBhc2NlbmRpbmcgb3JkZXIgYW5kIGJ5IGBhZ2VgIGluIGRlc2NlbmRpbmcgb3JkZXIuXG4gICAgICogXy5vcmRlckJ5KHVzZXJzLCBbJ3VzZXInLCAnYWdlJ10sIFsnYXNjJywgJ2Rlc2MnXSk7XG4gICAgICogLy8gPT4gb2JqZWN0cyBmb3IgW1snYmFybmV5JywgMzZdLCBbJ2Jhcm5leScsIDM0XSwgWydmcmVkJywgNDhdLCBbJ2ZyZWQnLCA0MF1dXG4gICAgICovXG4gICAgZnVuY3Rpb24gb3JkZXJCeShjb2xsZWN0aW9uLCBpdGVyYXRlZXMsIG9yZGVycywgZ3VhcmQpIHtcbiAgICAgIGlmIChjb2xsZWN0aW9uID09IG51bGwpIHtcbiAgICAgICAgcmV0dXJuIFtdO1xuICAgICAgfVxuICAgICAgaWYgKCFpc0FycmF5KGl0ZXJhdGVlcykpIHtcbiAgICAgICAgaXRlcmF0ZWVzID0gaXRlcmF0ZWVzID09IG51bGwgPyBbXSA6IFtpdGVyYXRlZXNdO1xuICAgICAgfVxuICAgICAgb3JkZXJzID0gZ3VhcmQgPyB1bmRlZmluZWQgOiBvcmRlcnM7XG4gICAgICBpZiAoIWlzQXJyYXkob3JkZXJzKSkge1xuICAgICAgICBvcmRlcnMgPSBvcmRlcnMgPT0gbnVsbCA/IFtdIDogW29yZGVyc107XG4gICAgICB9XG4gICAgICByZXR1cm4gYmFzZU9yZGVyQnkoY29sbGVjdGlvbiwgaXRlcmF0ZWVzLCBvcmRlcnMpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYW4gYXJyYXkgb2YgZWxlbWVudHMgc3BsaXQgaW50byB0d28gZ3JvdXBzLCB0aGUgZmlyc3Qgb2Ygd2hpY2hcbiAgICAgKiBjb250YWlucyBlbGVtZW50cyBgcHJlZGljYXRlYCByZXR1cm5zIHRydXRoeSBmb3IsIHRoZSBzZWNvbmQgb2Ygd2hpY2hcbiAgICAgKiBjb250YWlucyBlbGVtZW50cyBgcHJlZGljYXRlYCByZXR1cm5zIGZhbHNleSBmb3IuIFRoZSBwcmVkaWNhdGUgaXNcbiAgICAgKiBpbnZva2VkIHdpdGggb25lIGFyZ3VtZW50OiAodmFsdWUpLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDMuMC4wXG4gICAgICogQGNhdGVnb3J5IENvbGxlY3Rpb25cbiAgICAgKiBAcGFyYW0ge0FycmF5fE9iamVjdH0gY29sbGVjdGlvbiBUaGUgY29sbGVjdGlvbiB0byBpdGVyYXRlIG92ZXIuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW3ByZWRpY2F0ZT1fLmlkZW50aXR5XSBUaGUgZnVuY3Rpb24gaW52b2tlZCBwZXIgaXRlcmF0aW9uLlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgYXJyYXkgb2YgZ3JvdXBlZCBlbGVtZW50cy5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIHVzZXJzID0gW1xuICAgICAqICAgeyAndXNlcic6ICdiYXJuZXknLCAgJ2FnZSc6IDM2LCAnYWN0aXZlJzogZmFsc2UgfSxcbiAgICAgKiAgIHsgJ3VzZXInOiAnZnJlZCcsICAgICdhZ2UnOiA0MCwgJ2FjdGl2ZSc6IHRydWUgfSxcbiAgICAgKiAgIHsgJ3VzZXInOiAncGViYmxlcycsICdhZ2UnOiAxLCAgJ2FjdGl2ZSc6IGZhbHNlIH1cbiAgICAgKiBdO1xuICAgICAqXG4gICAgICogXy5wYXJ0aXRpb24odXNlcnMsIGZ1bmN0aW9uKG8pIHsgcmV0dXJuIG8uYWN0aXZlOyB9KTtcbiAgICAgKiAvLyA9PiBvYmplY3RzIGZvciBbWydmcmVkJ10sIFsnYmFybmV5JywgJ3BlYmJsZXMnXV1cbiAgICAgKlxuICAgICAqIC8vIFRoZSBgXy5tYXRjaGVzYCBpdGVyYXRlZSBzaG9ydGhhbmQuXG4gICAgICogXy5wYXJ0aXRpb24odXNlcnMsIHsgJ2FnZSc6IDEsICdhY3RpdmUnOiBmYWxzZSB9KTtcbiAgICAgKiAvLyA9PiBvYmplY3RzIGZvciBbWydwZWJibGVzJ10sIFsnYmFybmV5JywgJ2ZyZWQnXV1cbiAgICAgKlxuICAgICAqIC8vIFRoZSBgXy5tYXRjaGVzUHJvcGVydHlgIGl0ZXJhdGVlIHNob3J0aGFuZC5cbiAgICAgKiBfLnBhcnRpdGlvbih1c2VycywgWydhY3RpdmUnLCBmYWxzZV0pO1xuICAgICAqIC8vID0+IG9iamVjdHMgZm9yIFtbJ2Jhcm5leScsICdwZWJibGVzJ10sIFsnZnJlZCddXVxuICAgICAqXG4gICAgICogLy8gVGhlIGBfLnByb3BlcnR5YCBpdGVyYXRlZSBzaG9ydGhhbmQuXG4gICAgICogXy5wYXJ0aXRpb24odXNlcnMsICdhY3RpdmUnKTtcbiAgICAgKiAvLyA9PiBvYmplY3RzIGZvciBbWydmcmVkJ10sIFsnYmFybmV5JywgJ3BlYmJsZXMnXV1cbiAgICAgKi9cbiAgICB2YXIgcGFydGl0aW9uID0gY3JlYXRlQWdncmVnYXRvcihmdW5jdGlvbihyZXN1bHQsIHZhbHVlLCBrZXkpIHtcbiAgICAgIHJlc3VsdFtrZXkgPyAwIDogMV0ucHVzaCh2YWx1ZSk7XG4gICAgfSwgZnVuY3Rpb24oKSB7IHJldHVybiBbW10sIFtdXTsgfSk7XG5cbiAgICAvKipcbiAgICAgKiBSZWR1Y2VzIGBjb2xsZWN0aW9uYCB0byBhIHZhbHVlIHdoaWNoIGlzIHRoZSBhY2N1bXVsYXRlZCByZXN1bHQgb2YgcnVubmluZ1xuICAgICAqIGVhY2ggZWxlbWVudCBpbiBgY29sbGVjdGlvbmAgdGhydSBgaXRlcmF0ZWVgLCB3aGVyZSBlYWNoIHN1Y2Nlc3NpdmVcbiAgICAgKiBpbnZvY2F0aW9uIGlzIHN1cHBsaWVkIHRoZSByZXR1cm4gdmFsdWUgb2YgdGhlIHByZXZpb3VzLiBJZiBgYWNjdW11bGF0b3JgXG4gICAgICogaXMgbm90IGdpdmVuLCB0aGUgZmlyc3QgZWxlbWVudCBvZiBgY29sbGVjdGlvbmAgaXMgdXNlZCBhcyB0aGUgaW5pdGlhbFxuICAgICAqIHZhbHVlLiBUaGUgaXRlcmF0ZWUgaXMgaW52b2tlZCB3aXRoIGZvdXIgYXJndW1lbnRzOlxuICAgICAqIChhY2N1bXVsYXRvciwgdmFsdWUsIGluZGV4fGtleSwgY29sbGVjdGlvbikuXG4gICAgICpcbiAgICAgKiBNYW55IGxvZGFzaCBtZXRob2RzIGFyZSBndWFyZGVkIHRvIHdvcmsgYXMgaXRlcmF0ZWVzIGZvciBtZXRob2RzIGxpa2VcbiAgICAgKiBgXy5yZWR1Y2VgLCBgXy5yZWR1Y2VSaWdodGAsIGFuZCBgXy50cmFuc2Zvcm1gLlxuICAgICAqXG4gICAgICogVGhlIGd1YXJkZWQgbWV0aG9kcyBhcmU6XG4gICAgICogYGFzc2lnbmAsIGBkZWZhdWx0c2AsIGBkZWZhdWx0c0RlZXBgLCBgaW5jbHVkZXNgLCBgbWVyZ2VgLCBgb3JkZXJCeWAsXG4gICAgICogYW5kIGBzb3J0QnlgXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMC4xLjBcbiAgICAgKiBAY2F0ZWdvcnkgQ29sbGVjdGlvblxuICAgICAqIEBwYXJhbSB7QXJyYXl8T2JqZWN0fSBjb2xsZWN0aW9uIFRoZSBjb2xsZWN0aW9uIHRvIGl0ZXJhdGUgb3Zlci5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbaXRlcmF0ZWU9Xy5pZGVudGl0eV0gVGhlIGZ1bmN0aW9uIGludm9rZWQgcGVyIGl0ZXJhdGlvbi5cbiAgICAgKiBAcGFyYW0geyp9IFthY2N1bXVsYXRvcl0gVGhlIGluaXRpYWwgdmFsdWUuXG4gICAgICogQHJldHVybnMgeyp9IFJldHVybnMgdGhlIGFjY3VtdWxhdGVkIHZhbHVlLlxuICAgICAqIEBzZWUgXy5yZWR1Y2VSaWdodFxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLnJlZHVjZShbMSwgMl0sIGZ1bmN0aW9uKHN1bSwgbikge1xuICAgICAqICAgcmV0dXJuIHN1bSArIG47XG4gICAgICogfSwgMCk7XG4gICAgICogLy8gPT4gM1xuICAgICAqXG4gICAgICogXy5yZWR1Y2UoeyAnYSc6IDEsICdiJzogMiwgJ2MnOiAxIH0sIGZ1bmN0aW9uKHJlc3VsdCwgdmFsdWUsIGtleSkge1xuICAgICAqICAgKHJlc3VsdFt2YWx1ZV0gfHwgKHJlc3VsdFt2YWx1ZV0gPSBbXSkpLnB1c2goa2V5KTtcbiAgICAgKiAgIHJldHVybiByZXN1bHQ7XG4gICAgICogfSwge30pO1xuICAgICAqIC8vID0+IHsgJzEnOiBbJ2EnLCAnYyddLCAnMic6IFsnYiddIH0gKGl0ZXJhdGlvbiBvcmRlciBpcyBub3QgZ3VhcmFudGVlZClcbiAgICAgKi9cbiAgICBmdW5jdGlvbiByZWR1Y2UoY29sbGVjdGlvbiwgaXRlcmF0ZWUsIGFjY3VtdWxhdG9yKSB7XG4gICAgICB2YXIgZnVuYyA9IGlzQXJyYXkoY29sbGVjdGlvbikgPyBhcnJheVJlZHVjZSA6IGJhc2VSZWR1Y2UsXG4gICAgICAgICAgaW5pdEFjY3VtID0gYXJndW1lbnRzLmxlbmd0aCA8IDM7XG5cbiAgICAgIHJldHVybiBmdW5jKGNvbGxlY3Rpb24sIGdldEl0ZXJhdGVlKGl0ZXJhdGVlLCA0KSwgYWNjdW11bGF0b3IsIGluaXRBY2N1bSwgYmFzZUVhY2gpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIGlzIGxpa2UgYF8ucmVkdWNlYCBleGNlcHQgdGhhdCBpdCBpdGVyYXRlcyBvdmVyIGVsZW1lbnRzIG9mXG4gICAgICogYGNvbGxlY3Rpb25gIGZyb20gcmlnaHQgdG8gbGVmdC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAwLjEuMFxuICAgICAqIEBjYXRlZ29yeSBDb2xsZWN0aW9uXG4gICAgICogQHBhcmFtIHtBcnJheXxPYmplY3R9IGNvbGxlY3Rpb24gVGhlIGNvbGxlY3Rpb24gdG8gaXRlcmF0ZSBvdmVyLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtpdGVyYXRlZT1fLmlkZW50aXR5XSBUaGUgZnVuY3Rpb24gaW52b2tlZCBwZXIgaXRlcmF0aW9uLlxuICAgICAqIEBwYXJhbSB7Kn0gW2FjY3VtdWxhdG9yXSBUaGUgaW5pdGlhbCB2YWx1ZS5cbiAgICAgKiBAcmV0dXJucyB7Kn0gUmV0dXJucyB0aGUgYWNjdW11bGF0ZWQgdmFsdWUuXG4gICAgICogQHNlZSBfLnJlZHVjZVxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgYXJyYXkgPSBbWzAsIDFdLCBbMiwgM10sIFs0LCA1XV07XG4gICAgICpcbiAgICAgKiBfLnJlZHVjZVJpZ2h0KGFycmF5LCBmdW5jdGlvbihmbGF0dGVuZWQsIG90aGVyKSB7XG4gICAgICogICByZXR1cm4gZmxhdHRlbmVkLmNvbmNhdChvdGhlcik7XG4gICAgICogfSwgW10pO1xuICAgICAqIC8vID0+IFs0LCA1LCAyLCAzLCAwLCAxXVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHJlZHVjZVJpZ2h0KGNvbGxlY3Rpb24sIGl0ZXJhdGVlLCBhY2N1bXVsYXRvcikge1xuICAgICAgdmFyIGZ1bmMgPSBpc0FycmF5KGNvbGxlY3Rpb24pID8gYXJyYXlSZWR1Y2VSaWdodCA6IGJhc2VSZWR1Y2UsXG4gICAgICAgICAgaW5pdEFjY3VtID0gYXJndW1lbnRzLmxlbmd0aCA8IDM7XG5cbiAgICAgIHJldHVybiBmdW5jKGNvbGxlY3Rpb24sIGdldEl0ZXJhdGVlKGl0ZXJhdGVlLCA0KSwgYWNjdW11bGF0b3IsIGluaXRBY2N1bSwgYmFzZUVhY2hSaWdodCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIG9wcG9zaXRlIG9mIGBfLmZpbHRlcmA7IHRoaXMgbWV0aG9kIHJldHVybnMgdGhlIGVsZW1lbnRzIG9mIGBjb2xsZWN0aW9uYFxuICAgICAqIHRoYXQgYHByZWRpY2F0ZWAgZG9lcyAqKm5vdCoqIHJldHVybiB0cnV0aHkgZm9yLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDAuMS4wXG4gICAgICogQGNhdGVnb3J5IENvbGxlY3Rpb25cbiAgICAgKiBAcGFyYW0ge0FycmF5fE9iamVjdH0gY29sbGVjdGlvbiBUaGUgY29sbGVjdGlvbiB0byBpdGVyYXRlIG92ZXIuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW3ByZWRpY2F0ZT1fLmlkZW50aXR5XSBUaGUgZnVuY3Rpb24gaW52b2tlZCBwZXIgaXRlcmF0aW9uLlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgbmV3IGZpbHRlcmVkIGFycmF5LlxuICAgICAqIEBzZWUgXy5maWx0ZXJcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIHVzZXJzID0gW1xuICAgICAqICAgeyAndXNlcic6ICdiYXJuZXknLCAnYWdlJzogMzYsICdhY3RpdmUnOiBmYWxzZSB9LFxuICAgICAqICAgeyAndXNlcic6ICdmcmVkJywgICAnYWdlJzogNDAsICdhY3RpdmUnOiB0cnVlIH1cbiAgICAgKiBdO1xuICAgICAqXG4gICAgICogXy5yZWplY3QodXNlcnMsIGZ1bmN0aW9uKG8pIHsgcmV0dXJuICFvLmFjdGl2ZTsgfSk7XG4gICAgICogLy8gPT4gb2JqZWN0cyBmb3IgWydmcmVkJ11cbiAgICAgKlxuICAgICAqIC8vIFRoZSBgXy5tYXRjaGVzYCBpdGVyYXRlZSBzaG9ydGhhbmQuXG4gICAgICogXy5yZWplY3QodXNlcnMsIHsgJ2FnZSc6IDQwLCAnYWN0aXZlJzogdHJ1ZSB9KTtcbiAgICAgKiAvLyA9PiBvYmplY3RzIGZvciBbJ2Jhcm5leSddXG4gICAgICpcbiAgICAgKiAvLyBUaGUgYF8ubWF0Y2hlc1Byb3BlcnR5YCBpdGVyYXRlZSBzaG9ydGhhbmQuXG4gICAgICogXy5yZWplY3QodXNlcnMsIFsnYWN0aXZlJywgZmFsc2VdKTtcbiAgICAgKiAvLyA9PiBvYmplY3RzIGZvciBbJ2ZyZWQnXVxuICAgICAqXG4gICAgICogLy8gVGhlIGBfLnByb3BlcnR5YCBpdGVyYXRlZSBzaG9ydGhhbmQuXG4gICAgICogXy5yZWplY3QodXNlcnMsICdhY3RpdmUnKTtcbiAgICAgKiAvLyA9PiBvYmplY3RzIGZvciBbJ2Jhcm5leSddXG4gICAgICovXG4gICAgZnVuY3Rpb24gcmVqZWN0KGNvbGxlY3Rpb24sIHByZWRpY2F0ZSkge1xuICAgICAgdmFyIGZ1bmMgPSBpc0FycmF5KGNvbGxlY3Rpb24pID8gYXJyYXlGaWx0ZXIgOiBiYXNlRmlsdGVyO1xuICAgICAgcmV0dXJuIGZ1bmMoY29sbGVjdGlvbiwgbmVnYXRlKGdldEl0ZXJhdGVlKHByZWRpY2F0ZSwgMykpKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBHZXRzIGEgcmFuZG9tIGVsZW1lbnQgZnJvbSBgY29sbGVjdGlvbmAuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMi4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgQ29sbGVjdGlvblxuICAgICAqIEBwYXJhbSB7QXJyYXl8T2JqZWN0fSBjb2xsZWN0aW9uIFRoZSBjb2xsZWN0aW9uIHRvIHNhbXBsZS5cbiAgICAgKiBAcmV0dXJucyB7Kn0gUmV0dXJucyB0aGUgcmFuZG9tIGVsZW1lbnQuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uc2FtcGxlKFsxLCAyLCAzLCA0XSk7XG4gICAgICogLy8gPT4gMlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHNhbXBsZShjb2xsZWN0aW9uKSB7XG4gICAgICB2YXIgZnVuYyA9IGlzQXJyYXkoY29sbGVjdGlvbikgPyBhcnJheVNhbXBsZSA6IGJhc2VTYW1wbGU7XG4gICAgICByZXR1cm4gZnVuYyhjb2xsZWN0aW9uKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBHZXRzIGBuYCByYW5kb20gZWxlbWVudHMgYXQgdW5pcXVlIGtleXMgZnJvbSBgY29sbGVjdGlvbmAgdXAgdG8gdGhlXG4gICAgICogc2l6ZSBvZiBgY29sbGVjdGlvbmAuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgQ29sbGVjdGlvblxuICAgICAqIEBwYXJhbSB7QXJyYXl8T2JqZWN0fSBjb2xsZWN0aW9uIFRoZSBjb2xsZWN0aW9uIHRvIHNhbXBsZS5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW249MV0gVGhlIG51bWJlciBvZiBlbGVtZW50cyB0byBzYW1wbGUuXG4gICAgICogQHBhcmFtLSB7T2JqZWN0fSBbZ3VhcmRdIEVuYWJsZXMgdXNlIGFzIGFuIGl0ZXJhdGVlIGZvciBtZXRob2RzIGxpa2UgYF8ubWFwYC5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIHJhbmRvbSBlbGVtZW50cy5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5zYW1wbGVTaXplKFsxLCAyLCAzXSwgMik7XG4gICAgICogLy8gPT4gWzMsIDFdXG4gICAgICpcbiAgICAgKiBfLnNhbXBsZVNpemUoWzEsIDIsIDNdLCA0KTtcbiAgICAgKiAvLyA9PiBbMiwgMywgMV1cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBzYW1wbGVTaXplKGNvbGxlY3Rpb24sIG4sIGd1YXJkKSB7XG4gICAgICBpZiAoKGd1YXJkID8gaXNJdGVyYXRlZUNhbGwoY29sbGVjdGlvbiwgbiwgZ3VhcmQpIDogbiA9PT0gdW5kZWZpbmVkKSkge1xuICAgICAgICBuID0gMTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIG4gPSB0b0ludGVnZXIobik7XG4gICAgICB9XG4gICAgICB2YXIgZnVuYyA9IGlzQXJyYXkoY29sbGVjdGlvbikgPyBhcnJheVNhbXBsZVNpemUgOiBiYXNlU2FtcGxlU2l6ZTtcbiAgICAgIHJldHVybiBmdW5jKGNvbGxlY3Rpb24sIG4pO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYW4gYXJyYXkgb2Ygc2h1ZmZsZWQgdmFsdWVzLCB1c2luZyBhIHZlcnNpb24gb2YgdGhlXG4gICAgICogW0Zpc2hlci1ZYXRlcyBzaHVmZmxlXShodHRwczovL2VuLndpa2lwZWRpYS5vcmcvd2lraS9GaXNoZXItWWF0ZXNfc2h1ZmZsZSkuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMC4xLjBcbiAgICAgKiBAY2F0ZWdvcnkgQ29sbGVjdGlvblxuICAgICAqIEBwYXJhbSB7QXJyYXl8T2JqZWN0fSBjb2xsZWN0aW9uIFRoZSBjb2xsZWN0aW9uIHRvIHNodWZmbGUuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBuZXcgc2h1ZmZsZWQgYXJyYXkuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uc2h1ZmZsZShbMSwgMiwgMywgNF0pO1xuICAgICAqIC8vID0+IFs0LCAxLCAzLCAyXVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHNodWZmbGUoY29sbGVjdGlvbikge1xuICAgICAgdmFyIGZ1bmMgPSBpc0FycmF5KGNvbGxlY3Rpb24pID8gYXJyYXlTaHVmZmxlIDogYmFzZVNodWZmbGU7XG4gICAgICByZXR1cm4gZnVuYyhjb2xsZWN0aW9uKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBHZXRzIHRoZSBzaXplIG9mIGBjb2xsZWN0aW9uYCBieSByZXR1cm5pbmcgaXRzIGxlbmd0aCBmb3IgYXJyYXktbGlrZVxuICAgICAqIHZhbHVlcyBvciB0aGUgbnVtYmVyIG9mIG93biBlbnVtZXJhYmxlIHN0cmluZyBrZXllZCBwcm9wZXJ0aWVzIGZvciBvYmplY3RzLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDAuMS4wXG4gICAgICogQGNhdGVnb3J5IENvbGxlY3Rpb25cbiAgICAgKiBAcGFyYW0ge0FycmF5fE9iamVjdHxzdHJpbmd9IGNvbGxlY3Rpb24gVGhlIGNvbGxlY3Rpb24gdG8gaW5zcGVjdC5cbiAgICAgKiBAcmV0dXJucyB7bnVtYmVyfSBSZXR1cm5zIHRoZSBjb2xsZWN0aW9uIHNpemUuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uc2l6ZShbMSwgMiwgM10pO1xuICAgICAqIC8vID0+IDNcbiAgICAgKlxuICAgICAqIF8uc2l6ZSh7ICdhJzogMSwgJ2InOiAyIH0pO1xuICAgICAqIC8vID0+IDJcbiAgICAgKlxuICAgICAqIF8uc2l6ZSgncGViYmxlcycpO1xuICAgICAqIC8vID0+IDdcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBzaXplKGNvbGxlY3Rpb24pIHtcbiAgICAgIGlmIChjb2xsZWN0aW9uID09IG51bGwpIHtcbiAgICAgICAgcmV0dXJuIDA7XG4gICAgICB9XG4gICAgICBpZiAoaXNBcnJheUxpa2UoY29sbGVjdGlvbikpIHtcbiAgICAgICAgcmV0dXJuIGlzU3RyaW5nKGNvbGxlY3Rpb24pID8gc3RyaW5nU2l6ZShjb2xsZWN0aW9uKSA6IGNvbGxlY3Rpb24ubGVuZ3RoO1xuICAgICAgfVxuICAgICAgdmFyIHRhZyA9IGdldFRhZyhjb2xsZWN0aW9uKTtcbiAgICAgIGlmICh0YWcgPT0gbWFwVGFnIHx8IHRhZyA9PSBzZXRUYWcpIHtcbiAgICAgICAgcmV0dXJuIGNvbGxlY3Rpb24uc2l6ZTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBiYXNlS2V5cyhjb2xsZWN0aW9uKS5sZW5ndGg7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2hlY2tzIGlmIGBwcmVkaWNhdGVgIHJldHVybnMgdHJ1dGh5IGZvciAqKmFueSoqIGVsZW1lbnQgb2YgYGNvbGxlY3Rpb25gLlxuICAgICAqIEl0ZXJhdGlvbiBpcyBzdG9wcGVkIG9uY2UgYHByZWRpY2F0ZWAgcmV0dXJucyB0cnV0aHkuIFRoZSBwcmVkaWNhdGUgaXNcbiAgICAgKiBpbnZva2VkIHdpdGggdGhyZWUgYXJndW1lbnRzOiAodmFsdWUsIGluZGV4fGtleSwgY29sbGVjdGlvbikuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMC4xLjBcbiAgICAgKiBAY2F0ZWdvcnkgQ29sbGVjdGlvblxuICAgICAqIEBwYXJhbSB7QXJyYXl8T2JqZWN0fSBjb2xsZWN0aW9uIFRoZSBjb2xsZWN0aW9uIHRvIGl0ZXJhdGUgb3Zlci5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbcHJlZGljYXRlPV8uaWRlbnRpdHldIFRoZSBmdW5jdGlvbiBpbnZva2VkIHBlciBpdGVyYXRpb24uXG4gICAgICogQHBhcmFtLSB7T2JqZWN0fSBbZ3VhcmRdIEVuYWJsZXMgdXNlIGFzIGFuIGl0ZXJhdGVlIGZvciBtZXRob2RzIGxpa2UgYF8ubWFwYC5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYW55IGVsZW1lbnQgcGFzc2VzIHRoZSBwcmVkaWNhdGUgY2hlY2ssXG4gICAgICogIGVsc2UgYGZhbHNlYC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5zb21lKFtudWxsLCAwLCAneWVzJywgZmFsc2VdLCBCb29sZWFuKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiB2YXIgdXNlcnMgPSBbXG4gICAgICogICB7ICd1c2VyJzogJ2Jhcm5leScsICdhY3RpdmUnOiB0cnVlIH0sXG4gICAgICogICB7ICd1c2VyJzogJ2ZyZWQnLCAgICdhY3RpdmUnOiBmYWxzZSB9XG4gICAgICogXTtcbiAgICAgKlxuICAgICAqIC8vIFRoZSBgXy5tYXRjaGVzYCBpdGVyYXRlZSBzaG9ydGhhbmQuXG4gICAgICogXy5zb21lKHVzZXJzLCB7ICd1c2VyJzogJ2Jhcm5leScsICdhY3RpdmUnOiBmYWxzZSB9KTtcbiAgICAgKiAvLyA9PiBmYWxzZVxuICAgICAqXG4gICAgICogLy8gVGhlIGBfLm1hdGNoZXNQcm9wZXJ0eWAgaXRlcmF0ZWUgc2hvcnRoYW5kLlxuICAgICAqIF8uc29tZSh1c2VycywgWydhY3RpdmUnLCBmYWxzZV0pO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKlxuICAgICAqIC8vIFRoZSBgXy5wcm9wZXJ0eWAgaXRlcmF0ZWUgc2hvcnRoYW5kLlxuICAgICAqIF8uc29tZSh1c2VycywgJ2FjdGl2ZScpO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBzb21lKGNvbGxlY3Rpb24sIHByZWRpY2F0ZSwgZ3VhcmQpIHtcbiAgICAgIHZhciBmdW5jID0gaXNBcnJheShjb2xsZWN0aW9uKSA/IGFycmF5U29tZSA6IGJhc2VTb21lO1xuICAgICAgaWYgKGd1YXJkICYmIGlzSXRlcmF0ZWVDYWxsKGNvbGxlY3Rpb24sIHByZWRpY2F0ZSwgZ3VhcmQpKSB7XG4gICAgICAgIHByZWRpY2F0ZSA9IHVuZGVmaW5lZDtcbiAgICAgIH1cbiAgICAgIHJldHVybiBmdW5jKGNvbGxlY3Rpb24sIGdldEl0ZXJhdGVlKHByZWRpY2F0ZSwgMykpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYW4gYXJyYXkgb2YgZWxlbWVudHMsIHNvcnRlZCBpbiBhc2NlbmRpbmcgb3JkZXIgYnkgdGhlIHJlc3VsdHMgb2ZcbiAgICAgKiBydW5uaW5nIGVhY2ggZWxlbWVudCBpbiBhIGNvbGxlY3Rpb24gdGhydSBlYWNoIGl0ZXJhdGVlLiBUaGlzIG1ldGhvZFxuICAgICAqIHBlcmZvcm1zIGEgc3RhYmxlIHNvcnQsIHRoYXQgaXMsIGl0IHByZXNlcnZlcyB0aGUgb3JpZ2luYWwgc29ydCBvcmRlciBvZlxuICAgICAqIGVxdWFsIGVsZW1lbnRzLiBUaGUgaXRlcmF0ZWVzIGFyZSBpbnZva2VkIHdpdGggb25lIGFyZ3VtZW50OiAodmFsdWUpLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDAuMS4wXG4gICAgICogQGNhdGVnb3J5IENvbGxlY3Rpb25cbiAgICAgKiBAcGFyYW0ge0FycmF5fE9iamVjdH0gY29sbGVjdGlvbiBUaGUgY29sbGVjdGlvbiB0byBpdGVyYXRlIG92ZXIuXG4gICAgICogQHBhcmFtIHsuLi4oRnVuY3Rpb258RnVuY3Rpb25bXSl9IFtpdGVyYXRlZXM9W18uaWRlbnRpdHldXVxuICAgICAqICBUaGUgaXRlcmF0ZWVzIHRvIHNvcnQgYnkuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBuZXcgc29ydGVkIGFycmF5LlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgdXNlcnMgPSBbXG4gICAgICogICB7ICd1c2VyJzogJ2ZyZWQnLCAgICdhZ2UnOiA0OCB9LFxuICAgICAqICAgeyAndXNlcic6ICdiYXJuZXknLCAnYWdlJzogMzYgfSxcbiAgICAgKiAgIHsgJ3VzZXInOiAnZnJlZCcsICAgJ2FnZSc6IDQwIH0sXG4gICAgICogICB7ICd1c2VyJzogJ2Jhcm5leScsICdhZ2UnOiAzNCB9XG4gICAgICogXTtcbiAgICAgKlxuICAgICAqIF8uc29ydEJ5KHVzZXJzLCBbZnVuY3Rpb24obykgeyByZXR1cm4gby51c2VyOyB9XSk7XG4gICAgICogLy8gPT4gb2JqZWN0cyBmb3IgW1snYmFybmV5JywgMzZdLCBbJ2Jhcm5leScsIDM0XSwgWydmcmVkJywgNDhdLCBbJ2ZyZWQnLCA0MF1dXG4gICAgICpcbiAgICAgKiBfLnNvcnRCeSh1c2VycywgWyd1c2VyJywgJ2FnZSddKTtcbiAgICAgKiAvLyA9PiBvYmplY3RzIGZvciBbWydiYXJuZXknLCAzNF0sIFsnYmFybmV5JywgMzZdLCBbJ2ZyZWQnLCA0MF0sIFsnZnJlZCcsIDQ4XV1cbiAgICAgKi9cbiAgICB2YXIgc29ydEJ5ID0gYmFzZVJlc3QoZnVuY3Rpb24oY29sbGVjdGlvbiwgaXRlcmF0ZWVzKSB7XG4gICAgICBpZiAoY29sbGVjdGlvbiA9PSBudWxsKSB7XG4gICAgICAgIHJldHVybiBbXTtcbiAgICAgIH1cbiAgICAgIHZhciBsZW5ndGggPSBpdGVyYXRlZXMubGVuZ3RoO1xuICAgICAgaWYgKGxlbmd0aCA+IDEgJiYgaXNJdGVyYXRlZUNhbGwoY29sbGVjdGlvbiwgaXRlcmF0ZWVzWzBdLCBpdGVyYXRlZXNbMV0pKSB7XG4gICAgICAgIGl0ZXJhdGVlcyA9IFtdO1xuICAgICAgfSBlbHNlIGlmIChsZW5ndGggPiAyICYmIGlzSXRlcmF0ZWVDYWxsKGl0ZXJhdGVlc1swXSwgaXRlcmF0ZWVzWzFdLCBpdGVyYXRlZXNbMl0pKSB7XG4gICAgICAgIGl0ZXJhdGVlcyA9IFtpdGVyYXRlZXNbMF1dO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGJhc2VPcmRlckJ5KGNvbGxlY3Rpb24sIGJhc2VGbGF0dGVuKGl0ZXJhdGVlcywgMSksIFtdKTtcbiAgICB9KTtcblxuICAgIC8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cblxuICAgIC8qKlxuICAgICAqIEdldHMgdGhlIHRpbWVzdGFtcCBvZiB0aGUgbnVtYmVyIG9mIG1pbGxpc2Vjb25kcyB0aGF0IGhhdmUgZWxhcHNlZCBzaW5jZVxuICAgICAqIHRoZSBVbml4IGVwb2NoICgxIEphbnVhcnkgMTk3MCAwMDowMDowMCBVVEMpLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDIuNC4wXG4gICAgICogQGNhdGVnb3J5IERhdGVcbiAgICAgKiBAcmV0dXJucyB7bnVtYmVyfSBSZXR1cm5zIHRoZSB0aW1lc3RhbXAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uZGVmZXIoZnVuY3Rpb24oc3RhbXApIHtcbiAgICAgKiAgIGNvbnNvbGUubG9nKF8ubm93KCkgLSBzdGFtcCk7XG4gICAgICogfSwgXy5ub3coKSk7XG4gICAgICogLy8gPT4gTG9ncyB0aGUgbnVtYmVyIG9mIG1pbGxpc2Vjb25kcyBpdCB0b29rIGZvciB0aGUgZGVmZXJyZWQgaW52b2NhdGlvbi5cbiAgICAgKi9cbiAgICB2YXIgbm93ID0gY3R4Tm93IHx8IGZ1bmN0aW9uKCkge1xuICAgICAgcmV0dXJuIHJvb3QuRGF0ZS5ub3coKTtcbiAgICB9O1xuXG4gICAgLyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuXG4gICAgLyoqXG4gICAgICogVGhlIG9wcG9zaXRlIG9mIGBfLmJlZm9yZWA7IHRoaXMgbWV0aG9kIGNyZWF0ZXMgYSBmdW5jdGlvbiB0aGF0IGludm9rZXNcbiAgICAgKiBgZnVuY2Agb25jZSBpdCdzIGNhbGxlZCBgbmAgb3IgbW9yZSB0aW1lcy5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAwLjEuMFxuICAgICAqIEBjYXRlZ29yeSBGdW5jdGlvblxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBuIFRoZSBudW1iZXIgb2YgY2FsbHMgYmVmb3JlIGBmdW5jYCBpcyBpbnZva2VkLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGZ1bmMgVGhlIGZ1bmN0aW9uIHRvIHJlc3RyaWN0LlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IHJlc3RyaWN0ZWQgZnVuY3Rpb24uXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBzYXZlcyA9IFsncHJvZmlsZScsICdzZXR0aW5ncyddO1xuICAgICAqXG4gICAgICogdmFyIGRvbmUgPSBfLmFmdGVyKHNhdmVzLmxlbmd0aCwgZnVuY3Rpb24oKSB7XG4gICAgICogICBjb25zb2xlLmxvZygnZG9uZSBzYXZpbmchJyk7XG4gICAgICogfSk7XG4gICAgICpcbiAgICAgKiBfLmZvckVhY2goc2F2ZXMsIGZ1bmN0aW9uKHR5cGUpIHtcbiAgICAgKiAgIGFzeW5jU2F2ZSh7ICd0eXBlJzogdHlwZSwgJ2NvbXBsZXRlJzogZG9uZSB9KTtcbiAgICAgKiB9KTtcbiAgICAgKiAvLyA9PiBMb2dzICdkb25lIHNhdmluZyEnIGFmdGVyIHRoZSB0d28gYXN5bmMgc2F2ZXMgaGF2ZSBjb21wbGV0ZWQuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYWZ0ZXIobiwgZnVuYykge1xuICAgICAgaWYgKHR5cGVvZiBmdW5jICE9ICdmdW5jdGlvbicpIHtcbiAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihGVU5DX0VSUk9SX1RFWFQpO1xuICAgICAgfVxuICAgICAgbiA9IHRvSW50ZWdlcihuKTtcbiAgICAgIHJldHVybiBmdW5jdGlvbigpIHtcbiAgICAgICAgaWYgKC0tbiA8IDEpIHtcbiAgICAgICAgICByZXR1cm4gZnVuYy5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgICAgICB9XG4gICAgICB9O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBmdW5jdGlvbiB0aGF0IGludm9rZXMgYGZ1bmNgLCB3aXRoIHVwIHRvIGBuYCBhcmd1bWVudHMsXG4gICAgICogaWdub3JpbmcgYW55IGFkZGl0aW9uYWwgYXJndW1lbnRzLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDMuMC4wXG4gICAgICogQGNhdGVnb3J5IEZ1bmN0aW9uXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gZnVuYyBUaGUgZnVuY3Rpb24gdG8gY2FwIGFyZ3VtZW50cyBmb3IuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtuPWZ1bmMubGVuZ3RoXSBUaGUgYXJpdHkgY2FwLlxuICAgICAqIEBwYXJhbS0ge09iamVjdH0gW2d1YXJkXSBFbmFibGVzIHVzZSBhcyBhbiBpdGVyYXRlZSBmb3IgbWV0aG9kcyBsaWtlIGBfLm1hcGAuXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgY2FwcGVkIGZ1bmN0aW9uLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLm1hcChbJzYnLCAnOCcsICcxMCddLCBfLmFyeShwYXJzZUludCwgMSkpO1xuICAgICAqIC8vID0+IFs2LCA4LCAxMF1cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBhcnkoZnVuYywgbiwgZ3VhcmQpIHtcbiAgICAgIG4gPSBndWFyZCA/IHVuZGVmaW5lZCA6IG47XG4gICAgICBuID0gKGZ1bmMgJiYgbiA9PSBudWxsKSA/IGZ1bmMubGVuZ3RoIDogbjtcbiAgICAgIHJldHVybiBjcmVhdGVXcmFwKGZ1bmMsIFdSQVBfQVJZX0ZMQUcsIHVuZGVmaW5lZCwgdW5kZWZpbmVkLCB1bmRlZmluZWQsIHVuZGVmaW5lZCwgbik7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGZ1bmN0aW9uIHRoYXQgaW52b2tlcyBgZnVuY2AsIHdpdGggdGhlIGB0aGlzYCBiaW5kaW5nIGFuZCBhcmd1bWVudHNcbiAgICAgKiBvZiB0aGUgY3JlYXRlZCBmdW5jdGlvbiwgd2hpbGUgaXQncyBjYWxsZWQgbGVzcyB0aGFuIGBuYCB0aW1lcy4gU3Vic2VxdWVudFxuICAgICAqIGNhbGxzIHRvIHRoZSBjcmVhdGVkIGZ1bmN0aW9uIHJldHVybiB0aGUgcmVzdWx0IG9mIHRoZSBsYXN0IGBmdW5jYCBpbnZvY2F0aW9uLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDMuMC4wXG4gICAgICogQGNhdGVnb3J5IEZ1bmN0aW9uXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IG4gVGhlIG51bWJlciBvZiBjYWxscyBhdCB3aGljaCBgZnVuY2AgaXMgbm8gbG9uZ2VyIGludm9rZWQuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gZnVuYyBUaGUgZnVuY3Rpb24gdG8gcmVzdHJpY3QuXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgcmVzdHJpY3RlZCBmdW5jdGlvbi5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogalF1ZXJ5KGVsZW1lbnQpLm9uKCdjbGljaycsIF8uYmVmb3JlKDUsIGFkZENvbnRhY3RUb0xpc3QpKTtcbiAgICAgKiAvLyA9PiBBbGxvd3MgYWRkaW5nIHVwIHRvIDQgY29udGFjdHMgdG8gdGhlIGxpc3QuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmVmb3JlKG4sIGZ1bmMpIHtcbiAgICAgIHZhciByZXN1bHQ7XG4gICAgICBpZiAodHlwZW9mIGZ1bmMgIT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKEZVTkNfRVJST1JfVEVYVCk7XG4gICAgICB9XG4gICAgICBuID0gdG9JbnRlZ2VyKG4pO1xuICAgICAgcmV0dXJuIGZ1bmN0aW9uKCkge1xuICAgICAgICBpZiAoLS1uID4gMCkge1xuICAgICAgICAgIHJlc3VsdCA9IGZ1bmMuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAobiA8PSAxKSB7XG4gICAgICAgICAgZnVuYyA9IHVuZGVmaW5lZDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgfTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgZnVuY3Rpb24gdGhhdCBpbnZva2VzIGBmdW5jYCB3aXRoIHRoZSBgdGhpc2AgYmluZGluZyBvZiBgdGhpc0FyZ2BcbiAgICAgKiBhbmQgYHBhcnRpYWxzYCBwcmVwZW5kZWQgdG8gdGhlIGFyZ3VtZW50cyBpdCByZWNlaXZlcy5cbiAgICAgKlxuICAgICAqIFRoZSBgXy5iaW5kLnBsYWNlaG9sZGVyYCB2YWx1ZSwgd2hpY2ggZGVmYXVsdHMgdG8gYF9gIGluIG1vbm9saXRoaWMgYnVpbGRzLFxuICAgICAqIG1heSBiZSB1c2VkIGFzIGEgcGxhY2Vob2xkZXIgZm9yIHBhcnRpYWxseSBhcHBsaWVkIGFyZ3VtZW50cy5cbiAgICAgKlxuICAgICAqICoqTm90ZToqKiBVbmxpa2UgbmF0aXZlIGBGdW5jdGlvbiNiaW5kYCwgdGhpcyBtZXRob2QgZG9lc24ndCBzZXQgdGhlIFwibGVuZ3RoXCJcbiAgICAgKiBwcm9wZXJ0eSBvZiBib3VuZCBmdW5jdGlvbnMuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMC4xLjBcbiAgICAgKiBAY2F0ZWdvcnkgRnVuY3Rpb25cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBmdW5jIFRoZSBmdW5jdGlvbiB0byBiaW5kLlxuICAgICAqIEBwYXJhbSB7Kn0gdGhpc0FyZyBUaGUgYHRoaXNgIGJpbmRpbmcgb2YgYGZ1bmNgLlxuICAgICAqIEBwYXJhbSB7Li4uKn0gW3BhcnRpYWxzXSBUaGUgYXJndW1lbnRzIHRvIGJlIHBhcnRpYWxseSBhcHBsaWVkLlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IGJvdW5kIGZ1bmN0aW9uLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBmdW5jdGlvbiBncmVldChncmVldGluZywgcHVuY3R1YXRpb24pIHtcbiAgICAgKiAgIHJldHVybiBncmVldGluZyArICcgJyArIHRoaXMudXNlciArIHB1bmN0dWF0aW9uO1xuICAgICAqIH1cbiAgICAgKlxuICAgICAqIHZhciBvYmplY3QgPSB7ICd1c2VyJzogJ2ZyZWQnIH07XG4gICAgICpcbiAgICAgKiB2YXIgYm91bmQgPSBfLmJpbmQoZ3JlZXQsIG9iamVjdCwgJ2hpJyk7XG4gICAgICogYm91bmQoJyEnKTtcbiAgICAgKiAvLyA9PiAnaGkgZnJlZCEnXG4gICAgICpcbiAgICAgKiAvLyBCb3VuZCB3aXRoIHBsYWNlaG9sZGVycy5cbiAgICAgKiB2YXIgYm91bmQgPSBfLmJpbmQoZ3JlZXQsIG9iamVjdCwgXywgJyEnKTtcbiAgICAgKiBib3VuZCgnaGknKTtcbiAgICAgKiAvLyA9PiAnaGkgZnJlZCEnXG4gICAgICovXG4gICAgdmFyIGJpbmQgPSBiYXNlUmVzdChmdW5jdGlvbihmdW5jLCB0aGlzQXJnLCBwYXJ0aWFscykge1xuICAgICAgdmFyIGJpdG1hc2sgPSBXUkFQX0JJTkRfRkxBRztcbiAgICAgIGlmIChwYXJ0aWFscy5sZW5ndGgpIHtcbiAgICAgICAgdmFyIGhvbGRlcnMgPSByZXBsYWNlSG9sZGVycyhwYXJ0aWFscywgZ2V0SG9sZGVyKGJpbmQpKTtcbiAgICAgICAgYml0bWFzayB8PSBXUkFQX1BBUlRJQUxfRkxBRztcbiAgICAgIH1cbiAgICAgIHJldHVybiBjcmVhdGVXcmFwKGZ1bmMsIGJpdG1hc2ssIHRoaXNBcmcsIHBhcnRpYWxzLCBob2xkZXJzKTtcbiAgICB9KTtcblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBmdW5jdGlvbiB0aGF0IGludm9rZXMgdGhlIG1ldGhvZCBhdCBgb2JqZWN0W2tleV1gIHdpdGggYHBhcnRpYWxzYFxuICAgICAqIHByZXBlbmRlZCB0byB0aGUgYXJndW1lbnRzIGl0IHJlY2VpdmVzLlxuICAgICAqXG4gICAgICogVGhpcyBtZXRob2QgZGlmZmVycyBmcm9tIGBfLmJpbmRgIGJ5IGFsbG93aW5nIGJvdW5kIGZ1bmN0aW9ucyB0byByZWZlcmVuY2VcbiAgICAgKiBtZXRob2RzIHRoYXQgbWF5IGJlIHJlZGVmaW5lZCBvciBkb24ndCB5ZXQgZXhpc3QuIFNlZVxuICAgICAqIFtQZXRlciBNaWNoYXV4J3MgYXJ0aWNsZV0oaHR0cDovL3BldGVyLm1pY2hhdXguY2EvYXJ0aWNsZXMvbGF6eS1mdW5jdGlvbi1kZWZpbml0aW9uLXBhdHRlcm4pXG4gICAgICogZm9yIG1vcmUgZGV0YWlscy5cbiAgICAgKlxuICAgICAqIFRoZSBgXy5iaW5kS2V5LnBsYWNlaG9sZGVyYCB2YWx1ZSwgd2hpY2ggZGVmYXVsdHMgdG8gYF9gIGluIG1vbm9saXRoaWNcbiAgICAgKiBidWlsZHMsIG1heSBiZSB1c2VkIGFzIGEgcGxhY2Vob2xkZXIgZm9yIHBhcnRpYWxseSBhcHBsaWVkIGFyZ3VtZW50cy5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAwLjEwLjBcbiAgICAgKiBAY2F0ZWdvcnkgRnVuY3Rpb25cbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gaW52b2tlIHRoZSBtZXRob2Qgb24uXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGtleSBUaGUga2V5IG9mIHRoZSBtZXRob2QuXG4gICAgICogQHBhcmFtIHsuLi4qfSBbcGFydGlhbHNdIFRoZSBhcmd1bWVudHMgdG8gYmUgcGFydGlhbGx5IGFwcGxpZWQuXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgYm91bmQgZnVuY3Rpb24uXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBvYmplY3QgPSB7XG4gICAgICogICAndXNlcic6ICdmcmVkJyxcbiAgICAgKiAgICdncmVldCc6IGZ1bmN0aW9uKGdyZWV0aW5nLCBwdW5jdHVhdGlvbikge1xuICAgICAqICAgICByZXR1cm4gZ3JlZXRpbmcgKyAnICcgKyB0aGlzLnVzZXIgKyBwdW5jdHVhdGlvbjtcbiAgICAgKiAgIH1cbiAgICAgKiB9O1xuICAgICAqXG4gICAgICogdmFyIGJvdW5kID0gXy5iaW5kS2V5KG9iamVjdCwgJ2dyZWV0JywgJ2hpJyk7XG4gICAgICogYm91bmQoJyEnKTtcbiAgICAgKiAvLyA9PiAnaGkgZnJlZCEnXG4gICAgICpcbiAgICAgKiBvYmplY3QuZ3JlZXQgPSBmdW5jdGlvbihncmVldGluZywgcHVuY3R1YXRpb24pIHtcbiAgICAgKiAgIHJldHVybiBncmVldGluZyArICd5YSAnICsgdGhpcy51c2VyICsgcHVuY3R1YXRpb247XG4gICAgICogfTtcbiAgICAgKlxuICAgICAqIGJvdW5kKCchJyk7XG4gICAgICogLy8gPT4gJ2hpeWEgZnJlZCEnXG4gICAgICpcbiAgICAgKiAvLyBCb3VuZCB3aXRoIHBsYWNlaG9sZGVycy5cbiAgICAgKiB2YXIgYm91bmQgPSBfLmJpbmRLZXkob2JqZWN0LCAnZ3JlZXQnLCBfLCAnIScpO1xuICAgICAqIGJvdW5kKCdoaScpO1xuICAgICAqIC8vID0+ICdoaXlhIGZyZWQhJ1xuICAgICAqL1xuICAgIHZhciBiaW5kS2V5ID0gYmFzZVJlc3QoZnVuY3Rpb24ob2JqZWN0LCBrZXksIHBhcnRpYWxzKSB7XG4gICAgICB2YXIgYml0bWFzayA9IFdSQVBfQklORF9GTEFHIHwgV1JBUF9CSU5EX0tFWV9GTEFHO1xuICAgICAgaWYgKHBhcnRpYWxzLmxlbmd0aCkge1xuICAgICAgICB2YXIgaG9sZGVycyA9IHJlcGxhY2VIb2xkZXJzKHBhcnRpYWxzLCBnZXRIb2xkZXIoYmluZEtleSkpO1xuICAgICAgICBiaXRtYXNrIHw9IFdSQVBfUEFSVElBTF9GTEFHO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGNyZWF0ZVdyYXAoa2V5LCBiaXRtYXNrLCBvYmplY3QsIHBhcnRpYWxzLCBob2xkZXJzKTtcbiAgICB9KTtcblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBmdW5jdGlvbiB0aGF0IGFjY2VwdHMgYXJndW1lbnRzIG9mIGBmdW5jYCBhbmQgZWl0aGVyIGludm9rZXNcbiAgICAgKiBgZnVuY2AgcmV0dXJuaW5nIGl0cyByZXN1bHQsIGlmIGF0IGxlYXN0IGBhcml0eWAgbnVtYmVyIG9mIGFyZ3VtZW50cyBoYXZlXG4gICAgICogYmVlbiBwcm92aWRlZCwgb3IgcmV0dXJucyBhIGZ1bmN0aW9uIHRoYXQgYWNjZXB0cyB0aGUgcmVtYWluaW5nIGBmdW5jYFxuICAgICAqIGFyZ3VtZW50cywgYW5kIHNvIG9uLiBUaGUgYXJpdHkgb2YgYGZ1bmNgIG1heSBiZSBzcGVjaWZpZWQgaWYgYGZ1bmMubGVuZ3RoYFxuICAgICAqIGlzIG5vdCBzdWZmaWNpZW50LlxuICAgICAqXG4gICAgICogVGhlIGBfLmN1cnJ5LnBsYWNlaG9sZGVyYCB2YWx1ZSwgd2hpY2ggZGVmYXVsdHMgdG8gYF9gIGluIG1vbm9saXRoaWMgYnVpbGRzLFxuICAgICAqIG1heSBiZSB1c2VkIGFzIGEgcGxhY2Vob2xkZXIgZm9yIHByb3ZpZGVkIGFyZ3VtZW50cy5cbiAgICAgKlxuICAgICAqICoqTm90ZToqKiBUaGlzIG1ldGhvZCBkb2Vzbid0IHNldCB0aGUgXCJsZW5ndGhcIiBwcm9wZXJ0eSBvZiBjdXJyaWVkIGZ1bmN0aW9ucy5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAyLjAuMFxuICAgICAqIEBjYXRlZ29yeSBGdW5jdGlvblxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGZ1bmMgVGhlIGZ1bmN0aW9uIHRvIGN1cnJ5LlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbYXJpdHk9ZnVuYy5sZW5ndGhdIFRoZSBhcml0eSBvZiBgZnVuY2AuXG4gICAgICogQHBhcmFtLSB7T2JqZWN0fSBbZ3VhcmRdIEVuYWJsZXMgdXNlIGFzIGFuIGl0ZXJhdGVlIGZvciBtZXRob2RzIGxpa2UgYF8ubWFwYC5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyBjdXJyaWVkIGZ1bmN0aW9uLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgYWJjID0gZnVuY3Rpb24oYSwgYiwgYykge1xuICAgICAqICAgcmV0dXJuIFthLCBiLCBjXTtcbiAgICAgKiB9O1xuICAgICAqXG4gICAgICogdmFyIGN1cnJpZWQgPSBfLmN1cnJ5KGFiYyk7XG4gICAgICpcbiAgICAgKiBjdXJyaWVkKDEpKDIpKDMpO1xuICAgICAqIC8vID0+IFsxLCAyLCAzXVxuICAgICAqXG4gICAgICogY3VycmllZCgxLCAyKSgzKTtcbiAgICAgKiAvLyA9PiBbMSwgMiwgM11cbiAgICAgKlxuICAgICAqIGN1cnJpZWQoMSwgMiwgMyk7XG4gICAgICogLy8gPT4gWzEsIDIsIDNdXG4gICAgICpcbiAgICAgKiAvLyBDdXJyaWVkIHdpdGggcGxhY2Vob2xkZXJzLlxuICAgICAqIGN1cnJpZWQoMSkoXywgMykoMik7XG4gICAgICogLy8gPT4gWzEsIDIsIDNdXG4gICAgICovXG4gICAgZnVuY3Rpb24gY3VycnkoZnVuYywgYXJpdHksIGd1YXJkKSB7XG4gICAgICBhcml0eSA9IGd1YXJkID8gdW5kZWZpbmVkIDogYXJpdHk7XG4gICAgICB2YXIgcmVzdWx0ID0gY3JlYXRlV3JhcChmdW5jLCBXUkFQX0NVUlJZX0ZMQUcsIHVuZGVmaW5lZCwgdW5kZWZpbmVkLCB1bmRlZmluZWQsIHVuZGVmaW5lZCwgdW5kZWZpbmVkLCBhcml0eSk7XG4gICAgICByZXN1bHQucGxhY2Vob2xkZXIgPSBjdXJyeS5wbGFjZWhvbGRlcjtcbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgaXMgbGlrZSBgXy5jdXJyeWAgZXhjZXB0IHRoYXQgYXJndW1lbnRzIGFyZSBhcHBsaWVkIHRvIGBmdW5jYFxuICAgICAqIGluIHRoZSBtYW5uZXIgb2YgYF8ucGFydGlhbFJpZ2h0YCBpbnN0ZWFkIG9mIGBfLnBhcnRpYWxgLlxuICAgICAqXG4gICAgICogVGhlIGBfLmN1cnJ5UmlnaHQucGxhY2Vob2xkZXJgIHZhbHVlLCB3aGljaCBkZWZhdWx0cyB0byBgX2AgaW4gbW9ub2xpdGhpY1xuICAgICAqIGJ1aWxkcywgbWF5IGJlIHVzZWQgYXMgYSBwbGFjZWhvbGRlciBmb3IgcHJvdmlkZWQgYXJndW1lbnRzLlxuICAgICAqXG4gICAgICogKipOb3RlOioqIFRoaXMgbWV0aG9kIGRvZXNuJ3Qgc2V0IHRoZSBcImxlbmd0aFwiIHByb3BlcnR5IG9mIGN1cnJpZWQgZnVuY3Rpb25zLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDMuMC4wXG4gICAgICogQGNhdGVnb3J5IEZ1bmN0aW9uXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gZnVuYyBUaGUgZnVuY3Rpb24gdG8gY3VycnkuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFthcml0eT1mdW5jLmxlbmd0aF0gVGhlIGFyaXR5IG9mIGBmdW5jYC5cbiAgICAgKiBAcGFyYW0tIHtPYmplY3R9IFtndWFyZF0gRW5hYmxlcyB1c2UgYXMgYW4gaXRlcmF0ZWUgZm9yIG1ldGhvZHMgbGlrZSBgXy5tYXBgLlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IGN1cnJpZWQgZnVuY3Rpb24uXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBhYmMgPSBmdW5jdGlvbihhLCBiLCBjKSB7XG4gICAgICogICByZXR1cm4gW2EsIGIsIGNdO1xuICAgICAqIH07XG4gICAgICpcbiAgICAgKiB2YXIgY3VycmllZCA9IF8uY3VycnlSaWdodChhYmMpO1xuICAgICAqXG4gICAgICogY3VycmllZCgzKSgyKSgxKTtcbiAgICAgKiAvLyA9PiBbMSwgMiwgM11cbiAgICAgKlxuICAgICAqIGN1cnJpZWQoMiwgMykoMSk7XG4gICAgICogLy8gPT4gWzEsIDIsIDNdXG4gICAgICpcbiAgICAgKiBjdXJyaWVkKDEsIDIsIDMpO1xuICAgICAqIC8vID0+IFsxLCAyLCAzXVxuICAgICAqXG4gICAgICogLy8gQ3VycmllZCB3aXRoIHBsYWNlaG9sZGVycy5cbiAgICAgKiBjdXJyaWVkKDMpKDEsIF8pKDIpO1xuICAgICAqIC8vID0+IFsxLCAyLCAzXVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGN1cnJ5UmlnaHQoZnVuYywgYXJpdHksIGd1YXJkKSB7XG4gICAgICBhcml0eSA9IGd1YXJkID8gdW5kZWZpbmVkIDogYXJpdHk7XG4gICAgICB2YXIgcmVzdWx0ID0gY3JlYXRlV3JhcChmdW5jLCBXUkFQX0NVUlJZX1JJR0hUX0ZMQUcsIHVuZGVmaW5lZCwgdW5kZWZpbmVkLCB1bmRlZmluZWQsIHVuZGVmaW5lZCwgdW5kZWZpbmVkLCBhcml0eSk7XG4gICAgICByZXN1bHQucGxhY2Vob2xkZXIgPSBjdXJyeVJpZ2h0LnBsYWNlaG9sZGVyO1xuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgZGVib3VuY2VkIGZ1bmN0aW9uIHRoYXQgZGVsYXlzIGludm9raW5nIGBmdW5jYCB1bnRpbCBhZnRlciBgd2FpdGBcbiAgICAgKiBtaWxsaXNlY29uZHMgaGF2ZSBlbGFwc2VkIHNpbmNlIHRoZSBsYXN0IHRpbWUgdGhlIGRlYm91bmNlZCBmdW5jdGlvbiB3YXNcbiAgICAgKiBpbnZva2VkLiBUaGUgZGVib3VuY2VkIGZ1bmN0aW9uIGNvbWVzIHdpdGggYSBgY2FuY2VsYCBtZXRob2QgdG8gY2FuY2VsXG4gICAgICogZGVsYXllZCBgZnVuY2AgaW52b2NhdGlvbnMgYW5kIGEgYGZsdXNoYCBtZXRob2QgdG8gaW1tZWRpYXRlbHkgaW52b2tlIHRoZW0uXG4gICAgICogUHJvdmlkZSBgb3B0aW9uc2AgdG8gaW5kaWNhdGUgd2hldGhlciBgZnVuY2Agc2hvdWxkIGJlIGludm9rZWQgb24gdGhlXG4gICAgICogbGVhZGluZyBhbmQvb3IgdHJhaWxpbmcgZWRnZSBvZiB0aGUgYHdhaXRgIHRpbWVvdXQuIFRoZSBgZnVuY2AgaXMgaW52b2tlZFxuICAgICAqIHdpdGggdGhlIGxhc3QgYXJndW1lbnRzIHByb3ZpZGVkIHRvIHRoZSBkZWJvdW5jZWQgZnVuY3Rpb24uIFN1YnNlcXVlbnRcbiAgICAgKiBjYWxscyB0byB0aGUgZGVib3VuY2VkIGZ1bmN0aW9uIHJldHVybiB0aGUgcmVzdWx0IG9mIHRoZSBsYXN0IGBmdW5jYFxuICAgICAqIGludm9jYXRpb24uXG4gICAgICpcbiAgICAgKiAqKk5vdGU6KiogSWYgYGxlYWRpbmdgIGFuZCBgdHJhaWxpbmdgIG9wdGlvbnMgYXJlIGB0cnVlYCwgYGZ1bmNgIGlzXG4gICAgICogaW52b2tlZCBvbiB0aGUgdHJhaWxpbmcgZWRnZSBvZiB0aGUgdGltZW91dCBvbmx5IGlmIHRoZSBkZWJvdW5jZWQgZnVuY3Rpb25cbiAgICAgKiBpcyBpbnZva2VkIG1vcmUgdGhhbiBvbmNlIGR1cmluZyB0aGUgYHdhaXRgIHRpbWVvdXQuXG4gICAgICpcbiAgICAgKiBJZiBgd2FpdGAgaXMgYDBgIGFuZCBgbGVhZGluZ2AgaXMgYGZhbHNlYCwgYGZ1bmNgIGludm9jYXRpb24gaXMgZGVmZXJyZWRcbiAgICAgKiB1bnRpbCB0byB0aGUgbmV4dCB0aWNrLCBzaW1pbGFyIHRvIGBzZXRUaW1lb3V0YCB3aXRoIGEgdGltZW91dCBvZiBgMGAuXG4gICAgICpcbiAgICAgKiBTZWUgW0RhdmlkIENvcmJhY2hvJ3MgYXJ0aWNsZV0oaHR0cHM6Ly9jc3MtdHJpY2tzLmNvbS9kZWJvdW5jaW5nLXRocm90dGxpbmctZXhwbGFpbmVkLWV4YW1wbGVzLylcbiAgICAgKiBmb3IgZGV0YWlscyBvdmVyIHRoZSBkaWZmZXJlbmNlcyBiZXR3ZWVuIGBfLmRlYm91bmNlYCBhbmQgYF8udGhyb3R0bGVgLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDAuMS4wXG4gICAgICogQGNhdGVnb3J5IEZ1bmN0aW9uXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gZnVuYyBUaGUgZnVuY3Rpb24gdG8gZGVib3VuY2UuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFt3YWl0PTBdIFRoZSBudW1iZXIgb2YgbWlsbGlzZWNvbmRzIHRvIGRlbGF5LlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBbb3B0aW9ucz17fV0gVGhlIG9wdGlvbnMgb2JqZWN0LlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdGlvbnMubGVhZGluZz1mYWxzZV1cbiAgICAgKiAgU3BlY2lmeSBpbnZva2luZyBvbiB0aGUgbGVhZGluZyBlZGdlIG9mIHRoZSB0aW1lb3V0LlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0aW9ucy5tYXhXYWl0XVxuICAgICAqICBUaGUgbWF4aW11bSB0aW1lIGBmdW5jYCBpcyBhbGxvd2VkIHRvIGJlIGRlbGF5ZWQgYmVmb3JlIGl0J3MgaW52b2tlZC5cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLnRyYWlsaW5nPXRydWVdXG4gICAgICogIFNwZWNpZnkgaW52b2tpbmcgb24gdGhlIHRyYWlsaW5nIGVkZ2Ugb2YgdGhlIHRpbWVvdXQuXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgZGVib3VuY2VkIGZ1bmN0aW9uLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiAvLyBBdm9pZCBjb3N0bHkgY2FsY3VsYXRpb25zIHdoaWxlIHRoZSB3aW5kb3cgc2l6ZSBpcyBpbiBmbHV4LlxuICAgICAqIGpRdWVyeSh3aW5kb3cpLm9uKCdyZXNpemUnLCBfLmRlYm91bmNlKGNhbGN1bGF0ZUxheW91dCwgMTUwKSk7XG4gICAgICpcbiAgICAgKiAvLyBJbnZva2UgYHNlbmRNYWlsYCB3aGVuIGNsaWNrZWQsIGRlYm91bmNpbmcgc3Vic2VxdWVudCBjYWxscy5cbiAgICAgKiBqUXVlcnkoZWxlbWVudCkub24oJ2NsaWNrJywgXy5kZWJvdW5jZShzZW5kTWFpbCwgMzAwLCB7XG4gICAgICogICAnbGVhZGluZyc6IHRydWUsXG4gICAgICogICAndHJhaWxpbmcnOiBmYWxzZVxuICAgICAqIH0pKTtcbiAgICAgKlxuICAgICAqIC8vIEVuc3VyZSBgYmF0Y2hMb2dgIGlzIGludm9rZWQgb25jZSBhZnRlciAxIHNlY29uZCBvZiBkZWJvdW5jZWQgY2FsbHMuXG4gICAgICogdmFyIGRlYm91bmNlZCA9IF8uZGVib3VuY2UoYmF0Y2hMb2csIDI1MCwgeyAnbWF4V2FpdCc6IDEwMDAgfSk7XG4gICAgICogdmFyIHNvdXJjZSA9IG5ldyBFdmVudFNvdXJjZSgnL3N0cmVhbScpO1xuICAgICAqIGpRdWVyeShzb3VyY2UpLm9uKCdtZXNzYWdlJywgZGVib3VuY2VkKTtcbiAgICAgKlxuICAgICAqIC8vIENhbmNlbCB0aGUgdHJhaWxpbmcgZGVib3VuY2VkIGludm9jYXRpb24uXG4gICAgICogalF1ZXJ5KHdpbmRvdykub24oJ3BvcHN0YXRlJywgZGVib3VuY2VkLmNhbmNlbCk7XG4gICAgICovXG4gICAgZnVuY3Rpb24gZGVib3VuY2UoZnVuYywgd2FpdCwgb3B0aW9ucykge1xuICAgICAgdmFyIGxhc3RBcmdzLFxuICAgICAgICAgIGxhc3RUaGlzLFxuICAgICAgICAgIG1heFdhaXQsXG4gICAgICAgICAgcmVzdWx0LFxuICAgICAgICAgIHRpbWVySWQsXG4gICAgICAgICAgbGFzdENhbGxUaW1lLFxuICAgICAgICAgIGxhc3RJbnZva2VUaW1lID0gMCxcbiAgICAgICAgICBsZWFkaW5nID0gZmFsc2UsXG4gICAgICAgICAgbWF4aW5nID0gZmFsc2UsXG4gICAgICAgICAgdHJhaWxpbmcgPSB0cnVlO1xuXG4gICAgICBpZiAodHlwZW9mIGZ1bmMgIT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKEZVTkNfRVJST1JfVEVYVCk7XG4gICAgICB9XG4gICAgICB3YWl0ID0gdG9OdW1iZXIod2FpdCkgfHwgMDtcbiAgICAgIGlmIChpc09iamVjdChvcHRpb25zKSkge1xuICAgICAgICBsZWFkaW5nID0gISFvcHRpb25zLmxlYWRpbmc7XG4gICAgICAgIG1heGluZyA9ICdtYXhXYWl0JyBpbiBvcHRpb25zO1xuICAgICAgICBtYXhXYWl0ID0gbWF4aW5nID8gbmF0aXZlTWF4KHRvTnVtYmVyKG9wdGlvbnMubWF4V2FpdCkgfHwgMCwgd2FpdCkgOiBtYXhXYWl0O1xuICAgICAgICB0cmFpbGluZyA9ICd0cmFpbGluZycgaW4gb3B0aW9ucyA/ICEhb3B0aW9ucy50cmFpbGluZyA6IHRyYWlsaW5nO1xuICAgICAgfVxuXG4gICAgICBmdW5jdGlvbiBpbnZva2VGdW5jKHRpbWUpIHtcbiAgICAgICAgdmFyIGFyZ3MgPSBsYXN0QXJncyxcbiAgICAgICAgICAgIHRoaXNBcmcgPSBsYXN0VGhpcztcblxuICAgICAgICBsYXN0QXJncyA9IGxhc3RUaGlzID0gdW5kZWZpbmVkO1xuICAgICAgICBsYXN0SW52b2tlVGltZSA9IHRpbWU7XG4gICAgICAgIHJlc3VsdCA9IGZ1bmMuYXBwbHkodGhpc0FyZywgYXJncyk7XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICB9XG5cbiAgICAgIGZ1bmN0aW9uIGxlYWRpbmdFZGdlKHRpbWUpIHtcbiAgICAgICAgLy8gUmVzZXQgYW55IGBtYXhXYWl0YCB0aW1lci5cbiAgICAgICAgbGFzdEludm9rZVRpbWUgPSB0aW1lO1xuICAgICAgICAvLyBTdGFydCB0aGUgdGltZXIgZm9yIHRoZSB0cmFpbGluZyBlZGdlLlxuICAgICAgICB0aW1lcklkID0gc2V0VGltZW91dCh0aW1lckV4cGlyZWQsIHdhaXQpO1xuICAgICAgICAvLyBJbnZva2UgdGhlIGxlYWRpbmcgZWRnZS5cbiAgICAgICAgcmV0dXJuIGxlYWRpbmcgPyBpbnZva2VGdW5jKHRpbWUpIDogcmVzdWx0O1xuICAgICAgfVxuXG4gICAgICBmdW5jdGlvbiByZW1haW5pbmdXYWl0KHRpbWUpIHtcbiAgICAgICAgdmFyIHRpbWVTaW5jZUxhc3RDYWxsID0gdGltZSAtIGxhc3RDYWxsVGltZSxcbiAgICAgICAgICAgIHRpbWVTaW5jZUxhc3RJbnZva2UgPSB0aW1lIC0gbGFzdEludm9rZVRpbWUsXG4gICAgICAgICAgICB0aW1lV2FpdGluZyA9IHdhaXQgLSB0aW1lU2luY2VMYXN0Q2FsbDtcblxuICAgICAgICByZXR1cm4gbWF4aW5nXG4gICAgICAgICAgPyBuYXRpdmVNaW4odGltZVdhaXRpbmcsIG1heFdhaXQgLSB0aW1lU2luY2VMYXN0SW52b2tlKVxuICAgICAgICAgIDogdGltZVdhaXRpbmc7XG4gICAgICB9XG5cbiAgICAgIGZ1bmN0aW9uIHNob3VsZEludm9rZSh0aW1lKSB7XG4gICAgICAgIHZhciB0aW1lU2luY2VMYXN0Q2FsbCA9IHRpbWUgLSBsYXN0Q2FsbFRpbWUsXG4gICAgICAgICAgICB0aW1lU2luY2VMYXN0SW52b2tlID0gdGltZSAtIGxhc3RJbnZva2VUaW1lO1xuXG4gICAgICAgIC8vIEVpdGhlciB0aGlzIGlzIHRoZSBmaXJzdCBjYWxsLCBhY3Rpdml0eSBoYXMgc3RvcHBlZCBhbmQgd2UncmUgYXQgdGhlXG4gICAgICAgIC8vIHRyYWlsaW5nIGVkZ2UsIHRoZSBzeXN0ZW0gdGltZSBoYXMgZ29uZSBiYWNrd2FyZHMgYW5kIHdlJ3JlIHRyZWF0aW5nXG4gICAgICAgIC8vIGl0IGFzIHRoZSB0cmFpbGluZyBlZGdlLCBvciB3ZSd2ZSBoaXQgdGhlIGBtYXhXYWl0YCBsaW1pdC5cbiAgICAgICAgcmV0dXJuIChsYXN0Q2FsbFRpbWUgPT09IHVuZGVmaW5lZCB8fCAodGltZVNpbmNlTGFzdENhbGwgPj0gd2FpdCkgfHxcbiAgICAgICAgICAodGltZVNpbmNlTGFzdENhbGwgPCAwKSB8fCAobWF4aW5nICYmIHRpbWVTaW5jZUxhc3RJbnZva2UgPj0gbWF4V2FpdCkpO1xuICAgICAgfVxuXG4gICAgICBmdW5jdGlvbiB0aW1lckV4cGlyZWQoKSB7XG4gICAgICAgIHZhciB0aW1lID0gbm93KCk7XG4gICAgICAgIGlmIChzaG91bGRJbnZva2UodGltZSkpIHtcbiAgICAgICAgICByZXR1cm4gdHJhaWxpbmdFZGdlKHRpbWUpO1xuICAgICAgICB9XG4gICAgICAgIC8vIFJlc3RhcnQgdGhlIHRpbWVyLlxuICAgICAgICB0aW1lcklkID0gc2V0VGltZW91dCh0aW1lckV4cGlyZWQsIHJlbWFpbmluZ1dhaXQodGltZSkpO1xuICAgICAgfVxuXG4gICAgICBmdW5jdGlvbiB0cmFpbGluZ0VkZ2UodGltZSkge1xuICAgICAgICB0aW1lcklkID0gdW5kZWZpbmVkO1xuXG4gICAgICAgIC8vIE9ubHkgaW52b2tlIGlmIHdlIGhhdmUgYGxhc3RBcmdzYCB3aGljaCBtZWFucyBgZnVuY2AgaGFzIGJlZW5cbiAgICAgICAgLy8gZGVib3VuY2VkIGF0IGxlYXN0IG9uY2UuXG4gICAgICAgIGlmICh0cmFpbGluZyAmJiBsYXN0QXJncykge1xuICAgICAgICAgIHJldHVybiBpbnZva2VGdW5jKHRpbWUpO1xuICAgICAgICB9XG4gICAgICAgIGxhc3RBcmdzID0gbGFzdFRoaXMgPSB1bmRlZmluZWQ7XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICB9XG5cbiAgICAgIGZ1bmN0aW9uIGNhbmNlbCgpIHtcbiAgICAgICAgaWYgKHRpbWVySWQgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgIGNsZWFyVGltZW91dCh0aW1lcklkKTtcbiAgICAgICAgfVxuICAgICAgICBsYXN0SW52b2tlVGltZSA9IDA7XG4gICAgICAgIGxhc3RBcmdzID0gbGFzdENhbGxUaW1lID0gbGFzdFRoaXMgPSB0aW1lcklkID0gdW5kZWZpbmVkO1xuICAgICAgfVxuXG4gICAgICBmdW5jdGlvbiBmbHVzaCgpIHtcbiAgICAgICAgcmV0dXJuIHRpbWVySWQgPT09IHVuZGVmaW5lZCA/IHJlc3VsdCA6IHRyYWlsaW5nRWRnZShub3coKSk7XG4gICAgICB9XG5cbiAgICAgIGZ1bmN0aW9uIGRlYm91bmNlZCgpIHtcbiAgICAgICAgdmFyIHRpbWUgPSBub3coKSxcbiAgICAgICAgICAgIGlzSW52b2tpbmcgPSBzaG91bGRJbnZva2UodGltZSk7XG5cbiAgICAgICAgbGFzdEFyZ3MgPSBhcmd1bWVudHM7XG4gICAgICAgIGxhc3RUaGlzID0gdGhpcztcbiAgICAgICAgbGFzdENhbGxUaW1lID0gdGltZTtcblxuICAgICAgICBpZiAoaXNJbnZva2luZykge1xuICAgICAgICAgIGlmICh0aW1lcklkID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHJldHVybiBsZWFkaW5nRWRnZShsYXN0Q2FsbFRpbWUpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAobWF4aW5nKSB7XG4gICAgICAgICAgICAvLyBIYW5kbGUgaW52b2NhdGlvbnMgaW4gYSB0aWdodCBsb29wLlxuICAgICAgICAgICAgY2xlYXJUaW1lb3V0KHRpbWVySWQpO1xuICAgICAgICAgICAgdGltZXJJZCA9IHNldFRpbWVvdXQodGltZXJFeHBpcmVkLCB3YWl0KTtcbiAgICAgICAgICAgIHJldHVybiBpbnZva2VGdW5jKGxhc3RDYWxsVGltZSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmICh0aW1lcklkID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICB0aW1lcklkID0gc2V0VGltZW91dCh0aW1lckV4cGlyZWQsIHdhaXQpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICB9XG4gICAgICBkZWJvdW5jZWQuY2FuY2VsID0gY2FuY2VsO1xuICAgICAgZGVib3VuY2VkLmZsdXNoID0gZmx1c2g7XG4gICAgICByZXR1cm4gZGVib3VuY2VkO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIERlZmVycyBpbnZva2luZyB0aGUgYGZ1bmNgIHVudGlsIHRoZSBjdXJyZW50IGNhbGwgc3RhY2sgaGFzIGNsZWFyZWQuIEFueVxuICAgICAqIGFkZGl0aW9uYWwgYXJndW1lbnRzIGFyZSBwcm92aWRlZCB0byBgZnVuY2Agd2hlbiBpdCdzIGludm9rZWQuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMC4xLjBcbiAgICAgKiBAY2F0ZWdvcnkgRnVuY3Rpb25cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBmdW5jIFRoZSBmdW5jdGlvbiB0byBkZWZlci5cbiAgICAgKiBAcGFyYW0gey4uLip9IFthcmdzXSBUaGUgYXJndW1lbnRzIHRvIGludm9rZSBgZnVuY2Agd2l0aC5cbiAgICAgKiBAcmV0dXJucyB7bnVtYmVyfSBSZXR1cm5zIHRoZSB0aW1lciBpZC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5kZWZlcihmdW5jdGlvbih0ZXh0KSB7XG4gICAgICogICBjb25zb2xlLmxvZyh0ZXh0KTtcbiAgICAgKiB9LCAnZGVmZXJyZWQnKTtcbiAgICAgKiAvLyA9PiBMb2dzICdkZWZlcnJlZCcgYWZ0ZXIgb25lIG1pbGxpc2Vjb25kLlxuICAgICAqL1xuICAgIHZhciBkZWZlciA9IGJhc2VSZXN0KGZ1bmN0aW9uKGZ1bmMsIGFyZ3MpIHtcbiAgICAgIHJldHVybiBiYXNlRGVsYXkoZnVuYywgMSwgYXJncyk7XG4gICAgfSk7XG5cbiAgICAvKipcbiAgICAgKiBJbnZva2VzIGBmdW5jYCBhZnRlciBgd2FpdGAgbWlsbGlzZWNvbmRzLiBBbnkgYWRkaXRpb25hbCBhcmd1bWVudHMgYXJlXG4gICAgICogcHJvdmlkZWQgdG8gYGZ1bmNgIHdoZW4gaXQncyBpbnZva2VkLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDAuMS4wXG4gICAgICogQGNhdGVnb3J5IEZ1bmN0aW9uXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gZnVuYyBUaGUgZnVuY3Rpb24gdG8gZGVsYXkuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHdhaXQgVGhlIG51bWJlciBvZiBtaWxsaXNlY29uZHMgdG8gZGVsYXkgaW52b2NhdGlvbi5cbiAgICAgKiBAcGFyYW0gey4uLip9IFthcmdzXSBUaGUgYXJndW1lbnRzIHRvIGludm9rZSBgZnVuY2Agd2l0aC5cbiAgICAgKiBAcmV0dXJucyB7bnVtYmVyfSBSZXR1cm5zIHRoZSB0aW1lciBpZC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5kZWxheShmdW5jdGlvbih0ZXh0KSB7XG4gICAgICogICBjb25zb2xlLmxvZyh0ZXh0KTtcbiAgICAgKiB9LCAxMDAwLCAnbGF0ZXInKTtcbiAgICAgKiAvLyA9PiBMb2dzICdsYXRlcicgYWZ0ZXIgb25lIHNlY29uZC5cbiAgICAgKi9cbiAgICB2YXIgZGVsYXkgPSBiYXNlUmVzdChmdW5jdGlvbihmdW5jLCB3YWl0LCBhcmdzKSB7XG4gICAgICByZXR1cm4gYmFzZURlbGF5KGZ1bmMsIHRvTnVtYmVyKHdhaXQpIHx8IDAsIGFyZ3MpO1xuICAgIH0pO1xuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGZ1bmN0aW9uIHRoYXQgaW52b2tlcyBgZnVuY2Agd2l0aCBhcmd1bWVudHMgcmV2ZXJzZWQuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgRnVuY3Rpb25cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBmdW5jIFRoZSBmdW5jdGlvbiB0byBmbGlwIGFyZ3VtZW50cyBmb3IuXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgZmxpcHBlZCBmdW5jdGlvbi5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIGZsaXBwZWQgPSBfLmZsaXAoZnVuY3Rpb24oKSB7XG4gICAgICogICByZXR1cm4gXy50b0FycmF5KGFyZ3VtZW50cyk7XG4gICAgICogfSk7XG4gICAgICpcbiAgICAgKiBmbGlwcGVkKCdhJywgJ2InLCAnYycsICdkJyk7XG4gICAgICogLy8gPT4gWydkJywgJ2MnLCAnYicsICdhJ11cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBmbGlwKGZ1bmMpIHtcbiAgICAgIHJldHVybiBjcmVhdGVXcmFwKGZ1bmMsIFdSQVBfRkxJUF9GTEFHKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgZnVuY3Rpb24gdGhhdCBtZW1vaXplcyB0aGUgcmVzdWx0IG9mIGBmdW5jYC4gSWYgYHJlc29sdmVyYCBpc1xuICAgICAqIHByb3ZpZGVkLCBpdCBkZXRlcm1pbmVzIHRoZSBjYWNoZSBrZXkgZm9yIHN0b3JpbmcgdGhlIHJlc3VsdCBiYXNlZCBvbiB0aGVcbiAgICAgKiBhcmd1bWVudHMgcHJvdmlkZWQgdG8gdGhlIG1lbW9pemVkIGZ1bmN0aW9uLiBCeSBkZWZhdWx0LCB0aGUgZmlyc3QgYXJndW1lbnRcbiAgICAgKiBwcm92aWRlZCB0byB0aGUgbWVtb2l6ZWQgZnVuY3Rpb24gaXMgdXNlZCBhcyB0aGUgbWFwIGNhY2hlIGtleS4gVGhlIGBmdW5jYFxuICAgICAqIGlzIGludm9rZWQgd2l0aCB0aGUgYHRoaXNgIGJpbmRpbmcgb2YgdGhlIG1lbW9pemVkIGZ1bmN0aW9uLlxuICAgICAqXG4gICAgICogKipOb3RlOioqIFRoZSBjYWNoZSBpcyBleHBvc2VkIGFzIHRoZSBgY2FjaGVgIHByb3BlcnR5IG9uIHRoZSBtZW1vaXplZFxuICAgICAqIGZ1bmN0aW9uLiBJdHMgY3JlYXRpb24gbWF5IGJlIGN1c3RvbWl6ZWQgYnkgcmVwbGFjaW5nIHRoZSBgXy5tZW1vaXplLkNhY2hlYFxuICAgICAqIGNvbnN0cnVjdG9yIHdpdGggb25lIHdob3NlIGluc3RhbmNlcyBpbXBsZW1lbnQgdGhlXG4gICAgICogW2BNYXBgXShodHRwOi8vZWNtYS1pbnRlcm5hdGlvbmFsLm9yZy9lY21hLTI2Mi83LjAvI3NlYy1wcm9wZXJ0aWVzLW9mLXRoZS1tYXAtcHJvdG90eXBlLW9iamVjdClcbiAgICAgKiBtZXRob2QgaW50ZXJmYWNlIG9mIGBjbGVhcmAsIGBkZWxldGVgLCBgZ2V0YCwgYGhhc2AsIGFuZCBgc2V0YC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAwLjEuMFxuICAgICAqIEBjYXRlZ29yeSBGdW5jdGlvblxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGZ1bmMgVGhlIGZ1bmN0aW9uIHRvIGhhdmUgaXRzIG91dHB1dCBtZW1vaXplZC5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbcmVzb2x2ZXJdIFRoZSBmdW5jdGlvbiB0byByZXNvbHZlIHRoZSBjYWNoZSBrZXkuXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgbWVtb2l6ZWQgZnVuY3Rpb24uXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBvYmplY3QgPSB7ICdhJzogMSwgJ2InOiAyIH07XG4gICAgICogdmFyIG90aGVyID0geyAnYyc6IDMsICdkJzogNCB9O1xuICAgICAqXG4gICAgICogdmFyIHZhbHVlcyA9IF8ubWVtb2l6ZShfLnZhbHVlcyk7XG4gICAgICogdmFsdWVzKG9iamVjdCk7XG4gICAgICogLy8gPT4gWzEsIDJdXG4gICAgICpcbiAgICAgKiB2YWx1ZXMob3RoZXIpO1xuICAgICAqIC8vID0+IFszLCA0XVxuICAgICAqXG4gICAgICogb2JqZWN0LmEgPSAyO1xuICAgICAqIHZhbHVlcyhvYmplY3QpO1xuICAgICAqIC8vID0+IFsxLCAyXVxuICAgICAqXG4gICAgICogLy8gTW9kaWZ5IHRoZSByZXN1bHQgY2FjaGUuXG4gICAgICogdmFsdWVzLmNhY2hlLnNldChvYmplY3QsIFsnYScsICdiJ10pO1xuICAgICAqIHZhbHVlcyhvYmplY3QpO1xuICAgICAqIC8vID0+IFsnYScsICdiJ11cbiAgICAgKlxuICAgICAqIC8vIFJlcGxhY2UgYF8ubWVtb2l6ZS5DYWNoZWAuXG4gICAgICogXy5tZW1vaXplLkNhY2hlID0gV2Vha01hcDtcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBtZW1vaXplKGZ1bmMsIHJlc29sdmVyKSB7XG4gICAgICBpZiAodHlwZW9mIGZ1bmMgIT0gJ2Z1bmN0aW9uJyB8fCAocmVzb2x2ZXIgIT0gbnVsbCAmJiB0eXBlb2YgcmVzb2x2ZXIgIT0gJ2Z1bmN0aW9uJykpIHtcbiAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihGVU5DX0VSUk9SX1RFWFQpO1xuICAgICAgfVxuICAgICAgdmFyIG1lbW9pemVkID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHZhciBhcmdzID0gYXJndW1lbnRzLFxuICAgICAgICAgICAga2V5ID0gcmVzb2x2ZXIgPyByZXNvbHZlci5hcHBseSh0aGlzLCBhcmdzKSA6IGFyZ3NbMF0sXG4gICAgICAgICAgICBjYWNoZSA9IG1lbW9pemVkLmNhY2hlO1xuXG4gICAgICAgIGlmIChjYWNoZS5oYXMoa2V5KSkge1xuICAgICAgICAgIHJldHVybiBjYWNoZS5nZXQoa2V5KTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgcmVzdWx0ID0gZnVuYy5hcHBseSh0aGlzLCBhcmdzKTtcbiAgICAgICAgbWVtb2l6ZWQuY2FjaGUgPSBjYWNoZS5zZXQoa2V5LCByZXN1bHQpIHx8IGNhY2hlO1xuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgfTtcbiAgICAgIG1lbW9pemVkLmNhY2hlID0gbmV3IChtZW1vaXplLkNhY2hlIHx8IE1hcENhY2hlKTtcbiAgICAgIHJldHVybiBtZW1vaXplZDtcbiAgICB9XG5cbiAgICAvLyBFeHBvc2UgYE1hcENhY2hlYC5cbiAgICBtZW1vaXplLkNhY2hlID0gTWFwQ2FjaGU7XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgZnVuY3Rpb24gdGhhdCBuZWdhdGVzIHRoZSByZXN1bHQgb2YgdGhlIHByZWRpY2F0ZSBgZnVuY2AuIFRoZVxuICAgICAqIGBmdW5jYCBwcmVkaWNhdGUgaXMgaW52b2tlZCB3aXRoIHRoZSBgdGhpc2AgYmluZGluZyBhbmQgYXJndW1lbnRzIG9mIHRoZVxuICAgICAqIGNyZWF0ZWQgZnVuY3Rpb24uXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMy4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgRnVuY3Rpb25cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBwcmVkaWNhdGUgVGhlIHByZWRpY2F0ZSB0byBuZWdhdGUuXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgbmVnYXRlZCBmdW5jdGlvbi5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogZnVuY3Rpb24gaXNFdmVuKG4pIHtcbiAgICAgKiAgIHJldHVybiBuICUgMiA9PSAwO1xuICAgICAqIH1cbiAgICAgKlxuICAgICAqIF8uZmlsdGVyKFsxLCAyLCAzLCA0LCA1LCA2XSwgXy5uZWdhdGUoaXNFdmVuKSk7XG4gICAgICogLy8gPT4gWzEsIDMsIDVdXG4gICAgICovXG4gICAgZnVuY3Rpb24gbmVnYXRlKHByZWRpY2F0ZSkge1xuICAgICAgaWYgKHR5cGVvZiBwcmVkaWNhdGUgIT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKEZVTkNfRVJST1JfVEVYVCk7XG4gICAgICB9XG4gICAgICByZXR1cm4gZnVuY3Rpb24oKSB7XG4gICAgICAgIHZhciBhcmdzID0gYXJndW1lbnRzO1xuICAgICAgICBzd2l0Y2ggKGFyZ3MubGVuZ3RoKSB7XG4gICAgICAgICAgY2FzZSAwOiByZXR1cm4gIXByZWRpY2F0ZS5jYWxsKHRoaXMpO1xuICAgICAgICAgIGNhc2UgMTogcmV0dXJuICFwcmVkaWNhdGUuY2FsbCh0aGlzLCBhcmdzWzBdKTtcbiAgICAgICAgICBjYXNlIDI6IHJldHVybiAhcHJlZGljYXRlLmNhbGwodGhpcywgYXJnc1swXSwgYXJnc1sxXSk7XG4gICAgICAgICAgY2FzZSAzOiByZXR1cm4gIXByZWRpY2F0ZS5jYWxsKHRoaXMsIGFyZ3NbMF0sIGFyZ3NbMV0sIGFyZ3NbMl0pO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiAhcHJlZGljYXRlLmFwcGx5KHRoaXMsIGFyZ3MpO1xuICAgICAgfTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgZnVuY3Rpb24gdGhhdCBpcyByZXN0cmljdGVkIHRvIGludm9raW5nIGBmdW5jYCBvbmNlLiBSZXBlYXQgY2FsbHNcbiAgICAgKiB0byB0aGUgZnVuY3Rpb24gcmV0dXJuIHRoZSB2YWx1ZSBvZiB0aGUgZmlyc3QgaW52b2NhdGlvbi4gVGhlIGBmdW5jYCBpc1xuICAgICAqIGludm9rZWQgd2l0aCB0aGUgYHRoaXNgIGJpbmRpbmcgYW5kIGFyZ3VtZW50cyBvZiB0aGUgY3JlYXRlZCBmdW5jdGlvbi5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAwLjEuMFxuICAgICAqIEBjYXRlZ29yeSBGdW5jdGlvblxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGZ1bmMgVGhlIGZ1bmN0aW9uIHRvIHJlc3RyaWN0LlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IHJlc3RyaWN0ZWQgZnVuY3Rpb24uXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBpbml0aWFsaXplID0gXy5vbmNlKGNyZWF0ZUFwcGxpY2F0aW9uKTtcbiAgICAgKiBpbml0aWFsaXplKCk7XG4gICAgICogaW5pdGlhbGl6ZSgpO1xuICAgICAqIC8vID0+IGBjcmVhdGVBcHBsaWNhdGlvbmAgaXMgaW52b2tlZCBvbmNlXG4gICAgICovXG4gICAgZnVuY3Rpb24gb25jZShmdW5jKSB7XG4gICAgICByZXR1cm4gYmVmb3JlKDIsIGZ1bmMpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBmdW5jdGlvbiB0aGF0IGludm9rZXMgYGZ1bmNgIHdpdGggaXRzIGFyZ3VtZW50cyB0cmFuc2Zvcm1lZC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBjYXRlZ29yeSBGdW5jdGlvblxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGZ1bmMgVGhlIGZ1bmN0aW9uIHRvIHdyYXAuXG4gICAgICogQHBhcmFtIHsuLi4oRnVuY3Rpb258RnVuY3Rpb25bXSl9IFt0cmFuc2Zvcm1zPVtfLmlkZW50aXR5XV1cbiAgICAgKiAgVGhlIGFyZ3VtZW50IHRyYW5zZm9ybXMuXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgZnVuY3Rpb24uXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIGZ1bmN0aW9uIGRvdWJsZWQobikge1xuICAgICAqICAgcmV0dXJuIG4gKiAyO1xuICAgICAqIH1cbiAgICAgKlxuICAgICAqIGZ1bmN0aW9uIHNxdWFyZShuKSB7XG4gICAgICogICByZXR1cm4gbiAqIG47XG4gICAgICogfVxuICAgICAqXG4gICAgICogdmFyIGZ1bmMgPSBfLm92ZXJBcmdzKGZ1bmN0aW9uKHgsIHkpIHtcbiAgICAgKiAgIHJldHVybiBbeCwgeV07XG4gICAgICogfSwgW3NxdWFyZSwgZG91YmxlZF0pO1xuICAgICAqXG4gICAgICogZnVuYyg5LCAzKTtcbiAgICAgKiAvLyA9PiBbODEsIDZdXG4gICAgICpcbiAgICAgKiBmdW5jKDEwLCA1KTtcbiAgICAgKiAvLyA9PiBbMTAwLCAxMF1cbiAgICAgKi9cbiAgICB2YXIgb3ZlckFyZ3MgPSBjYXN0UmVzdChmdW5jdGlvbihmdW5jLCB0cmFuc2Zvcm1zKSB7XG4gICAgICB0cmFuc2Zvcm1zID0gKHRyYW5zZm9ybXMubGVuZ3RoID09IDEgJiYgaXNBcnJheSh0cmFuc2Zvcm1zWzBdKSlcbiAgICAgICAgPyBhcnJheU1hcCh0cmFuc2Zvcm1zWzBdLCBiYXNlVW5hcnkoZ2V0SXRlcmF0ZWUoKSkpXG4gICAgICAgIDogYXJyYXlNYXAoYmFzZUZsYXR0ZW4odHJhbnNmb3JtcywgMSksIGJhc2VVbmFyeShnZXRJdGVyYXRlZSgpKSk7XG5cbiAgICAgIHZhciBmdW5jc0xlbmd0aCA9IHRyYW5zZm9ybXMubGVuZ3RoO1xuICAgICAgcmV0dXJuIGJhc2VSZXN0KGZ1bmN0aW9uKGFyZ3MpIHtcbiAgICAgICAgdmFyIGluZGV4ID0gLTEsXG4gICAgICAgICAgICBsZW5ndGggPSBuYXRpdmVNaW4oYXJncy5sZW5ndGgsIGZ1bmNzTGVuZ3RoKTtcblxuICAgICAgICB3aGlsZSAoKytpbmRleCA8IGxlbmd0aCkge1xuICAgICAgICAgIGFyZ3NbaW5kZXhdID0gdHJhbnNmb3Jtc1tpbmRleF0uY2FsbCh0aGlzLCBhcmdzW2luZGV4XSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGFwcGx5KGZ1bmMsIHRoaXMsIGFyZ3MpO1xuICAgICAgfSk7XG4gICAgfSk7XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgZnVuY3Rpb24gdGhhdCBpbnZva2VzIGBmdW5jYCB3aXRoIGBwYXJ0aWFsc2AgcHJlcGVuZGVkIHRvIHRoZVxuICAgICAqIGFyZ3VtZW50cyBpdCByZWNlaXZlcy4gVGhpcyBtZXRob2QgaXMgbGlrZSBgXy5iaW5kYCBleGNlcHQgaXQgZG9lcyAqKm5vdCoqXG4gICAgICogYWx0ZXIgdGhlIGB0aGlzYCBiaW5kaW5nLlxuICAgICAqXG4gICAgICogVGhlIGBfLnBhcnRpYWwucGxhY2Vob2xkZXJgIHZhbHVlLCB3aGljaCBkZWZhdWx0cyB0byBgX2AgaW4gbW9ub2xpdGhpY1xuICAgICAqIGJ1aWxkcywgbWF5IGJlIHVzZWQgYXMgYSBwbGFjZWhvbGRlciBmb3IgcGFydGlhbGx5IGFwcGxpZWQgYXJndW1lbnRzLlxuICAgICAqXG4gICAgICogKipOb3RlOioqIFRoaXMgbWV0aG9kIGRvZXNuJ3Qgc2V0IHRoZSBcImxlbmd0aFwiIHByb3BlcnR5IG9mIHBhcnRpYWxseVxuICAgICAqIGFwcGxpZWQgZnVuY3Rpb25zLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDAuMi4wXG4gICAgICogQGNhdGVnb3J5IEZ1bmN0aW9uXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gZnVuYyBUaGUgZnVuY3Rpb24gdG8gcGFydGlhbGx5IGFwcGx5IGFyZ3VtZW50cyB0by5cbiAgICAgKiBAcGFyYW0gey4uLip9IFtwYXJ0aWFsc10gVGhlIGFyZ3VtZW50cyB0byBiZSBwYXJ0aWFsbHkgYXBwbGllZC5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyBwYXJ0aWFsbHkgYXBwbGllZCBmdW5jdGlvbi5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogZnVuY3Rpb24gZ3JlZXQoZ3JlZXRpbmcsIG5hbWUpIHtcbiAgICAgKiAgIHJldHVybiBncmVldGluZyArICcgJyArIG5hbWU7XG4gICAgICogfVxuICAgICAqXG4gICAgICogdmFyIHNheUhlbGxvVG8gPSBfLnBhcnRpYWwoZ3JlZXQsICdoZWxsbycpO1xuICAgICAqIHNheUhlbGxvVG8oJ2ZyZWQnKTtcbiAgICAgKiAvLyA9PiAnaGVsbG8gZnJlZCdcbiAgICAgKlxuICAgICAqIC8vIFBhcnRpYWxseSBhcHBsaWVkIHdpdGggcGxhY2Vob2xkZXJzLlxuICAgICAqIHZhciBncmVldEZyZWQgPSBfLnBhcnRpYWwoZ3JlZXQsIF8sICdmcmVkJyk7XG4gICAgICogZ3JlZXRGcmVkKCdoaScpO1xuICAgICAqIC8vID0+ICdoaSBmcmVkJ1xuICAgICAqL1xuICAgIHZhciBwYXJ0aWFsID0gYmFzZVJlc3QoZnVuY3Rpb24oZnVuYywgcGFydGlhbHMpIHtcbiAgICAgIHZhciBob2xkZXJzID0gcmVwbGFjZUhvbGRlcnMocGFydGlhbHMsIGdldEhvbGRlcihwYXJ0aWFsKSk7XG4gICAgICByZXR1cm4gY3JlYXRlV3JhcChmdW5jLCBXUkFQX1BBUlRJQUxfRkxBRywgdW5kZWZpbmVkLCBwYXJ0aWFscywgaG9sZGVycyk7XG4gICAgfSk7XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCBpcyBsaWtlIGBfLnBhcnRpYWxgIGV4Y2VwdCB0aGF0IHBhcnRpYWxseSBhcHBsaWVkIGFyZ3VtZW50c1xuICAgICAqIGFyZSBhcHBlbmRlZCB0byB0aGUgYXJndW1lbnRzIGl0IHJlY2VpdmVzLlxuICAgICAqXG4gICAgICogVGhlIGBfLnBhcnRpYWxSaWdodC5wbGFjZWhvbGRlcmAgdmFsdWUsIHdoaWNoIGRlZmF1bHRzIHRvIGBfYCBpbiBtb25vbGl0aGljXG4gICAgICogYnVpbGRzLCBtYXkgYmUgdXNlZCBhcyBhIHBsYWNlaG9sZGVyIGZvciBwYXJ0aWFsbHkgYXBwbGllZCBhcmd1bWVudHMuXG4gICAgICpcbiAgICAgKiAqKk5vdGU6KiogVGhpcyBtZXRob2QgZG9lc24ndCBzZXQgdGhlIFwibGVuZ3RoXCIgcHJvcGVydHkgb2YgcGFydGlhbGx5XG4gICAgICogYXBwbGllZCBmdW5jdGlvbnMuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMS4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgRnVuY3Rpb25cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBmdW5jIFRoZSBmdW5jdGlvbiB0byBwYXJ0aWFsbHkgYXBwbHkgYXJndW1lbnRzIHRvLlxuICAgICAqIEBwYXJhbSB7Li4uKn0gW3BhcnRpYWxzXSBUaGUgYXJndW1lbnRzIHRvIGJlIHBhcnRpYWxseSBhcHBsaWVkLlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IHBhcnRpYWxseSBhcHBsaWVkIGZ1bmN0aW9uLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBmdW5jdGlvbiBncmVldChncmVldGluZywgbmFtZSkge1xuICAgICAqICAgcmV0dXJuIGdyZWV0aW5nICsgJyAnICsgbmFtZTtcbiAgICAgKiB9XG4gICAgICpcbiAgICAgKiB2YXIgZ3JlZXRGcmVkID0gXy5wYXJ0aWFsUmlnaHQoZ3JlZXQsICdmcmVkJyk7XG4gICAgICogZ3JlZXRGcmVkKCdoaScpO1xuICAgICAqIC8vID0+ICdoaSBmcmVkJ1xuICAgICAqXG4gICAgICogLy8gUGFydGlhbGx5IGFwcGxpZWQgd2l0aCBwbGFjZWhvbGRlcnMuXG4gICAgICogdmFyIHNheUhlbGxvVG8gPSBfLnBhcnRpYWxSaWdodChncmVldCwgJ2hlbGxvJywgXyk7XG4gICAgICogc2F5SGVsbG9UbygnZnJlZCcpO1xuICAgICAqIC8vID0+ICdoZWxsbyBmcmVkJ1xuICAgICAqL1xuICAgIHZhciBwYXJ0aWFsUmlnaHQgPSBiYXNlUmVzdChmdW5jdGlvbihmdW5jLCBwYXJ0aWFscykge1xuICAgICAgdmFyIGhvbGRlcnMgPSByZXBsYWNlSG9sZGVycyhwYXJ0aWFscywgZ2V0SG9sZGVyKHBhcnRpYWxSaWdodCkpO1xuICAgICAgcmV0dXJuIGNyZWF0ZVdyYXAoZnVuYywgV1JBUF9QQVJUSUFMX1JJR0hUX0ZMQUcsIHVuZGVmaW5lZCwgcGFydGlhbHMsIGhvbGRlcnMpO1xuICAgIH0pO1xuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGZ1bmN0aW9uIHRoYXQgaW52b2tlcyBgZnVuY2Agd2l0aCBhcmd1bWVudHMgYXJyYW5nZWQgYWNjb3JkaW5nXG4gICAgICogdG8gdGhlIHNwZWNpZmllZCBgaW5kZXhlc2Agd2hlcmUgdGhlIGFyZ3VtZW50IHZhbHVlIGF0IHRoZSBmaXJzdCBpbmRleCBpc1xuICAgICAqIHByb3ZpZGVkIGFzIHRoZSBmaXJzdCBhcmd1bWVudCwgdGhlIGFyZ3VtZW50IHZhbHVlIGF0IHRoZSBzZWNvbmQgaW5kZXggaXNcbiAgICAgKiBwcm92aWRlZCBhcyB0aGUgc2Vjb25kIGFyZ3VtZW50LCBhbmQgc28gb24uXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMy4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgRnVuY3Rpb25cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBmdW5jIFRoZSBmdW5jdGlvbiB0byByZWFycmFuZ2UgYXJndW1lbnRzIGZvci5cbiAgICAgKiBAcGFyYW0gey4uLihudW1iZXJ8bnVtYmVyW10pfSBpbmRleGVzIFRoZSBhcnJhbmdlZCBhcmd1bWVudCBpbmRleGVzLlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IGZ1bmN0aW9uLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgcmVhcmdlZCA9IF8ucmVhcmcoZnVuY3Rpb24oYSwgYiwgYykge1xuICAgICAqICAgcmV0dXJuIFthLCBiLCBjXTtcbiAgICAgKiB9LCBbMiwgMCwgMV0pO1xuICAgICAqXG4gICAgICogcmVhcmdlZCgnYicsICdjJywgJ2EnKVxuICAgICAqIC8vID0+IFsnYScsICdiJywgJ2MnXVxuICAgICAqL1xuICAgIHZhciByZWFyZyA9IGZsYXRSZXN0KGZ1bmN0aW9uKGZ1bmMsIGluZGV4ZXMpIHtcbiAgICAgIHJldHVybiBjcmVhdGVXcmFwKGZ1bmMsIFdSQVBfUkVBUkdfRkxBRywgdW5kZWZpbmVkLCB1bmRlZmluZWQsIHVuZGVmaW5lZCwgaW5kZXhlcyk7XG4gICAgfSk7XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgZnVuY3Rpb24gdGhhdCBpbnZva2VzIGBmdW5jYCB3aXRoIHRoZSBgdGhpc2AgYmluZGluZyBvZiB0aGVcbiAgICAgKiBjcmVhdGVkIGZ1bmN0aW9uIGFuZCBhcmd1bWVudHMgZnJvbSBgc3RhcnRgIGFuZCBiZXlvbmQgcHJvdmlkZWQgYXNcbiAgICAgKiBhbiBhcnJheS5cbiAgICAgKlxuICAgICAqICoqTm90ZToqKiBUaGlzIG1ldGhvZCBpcyBiYXNlZCBvbiB0aGVcbiAgICAgKiBbcmVzdCBwYXJhbWV0ZXJdKGh0dHBzOi8vbWRuLmlvL3Jlc3RfcGFyYW1ldGVycykuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgRnVuY3Rpb25cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBmdW5jIFRoZSBmdW5jdGlvbiB0byBhcHBseSBhIHJlc3QgcGFyYW1ldGVyIHRvLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbc3RhcnQ9ZnVuYy5sZW5ndGgtMV0gVGhlIHN0YXJ0IHBvc2l0aW9uIG9mIHRoZSByZXN0IHBhcmFtZXRlci5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyBmdW5jdGlvbi5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIHNheSA9IF8ucmVzdChmdW5jdGlvbih3aGF0LCBuYW1lcykge1xuICAgICAqICAgcmV0dXJuIHdoYXQgKyAnICcgKyBfLmluaXRpYWwobmFtZXMpLmpvaW4oJywgJykgK1xuICAgICAqICAgICAoXy5zaXplKG5hbWVzKSA+IDEgPyAnLCAmICcgOiAnJykgKyBfLmxhc3QobmFtZXMpO1xuICAgICAqIH0pO1xuICAgICAqXG4gICAgICogc2F5KCdoZWxsbycsICdmcmVkJywgJ2Jhcm5leScsICdwZWJibGVzJyk7XG4gICAgICogLy8gPT4gJ2hlbGxvIGZyZWQsIGJhcm5leSwgJiBwZWJibGVzJ1xuICAgICAqL1xuICAgIGZ1bmN0aW9uIHJlc3QoZnVuYywgc3RhcnQpIHtcbiAgICAgIGlmICh0eXBlb2YgZnVuYyAhPSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoRlVOQ19FUlJPUl9URVhUKTtcbiAgICAgIH1cbiAgICAgIHN0YXJ0ID0gc3RhcnQgPT09IHVuZGVmaW5lZCA/IHN0YXJ0IDogdG9JbnRlZ2VyKHN0YXJ0KTtcbiAgICAgIHJldHVybiBiYXNlUmVzdChmdW5jLCBzdGFydCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGZ1bmN0aW9uIHRoYXQgaW52b2tlcyBgZnVuY2Agd2l0aCB0aGUgYHRoaXNgIGJpbmRpbmcgb2YgdGhlXG4gICAgICogY3JlYXRlIGZ1bmN0aW9uIGFuZCBhbiBhcnJheSBvZiBhcmd1bWVudHMgbXVjaCBsaWtlXG4gICAgICogW2BGdW5jdGlvbiNhcHBseWBdKGh0dHA6Ly93d3cuZWNtYS1pbnRlcm5hdGlvbmFsLm9yZy9lY21hLTI2Mi83LjAvI3NlYy1mdW5jdGlvbi5wcm90b3R5cGUuYXBwbHkpLlxuICAgICAqXG4gICAgICogKipOb3RlOioqIFRoaXMgbWV0aG9kIGlzIGJhc2VkIG9uIHRoZVxuICAgICAqIFtzcHJlYWQgb3BlcmF0b3JdKGh0dHBzOi8vbWRuLmlvL3NwcmVhZF9vcGVyYXRvcikuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMy4yLjBcbiAgICAgKiBAY2F0ZWdvcnkgRnVuY3Rpb25cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBmdW5jIFRoZSBmdW5jdGlvbiB0byBzcHJlYWQgYXJndW1lbnRzIG92ZXIuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtzdGFydD0wXSBUaGUgc3RhcnQgcG9zaXRpb24gb2YgdGhlIHNwcmVhZC5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyBmdW5jdGlvbi5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIHNheSA9IF8uc3ByZWFkKGZ1bmN0aW9uKHdobywgd2hhdCkge1xuICAgICAqICAgcmV0dXJuIHdobyArICcgc2F5cyAnICsgd2hhdDtcbiAgICAgKiB9KTtcbiAgICAgKlxuICAgICAqIHNheShbJ2ZyZWQnLCAnaGVsbG8nXSk7XG4gICAgICogLy8gPT4gJ2ZyZWQgc2F5cyBoZWxsbydcbiAgICAgKlxuICAgICAqIHZhciBudW1iZXJzID0gUHJvbWlzZS5hbGwoW1xuICAgICAqICAgUHJvbWlzZS5yZXNvbHZlKDQwKSxcbiAgICAgKiAgIFByb21pc2UucmVzb2x2ZSgzNilcbiAgICAgKiBdKTtcbiAgICAgKlxuICAgICAqIG51bWJlcnMudGhlbihfLnNwcmVhZChmdW5jdGlvbih4LCB5KSB7XG4gICAgICogICByZXR1cm4geCArIHk7XG4gICAgICogfSkpO1xuICAgICAqIC8vID0+IGEgUHJvbWlzZSBvZiA3NlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHNwcmVhZChmdW5jLCBzdGFydCkge1xuICAgICAgaWYgKHR5cGVvZiBmdW5jICE9ICdmdW5jdGlvbicpIHtcbiAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihGVU5DX0VSUk9SX1RFWFQpO1xuICAgICAgfVxuICAgICAgc3RhcnQgPSBzdGFydCA9PSBudWxsID8gMCA6IG5hdGl2ZU1heCh0b0ludGVnZXIoc3RhcnQpLCAwKTtcbiAgICAgIHJldHVybiBiYXNlUmVzdChmdW5jdGlvbihhcmdzKSB7XG4gICAgICAgIHZhciBhcnJheSA9IGFyZ3Nbc3RhcnRdLFxuICAgICAgICAgICAgb3RoZXJBcmdzID0gY2FzdFNsaWNlKGFyZ3MsIDAsIHN0YXJ0KTtcblxuICAgICAgICBpZiAoYXJyYXkpIHtcbiAgICAgICAgICBhcnJheVB1c2gob3RoZXJBcmdzLCBhcnJheSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGFwcGx5KGZ1bmMsIHRoaXMsIG90aGVyQXJncyk7XG4gICAgICB9KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgdGhyb3R0bGVkIGZ1bmN0aW9uIHRoYXQgb25seSBpbnZva2VzIGBmdW5jYCBhdCBtb3N0IG9uY2UgcGVyXG4gICAgICogZXZlcnkgYHdhaXRgIG1pbGxpc2Vjb25kcy4gVGhlIHRocm90dGxlZCBmdW5jdGlvbiBjb21lcyB3aXRoIGEgYGNhbmNlbGBcbiAgICAgKiBtZXRob2QgdG8gY2FuY2VsIGRlbGF5ZWQgYGZ1bmNgIGludm9jYXRpb25zIGFuZCBhIGBmbHVzaGAgbWV0aG9kIHRvXG4gICAgICogaW1tZWRpYXRlbHkgaW52b2tlIHRoZW0uIFByb3ZpZGUgYG9wdGlvbnNgIHRvIGluZGljYXRlIHdoZXRoZXIgYGZ1bmNgXG4gICAgICogc2hvdWxkIGJlIGludm9rZWQgb24gdGhlIGxlYWRpbmcgYW5kL29yIHRyYWlsaW5nIGVkZ2Ugb2YgdGhlIGB3YWl0YFxuICAgICAqIHRpbWVvdXQuIFRoZSBgZnVuY2AgaXMgaW52b2tlZCB3aXRoIHRoZSBsYXN0IGFyZ3VtZW50cyBwcm92aWRlZCB0byB0aGVcbiAgICAgKiB0aHJvdHRsZWQgZnVuY3Rpb24uIFN1YnNlcXVlbnQgY2FsbHMgdG8gdGhlIHRocm90dGxlZCBmdW5jdGlvbiByZXR1cm4gdGhlXG4gICAgICogcmVzdWx0IG9mIHRoZSBsYXN0IGBmdW5jYCBpbnZvY2F0aW9uLlxuICAgICAqXG4gICAgICogKipOb3RlOioqIElmIGBsZWFkaW5nYCBhbmQgYHRyYWlsaW5nYCBvcHRpb25zIGFyZSBgdHJ1ZWAsIGBmdW5jYCBpc1xuICAgICAqIGludm9rZWQgb24gdGhlIHRyYWlsaW5nIGVkZ2Ugb2YgdGhlIHRpbWVvdXQgb25seSBpZiB0aGUgdGhyb3R0bGVkIGZ1bmN0aW9uXG4gICAgICogaXMgaW52b2tlZCBtb3JlIHRoYW4gb25jZSBkdXJpbmcgdGhlIGB3YWl0YCB0aW1lb3V0LlxuICAgICAqXG4gICAgICogSWYgYHdhaXRgIGlzIGAwYCBhbmQgYGxlYWRpbmdgIGlzIGBmYWxzZWAsIGBmdW5jYCBpbnZvY2F0aW9uIGlzIGRlZmVycmVkXG4gICAgICogdW50aWwgdG8gdGhlIG5leHQgdGljaywgc2ltaWxhciB0byBgc2V0VGltZW91dGAgd2l0aCBhIHRpbWVvdXQgb2YgYDBgLlxuICAgICAqXG4gICAgICogU2VlIFtEYXZpZCBDb3JiYWNobydzIGFydGljbGVdKGh0dHBzOi8vY3NzLXRyaWNrcy5jb20vZGVib3VuY2luZy10aHJvdHRsaW5nLWV4cGxhaW5lZC1leGFtcGxlcy8pXG4gICAgICogZm9yIGRldGFpbHMgb3ZlciB0aGUgZGlmZmVyZW5jZXMgYmV0d2VlbiBgXy50aHJvdHRsZWAgYW5kIGBfLmRlYm91bmNlYC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAwLjEuMFxuICAgICAqIEBjYXRlZ29yeSBGdW5jdGlvblxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGZ1bmMgVGhlIGZ1bmN0aW9uIHRvIHRocm90dGxlLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbd2FpdD0wXSBUaGUgbnVtYmVyIG9mIG1pbGxpc2Vjb25kcyB0byB0aHJvdHRsZSBpbnZvY2F0aW9ucyB0by5cbiAgICAgKiBAcGFyYW0ge09iamVjdH0gW29wdGlvbnM9e31dIFRoZSBvcHRpb25zIG9iamVjdC5cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLmxlYWRpbmc9dHJ1ZV1cbiAgICAgKiAgU3BlY2lmeSBpbnZva2luZyBvbiB0aGUgbGVhZGluZyBlZGdlIG9mIHRoZSB0aW1lb3V0LlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdGlvbnMudHJhaWxpbmc9dHJ1ZV1cbiAgICAgKiAgU3BlY2lmeSBpbnZva2luZyBvbiB0aGUgdHJhaWxpbmcgZWRnZSBvZiB0aGUgdGltZW91dC5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyB0aHJvdHRsZWQgZnVuY3Rpb24uXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIC8vIEF2b2lkIGV4Y2Vzc2l2ZWx5IHVwZGF0aW5nIHRoZSBwb3NpdGlvbiB3aGlsZSBzY3JvbGxpbmcuXG4gICAgICogalF1ZXJ5KHdpbmRvdykub24oJ3Njcm9sbCcsIF8udGhyb3R0bGUodXBkYXRlUG9zaXRpb24sIDEwMCkpO1xuICAgICAqXG4gICAgICogLy8gSW52b2tlIGByZW5ld1Rva2VuYCB3aGVuIHRoZSBjbGljayBldmVudCBpcyBmaXJlZCwgYnV0IG5vdCBtb3JlIHRoYW4gb25jZSBldmVyeSA1IG1pbnV0ZXMuXG4gICAgICogdmFyIHRocm90dGxlZCA9IF8udGhyb3R0bGUocmVuZXdUb2tlbiwgMzAwMDAwLCB7ICd0cmFpbGluZyc6IGZhbHNlIH0pO1xuICAgICAqIGpRdWVyeShlbGVtZW50KS5vbignY2xpY2snLCB0aHJvdHRsZWQpO1xuICAgICAqXG4gICAgICogLy8gQ2FuY2VsIHRoZSB0cmFpbGluZyB0aHJvdHRsZWQgaW52b2NhdGlvbi5cbiAgICAgKiBqUXVlcnkod2luZG93KS5vbigncG9wc3RhdGUnLCB0aHJvdHRsZWQuY2FuY2VsKTtcbiAgICAgKi9cbiAgICBmdW5jdGlvbiB0aHJvdHRsZShmdW5jLCB3YWl0LCBvcHRpb25zKSB7XG4gICAgICB2YXIgbGVhZGluZyA9IHRydWUsXG4gICAgICAgICAgdHJhaWxpbmcgPSB0cnVlO1xuXG4gICAgICBpZiAodHlwZW9mIGZ1bmMgIT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKEZVTkNfRVJST1JfVEVYVCk7XG4gICAgICB9XG4gICAgICBpZiAoaXNPYmplY3Qob3B0aW9ucykpIHtcbiAgICAgICAgbGVhZGluZyA9ICdsZWFkaW5nJyBpbiBvcHRpb25zID8gISFvcHRpb25zLmxlYWRpbmcgOiBsZWFkaW5nO1xuICAgICAgICB0cmFpbGluZyA9ICd0cmFpbGluZycgaW4gb3B0aW9ucyA/ICEhb3B0aW9ucy50cmFpbGluZyA6IHRyYWlsaW5nO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGRlYm91bmNlKGZ1bmMsIHdhaXQsIHtcbiAgICAgICAgJ2xlYWRpbmcnOiBsZWFkaW5nLFxuICAgICAgICAnbWF4V2FpdCc6IHdhaXQsXG4gICAgICAgICd0cmFpbGluZyc6IHRyYWlsaW5nXG4gICAgICB9KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgZnVuY3Rpb24gdGhhdCBhY2NlcHRzIHVwIHRvIG9uZSBhcmd1bWVudCwgaWdub3JpbmcgYW55XG4gICAgICogYWRkaXRpb25hbCBhcmd1bWVudHMuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgRnVuY3Rpb25cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBmdW5jIFRoZSBmdW5jdGlvbiB0byBjYXAgYXJndW1lbnRzIGZvci5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyBjYXBwZWQgZnVuY3Rpb24uXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8ubWFwKFsnNicsICc4JywgJzEwJ10sIF8udW5hcnkocGFyc2VJbnQpKTtcbiAgICAgKiAvLyA9PiBbNiwgOCwgMTBdXG4gICAgICovXG4gICAgZnVuY3Rpb24gdW5hcnkoZnVuYykge1xuICAgICAgcmV0dXJuIGFyeShmdW5jLCAxKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgZnVuY3Rpb24gdGhhdCBwcm92aWRlcyBgdmFsdWVgIHRvIGB3cmFwcGVyYCBhcyBpdHMgZmlyc3RcbiAgICAgKiBhcmd1bWVudC4gQW55IGFkZGl0aW9uYWwgYXJndW1lbnRzIHByb3ZpZGVkIHRvIHRoZSBmdW5jdGlvbiBhcmUgYXBwZW5kZWRcbiAgICAgKiB0byB0aG9zZSBwcm92aWRlZCB0byB0aGUgYHdyYXBwZXJgLiBUaGUgd3JhcHBlciBpcyBpbnZva2VkIHdpdGggdGhlIGB0aGlzYFxuICAgICAqIGJpbmRpbmcgb2YgdGhlIGNyZWF0ZWQgZnVuY3Rpb24uXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMC4xLjBcbiAgICAgKiBAY2F0ZWdvcnkgRnVuY3Rpb25cbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byB3cmFwLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFt3cmFwcGVyPWlkZW50aXR5XSBUaGUgd3JhcHBlciBmdW5jdGlvbi5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyBmdW5jdGlvbi5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIHAgPSBfLndyYXAoXy5lc2NhcGUsIGZ1bmN0aW9uKGZ1bmMsIHRleHQpIHtcbiAgICAgKiAgIHJldHVybiAnPHA+JyArIGZ1bmModGV4dCkgKyAnPC9wPic7XG4gICAgICogfSk7XG4gICAgICpcbiAgICAgKiBwKCdmcmVkLCBiYXJuZXksICYgcGViYmxlcycpO1xuICAgICAqIC8vID0+ICc8cD5mcmVkLCBiYXJuZXksICZhbXA7IHBlYmJsZXM8L3A+J1xuICAgICAqL1xuICAgIGZ1bmN0aW9uIHdyYXAodmFsdWUsIHdyYXBwZXIpIHtcbiAgICAgIHJldHVybiBwYXJ0aWFsKGNhc3RGdW5jdGlvbih3cmFwcGVyKSwgdmFsdWUpO1xuICAgIH1cblxuICAgIC8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cblxuICAgIC8qKlxuICAgICAqIENhc3RzIGB2YWx1ZWAgYXMgYW4gYXJyYXkgaWYgaXQncyBub3Qgb25lLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuNC4wXG4gICAgICogQGNhdGVnb3J5IExhbmdcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBpbnNwZWN0LlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgY2FzdCBhcnJheS5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5jYXN0QXJyYXkoMSk7XG4gICAgICogLy8gPT4gWzFdXG4gICAgICpcbiAgICAgKiBfLmNhc3RBcnJheSh7ICdhJzogMSB9KTtcbiAgICAgKiAvLyA9PiBbeyAnYSc6IDEgfV1cbiAgICAgKlxuICAgICAqIF8uY2FzdEFycmF5KCdhYmMnKTtcbiAgICAgKiAvLyA9PiBbJ2FiYyddXG4gICAgICpcbiAgICAgKiBfLmNhc3RBcnJheShudWxsKTtcbiAgICAgKiAvLyA9PiBbbnVsbF1cbiAgICAgKlxuICAgICAqIF8uY2FzdEFycmF5KHVuZGVmaW5lZCk7XG4gICAgICogLy8gPT4gW3VuZGVmaW5lZF1cbiAgICAgKlxuICAgICAqIF8uY2FzdEFycmF5KCk7XG4gICAgICogLy8gPT4gW11cbiAgICAgKlxuICAgICAqIHZhciBhcnJheSA9IFsxLCAyLCAzXTtcbiAgICAgKiBjb25zb2xlLmxvZyhfLmNhc3RBcnJheShhcnJheSkgPT09IGFycmF5KTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICovXG4gICAgZnVuY3Rpb24gY2FzdEFycmF5KCkge1xuICAgICAgaWYgKCFhcmd1bWVudHMubGVuZ3RoKSB7XG4gICAgICAgIHJldHVybiBbXTtcbiAgICAgIH1cbiAgICAgIHZhciB2YWx1ZSA9IGFyZ3VtZW50c1swXTtcbiAgICAgIHJldHVybiBpc0FycmF5KHZhbHVlKSA/IHZhbHVlIDogW3ZhbHVlXTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgc2hhbGxvdyBjbG9uZSBvZiBgdmFsdWVgLlxuICAgICAqXG4gICAgICogKipOb3RlOioqIFRoaXMgbWV0aG9kIGlzIGxvb3NlbHkgYmFzZWQgb24gdGhlXG4gICAgICogW3N0cnVjdHVyZWQgY2xvbmUgYWxnb3JpdGhtXShodHRwczovL21kbi5pby9TdHJ1Y3R1cmVkX2Nsb25lX2FsZ29yaXRobSlcbiAgICAgKiBhbmQgc3VwcG9ydHMgY2xvbmluZyBhcnJheXMsIGFycmF5IGJ1ZmZlcnMsIGJvb2xlYW5zLCBkYXRlIG9iamVjdHMsIG1hcHMsXG4gICAgICogbnVtYmVycywgYE9iamVjdGAgb2JqZWN0cywgcmVnZXhlcywgc2V0cywgc3RyaW5ncywgc3ltYm9scywgYW5kIHR5cGVkXG4gICAgICogYXJyYXlzLiBUaGUgb3duIGVudW1lcmFibGUgcHJvcGVydGllcyBvZiBgYXJndW1lbnRzYCBvYmplY3RzIGFyZSBjbG9uZWRcbiAgICAgKiBhcyBwbGFpbiBvYmplY3RzLiBBbiBlbXB0eSBvYmplY3QgaXMgcmV0dXJuZWQgZm9yIHVuY2xvbmVhYmxlIHZhbHVlcyBzdWNoXG4gICAgICogYXMgZXJyb3Igb2JqZWN0cywgZnVuY3Rpb25zLCBET00gbm9kZXMsIGFuZCBXZWFrTWFwcy5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAwLjEuMFxuICAgICAqIEBjYXRlZ29yeSBMYW5nXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2xvbmUuXG4gICAgICogQHJldHVybnMgeyp9IFJldHVybnMgdGhlIGNsb25lZCB2YWx1ZS5cbiAgICAgKiBAc2VlIF8uY2xvbmVEZWVwXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBvYmplY3RzID0gW3sgJ2EnOiAxIH0sIHsgJ2InOiAyIH1dO1xuICAgICAqXG4gICAgICogdmFyIHNoYWxsb3cgPSBfLmNsb25lKG9iamVjdHMpO1xuICAgICAqIGNvbnNvbGUubG9nKHNoYWxsb3dbMF0gPT09IG9iamVjdHNbMF0pO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBjbG9uZSh2YWx1ZSkge1xuICAgICAgcmV0dXJuIGJhc2VDbG9uZSh2YWx1ZSwgQ0xPTkVfU1lNQk9MU19GTEFHKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCBpcyBsaWtlIGBfLmNsb25lYCBleGNlcHQgdGhhdCBpdCBhY2NlcHRzIGBjdXN0b21pemVyYCB3aGljaFxuICAgICAqIGlzIGludm9rZWQgdG8gcHJvZHVjZSB0aGUgY2xvbmVkIHZhbHVlLiBJZiBgY3VzdG9taXplcmAgcmV0dXJucyBgdW5kZWZpbmVkYCxcbiAgICAgKiBjbG9uaW5nIGlzIGhhbmRsZWQgYnkgdGhlIG1ldGhvZCBpbnN0ZWFkLiBUaGUgYGN1c3RvbWl6ZXJgIGlzIGludm9rZWQgd2l0aFxuICAgICAqIHVwIHRvIGZvdXIgYXJndW1lbnRzOyAodmFsdWUgWywgaW5kZXh8a2V5LCBvYmplY3QsIHN0YWNrXSkuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgTGFuZ1xuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNsb25lLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtjdXN0b21pemVyXSBUaGUgZnVuY3Rpb24gdG8gY3VzdG9taXplIGNsb25pbmcuXG4gICAgICogQHJldHVybnMgeyp9IFJldHVybnMgdGhlIGNsb25lZCB2YWx1ZS5cbiAgICAgKiBAc2VlIF8uY2xvbmVEZWVwV2l0aFxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBmdW5jdGlvbiBjdXN0b21pemVyKHZhbHVlKSB7XG4gICAgICogICBpZiAoXy5pc0VsZW1lbnQodmFsdWUpKSB7XG4gICAgICogICAgIHJldHVybiB2YWx1ZS5jbG9uZU5vZGUoZmFsc2UpO1xuICAgICAqICAgfVxuICAgICAqIH1cbiAgICAgKlxuICAgICAqIHZhciBlbCA9IF8uY2xvbmVXaXRoKGRvY3VtZW50LmJvZHksIGN1c3RvbWl6ZXIpO1xuICAgICAqXG4gICAgICogY29uc29sZS5sb2coZWwgPT09IGRvY3VtZW50LmJvZHkpO1xuICAgICAqIC8vID0+IGZhbHNlXG4gICAgICogY29uc29sZS5sb2coZWwubm9kZU5hbWUpO1xuICAgICAqIC8vID0+ICdCT0RZJ1xuICAgICAqIGNvbnNvbGUubG9nKGVsLmNoaWxkTm9kZXMubGVuZ3RoKTtcbiAgICAgKiAvLyA9PiAwXG4gICAgICovXG4gICAgZnVuY3Rpb24gY2xvbmVXaXRoKHZhbHVlLCBjdXN0b21pemVyKSB7XG4gICAgICBjdXN0b21pemVyID0gdHlwZW9mIGN1c3RvbWl6ZXIgPT0gJ2Z1bmN0aW9uJyA/IGN1c3RvbWl6ZXIgOiB1bmRlZmluZWQ7XG4gICAgICByZXR1cm4gYmFzZUNsb25lKHZhbHVlLCBDTE9ORV9TWU1CT0xTX0ZMQUcsIGN1c3RvbWl6ZXIpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIGlzIGxpa2UgYF8uY2xvbmVgIGV4Y2VwdCB0aGF0IGl0IHJlY3Vyc2l2ZWx5IGNsb25lcyBgdmFsdWVgLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDEuMC4wXG4gICAgICogQGNhdGVnb3J5IExhbmdcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byByZWN1cnNpdmVseSBjbG9uZS5cbiAgICAgKiBAcmV0dXJucyB7Kn0gUmV0dXJucyB0aGUgZGVlcCBjbG9uZWQgdmFsdWUuXG4gICAgICogQHNlZSBfLmNsb25lXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBvYmplY3RzID0gW3sgJ2EnOiAxIH0sIHsgJ2InOiAyIH1dO1xuICAgICAqXG4gICAgICogdmFyIGRlZXAgPSBfLmNsb25lRGVlcChvYmplY3RzKTtcbiAgICAgKiBjb25zb2xlLmxvZyhkZWVwWzBdID09PSBvYmplY3RzWzBdKTtcbiAgICAgKiAvLyA9PiBmYWxzZVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGNsb25lRGVlcCh2YWx1ZSkge1xuICAgICAgcmV0dXJuIGJhc2VDbG9uZSh2YWx1ZSwgQ0xPTkVfREVFUF9GTEFHIHwgQ0xPTkVfU1lNQk9MU19GTEFHKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCBpcyBsaWtlIGBfLmNsb25lV2l0aGAgZXhjZXB0IHRoYXQgaXQgcmVjdXJzaXZlbHkgY2xvbmVzIGB2YWx1ZWAuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgTGFuZ1xuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIHJlY3Vyc2l2ZWx5IGNsb25lLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtjdXN0b21pemVyXSBUaGUgZnVuY3Rpb24gdG8gY3VzdG9taXplIGNsb25pbmcuXG4gICAgICogQHJldHVybnMgeyp9IFJldHVybnMgdGhlIGRlZXAgY2xvbmVkIHZhbHVlLlxuICAgICAqIEBzZWUgXy5jbG9uZVdpdGhcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogZnVuY3Rpb24gY3VzdG9taXplcih2YWx1ZSkge1xuICAgICAqICAgaWYgKF8uaXNFbGVtZW50KHZhbHVlKSkge1xuICAgICAqICAgICByZXR1cm4gdmFsdWUuY2xvbmVOb2RlKHRydWUpO1xuICAgICAqICAgfVxuICAgICAqIH1cbiAgICAgKlxuICAgICAqIHZhciBlbCA9IF8uY2xvbmVEZWVwV2l0aChkb2N1bWVudC5ib2R5LCBjdXN0b21pemVyKTtcbiAgICAgKlxuICAgICAqIGNvbnNvbGUubG9nKGVsID09PSBkb2N1bWVudC5ib2R5KTtcbiAgICAgKiAvLyA9PiBmYWxzZVxuICAgICAqIGNvbnNvbGUubG9nKGVsLm5vZGVOYW1lKTtcbiAgICAgKiAvLyA9PiAnQk9EWSdcbiAgICAgKiBjb25zb2xlLmxvZyhlbC5jaGlsZE5vZGVzLmxlbmd0aCk7XG4gICAgICogLy8gPT4gMjBcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBjbG9uZURlZXBXaXRoKHZhbHVlLCBjdXN0b21pemVyKSB7XG4gICAgICBjdXN0b21pemVyID0gdHlwZW9mIGN1c3RvbWl6ZXIgPT0gJ2Z1bmN0aW9uJyA/IGN1c3RvbWl6ZXIgOiB1bmRlZmluZWQ7XG4gICAgICByZXR1cm4gYmFzZUNsb25lKHZhbHVlLCBDTE9ORV9ERUVQX0ZMQUcgfCBDTE9ORV9TWU1CT0xTX0ZMQUcsIGN1c3RvbWl6ZXIpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENoZWNrcyBpZiBgb2JqZWN0YCBjb25mb3JtcyB0byBgc291cmNlYCBieSBpbnZva2luZyB0aGUgcHJlZGljYXRlXG4gICAgICogcHJvcGVydGllcyBvZiBgc291cmNlYCB3aXRoIHRoZSBjb3JyZXNwb25kaW5nIHByb3BlcnR5IHZhbHVlcyBvZiBgb2JqZWN0YC5cbiAgICAgKlxuICAgICAqICoqTm90ZToqKiBUaGlzIG1ldGhvZCBpcyBlcXVpdmFsZW50IHRvIGBfLmNvbmZvcm1zYCB3aGVuIGBzb3VyY2VgIGlzXG4gICAgICogcGFydGlhbGx5IGFwcGxpZWQuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4xNC4wXG4gICAgICogQGNhdGVnb3J5IExhbmdcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gaW5zcGVjdC5cbiAgICAgKiBAcGFyYW0ge09iamVjdH0gc291cmNlIFRoZSBvYmplY3Qgb2YgcHJvcGVydHkgcHJlZGljYXRlcyB0byBjb25mb3JtIHRvLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgb2JqZWN0YCBjb25mb3JtcywgZWxzZSBgZmFsc2VgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgb2JqZWN0ID0geyAnYSc6IDEsICdiJzogMiB9O1xuICAgICAqXG4gICAgICogXy5jb25mb3Jtc1RvKG9iamVjdCwgeyAnYic6IGZ1bmN0aW9uKG4pIHsgcmV0dXJuIG4gPiAxOyB9IH0pO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKlxuICAgICAqIF8uY29uZm9ybXNUbyhvYmplY3QsIHsgJ2InOiBmdW5jdGlvbihuKSB7IHJldHVybiBuID4gMjsgfSB9KTtcbiAgICAgKiAvLyA9PiBmYWxzZVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGNvbmZvcm1zVG8ob2JqZWN0LCBzb3VyY2UpIHtcbiAgICAgIHJldHVybiBzb3VyY2UgPT0gbnVsbCB8fCBiYXNlQ29uZm9ybXNUbyhvYmplY3QsIHNvdXJjZSwga2V5cyhzb3VyY2UpKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBQZXJmb3JtcyBhXG4gICAgICogW2BTYW1lVmFsdWVaZXJvYF0oaHR0cDovL2VjbWEtaW50ZXJuYXRpb25hbC5vcmcvZWNtYS0yNjIvNy4wLyNzZWMtc2FtZXZhbHVlemVybylcbiAgICAgKiBjb21wYXJpc29uIGJldHdlZW4gdHdvIHZhbHVlcyB0byBkZXRlcm1pbmUgaWYgdGhleSBhcmUgZXF1aXZhbGVudC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBMYW5nXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY29tcGFyZS5cbiAgICAgKiBAcGFyYW0geyp9IG90aGVyIFRoZSBvdGhlciB2YWx1ZSB0byBjb21wYXJlLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiB0aGUgdmFsdWVzIGFyZSBlcXVpdmFsZW50LCBlbHNlIGBmYWxzZWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBvYmplY3QgPSB7ICdhJzogMSB9O1xuICAgICAqIHZhciBvdGhlciA9IHsgJ2EnOiAxIH07XG4gICAgICpcbiAgICAgKiBfLmVxKG9iamVjdCwgb2JqZWN0KTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBfLmVxKG9iamVjdCwgb3RoZXIpO1xuICAgICAqIC8vID0+IGZhbHNlXG4gICAgICpcbiAgICAgKiBfLmVxKCdhJywgJ2EnKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBfLmVxKCdhJywgT2JqZWN0KCdhJykpO1xuICAgICAqIC8vID0+IGZhbHNlXG4gICAgICpcbiAgICAgKiBfLmVxKE5hTiwgTmFOKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICovXG4gICAgZnVuY3Rpb24gZXEodmFsdWUsIG90aGVyKSB7XG4gICAgICByZXR1cm4gdmFsdWUgPT09IG90aGVyIHx8ICh2YWx1ZSAhPT0gdmFsdWUgJiYgb3RoZXIgIT09IG90aGVyKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBncmVhdGVyIHRoYW4gYG90aGVyYC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAzLjkuMFxuICAgICAqIEBjYXRlZ29yeSBMYW5nXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY29tcGFyZS5cbiAgICAgKiBAcGFyYW0geyp9IG90aGVyIFRoZSBvdGhlciB2YWx1ZSB0byBjb21wYXJlLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGdyZWF0ZXIgdGhhbiBgb3RoZXJgLFxuICAgICAqICBlbHNlIGBmYWxzZWAuXG4gICAgICogQHNlZSBfLmx0XG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uZ3QoMywgMSk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogXy5ndCgzLCAzKTtcbiAgICAgKiAvLyA9PiBmYWxzZVxuICAgICAqXG4gICAgICogXy5ndCgxLCAzKTtcbiAgICAgKiAvLyA9PiBmYWxzZVxuICAgICAqL1xuICAgIHZhciBndCA9IGNyZWF0ZVJlbGF0aW9uYWxPcGVyYXRpb24oYmFzZUd0KTtcblxuICAgIC8qKlxuICAgICAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIGdyZWF0ZXIgdGhhbiBvciBlcXVhbCB0byBgb3RoZXJgLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDMuOS4wXG4gICAgICogQGNhdGVnb3J5IExhbmdcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjb21wYXJlLlxuICAgICAqIEBwYXJhbSB7Kn0gb3RoZXIgVGhlIG90aGVyIHZhbHVlIHRvIGNvbXBhcmUuXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgZ3JlYXRlciB0aGFuIG9yIGVxdWFsIHRvXG4gICAgICogIGBvdGhlcmAsIGVsc2UgYGZhbHNlYC5cbiAgICAgKiBAc2VlIF8ubHRlXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uZ3RlKDMsIDEpO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKlxuICAgICAqIF8uZ3RlKDMsIDMpO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKlxuICAgICAqIF8uZ3RlKDEsIDMpO1xuICAgICAqIC8vID0+IGZhbHNlXG4gICAgICovXG4gICAgdmFyIGd0ZSA9IGNyZWF0ZVJlbGF0aW9uYWxPcGVyYXRpb24oZnVuY3Rpb24odmFsdWUsIG90aGVyKSB7XG4gICAgICByZXR1cm4gdmFsdWUgPj0gb3RoZXI7XG4gICAgfSk7XG5cbiAgICAvKipcbiAgICAgKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBsaWtlbHkgYW4gYGFyZ3VtZW50c2Agb2JqZWN0LlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDAuMS4wXG4gICAgICogQGNhdGVnb3J5IExhbmdcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBhbiBgYXJndW1lbnRzYCBvYmplY3QsXG4gICAgICogIGVsc2UgYGZhbHNlYC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5pc0FyZ3VtZW50cyhmdW5jdGlvbigpIHsgcmV0dXJuIGFyZ3VtZW50czsgfSgpKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBfLmlzQXJndW1lbnRzKFsxLCAyLCAzXSk7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKi9cbiAgICB2YXIgaXNBcmd1bWVudHMgPSBiYXNlSXNBcmd1bWVudHMoZnVuY3Rpb24oKSB7IHJldHVybiBhcmd1bWVudHM7IH0oKSkgPyBiYXNlSXNBcmd1bWVudHMgOiBmdW5jdGlvbih2YWx1ZSkge1xuICAgICAgcmV0dXJuIGlzT2JqZWN0TGlrZSh2YWx1ZSkgJiYgaGFzT3duUHJvcGVydHkuY2FsbCh2YWx1ZSwgJ2NhbGxlZScpICYmXG4gICAgICAgICFwcm9wZXJ0eUlzRW51bWVyYWJsZS5jYWxsKHZhbHVlLCAnY2FsbGVlJyk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIGNsYXNzaWZpZWQgYXMgYW4gYEFycmF5YCBvYmplY3QuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMC4xLjBcbiAgICAgKiBAY2F0ZWdvcnkgTGFuZ1xuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGFuIGFycmF5LCBlbHNlIGBmYWxzZWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uaXNBcnJheShbMSwgMiwgM10pO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKlxuICAgICAqIF8uaXNBcnJheShkb2N1bWVudC5ib2R5LmNoaWxkcmVuKTtcbiAgICAgKiAvLyA9PiBmYWxzZVxuICAgICAqXG4gICAgICogXy5pc0FycmF5KCdhYmMnKTtcbiAgICAgKiAvLyA9PiBmYWxzZVxuICAgICAqXG4gICAgICogXy5pc0FycmF5KF8ubm9vcCk7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKi9cbiAgICB2YXIgaXNBcnJheSA9IEFycmF5LmlzQXJyYXk7XG5cbiAgICAvKipcbiAgICAgKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBjbGFzc2lmaWVkIGFzIGFuIGBBcnJheUJ1ZmZlcmAgb2JqZWN0LlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMy4wXG4gICAgICogQGNhdGVnb3J5IExhbmdcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBhbiBhcnJheSBidWZmZXIsIGVsc2UgYGZhbHNlYC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5pc0FycmF5QnVmZmVyKG5ldyBBcnJheUJ1ZmZlcigyKSk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogXy5pc0FycmF5QnVmZmVyKG5ldyBBcnJheSgyKSk7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKi9cbiAgICB2YXIgaXNBcnJheUJ1ZmZlciA9IG5vZGVJc0FycmF5QnVmZmVyID8gYmFzZVVuYXJ5KG5vZGVJc0FycmF5QnVmZmVyKSA6IGJhc2VJc0FycmF5QnVmZmVyO1xuXG4gICAgLyoqXG4gICAgICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgYXJyYXktbGlrZS4gQSB2YWx1ZSBpcyBjb25zaWRlcmVkIGFycmF5LWxpa2UgaWYgaXQnc1xuICAgICAqIG5vdCBhIGZ1bmN0aW9uIGFuZCBoYXMgYSBgdmFsdWUubGVuZ3RoYCB0aGF0J3MgYW4gaW50ZWdlciBncmVhdGVyIHRoYW4gb3JcbiAgICAgKiBlcXVhbCB0byBgMGAgYW5kIGxlc3MgdGhhbiBvciBlcXVhbCB0byBgTnVtYmVyLk1BWF9TQUZFX0lOVEVHRVJgLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IExhbmdcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBhcnJheS1saWtlLCBlbHNlIGBmYWxzZWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uaXNBcnJheUxpa2UoWzEsIDIsIDNdKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBfLmlzQXJyYXlMaWtlKGRvY3VtZW50LmJvZHkuY2hpbGRyZW4pO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKlxuICAgICAqIF8uaXNBcnJheUxpa2UoJ2FiYycpO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKlxuICAgICAqIF8uaXNBcnJheUxpa2UoXy5ub29wKTtcbiAgICAgKiAvLyA9PiBmYWxzZVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGlzQXJyYXlMaWtlKHZhbHVlKSB7XG4gICAgICByZXR1cm4gdmFsdWUgIT0gbnVsbCAmJiBpc0xlbmd0aCh2YWx1ZS5sZW5ndGgpICYmICFpc0Z1bmN0aW9uKHZhbHVlKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCBpcyBsaWtlIGBfLmlzQXJyYXlMaWtlYCBleGNlcHQgdGhhdCBpdCBhbHNvIGNoZWNrcyBpZiBgdmFsdWVgXG4gICAgICogaXMgYW4gb2JqZWN0LlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IExhbmdcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBhbiBhcnJheS1saWtlIG9iamVjdCxcbiAgICAgKiAgZWxzZSBgZmFsc2VgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmlzQXJyYXlMaWtlT2JqZWN0KFsxLCAyLCAzXSk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogXy5pc0FycmF5TGlrZU9iamVjdChkb2N1bWVudC5ib2R5LmNoaWxkcmVuKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBfLmlzQXJyYXlMaWtlT2JqZWN0KCdhYmMnKTtcbiAgICAgKiAvLyA9PiBmYWxzZVxuICAgICAqXG4gICAgICogXy5pc0FycmF5TGlrZU9iamVjdChfLm5vb3ApO1xuICAgICAqIC8vID0+IGZhbHNlXG4gICAgICovXG4gICAgZnVuY3Rpb24gaXNBcnJheUxpa2VPYmplY3QodmFsdWUpIHtcbiAgICAgIHJldHVybiBpc09iamVjdExpa2UodmFsdWUpICYmIGlzQXJyYXlMaWtlKHZhbHVlKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBjbGFzc2lmaWVkIGFzIGEgYm9vbGVhbiBwcmltaXRpdmUgb3Igb2JqZWN0LlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDAuMS4wXG4gICAgICogQGNhdGVnb3J5IExhbmdcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBhIGJvb2xlYW4sIGVsc2UgYGZhbHNlYC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5pc0Jvb2xlYW4oZmFsc2UpO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKlxuICAgICAqIF8uaXNCb29sZWFuKG51bGwpO1xuICAgICAqIC8vID0+IGZhbHNlXG4gICAgICovXG4gICAgZnVuY3Rpb24gaXNCb29sZWFuKHZhbHVlKSB7XG4gICAgICByZXR1cm4gdmFsdWUgPT09IHRydWUgfHwgdmFsdWUgPT09IGZhbHNlIHx8XG4gICAgICAgIChpc09iamVjdExpa2UodmFsdWUpICYmIGJhc2VHZXRUYWcodmFsdWUpID09IGJvb2xUYWcpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIGEgYnVmZmVyLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMy4wXG4gICAgICogQGNhdGVnb3J5IExhbmdcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBhIGJ1ZmZlciwgZWxzZSBgZmFsc2VgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmlzQnVmZmVyKG5ldyBCdWZmZXIoMikpO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKlxuICAgICAqIF8uaXNCdWZmZXIobmV3IFVpbnQ4QXJyYXkoMikpO1xuICAgICAqIC8vID0+IGZhbHNlXG4gICAgICovXG4gICAgdmFyIGlzQnVmZmVyID0gbmF0aXZlSXNCdWZmZXIgfHwgc3R1YkZhbHNlO1xuXG4gICAgLyoqXG4gICAgICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgY2xhc3NpZmllZCBhcyBhIGBEYXRlYCBvYmplY3QuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMC4xLjBcbiAgICAgKiBAY2F0ZWdvcnkgTGFuZ1xuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGEgZGF0ZSBvYmplY3QsIGVsc2UgYGZhbHNlYC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5pc0RhdGUobmV3IERhdGUpO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKlxuICAgICAqIF8uaXNEYXRlKCdNb24gQXByaWwgMjMgMjAxMicpO1xuICAgICAqIC8vID0+IGZhbHNlXG4gICAgICovXG4gICAgdmFyIGlzRGF0ZSA9IG5vZGVJc0RhdGUgPyBiYXNlVW5hcnkobm9kZUlzRGF0ZSkgOiBiYXNlSXNEYXRlO1xuXG4gICAgLyoqXG4gICAgICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgbGlrZWx5IGEgRE9NIGVsZW1lbnQuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMC4xLjBcbiAgICAgKiBAY2F0ZWdvcnkgTGFuZ1xuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGEgRE9NIGVsZW1lbnQsIGVsc2UgYGZhbHNlYC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5pc0VsZW1lbnQoZG9jdW1lbnQuYm9keSk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogXy5pc0VsZW1lbnQoJzxib2R5PicpO1xuICAgICAqIC8vID0+IGZhbHNlXG4gICAgICovXG4gICAgZnVuY3Rpb24gaXNFbGVtZW50KHZhbHVlKSB7XG4gICAgICByZXR1cm4gaXNPYmplY3RMaWtlKHZhbHVlKSAmJiB2YWx1ZS5ub2RlVHlwZSA9PT0gMSAmJiAhaXNQbGFpbk9iamVjdCh2YWx1ZSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgYW4gZW1wdHkgb2JqZWN0LCBjb2xsZWN0aW9uLCBtYXAsIG9yIHNldC5cbiAgICAgKlxuICAgICAqIE9iamVjdHMgYXJlIGNvbnNpZGVyZWQgZW1wdHkgaWYgdGhleSBoYXZlIG5vIG93biBlbnVtZXJhYmxlIHN0cmluZyBrZXllZFxuICAgICAqIHByb3BlcnRpZXMuXG4gICAgICpcbiAgICAgKiBBcnJheS1saWtlIHZhbHVlcyBzdWNoIGFzIGBhcmd1bWVudHNgIG9iamVjdHMsIGFycmF5cywgYnVmZmVycywgc3RyaW5ncywgb3JcbiAgICAgKiBqUXVlcnktbGlrZSBjb2xsZWN0aW9ucyBhcmUgY29uc2lkZXJlZCBlbXB0eSBpZiB0aGV5IGhhdmUgYSBgbGVuZ3RoYCBvZiBgMGAuXG4gICAgICogU2ltaWxhcmx5LCBtYXBzIGFuZCBzZXRzIGFyZSBjb25zaWRlcmVkIGVtcHR5IGlmIHRoZXkgaGF2ZSBhIGBzaXplYCBvZiBgMGAuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMC4xLjBcbiAgICAgKiBAY2F0ZWdvcnkgTGFuZ1xuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGVtcHR5LCBlbHNlIGBmYWxzZWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uaXNFbXB0eShudWxsKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBfLmlzRW1wdHkodHJ1ZSk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogXy5pc0VtcHR5KDEpO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKlxuICAgICAqIF8uaXNFbXB0eShbMSwgMiwgM10pO1xuICAgICAqIC8vID0+IGZhbHNlXG4gICAgICpcbiAgICAgKiBfLmlzRW1wdHkoeyAnYSc6IDEgfSk7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBpc0VtcHR5KHZhbHVlKSB7XG4gICAgICBpZiAodmFsdWUgPT0gbnVsbCkge1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIH1cbiAgICAgIGlmIChpc0FycmF5TGlrZSh2YWx1ZSkgJiZcbiAgICAgICAgICAoaXNBcnJheSh2YWx1ZSkgfHwgdHlwZW9mIHZhbHVlID09ICdzdHJpbmcnIHx8IHR5cGVvZiB2YWx1ZS5zcGxpY2UgPT0gJ2Z1bmN0aW9uJyB8fFxuICAgICAgICAgICAgaXNCdWZmZXIodmFsdWUpIHx8IGlzVHlwZWRBcnJheSh2YWx1ZSkgfHwgaXNBcmd1bWVudHModmFsdWUpKSkge1xuICAgICAgICByZXR1cm4gIXZhbHVlLmxlbmd0aDtcbiAgICAgIH1cbiAgICAgIHZhciB0YWcgPSBnZXRUYWcodmFsdWUpO1xuICAgICAgaWYgKHRhZyA9PSBtYXBUYWcgfHwgdGFnID09IHNldFRhZykge1xuICAgICAgICByZXR1cm4gIXZhbHVlLnNpemU7XG4gICAgICB9XG4gICAgICBpZiAoaXNQcm90b3R5cGUodmFsdWUpKSB7XG4gICAgICAgIHJldHVybiAhYmFzZUtleXModmFsdWUpLmxlbmd0aDtcbiAgICAgIH1cbiAgICAgIGZvciAodmFyIGtleSBpbiB2YWx1ZSkge1xuICAgICAgICBpZiAoaGFzT3duUHJvcGVydHkuY2FsbCh2YWx1ZSwga2V5KSkge1xuICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUGVyZm9ybXMgYSBkZWVwIGNvbXBhcmlzb24gYmV0d2VlbiB0d28gdmFsdWVzIHRvIGRldGVybWluZSBpZiB0aGV5IGFyZVxuICAgICAqIGVxdWl2YWxlbnQuXG4gICAgICpcbiAgICAgKiAqKk5vdGU6KiogVGhpcyBtZXRob2Qgc3VwcG9ydHMgY29tcGFyaW5nIGFycmF5cywgYXJyYXkgYnVmZmVycywgYm9vbGVhbnMsXG4gICAgICogZGF0ZSBvYmplY3RzLCBlcnJvciBvYmplY3RzLCBtYXBzLCBudW1iZXJzLCBgT2JqZWN0YCBvYmplY3RzLCByZWdleGVzLFxuICAgICAqIHNldHMsIHN0cmluZ3MsIHN5bWJvbHMsIGFuZCB0eXBlZCBhcnJheXMuIGBPYmplY3RgIG9iamVjdHMgYXJlIGNvbXBhcmVkXG4gICAgICogYnkgdGhlaXIgb3duLCBub3QgaW5oZXJpdGVkLCBlbnVtZXJhYmxlIHByb3BlcnRpZXMuIEZ1bmN0aW9ucyBhbmQgRE9NXG4gICAgICogbm9kZXMgYXJlIGNvbXBhcmVkIGJ5IHN0cmljdCBlcXVhbGl0eSwgaS5lLiBgPT09YC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAwLjEuMFxuICAgICAqIEBjYXRlZ29yeSBMYW5nXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY29tcGFyZS5cbiAgICAgKiBAcGFyYW0geyp9IG90aGVyIFRoZSBvdGhlciB2YWx1ZSB0byBjb21wYXJlLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiB0aGUgdmFsdWVzIGFyZSBlcXVpdmFsZW50LCBlbHNlIGBmYWxzZWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBvYmplY3QgPSB7ICdhJzogMSB9O1xuICAgICAqIHZhciBvdGhlciA9IHsgJ2EnOiAxIH07XG4gICAgICpcbiAgICAgKiBfLmlzRXF1YWwob2JqZWN0LCBvdGhlcik7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogb2JqZWN0ID09PSBvdGhlcjtcbiAgICAgKiAvLyA9PiBmYWxzZVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGlzRXF1YWwodmFsdWUsIG90aGVyKSB7XG4gICAgICByZXR1cm4gYmFzZUlzRXF1YWwodmFsdWUsIG90aGVyKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCBpcyBsaWtlIGBfLmlzRXF1YWxgIGV4Y2VwdCB0aGF0IGl0IGFjY2VwdHMgYGN1c3RvbWl6ZXJgIHdoaWNoXG4gICAgICogaXMgaW52b2tlZCB0byBjb21wYXJlIHZhbHVlcy4gSWYgYGN1c3RvbWl6ZXJgIHJldHVybnMgYHVuZGVmaW5lZGAsIGNvbXBhcmlzb25zXG4gICAgICogYXJlIGhhbmRsZWQgYnkgdGhlIG1ldGhvZCBpbnN0ZWFkLiBUaGUgYGN1c3RvbWl6ZXJgIGlzIGludm9rZWQgd2l0aCB1cCB0b1xuICAgICAqIHNpeCBhcmd1bWVudHM6IChvYmpWYWx1ZSwgb3RoVmFsdWUgWywgaW5kZXh8a2V5LCBvYmplY3QsIG90aGVyLCBzdGFja10pLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IExhbmdcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjb21wYXJlLlxuICAgICAqIEBwYXJhbSB7Kn0gb3RoZXIgVGhlIG90aGVyIHZhbHVlIHRvIGNvbXBhcmUuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2N1c3RvbWl6ZXJdIFRoZSBmdW5jdGlvbiB0byBjdXN0b21pemUgY29tcGFyaXNvbnMuXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIHRoZSB2YWx1ZXMgYXJlIGVxdWl2YWxlbnQsIGVsc2UgYGZhbHNlYC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogZnVuY3Rpb24gaXNHcmVldGluZyh2YWx1ZSkge1xuICAgICAqICAgcmV0dXJuIC9eaCg/Oml8ZWxsbykkLy50ZXN0KHZhbHVlKTtcbiAgICAgKiB9XG4gICAgICpcbiAgICAgKiBmdW5jdGlvbiBjdXN0b21pemVyKG9ialZhbHVlLCBvdGhWYWx1ZSkge1xuICAgICAqICAgaWYgKGlzR3JlZXRpbmcob2JqVmFsdWUpICYmIGlzR3JlZXRpbmcob3RoVmFsdWUpKSB7XG4gICAgICogICAgIHJldHVybiB0cnVlO1xuICAgICAqICAgfVxuICAgICAqIH1cbiAgICAgKlxuICAgICAqIHZhciBhcnJheSA9IFsnaGVsbG8nLCAnZ29vZGJ5ZSddO1xuICAgICAqIHZhciBvdGhlciA9IFsnaGknLCAnZ29vZGJ5ZSddO1xuICAgICAqXG4gICAgICogXy5pc0VxdWFsV2l0aChhcnJheSwgb3RoZXIsIGN1c3RvbWl6ZXIpO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBpc0VxdWFsV2l0aCh2YWx1ZSwgb3RoZXIsIGN1c3RvbWl6ZXIpIHtcbiAgICAgIGN1c3RvbWl6ZXIgPSB0eXBlb2YgY3VzdG9taXplciA9PSAnZnVuY3Rpb24nID8gY3VzdG9taXplciA6IHVuZGVmaW5lZDtcbiAgICAgIHZhciByZXN1bHQgPSBjdXN0b21pemVyID8gY3VzdG9taXplcih2YWx1ZSwgb3RoZXIpIDogdW5kZWZpbmVkO1xuICAgICAgcmV0dXJuIHJlc3VsdCA9PT0gdW5kZWZpbmVkID8gYmFzZUlzRXF1YWwodmFsdWUsIG90aGVyLCB1bmRlZmluZWQsIGN1c3RvbWl6ZXIpIDogISFyZXN1bHQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgYW4gYEVycm9yYCwgYEV2YWxFcnJvcmAsIGBSYW5nZUVycm9yYCwgYFJlZmVyZW5jZUVycm9yYCxcbiAgICAgKiBgU3ludGF4RXJyb3JgLCBgVHlwZUVycm9yYCwgb3IgYFVSSUVycm9yYCBvYmplY3QuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMy4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgTGFuZ1xuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGFuIGVycm9yIG9iamVjdCwgZWxzZSBgZmFsc2VgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmlzRXJyb3IobmV3IEVycm9yKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBfLmlzRXJyb3IoRXJyb3IpO1xuICAgICAqIC8vID0+IGZhbHNlXG4gICAgICovXG4gICAgZnVuY3Rpb24gaXNFcnJvcih2YWx1ZSkge1xuICAgICAgaWYgKCFpc09iamVjdExpa2UodmFsdWUpKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cbiAgICAgIHZhciB0YWcgPSBiYXNlR2V0VGFnKHZhbHVlKTtcbiAgICAgIHJldHVybiB0YWcgPT0gZXJyb3JUYWcgfHwgdGFnID09IGRvbUV4Y1RhZyB8fFxuICAgICAgICAodHlwZW9mIHZhbHVlLm1lc3NhZ2UgPT0gJ3N0cmluZycgJiYgdHlwZW9mIHZhbHVlLm5hbWUgPT0gJ3N0cmluZycgJiYgIWlzUGxhaW5PYmplY3QodmFsdWUpKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBhIGZpbml0ZSBwcmltaXRpdmUgbnVtYmVyLlxuICAgICAqXG4gICAgICogKipOb3RlOioqIFRoaXMgbWV0aG9kIGlzIGJhc2VkIG9uXG4gICAgICogW2BOdW1iZXIuaXNGaW5pdGVgXShodHRwczovL21kbi5pby9OdW1iZXIvaXNGaW5pdGUpLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDAuMS4wXG4gICAgICogQGNhdGVnb3J5IExhbmdcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBhIGZpbml0ZSBudW1iZXIsIGVsc2UgYGZhbHNlYC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5pc0Zpbml0ZSgzKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBfLmlzRmluaXRlKE51bWJlci5NSU5fVkFMVUUpO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKlxuICAgICAqIF8uaXNGaW5pdGUoSW5maW5pdHkpO1xuICAgICAqIC8vID0+IGZhbHNlXG4gICAgICpcbiAgICAgKiBfLmlzRmluaXRlKCczJyk7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBpc0Zpbml0ZSh2YWx1ZSkge1xuICAgICAgcmV0dXJuIHR5cGVvZiB2YWx1ZSA9PSAnbnVtYmVyJyAmJiBuYXRpdmVJc0Zpbml0ZSh2YWx1ZSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgY2xhc3NpZmllZCBhcyBhIGBGdW5jdGlvbmAgb2JqZWN0LlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDAuMS4wXG4gICAgICogQGNhdGVnb3J5IExhbmdcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBhIGZ1bmN0aW9uLCBlbHNlIGBmYWxzZWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uaXNGdW5jdGlvbihfKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBfLmlzRnVuY3Rpb24oL2FiYy8pO1xuICAgICAqIC8vID0+IGZhbHNlXG4gICAgICovXG4gICAgZnVuY3Rpb24gaXNGdW5jdGlvbih2YWx1ZSkge1xuICAgICAgaWYgKCFpc09iamVjdCh2YWx1ZSkpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuICAgICAgLy8gVGhlIHVzZSBvZiBgT2JqZWN0I3RvU3RyaW5nYCBhdm9pZHMgaXNzdWVzIHdpdGggdGhlIGB0eXBlb2ZgIG9wZXJhdG9yXG4gICAgICAvLyBpbiBTYWZhcmkgOSB3aGljaCByZXR1cm5zICdvYmplY3QnIGZvciB0eXBlZCBhcnJheXMgYW5kIG90aGVyIGNvbnN0cnVjdG9ycy5cbiAgICAgIHZhciB0YWcgPSBiYXNlR2V0VGFnKHZhbHVlKTtcbiAgICAgIHJldHVybiB0YWcgPT0gZnVuY1RhZyB8fCB0YWcgPT0gZ2VuVGFnIHx8IHRhZyA9PSBhc3luY1RhZyB8fCB0YWcgPT0gcHJveHlUYWc7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgYW4gaW50ZWdlci5cbiAgICAgKlxuICAgICAqICoqTm90ZToqKiBUaGlzIG1ldGhvZCBpcyBiYXNlZCBvblxuICAgICAqIFtgTnVtYmVyLmlzSW50ZWdlcmBdKGh0dHBzOi8vbWRuLmlvL051bWJlci9pc0ludGVnZXIpLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IExhbmdcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBhbiBpbnRlZ2VyLCBlbHNlIGBmYWxzZWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uaXNJbnRlZ2VyKDMpO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKlxuICAgICAqIF8uaXNJbnRlZ2VyKE51bWJlci5NSU5fVkFMVUUpO1xuICAgICAqIC8vID0+IGZhbHNlXG4gICAgICpcbiAgICAgKiBfLmlzSW50ZWdlcihJbmZpbml0eSk7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKlxuICAgICAqIF8uaXNJbnRlZ2VyKCczJyk7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBpc0ludGVnZXIodmFsdWUpIHtcbiAgICAgIHJldHVybiB0eXBlb2YgdmFsdWUgPT0gJ251bWJlcicgJiYgdmFsdWUgPT0gdG9JbnRlZ2VyKHZhbHVlKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBhIHZhbGlkIGFycmF5LWxpa2UgbGVuZ3RoLlxuICAgICAqXG4gICAgICogKipOb3RlOioqIFRoaXMgbWV0aG9kIGlzIGxvb3NlbHkgYmFzZWQgb25cbiAgICAgKiBbYFRvTGVuZ3RoYF0oaHR0cDovL2VjbWEtaW50ZXJuYXRpb25hbC5vcmcvZWNtYS0yNjIvNy4wLyNzZWMtdG9sZW5ndGgpLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IExhbmdcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBhIHZhbGlkIGxlbmd0aCwgZWxzZSBgZmFsc2VgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmlzTGVuZ3RoKDMpO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKlxuICAgICAqIF8uaXNMZW5ndGgoTnVtYmVyLk1JTl9WQUxVRSk7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKlxuICAgICAqIF8uaXNMZW5ndGgoSW5maW5pdHkpO1xuICAgICAqIC8vID0+IGZhbHNlXG4gICAgICpcbiAgICAgKiBfLmlzTGVuZ3RoKCczJyk7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBpc0xlbmd0aCh2YWx1ZSkge1xuICAgICAgcmV0dXJuIHR5cGVvZiB2YWx1ZSA9PSAnbnVtYmVyJyAmJlxuICAgICAgICB2YWx1ZSA+IC0xICYmIHZhbHVlICUgMSA9PSAwICYmIHZhbHVlIDw9IE1BWF9TQUZFX0lOVEVHRVI7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgdGhlXG4gICAgICogW2xhbmd1YWdlIHR5cGVdKGh0dHA6Ly93d3cuZWNtYS1pbnRlcm5hdGlvbmFsLm9yZy9lY21hLTI2Mi83LjAvI3NlYy1lY21hc2NyaXB0LWxhbmd1YWdlLXR5cGVzKVxuICAgICAqIG9mIGBPYmplY3RgLiAoZS5nLiBhcnJheXMsIGZ1bmN0aW9ucywgb2JqZWN0cywgcmVnZXhlcywgYG5ldyBOdW1iZXIoMClgLCBhbmQgYG5ldyBTdHJpbmcoJycpYClcbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAwLjEuMFxuICAgICAqIEBjYXRlZ29yeSBMYW5nXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYW4gb2JqZWN0LCBlbHNlIGBmYWxzZWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uaXNPYmplY3Qoe30pO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKlxuICAgICAqIF8uaXNPYmplY3QoWzEsIDIsIDNdKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBfLmlzT2JqZWN0KF8ubm9vcCk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogXy5pc09iamVjdChudWxsKTtcbiAgICAgKiAvLyA9PiBmYWxzZVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGlzT2JqZWN0KHZhbHVlKSB7XG4gICAgICB2YXIgdHlwZSA9IHR5cGVvZiB2YWx1ZTtcbiAgICAgIHJldHVybiB2YWx1ZSAhPSBudWxsICYmICh0eXBlID09ICdvYmplY3QnIHx8IHR5cGUgPT0gJ2Z1bmN0aW9uJyk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgb2JqZWN0LWxpa2UuIEEgdmFsdWUgaXMgb2JqZWN0LWxpa2UgaWYgaXQncyBub3QgYG51bGxgXG4gICAgICogYW5kIGhhcyBhIGB0eXBlb2ZgIHJlc3VsdCBvZiBcIm9iamVjdFwiLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IExhbmdcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBvYmplY3QtbGlrZSwgZWxzZSBgZmFsc2VgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmlzT2JqZWN0TGlrZSh7fSk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogXy5pc09iamVjdExpa2UoWzEsIDIsIDNdKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBfLmlzT2JqZWN0TGlrZShfLm5vb3ApO1xuICAgICAqIC8vID0+IGZhbHNlXG4gICAgICpcbiAgICAgKiBfLmlzT2JqZWN0TGlrZShudWxsKTtcbiAgICAgKiAvLyA9PiBmYWxzZVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGlzT2JqZWN0TGlrZSh2YWx1ZSkge1xuICAgICAgcmV0dXJuIHZhbHVlICE9IG51bGwgJiYgdHlwZW9mIHZhbHVlID09ICdvYmplY3QnO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIGNsYXNzaWZpZWQgYXMgYSBgTWFwYCBvYmplY3QuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4zLjBcbiAgICAgKiBAY2F0ZWdvcnkgTGFuZ1xuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGEgbWFwLCBlbHNlIGBmYWxzZWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uaXNNYXAobmV3IE1hcCk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogXy5pc01hcChuZXcgV2Vha01hcCk7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKi9cbiAgICB2YXIgaXNNYXAgPSBub2RlSXNNYXAgPyBiYXNlVW5hcnkobm9kZUlzTWFwKSA6IGJhc2VJc01hcDtcblxuICAgIC8qKlxuICAgICAqIFBlcmZvcm1zIGEgcGFydGlhbCBkZWVwIGNvbXBhcmlzb24gYmV0d2VlbiBgb2JqZWN0YCBhbmQgYHNvdXJjZWAgdG9cbiAgICAgKiBkZXRlcm1pbmUgaWYgYG9iamVjdGAgY29udGFpbnMgZXF1aXZhbGVudCBwcm9wZXJ0eSB2YWx1ZXMuXG4gICAgICpcbiAgICAgKiAqKk5vdGU6KiogVGhpcyBtZXRob2QgaXMgZXF1aXZhbGVudCB0byBgXy5tYXRjaGVzYCB3aGVuIGBzb3VyY2VgIGlzXG4gICAgICogcGFydGlhbGx5IGFwcGxpZWQuXG4gICAgICpcbiAgICAgKiBQYXJ0aWFsIGNvbXBhcmlzb25zIHdpbGwgbWF0Y2ggZW1wdHkgYXJyYXkgYW5kIGVtcHR5IG9iamVjdCBgc291cmNlYFxuICAgICAqIHZhbHVlcyBhZ2FpbnN0IGFueSBhcnJheSBvciBvYmplY3QgdmFsdWUsIHJlc3BlY3RpdmVseS4gU2VlIGBfLmlzRXF1YWxgXG4gICAgICogZm9yIGEgbGlzdCBvZiBzdXBwb3J0ZWQgdmFsdWUgY29tcGFyaXNvbnMuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMy4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgTGFuZ1xuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBpbnNwZWN0LlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBzb3VyY2UgVGhlIG9iamVjdCBvZiBwcm9wZXJ0eSB2YWx1ZXMgdG8gbWF0Y2guXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGBvYmplY3RgIGlzIGEgbWF0Y2gsIGVsc2UgYGZhbHNlYC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIG9iamVjdCA9IHsgJ2EnOiAxLCAnYic6IDIgfTtcbiAgICAgKlxuICAgICAqIF8uaXNNYXRjaChvYmplY3QsIHsgJ2InOiAyIH0pO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKlxuICAgICAqIF8uaXNNYXRjaChvYmplY3QsIHsgJ2InOiAxIH0pO1xuICAgICAqIC8vID0+IGZhbHNlXG4gICAgICovXG4gICAgZnVuY3Rpb24gaXNNYXRjaChvYmplY3QsIHNvdXJjZSkge1xuICAgICAgcmV0dXJuIG9iamVjdCA9PT0gc291cmNlIHx8IGJhc2VJc01hdGNoKG9iamVjdCwgc291cmNlLCBnZXRNYXRjaERhdGEoc291cmNlKSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgaXMgbGlrZSBgXy5pc01hdGNoYCBleGNlcHQgdGhhdCBpdCBhY2NlcHRzIGBjdXN0b21pemVyYCB3aGljaFxuICAgICAqIGlzIGludm9rZWQgdG8gY29tcGFyZSB2YWx1ZXMuIElmIGBjdXN0b21pemVyYCByZXR1cm5zIGB1bmRlZmluZWRgLCBjb21wYXJpc29uc1xuICAgICAqIGFyZSBoYW5kbGVkIGJ5IHRoZSBtZXRob2QgaW5zdGVhZC4gVGhlIGBjdXN0b21pemVyYCBpcyBpbnZva2VkIHdpdGggZml2ZVxuICAgICAqIGFyZ3VtZW50czogKG9ialZhbHVlLCBzcmNWYWx1ZSwgaW5kZXh8a2V5LCBvYmplY3QsIHNvdXJjZSkuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgTGFuZ1xuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBpbnNwZWN0LlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBzb3VyY2UgVGhlIG9iamVjdCBvZiBwcm9wZXJ0eSB2YWx1ZXMgdG8gbWF0Y2guXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2N1c3RvbWl6ZXJdIFRoZSBmdW5jdGlvbiB0byBjdXN0b21pemUgY29tcGFyaXNvbnMuXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGBvYmplY3RgIGlzIGEgbWF0Y2gsIGVsc2UgYGZhbHNlYC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogZnVuY3Rpb24gaXNHcmVldGluZyh2YWx1ZSkge1xuICAgICAqICAgcmV0dXJuIC9eaCg/Oml8ZWxsbykkLy50ZXN0KHZhbHVlKTtcbiAgICAgKiB9XG4gICAgICpcbiAgICAgKiBmdW5jdGlvbiBjdXN0b21pemVyKG9ialZhbHVlLCBzcmNWYWx1ZSkge1xuICAgICAqICAgaWYgKGlzR3JlZXRpbmcob2JqVmFsdWUpICYmIGlzR3JlZXRpbmcoc3JjVmFsdWUpKSB7XG4gICAgICogICAgIHJldHVybiB0cnVlO1xuICAgICAqICAgfVxuICAgICAqIH1cbiAgICAgKlxuICAgICAqIHZhciBvYmplY3QgPSB7ICdncmVldGluZyc6ICdoZWxsbycgfTtcbiAgICAgKiB2YXIgc291cmNlID0geyAnZ3JlZXRpbmcnOiAnaGknIH07XG4gICAgICpcbiAgICAgKiBfLmlzTWF0Y2hXaXRoKG9iamVjdCwgc291cmNlLCBjdXN0b21pemVyKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICovXG4gICAgZnVuY3Rpb24gaXNNYXRjaFdpdGgob2JqZWN0LCBzb3VyY2UsIGN1c3RvbWl6ZXIpIHtcbiAgICAgIGN1c3RvbWl6ZXIgPSB0eXBlb2YgY3VzdG9taXplciA9PSAnZnVuY3Rpb24nID8gY3VzdG9taXplciA6IHVuZGVmaW5lZDtcbiAgICAgIHJldHVybiBiYXNlSXNNYXRjaChvYmplY3QsIHNvdXJjZSwgZ2V0TWF0Y2hEYXRhKHNvdXJjZSksIGN1c3RvbWl6ZXIpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIGBOYU5gLlxuICAgICAqXG4gICAgICogKipOb3RlOioqIFRoaXMgbWV0aG9kIGlzIGJhc2VkIG9uXG4gICAgICogW2BOdW1iZXIuaXNOYU5gXShodHRwczovL21kbi5pby9OdW1iZXIvaXNOYU4pIGFuZCBpcyBub3QgdGhlIHNhbWUgYXNcbiAgICAgKiBnbG9iYWwgW2Bpc05hTmBdKGh0dHBzOi8vbWRuLmlvL2lzTmFOKSB3aGljaCByZXR1cm5zIGB0cnVlYCBmb3JcbiAgICAgKiBgdW5kZWZpbmVkYCBhbmQgb3RoZXIgbm9uLW51bWJlciB2YWx1ZXMuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMC4xLjBcbiAgICAgKiBAY2F0ZWdvcnkgTGFuZ1xuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGBOYU5gLCBlbHNlIGBmYWxzZWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uaXNOYU4oTmFOKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBfLmlzTmFOKG5ldyBOdW1iZXIoTmFOKSk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogaXNOYU4odW5kZWZpbmVkKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBfLmlzTmFOKHVuZGVmaW5lZCk7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBpc05hTih2YWx1ZSkge1xuICAgICAgLy8gQW4gYE5hTmAgcHJpbWl0aXZlIGlzIHRoZSBvbmx5IHZhbHVlIHRoYXQgaXMgbm90IGVxdWFsIHRvIGl0c2VsZi5cbiAgICAgIC8vIFBlcmZvcm0gdGhlIGB0b1N0cmluZ1RhZ2AgY2hlY2sgZmlyc3QgdG8gYXZvaWQgZXJyb3JzIHdpdGggc29tZVxuICAgICAgLy8gQWN0aXZlWCBvYmplY3RzIGluIElFLlxuICAgICAgcmV0dXJuIGlzTnVtYmVyKHZhbHVlKSAmJiB2YWx1ZSAhPSArdmFsdWU7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgYSBwcmlzdGluZSBuYXRpdmUgZnVuY3Rpb24uXG4gICAgICpcbiAgICAgKiAqKk5vdGU6KiogVGhpcyBtZXRob2QgY2FuJ3QgcmVsaWFibHkgZGV0ZWN0IG5hdGl2ZSBmdW5jdGlvbnMgaW4gdGhlIHByZXNlbmNlXG4gICAgICogb2YgdGhlIGNvcmUtanMgcGFja2FnZSBiZWNhdXNlIGNvcmUtanMgY2lyY3VtdmVudHMgdGhpcyBraW5kIG9mIGRldGVjdGlvbi5cbiAgICAgKiBEZXNwaXRlIG11bHRpcGxlIHJlcXVlc3RzLCB0aGUgY29yZS1qcyBtYWludGFpbmVyIGhhcyBtYWRlIGl0IGNsZWFyOiBhbnlcbiAgICAgKiBhdHRlbXB0IHRvIGZpeCB0aGUgZGV0ZWN0aW9uIHdpbGwgYmUgb2JzdHJ1Y3RlZC4gQXMgYSByZXN1bHQsIHdlJ3JlIGxlZnRcbiAgICAgKiB3aXRoIGxpdHRsZSBjaG9pY2UgYnV0IHRvIHRocm93IGFuIGVycm9yLiBVbmZvcnR1bmF0ZWx5LCB0aGlzIGFsc28gYWZmZWN0c1xuICAgICAqIHBhY2thZ2VzLCBsaWtlIFtiYWJlbC1wb2x5ZmlsbF0oaHR0cHM6Ly93d3cubnBtanMuY29tL3BhY2thZ2UvYmFiZWwtcG9seWZpbGwpLFxuICAgICAqIHdoaWNoIHJlbHkgb24gY29yZS1qcy5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAzLjAuMFxuICAgICAqIEBjYXRlZ29yeSBMYW5nXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYSBuYXRpdmUgZnVuY3Rpb24sXG4gICAgICogIGVsc2UgYGZhbHNlYC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5pc05hdGl2ZShBcnJheS5wcm90b3R5cGUucHVzaCk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogXy5pc05hdGl2ZShfKTtcbiAgICAgKiAvLyA9PiBmYWxzZVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGlzTmF0aXZlKHZhbHVlKSB7XG4gICAgICBpZiAoaXNNYXNrYWJsZSh2YWx1ZSkpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKENPUkVfRVJST1JfVEVYVCk7XG4gICAgICB9XG4gICAgICByZXR1cm4gYmFzZUlzTmF0aXZlKHZhbHVlKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBgbnVsbGAuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMC4xLjBcbiAgICAgKiBAY2F0ZWdvcnkgTGFuZ1xuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGBudWxsYCwgZWxzZSBgZmFsc2VgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmlzTnVsbChudWxsKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBfLmlzTnVsbCh2b2lkIDApO1xuICAgICAqIC8vID0+IGZhbHNlXG4gICAgICovXG4gICAgZnVuY3Rpb24gaXNOdWxsKHZhbHVlKSB7XG4gICAgICByZXR1cm4gdmFsdWUgPT09IG51bGw7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgYG51bGxgIG9yIGB1bmRlZmluZWRgLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IExhbmdcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBudWxsaXNoLCBlbHNlIGBmYWxzZWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uaXNOaWwobnVsbCk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogXy5pc05pbCh2b2lkIDApO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKlxuICAgICAqIF8uaXNOaWwoTmFOKTtcbiAgICAgKiAvLyA9PiBmYWxzZVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGlzTmlsKHZhbHVlKSB7XG4gICAgICByZXR1cm4gdmFsdWUgPT0gbnVsbDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBjbGFzc2lmaWVkIGFzIGEgYE51bWJlcmAgcHJpbWl0aXZlIG9yIG9iamVjdC5cbiAgICAgKlxuICAgICAqICoqTm90ZToqKiBUbyBleGNsdWRlIGBJbmZpbml0eWAsIGAtSW5maW5pdHlgLCBhbmQgYE5hTmAsIHdoaWNoIGFyZVxuICAgICAqIGNsYXNzaWZpZWQgYXMgbnVtYmVycywgdXNlIHRoZSBgXy5pc0Zpbml0ZWAgbWV0aG9kLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDAuMS4wXG4gICAgICogQGNhdGVnb3J5IExhbmdcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBhIG51bWJlciwgZWxzZSBgZmFsc2VgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmlzTnVtYmVyKDMpO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKlxuICAgICAqIF8uaXNOdW1iZXIoTnVtYmVyLk1JTl9WQUxVRSk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogXy5pc051bWJlcihJbmZpbml0eSk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogXy5pc051bWJlcignMycpO1xuICAgICAqIC8vID0+IGZhbHNlXG4gICAgICovXG4gICAgZnVuY3Rpb24gaXNOdW1iZXIodmFsdWUpIHtcbiAgICAgIHJldHVybiB0eXBlb2YgdmFsdWUgPT0gJ251bWJlcicgfHxcbiAgICAgICAgKGlzT2JqZWN0TGlrZSh2YWx1ZSkgJiYgYmFzZUdldFRhZyh2YWx1ZSkgPT0gbnVtYmVyVGFnKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBhIHBsYWluIG9iamVjdCwgdGhhdCBpcywgYW4gb2JqZWN0IGNyZWF0ZWQgYnkgdGhlXG4gICAgICogYE9iamVjdGAgY29uc3RydWN0b3Igb3Igb25lIHdpdGggYSBgW1tQcm90b3R5cGVdXWAgb2YgYG51bGxgLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDAuOC4wXG4gICAgICogQGNhdGVnb3J5IExhbmdcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBhIHBsYWluIG9iamVjdCwgZWxzZSBgZmFsc2VgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBmdW5jdGlvbiBGb28oKSB7XG4gICAgICogICB0aGlzLmEgPSAxO1xuICAgICAqIH1cbiAgICAgKlxuICAgICAqIF8uaXNQbGFpbk9iamVjdChuZXcgRm9vKTtcbiAgICAgKiAvLyA9PiBmYWxzZVxuICAgICAqXG4gICAgICogXy5pc1BsYWluT2JqZWN0KFsxLCAyLCAzXSk7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKlxuICAgICAqIF8uaXNQbGFpbk9iamVjdCh7ICd4JzogMCwgJ3knOiAwIH0pO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKlxuICAgICAqIF8uaXNQbGFpbk9iamVjdChPYmplY3QuY3JlYXRlKG51bGwpKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICovXG4gICAgZnVuY3Rpb24gaXNQbGFpbk9iamVjdCh2YWx1ZSkge1xuICAgICAgaWYgKCFpc09iamVjdExpa2UodmFsdWUpIHx8IGJhc2VHZXRUYWcodmFsdWUpICE9IG9iamVjdFRhZykge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG4gICAgICB2YXIgcHJvdG8gPSBnZXRQcm90b3R5cGUodmFsdWUpO1xuICAgICAgaWYgKHByb3RvID09PSBudWxsKSB7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgfVxuICAgICAgdmFyIEN0b3IgPSBoYXNPd25Qcm9wZXJ0eS5jYWxsKHByb3RvLCAnY29uc3RydWN0b3InKSAmJiBwcm90by5jb25zdHJ1Y3RvcjtcbiAgICAgIHJldHVybiB0eXBlb2YgQ3RvciA9PSAnZnVuY3Rpb24nICYmIEN0b3IgaW5zdGFuY2VvZiBDdG9yICYmXG4gICAgICAgIGZ1bmNUb1N0cmluZy5jYWxsKEN0b3IpID09IG9iamVjdEN0b3JTdHJpbmc7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgY2xhc3NpZmllZCBhcyBhIGBSZWdFeHBgIG9iamVjdC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAwLjEuMFxuICAgICAqIEBjYXRlZ29yeSBMYW5nXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYSByZWdleHAsIGVsc2UgYGZhbHNlYC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5pc1JlZ0V4cCgvYWJjLyk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogXy5pc1JlZ0V4cCgnL2FiYy8nKTtcbiAgICAgKiAvLyA9PiBmYWxzZVxuICAgICAqL1xuICAgIHZhciBpc1JlZ0V4cCA9IG5vZGVJc1JlZ0V4cCA/IGJhc2VVbmFyeShub2RlSXNSZWdFeHApIDogYmFzZUlzUmVnRXhwO1xuXG4gICAgLyoqXG4gICAgICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgYSBzYWZlIGludGVnZXIuIEFuIGludGVnZXIgaXMgc2FmZSBpZiBpdCdzIGFuIElFRUUtNzU0XG4gICAgICogZG91YmxlIHByZWNpc2lvbiBudW1iZXIgd2hpY2ggaXNuJ3QgdGhlIHJlc3VsdCBvZiBhIHJvdW5kZWQgdW5zYWZlIGludGVnZXIuXG4gICAgICpcbiAgICAgKiAqKk5vdGU6KiogVGhpcyBtZXRob2QgaXMgYmFzZWQgb25cbiAgICAgKiBbYE51bWJlci5pc1NhZmVJbnRlZ2VyYF0oaHR0cHM6Ly9tZG4uaW8vTnVtYmVyL2lzU2FmZUludGVnZXIpLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IExhbmdcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBhIHNhZmUgaW50ZWdlciwgZWxzZSBgZmFsc2VgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmlzU2FmZUludGVnZXIoMyk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogXy5pc1NhZmVJbnRlZ2VyKE51bWJlci5NSU5fVkFMVUUpO1xuICAgICAqIC8vID0+IGZhbHNlXG4gICAgICpcbiAgICAgKiBfLmlzU2FmZUludGVnZXIoSW5maW5pdHkpO1xuICAgICAqIC8vID0+IGZhbHNlXG4gICAgICpcbiAgICAgKiBfLmlzU2FmZUludGVnZXIoJzMnKTtcbiAgICAgKiAvLyA9PiBmYWxzZVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGlzU2FmZUludGVnZXIodmFsdWUpIHtcbiAgICAgIHJldHVybiBpc0ludGVnZXIodmFsdWUpICYmIHZhbHVlID49IC1NQVhfU0FGRV9JTlRFR0VSICYmIHZhbHVlIDw9IE1BWF9TQUZFX0lOVEVHRVI7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgY2xhc3NpZmllZCBhcyBhIGBTZXRgIG9iamVjdC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjMuMFxuICAgICAqIEBjYXRlZ29yeSBMYW5nXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYSBzZXQsIGVsc2UgYGZhbHNlYC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5pc1NldChuZXcgU2V0KTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBfLmlzU2V0KG5ldyBXZWFrU2V0KTtcbiAgICAgKiAvLyA9PiBmYWxzZVxuICAgICAqL1xuICAgIHZhciBpc1NldCA9IG5vZGVJc1NldCA/IGJhc2VVbmFyeShub2RlSXNTZXQpIDogYmFzZUlzU2V0O1xuXG4gICAgLyoqXG4gICAgICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgY2xhc3NpZmllZCBhcyBhIGBTdHJpbmdgIHByaW1pdGl2ZSBvciBvYmplY3QuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQHNpbmNlIDAuMS4wXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAY2F0ZWdvcnkgTGFuZ1xuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGEgc3RyaW5nLCBlbHNlIGBmYWxzZWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uaXNTdHJpbmcoJ2FiYycpO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKlxuICAgICAqIF8uaXNTdHJpbmcoMSk7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBpc1N0cmluZyh2YWx1ZSkge1xuICAgICAgcmV0dXJuIHR5cGVvZiB2YWx1ZSA9PSAnc3RyaW5nJyB8fFxuICAgICAgICAoIWlzQXJyYXkodmFsdWUpICYmIGlzT2JqZWN0TGlrZSh2YWx1ZSkgJiYgYmFzZUdldFRhZyh2YWx1ZSkgPT0gc3RyaW5nVGFnKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBjbGFzc2lmaWVkIGFzIGEgYFN5bWJvbGAgcHJpbWl0aXZlIG9yIG9iamVjdC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBMYW5nXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYSBzeW1ib2wsIGVsc2UgYGZhbHNlYC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5pc1N5bWJvbChTeW1ib2wuaXRlcmF0b3IpO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKlxuICAgICAqIF8uaXNTeW1ib2woJ2FiYycpO1xuICAgICAqIC8vID0+IGZhbHNlXG4gICAgICovXG4gICAgZnVuY3Rpb24gaXNTeW1ib2wodmFsdWUpIHtcbiAgICAgIHJldHVybiB0eXBlb2YgdmFsdWUgPT0gJ3N5bWJvbCcgfHxcbiAgICAgICAgKGlzT2JqZWN0TGlrZSh2YWx1ZSkgJiYgYmFzZUdldFRhZyh2YWx1ZSkgPT0gc3ltYm9sVGFnKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBjbGFzc2lmaWVkIGFzIGEgdHlwZWQgYXJyYXkuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMy4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgTGFuZ1xuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGEgdHlwZWQgYXJyYXksIGVsc2UgYGZhbHNlYC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5pc1R5cGVkQXJyYXkobmV3IFVpbnQ4QXJyYXkpO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKlxuICAgICAqIF8uaXNUeXBlZEFycmF5KFtdKTtcbiAgICAgKiAvLyA9PiBmYWxzZVxuICAgICAqL1xuICAgIHZhciBpc1R5cGVkQXJyYXkgPSBub2RlSXNUeXBlZEFycmF5ID8gYmFzZVVuYXJ5KG5vZGVJc1R5cGVkQXJyYXkpIDogYmFzZUlzVHlwZWRBcnJheTtcblxuICAgIC8qKlxuICAgICAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIGB1bmRlZmluZWRgLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBzaW5jZSAwLjEuMFxuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQGNhdGVnb3J5IExhbmdcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBgdW5kZWZpbmVkYCwgZWxzZSBgZmFsc2VgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmlzVW5kZWZpbmVkKHZvaWQgMCk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogXy5pc1VuZGVmaW5lZChudWxsKTtcbiAgICAgKiAvLyA9PiBmYWxzZVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGlzVW5kZWZpbmVkKHZhbHVlKSB7XG4gICAgICByZXR1cm4gdmFsdWUgPT09IHVuZGVmaW5lZDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBjbGFzc2lmaWVkIGFzIGEgYFdlYWtNYXBgIG9iamVjdC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjMuMFxuICAgICAqIEBjYXRlZ29yeSBMYW5nXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYSB3ZWFrIG1hcCwgZWxzZSBgZmFsc2VgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmlzV2Vha01hcChuZXcgV2Vha01hcCk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogXy5pc1dlYWtNYXAobmV3IE1hcCk7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBpc1dlYWtNYXAodmFsdWUpIHtcbiAgICAgIHJldHVybiBpc09iamVjdExpa2UodmFsdWUpICYmIGdldFRhZyh2YWx1ZSkgPT0gd2Vha01hcFRhZztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBjbGFzc2lmaWVkIGFzIGEgYFdlYWtTZXRgIG9iamVjdC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjMuMFxuICAgICAqIEBjYXRlZ29yeSBMYW5nXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYSB3ZWFrIHNldCwgZWxzZSBgZmFsc2VgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmlzV2Vha1NldChuZXcgV2Vha1NldCk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogXy5pc1dlYWtTZXQobmV3IFNldCk7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBpc1dlYWtTZXQodmFsdWUpIHtcbiAgICAgIHJldHVybiBpc09iamVjdExpa2UodmFsdWUpICYmIGJhc2VHZXRUYWcodmFsdWUpID09IHdlYWtTZXRUYWc7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgbGVzcyB0aGFuIGBvdGhlcmAuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMy45LjBcbiAgICAgKiBAY2F0ZWdvcnkgTGFuZ1xuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNvbXBhcmUuXG4gICAgICogQHBhcmFtIHsqfSBvdGhlciBUaGUgb3RoZXIgdmFsdWUgdG8gY29tcGFyZS5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBsZXNzIHRoYW4gYG90aGVyYCxcbiAgICAgKiAgZWxzZSBgZmFsc2VgLlxuICAgICAqIEBzZWUgXy5ndFxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmx0KDEsIDMpO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKlxuICAgICAqIF8ubHQoMywgMyk7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKlxuICAgICAqIF8ubHQoMywgMSk7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKi9cbiAgICB2YXIgbHQgPSBjcmVhdGVSZWxhdGlvbmFsT3BlcmF0aW9uKGJhc2VMdCk7XG5cbiAgICAvKipcbiAgICAgKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBsZXNzIHRoYW4gb3IgZXF1YWwgdG8gYG90aGVyYC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAzLjkuMFxuICAgICAqIEBjYXRlZ29yeSBMYW5nXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY29tcGFyZS5cbiAgICAgKiBAcGFyYW0geyp9IG90aGVyIFRoZSBvdGhlciB2YWx1ZSB0byBjb21wYXJlLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGxlc3MgdGhhbiBvciBlcXVhbCB0b1xuICAgICAqICBgb3RoZXJgLCBlbHNlIGBmYWxzZWAuXG4gICAgICogQHNlZSBfLmd0ZVxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmx0ZSgxLCAzKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBfLmx0ZSgzLCAzKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBfLmx0ZSgzLCAxKTtcbiAgICAgKiAvLyA9PiBmYWxzZVxuICAgICAqL1xuICAgIHZhciBsdGUgPSBjcmVhdGVSZWxhdGlvbmFsT3BlcmF0aW9uKGZ1bmN0aW9uKHZhbHVlLCBvdGhlcikge1xuICAgICAgcmV0dXJuIHZhbHVlIDw9IG90aGVyO1xuICAgIH0pO1xuXG4gICAgLyoqXG4gICAgICogQ29udmVydHMgYHZhbHVlYCB0byBhbiBhcnJheS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAc2luY2UgMC4xLjBcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBjYXRlZ29yeSBMYW5nXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY29udmVydC5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIGNvbnZlcnRlZCBhcnJheS5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy50b0FycmF5KHsgJ2EnOiAxLCAnYic6IDIgfSk7XG4gICAgICogLy8gPT4gWzEsIDJdXG4gICAgICpcbiAgICAgKiBfLnRvQXJyYXkoJ2FiYycpO1xuICAgICAqIC8vID0+IFsnYScsICdiJywgJ2MnXVxuICAgICAqXG4gICAgICogXy50b0FycmF5KDEpO1xuICAgICAqIC8vID0+IFtdXG4gICAgICpcbiAgICAgKiBfLnRvQXJyYXkobnVsbCk7XG4gICAgICogLy8gPT4gW11cbiAgICAgKi9cbiAgICBmdW5jdGlvbiB0b0FycmF5KHZhbHVlKSB7XG4gICAgICBpZiAoIXZhbHVlKSB7XG4gICAgICAgIHJldHVybiBbXTtcbiAgICAgIH1cbiAgICAgIGlmIChpc0FycmF5TGlrZSh2YWx1ZSkpIHtcbiAgICAgICAgcmV0dXJuIGlzU3RyaW5nKHZhbHVlKSA/IHN0cmluZ1RvQXJyYXkodmFsdWUpIDogY29weUFycmF5KHZhbHVlKTtcbiAgICAgIH1cbiAgICAgIGlmIChzeW1JdGVyYXRvciAmJiB2YWx1ZVtzeW1JdGVyYXRvcl0pIHtcbiAgICAgICAgcmV0dXJuIGl0ZXJhdG9yVG9BcnJheSh2YWx1ZVtzeW1JdGVyYXRvcl0oKSk7XG4gICAgICB9XG4gICAgICB2YXIgdGFnID0gZ2V0VGFnKHZhbHVlKSxcbiAgICAgICAgICBmdW5jID0gdGFnID09IG1hcFRhZyA/IG1hcFRvQXJyYXkgOiAodGFnID09IHNldFRhZyA/IHNldFRvQXJyYXkgOiB2YWx1ZXMpO1xuXG4gICAgICByZXR1cm4gZnVuYyh2YWx1ZSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ29udmVydHMgYHZhbHVlYCB0byBhIGZpbml0ZSBudW1iZXIuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4xMi4wXG4gICAgICogQGNhdGVnb3J5IExhbmdcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjb252ZXJ0LlxuICAgICAqIEByZXR1cm5zIHtudW1iZXJ9IFJldHVybnMgdGhlIGNvbnZlcnRlZCBudW1iZXIuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8udG9GaW5pdGUoMy4yKTtcbiAgICAgKiAvLyA9PiAzLjJcbiAgICAgKlxuICAgICAqIF8udG9GaW5pdGUoTnVtYmVyLk1JTl9WQUxVRSk7XG4gICAgICogLy8gPT4gNWUtMzI0XG4gICAgICpcbiAgICAgKiBfLnRvRmluaXRlKEluZmluaXR5KTtcbiAgICAgKiAvLyA9PiAxLjc5NzY5MzEzNDg2MjMxNTdlKzMwOFxuICAgICAqXG4gICAgICogXy50b0Zpbml0ZSgnMy4yJyk7XG4gICAgICogLy8gPT4gMy4yXG4gICAgICovXG4gICAgZnVuY3Rpb24gdG9GaW5pdGUodmFsdWUpIHtcbiAgICAgIGlmICghdmFsdWUpIHtcbiAgICAgICAgcmV0dXJuIHZhbHVlID09PSAwID8gdmFsdWUgOiAwO1xuICAgICAgfVxuICAgICAgdmFsdWUgPSB0b051bWJlcih2YWx1ZSk7XG4gICAgICBpZiAodmFsdWUgPT09IElORklOSVRZIHx8IHZhbHVlID09PSAtSU5GSU5JVFkpIHtcbiAgICAgICAgdmFyIHNpZ24gPSAodmFsdWUgPCAwID8gLTEgOiAxKTtcbiAgICAgICAgcmV0dXJuIHNpZ24gKiBNQVhfSU5URUdFUjtcbiAgICAgIH1cbiAgICAgIHJldHVybiB2YWx1ZSA9PT0gdmFsdWUgPyB2YWx1ZSA6IDA7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ29udmVydHMgYHZhbHVlYCB0byBhbiBpbnRlZ2VyLlxuICAgICAqXG4gICAgICogKipOb3RlOioqIFRoaXMgbWV0aG9kIGlzIGxvb3NlbHkgYmFzZWQgb25cbiAgICAgKiBbYFRvSW50ZWdlcmBdKGh0dHA6Ly93d3cuZWNtYS1pbnRlcm5hdGlvbmFsLm9yZy9lY21hLTI2Mi83LjAvI3NlYy10b2ludGVnZXIpLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IExhbmdcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjb252ZXJ0LlxuICAgICAqIEByZXR1cm5zIHtudW1iZXJ9IFJldHVybnMgdGhlIGNvbnZlcnRlZCBpbnRlZ2VyLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLnRvSW50ZWdlcigzLjIpO1xuICAgICAqIC8vID0+IDNcbiAgICAgKlxuICAgICAqIF8udG9JbnRlZ2VyKE51bWJlci5NSU5fVkFMVUUpO1xuICAgICAqIC8vID0+IDBcbiAgICAgKlxuICAgICAqIF8udG9JbnRlZ2VyKEluZmluaXR5KTtcbiAgICAgKiAvLyA9PiAxLjc5NzY5MzEzNDg2MjMxNTdlKzMwOFxuICAgICAqXG4gICAgICogXy50b0ludGVnZXIoJzMuMicpO1xuICAgICAqIC8vID0+IDNcbiAgICAgKi9cbiAgICBmdW5jdGlvbiB0b0ludGVnZXIodmFsdWUpIHtcbiAgICAgIHZhciByZXN1bHQgPSB0b0Zpbml0ZSh2YWx1ZSksXG4gICAgICAgICAgcmVtYWluZGVyID0gcmVzdWx0ICUgMTtcblxuICAgICAgcmV0dXJuIHJlc3VsdCA9PT0gcmVzdWx0ID8gKHJlbWFpbmRlciA/IHJlc3VsdCAtIHJlbWFpbmRlciA6IHJlc3VsdCkgOiAwO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENvbnZlcnRzIGB2YWx1ZWAgdG8gYW4gaW50ZWdlciBzdWl0YWJsZSBmb3IgdXNlIGFzIHRoZSBsZW5ndGggb2YgYW5cbiAgICAgKiBhcnJheS1saWtlIG9iamVjdC5cbiAgICAgKlxuICAgICAqICoqTm90ZToqKiBUaGlzIG1ldGhvZCBpcyBiYXNlZCBvblxuICAgICAqIFtgVG9MZW5ndGhgXShodHRwOi8vZWNtYS1pbnRlcm5hdGlvbmFsLm9yZy9lY21hLTI2Mi83LjAvI3NlYy10b2xlbmd0aCkuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgTGFuZ1xuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNvbnZlcnQuXG4gICAgICogQHJldHVybnMge251bWJlcn0gUmV0dXJucyB0aGUgY29udmVydGVkIGludGVnZXIuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8udG9MZW5ndGgoMy4yKTtcbiAgICAgKiAvLyA9PiAzXG4gICAgICpcbiAgICAgKiBfLnRvTGVuZ3RoKE51bWJlci5NSU5fVkFMVUUpO1xuICAgICAqIC8vID0+IDBcbiAgICAgKlxuICAgICAqIF8udG9MZW5ndGgoSW5maW5pdHkpO1xuICAgICAqIC8vID0+IDQyOTQ5NjcyOTVcbiAgICAgKlxuICAgICAqIF8udG9MZW5ndGgoJzMuMicpO1xuICAgICAqIC8vID0+IDNcbiAgICAgKi9cbiAgICBmdW5jdGlvbiB0b0xlbmd0aCh2YWx1ZSkge1xuICAgICAgcmV0dXJuIHZhbHVlID8gYmFzZUNsYW1wKHRvSW50ZWdlcih2YWx1ZSksIDAsIE1BWF9BUlJBWV9MRU5HVEgpIDogMDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDb252ZXJ0cyBgdmFsdWVgIHRvIGEgbnVtYmVyLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IExhbmdcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBwcm9jZXNzLlxuICAgICAqIEByZXR1cm5zIHtudW1iZXJ9IFJldHVybnMgdGhlIG51bWJlci5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy50b051bWJlcigzLjIpO1xuICAgICAqIC8vID0+IDMuMlxuICAgICAqXG4gICAgICogXy50b051bWJlcihOdW1iZXIuTUlOX1ZBTFVFKTtcbiAgICAgKiAvLyA9PiA1ZS0zMjRcbiAgICAgKlxuICAgICAqIF8udG9OdW1iZXIoSW5maW5pdHkpO1xuICAgICAqIC8vID0+IEluZmluaXR5XG4gICAgICpcbiAgICAgKiBfLnRvTnVtYmVyKCczLjInKTtcbiAgICAgKiAvLyA9PiAzLjJcbiAgICAgKi9cbiAgICBmdW5jdGlvbiB0b051bWJlcih2YWx1ZSkge1xuICAgICAgaWYgKHR5cGVvZiB2YWx1ZSA9PSAnbnVtYmVyJykge1xuICAgICAgICByZXR1cm4gdmFsdWU7XG4gICAgICB9XG4gICAgICBpZiAoaXNTeW1ib2wodmFsdWUpKSB7XG4gICAgICAgIHJldHVybiBOQU47XG4gICAgICB9XG4gICAgICBpZiAoaXNPYmplY3QodmFsdWUpKSB7XG4gICAgICAgIHZhciBvdGhlciA9IHR5cGVvZiB2YWx1ZS52YWx1ZU9mID09ICdmdW5jdGlvbicgPyB2YWx1ZS52YWx1ZU9mKCkgOiB2YWx1ZTtcbiAgICAgICAgdmFsdWUgPSBpc09iamVjdChvdGhlcikgPyAob3RoZXIgKyAnJykgOiBvdGhlcjtcbiAgICAgIH1cbiAgICAgIGlmICh0eXBlb2YgdmFsdWUgIT0gJ3N0cmluZycpIHtcbiAgICAgICAgcmV0dXJuIHZhbHVlID09PSAwID8gdmFsdWUgOiArdmFsdWU7XG4gICAgICB9XG4gICAgICB2YWx1ZSA9IHZhbHVlLnJlcGxhY2UocmVUcmltLCAnJyk7XG4gICAgICB2YXIgaXNCaW5hcnkgPSByZUlzQmluYXJ5LnRlc3QodmFsdWUpO1xuICAgICAgcmV0dXJuIChpc0JpbmFyeSB8fCByZUlzT2N0YWwudGVzdCh2YWx1ZSkpXG4gICAgICAgID8gZnJlZVBhcnNlSW50KHZhbHVlLnNsaWNlKDIpLCBpc0JpbmFyeSA/IDIgOiA4KVxuICAgICAgICA6IChyZUlzQmFkSGV4LnRlc3QodmFsdWUpID8gTkFOIDogK3ZhbHVlKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDb252ZXJ0cyBgdmFsdWVgIHRvIGEgcGxhaW4gb2JqZWN0IGZsYXR0ZW5pbmcgaW5oZXJpdGVkIGVudW1lcmFibGUgc3RyaW5nXG4gICAgICoga2V5ZWQgcHJvcGVydGllcyBvZiBgdmFsdWVgIHRvIG93biBwcm9wZXJ0aWVzIG9mIHRoZSBwbGFpbiBvYmplY3QuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMy4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgTGFuZ1xuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNvbnZlcnQuXG4gICAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyB0aGUgY29udmVydGVkIHBsYWluIG9iamVjdC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogZnVuY3Rpb24gRm9vKCkge1xuICAgICAqICAgdGhpcy5iID0gMjtcbiAgICAgKiB9XG4gICAgICpcbiAgICAgKiBGb28ucHJvdG90eXBlLmMgPSAzO1xuICAgICAqXG4gICAgICogXy5hc3NpZ24oeyAnYSc6IDEgfSwgbmV3IEZvbyk7XG4gICAgICogLy8gPT4geyAnYSc6IDEsICdiJzogMiB9XG4gICAgICpcbiAgICAgKiBfLmFzc2lnbih7ICdhJzogMSB9LCBfLnRvUGxhaW5PYmplY3QobmV3IEZvbykpO1xuICAgICAqIC8vID0+IHsgJ2EnOiAxLCAnYic6IDIsICdjJzogMyB9XG4gICAgICovXG4gICAgZnVuY3Rpb24gdG9QbGFpbk9iamVjdCh2YWx1ZSkge1xuICAgICAgcmV0dXJuIGNvcHlPYmplY3QodmFsdWUsIGtleXNJbih2YWx1ZSkpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENvbnZlcnRzIGB2YWx1ZWAgdG8gYSBzYWZlIGludGVnZXIuIEEgc2FmZSBpbnRlZ2VyIGNhbiBiZSBjb21wYXJlZCBhbmRcbiAgICAgKiByZXByZXNlbnRlZCBjb3JyZWN0bHkuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgTGFuZ1xuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNvbnZlcnQuXG4gICAgICogQHJldHVybnMge251bWJlcn0gUmV0dXJucyB0aGUgY29udmVydGVkIGludGVnZXIuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8udG9TYWZlSW50ZWdlcigzLjIpO1xuICAgICAqIC8vID0+IDNcbiAgICAgKlxuICAgICAqIF8udG9TYWZlSW50ZWdlcihOdW1iZXIuTUlOX1ZBTFVFKTtcbiAgICAgKiAvLyA9PiAwXG4gICAgICpcbiAgICAgKiBfLnRvU2FmZUludGVnZXIoSW5maW5pdHkpO1xuICAgICAqIC8vID0+IDkwMDcxOTkyNTQ3NDA5OTFcbiAgICAgKlxuICAgICAqIF8udG9TYWZlSW50ZWdlcignMy4yJyk7XG4gICAgICogLy8gPT4gM1xuICAgICAqL1xuICAgIGZ1bmN0aW9uIHRvU2FmZUludGVnZXIodmFsdWUpIHtcbiAgICAgIHJldHVybiB2YWx1ZVxuICAgICAgICA/IGJhc2VDbGFtcCh0b0ludGVnZXIodmFsdWUpLCAtTUFYX1NBRkVfSU5URUdFUiwgTUFYX1NBRkVfSU5URUdFUilcbiAgICAgICAgOiAodmFsdWUgPT09IDAgPyB2YWx1ZSA6IDApO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENvbnZlcnRzIGB2YWx1ZWAgdG8gYSBzdHJpbmcuIEFuIGVtcHR5IHN0cmluZyBpcyByZXR1cm5lZCBmb3IgYG51bGxgXG4gICAgICogYW5kIGB1bmRlZmluZWRgIHZhbHVlcy4gVGhlIHNpZ24gb2YgYC0wYCBpcyBwcmVzZXJ2ZWQuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgTGFuZ1xuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNvbnZlcnQuXG4gICAgICogQHJldHVybnMge3N0cmluZ30gUmV0dXJucyB0aGUgY29udmVydGVkIHN0cmluZy5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy50b1N0cmluZyhudWxsKTtcbiAgICAgKiAvLyA9PiAnJ1xuICAgICAqXG4gICAgICogXy50b1N0cmluZygtMCk7XG4gICAgICogLy8gPT4gJy0wJ1xuICAgICAqXG4gICAgICogXy50b1N0cmluZyhbMSwgMiwgM10pO1xuICAgICAqIC8vID0+ICcxLDIsMydcbiAgICAgKi9cbiAgICBmdW5jdGlvbiB0b1N0cmluZyh2YWx1ZSkge1xuICAgICAgcmV0dXJuIHZhbHVlID09IG51bGwgPyAnJyA6IGJhc2VUb1N0cmluZyh2YWx1ZSk7XG4gICAgfVxuXG4gICAgLyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuXG4gICAgLyoqXG4gICAgICogQXNzaWducyBvd24gZW51bWVyYWJsZSBzdHJpbmcga2V5ZWQgcHJvcGVydGllcyBvZiBzb3VyY2Ugb2JqZWN0cyB0byB0aGVcbiAgICAgKiBkZXN0aW5hdGlvbiBvYmplY3QuIFNvdXJjZSBvYmplY3RzIGFyZSBhcHBsaWVkIGZyb20gbGVmdCB0byByaWdodC5cbiAgICAgKiBTdWJzZXF1ZW50IHNvdXJjZXMgb3ZlcndyaXRlIHByb3BlcnR5IGFzc2lnbm1lbnRzIG9mIHByZXZpb3VzIHNvdXJjZXMuXG4gICAgICpcbiAgICAgKiAqKk5vdGU6KiogVGhpcyBtZXRob2QgbXV0YXRlcyBgb2JqZWN0YCBhbmQgaXMgbG9vc2VseSBiYXNlZCBvblxuICAgICAqIFtgT2JqZWN0LmFzc2lnbmBdKGh0dHBzOi8vbWRuLmlvL09iamVjdC9hc3NpZ24pLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDAuMTAuMFxuICAgICAqIEBjYXRlZ29yeSBPYmplY3RcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBkZXN0aW5hdGlvbiBvYmplY3QuXG4gICAgICogQHBhcmFtIHsuLi5PYmplY3R9IFtzb3VyY2VzXSBUaGUgc291cmNlIG9iamVjdHMuXG4gICAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyBgb2JqZWN0YC5cbiAgICAgKiBAc2VlIF8uYXNzaWduSW5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogZnVuY3Rpb24gRm9vKCkge1xuICAgICAqICAgdGhpcy5hID0gMTtcbiAgICAgKiB9XG4gICAgICpcbiAgICAgKiBmdW5jdGlvbiBCYXIoKSB7XG4gICAgICogICB0aGlzLmMgPSAzO1xuICAgICAqIH1cbiAgICAgKlxuICAgICAqIEZvby5wcm90b3R5cGUuYiA9IDI7XG4gICAgICogQmFyLnByb3RvdHlwZS5kID0gNDtcbiAgICAgKlxuICAgICAqIF8uYXNzaWduKHsgJ2EnOiAwIH0sIG5ldyBGb28sIG5ldyBCYXIpO1xuICAgICAqIC8vID0+IHsgJ2EnOiAxLCAnYyc6IDMgfVxuICAgICAqL1xuICAgIHZhciBhc3NpZ24gPSBjcmVhdGVBc3NpZ25lcihmdW5jdGlvbihvYmplY3QsIHNvdXJjZSkge1xuICAgICAgaWYgKGlzUHJvdG90eXBlKHNvdXJjZSkgfHwgaXNBcnJheUxpa2Uoc291cmNlKSkge1xuICAgICAgICBjb3B5T2JqZWN0KHNvdXJjZSwga2V5cyhzb3VyY2UpLCBvYmplY3QpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBmb3IgKHZhciBrZXkgaW4gc291cmNlKSB7XG4gICAgICAgIGlmIChoYXNPd25Qcm9wZXJ0eS5jYWxsKHNvdXJjZSwga2V5KSkge1xuICAgICAgICAgIGFzc2lnblZhbHVlKG9iamVjdCwga2V5LCBzb3VyY2Vba2V5XSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9KTtcblxuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIGlzIGxpa2UgYF8uYXNzaWduYCBleGNlcHQgdGhhdCBpdCBpdGVyYXRlcyBvdmVyIG93biBhbmRcbiAgICAgKiBpbmhlcml0ZWQgc291cmNlIHByb3BlcnRpZXMuXG4gICAgICpcbiAgICAgKiAqKk5vdGU6KiogVGhpcyBtZXRob2QgbXV0YXRlcyBgb2JqZWN0YC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBhbGlhcyBleHRlbmRcbiAgICAgKiBAY2F0ZWdvcnkgT2JqZWN0XG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgZGVzdGluYXRpb24gb2JqZWN0LlxuICAgICAqIEBwYXJhbSB7Li4uT2JqZWN0fSBbc291cmNlc10gVGhlIHNvdXJjZSBvYmplY3RzLlxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgYG9iamVjdGAuXG4gICAgICogQHNlZSBfLmFzc2lnblxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBmdW5jdGlvbiBGb28oKSB7XG4gICAgICogICB0aGlzLmEgPSAxO1xuICAgICAqIH1cbiAgICAgKlxuICAgICAqIGZ1bmN0aW9uIEJhcigpIHtcbiAgICAgKiAgIHRoaXMuYyA9IDM7XG4gICAgICogfVxuICAgICAqXG4gICAgICogRm9vLnByb3RvdHlwZS5iID0gMjtcbiAgICAgKiBCYXIucHJvdG90eXBlLmQgPSA0O1xuICAgICAqXG4gICAgICogXy5hc3NpZ25Jbih7ICdhJzogMCB9LCBuZXcgRm9vLCBuZXcgQmFyKTtcbiAgICAgKiAvLyA9PiB7ICdhJzogMSwgJ2InOiAyLCAnYyc6IDMsICdkJzogNCB9XG4gICAgICovXG4gICAgdmFyIGFzc2lnbkluID0gY3JlYXRlQXNzaWduZXIoZnVuY3Rpb24ob2JqZWN0LCBzb3VyY2UpIHtcbiAgICAgIGNvcHlPYmplY3Qoc291cmNlLCBrZXlzSW4oc291cmNlKSwgb2JqZWN0KTtcbiAgICB9KTtcblxuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIGlzIGxpa2UgYF8uYXNzaWduSW5gIGV4Y2VwdCB0aGF0IGl0IGFjY2VwdHMgYGN1c3RvbWl6ZXJgXG4gICAgICogd2hpY2ggaXMgaW52b2tlZCB0byBwcm9kdWNlIHRoZSBhc3NpZ25lZCB2YWx1ZXMuIElmIGBjdXN0b21pemVyYCByZXR1cm5zXG4gICAgICogYHVuZGVmaW5lZGAsIGFzc2lnbm1lbnQgaXMgaGFuZGxlZCBieSB0aGUgbWV0aG9kIGluc3RlYWQuIFRoZSBgY3VzdG9taXplcmBcbiAgICAgKiBpcyBpbnZva2VkIHdpdGggZml2ZSBhcmd1bWVudHM6IChvYmpWYWx1ZSwgc3JjVmFsdWUsIGtleSwgb2JqZWN0LCBzb3VyY2UpLlxuICAgICAqXG4gICAgICogKipOb3RlOioqIFRoaXMgbWV0aG9kIG11dGF0ZXMgYG9iamVjdGAuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAYWxpYXMgZXh0ZW5kV2l0aFxuICAgICAqIEBjYXRlZ29yeSBPYmplY3RcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBkZXN0aW5hdGlvbiBvYmplY3QuXG4gICAgICogQHBhcmFtIHsuLi5PYmplY3R9IHNvdXJjZXMgVGhlIHNvdXJjZSBvYmplY3RzLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtjdXN0b21pemVyXSBUaGUgZnVuY3Rpb24gdG8gY3VzdG9taXplIGFzc2lnbmVkIHZhbHVlcy5cbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIGBvYmplY3RgLlxuICAgICAqIEBzZWUgXy5hc3NpZ25XaXRoXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIGZ1bmN0aW9uIGN1c3RvbWl6ZXIob2JqVmFsdWUsIHNyY1ZhbHVlKSB7XG4gICAgICogICByZXR1cm4gXy5pc1VuZGVmaW5lZChvYmpWYWx1ZSkgPyBzcmNWYWx1ZSA6IG9ialZhbHVlO1xuICAgICAqIH1cbiAgICAgKlxuICAgICAqIHZhciBkZWZhdWx0cyA9IF8ucGFydGlhbFJpZ2h0KF8uYXNzaWduSW5XaXRoLCBjdXN0b21pemVyKTtcbiAgICAgKlxuICAgICAqIGRlZmF1bHRzKHsgJ2EnOiAxIH0sIHsgJ2InOiAyIH0sIHsgJ2EnOiAzIH0pO1xuICAgICAqIC8vID0+IHsgJ2EnOiAxLCAnYic6IDIgfVxuICAgICAqL1xuICAgIHZhciBhc3NpZ25JbldpdGggPSBjcmVhdGVBc3NpZ25lcihmdW5jdGlvbihvYmplY3QsIHNvdXJjZSwgc3JjSW5kZXgsIGN1c3RvbWl6ZXIpIHtcbiAgICAgIGNvcHlPYmplY3Qoc291cmNlLCBrZXlzSW4oc291cmNlKSwgb2JqZWN0LCBjdXN0b21pemVyKTtcbiAgICB9KTtcblxuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIGlzIGxpa2UgYF8uYXNzaWduYCBleGNlcHQgdGhhdCBpdCBhY2NlcHRzIGBjdXN0b21pemVyYFxuICAgICAqIHdoaWNoIGlzIGludm9rZWQgdG8gcHJvZHVjZSB0aGUgYXNzaWduZWQgdmFsdWVzLiBJZiBgY3VzdG9taXplcmAgcmV0dXJuc1xuICAgICAqIGB1bmRlZmluZWRgLCBhc3NpZ25tZW50IGlzIGhhbmRsZWQgYnkgdGhlIG1ldGhvZCBpbnN0ZWFkLiBUaGUgYGN1c3RvbWl6ZXJgXG4gICAgICogaXMgaW52b2tlZCB3aXRoIGZpdmUgYXJndW1lbnRzOiAob2JqVmFsdWUsIHNyY1ZhbHVlLCBrZXksIG9iamVjdCwgc291cmNlKS5cbiAgICAgKlxuICAgICAqICoqTm90ZToqKiBUaGlzIG1ldGhvZCBtdXRhdGVzIGBvYmplY3RgLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IE9iamVjdFxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIGRlc3RpbmF0aW9uIG9iamVjdC5cbiAgICAgKiBAcGFyYW0gey4uLk9iamVjdH0gc291cmNlcyBUaGUgc291cmNlIG9iamVjdHMuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2N1c3RvbWl6ZXJdIFRoZSBmdW5jdGlvbiB0byBjdXN0b21pemUgYXNzaWduZWQgdmFsdWVzLlxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgYG9iamVjdGAuXG4gICAgICogQHNlZSBfLmFzc2lnbkluV2l0aFxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBmdW5jdGlvbiBjdXN0b21pemVyKG9ialZhbHVlLCBzcmNWYWx1ZSkge1xuICAgICAqICAgcmV0dXJuIF8uaXNVbmRlZmluZWQob2JqVmFsdWUpID8gc3JjVmFsdWUgOiBvYmpWYWx1ZTtcbiAgICAgKiB9XG4gICAgICpcbiAgICAgKiB2YXIgZGVmYXVsdHMgPSBfLnBhcnRpYWxSaWdodChfLmFzc2lnbldpdGgsIGN1c3RvbWl6ZXIpO1xuICAgICAqXG4gICAgICogZGVmYXVsdHMoeyAnYSc6IDEgfSwgeyAnYic6IDIgfSwgeyAnYSc6IDMgfSk7XG4gICAgICogLy8gPT4geyAnYSc6IDEsICdiJzogMiB9XG4gICAgICovXG4gICAgdmFyIGFzc2lnbldpdGggPSBjcmVhdGVBc3NpZ25lcihmdW5jdGlvbihvYmplY3QsIHNvdXJjZSwgc3JjSW5kZXgsIGN1c3RvbWl6ZXIpIHtcbiAgICAgIGNvcHlPYmplY3Qoc291cmNlLCBrZXlzKHNvdXJjZSksIG9iamVjdCwgY3VzdG9taXplcik7XG4gICAgfSk7XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGFuIGFycmF5IG9mIHZhbHVlcyBjb3JyZXNwb25kaW5nIHRvIGBwYXRoc2Agb2YgYG9iamVjdGAuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMS4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgT2JqZWN0XG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIGl0ZXJhdGUgb3Zlci5cbiAgICAgKiBAcGFyYW0gey4uLihzdHJpbmd8c3RyaW5nW10pfSBbcGF0aHNdIFRoZSBwcm9wZXJ0eSBwYXRocyB0byBwaWNrLlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgcGlja2VkIHZhbHVlcy5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIG9iamVjdCA9IHsgJ2EnOiBbeyAnYic6IHsgJ2MnOiAzIH0gfSwgNF0gfTtcbiAgICAgKlxuICAgICAqIF8uYXQob2JqZWN0LCBbJ2FbMF0uYi5jJywgJ2FbMV0nXSk7XG4gICAgICogLy8gPT4gWzMsIDRdXG4gICAgICovXG4gICAgdmFyIGF0ID0gZmxhdFJlc3QoYmFzZUF0KTtcblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYW4gb2JqZWN0IHRoYXQgaW5oZXJpdHMgZnJvbSB0aGUgYHByb3RvdHlwZWAgb2JqZWN0LiBJZiBhXG4gICAgICogYHByb3BlcnRpZXNgIG9iamVjdCBpcyBnaXZlbiwgaXRzIG93biBlbnVtZXJhYmxlIHN0cmluZyBrZXllZCBwcm9wZXJ0aWVzXG4gICAgICogYXJlIGFzc2lnbmVkIHRvIHRoZSBjcmVhdGVkIG9iamVjdC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAyLjMuMFxuICAgICAqIEBjYXRlZ29yeSBPYmplY3RcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gcHJvdG90eXBlIFRoZSBvYmplY3QgdG8gaW5oZXJpdCBmcm9tLlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBbcHJvcGVydGllc10gVGhlIHByb3BlcnRpZXMgdG8gYXNzaWduIHRvIHRoZSBvYmplY3QuXG4gICAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyB0aGUgbmV3IG9iamVjdC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogZnVuY3Rpb24gU2hhcGUoKSB7XG4gICAgICogICB0aGlzLnggPSAwO1xuICAgICAqICAgdGhpcy55ID0gMDtcbiAgICAgKiB9XG4gICAgICpcbiAgICAgKiBmdW5jdGlvbiBDaXJjbGUoKSB7XG4gICAgICogICBTaGFwZS5jYWxsKHRoaXMpO1xuICAgICAqIH1cbiAgICAgKlxuICAgICAqIENpcmNsZS5wcm90b3R5cGUgPSBfLmNyZWF0ZShTaGFwZS5wcm90b3R5cGUsIHtcbiAgICAgKiAgICdjb25zdHJ1Y3Rvcic6IENpcmNsZVxuICAgICAqIH0pO1xuICAgICAqXG4gICAgICogdmFyIGNpcmNsZSA9IG5ldyBDaXJjbGU7XG4gICAgICogY2lyY2xlIGluc3RhbmNlb2YgQ2lyY2xlO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKlxuICAgICAqIGNpcmNsZSBpbnN0YW5jZW9mIFNoYXBlO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBjcmVhdGUocHJvdG90eXBlLCBwcm9wZXJ0aWVzKSB7XG4gICAgICB2YXIgcmVzdWx0ID0gYmFzZUNyZWF0ZShwcm90b3R5cGUpO1xuICAgICAgcmV0dXJuIHByb3BlcnRpZXMgPT0gbnVsbCA/IHJlc3VsdCA6IGJhc2VBc3NpZ24ocmVzdWx0LCBwcm9wZXJ0aWVzKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBBc3NpZ25zIG93biBhbmQgaW5oZXJpdGVkIGVudW1lcmFibGUgc3RyaW5nIGtleWVkIHByb3BlcnRpZXMgb2Ygc291cmNlXG4gICAgICogb2JqZWN0cyB0byB0aGUgZGVzdGluYXRpb24gb2JqZWN0IGZvciBhbGwgZGVzdGluYXRpb24gcHJvcGVydGllcyB0aGF0XG4gICAgICogcmVzb2x2ZSB0byBgdW5kZWZpbmVkYC4gU291cmNlIG9iamVjdHMgYXJlIGFwcGxpZWQgZnJvbSBsZWZ0IHRvIHJpZ2h0LlxuICAgICAqIE9uY2UgYSBwcm9wZXJ0eSBpcyBzZXQsIGFkZGl0aW9uYWwgdmFsdWVzIG9mIHRoZSBzYW1lIHByb3BlcnR5IGFyZSBpZ25vcmVkLlxuICAgICAqXG4gICAgICogKipOb3RlOioqIFRoaXMgbWV0aG9kIG11dGF0ZXMgYG9iamVjdGAuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQHNpbmNlIDAuMS4wXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAY2F0ZWdvcnkgT2JqZWN0XG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgZGVzdGluYXRpb24gb2JqZWN0LlxuICAgICAqIEBwYXJhbSB7Li4uT2JqZWN0fSBbc291cmNlc10gVGhlIHNvdXJjZSBvYmplY3RzLlxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgYG9iamVjdGAuXG4gICAgICogQHNlZSBfLmRlZmF1bHRzRGVlcFxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmRlZmF1bHRzKHsgJ2EnOiAxIH0sIHsgJ2InOiAyIH0sIHsgJ2EnOiAzIH0pO1xuICAgICAqIC8vID0+IHsgJ2EnOiAxLCAnYic6IDIgfVxuICAgICAqL1xuICAgIHZhciBkZWZhdWx0cyA9IGJhc2VSZXN0KGZ1bmN0aW9uKG9iamVjdCwgc291cmNlcykge1xuICAgICAgb2JqZWN0ID0gT2JqZWN0KG9iamVjdCk7XG5cbiAgICAgIHZhciBpbmRleCA9IC0xO1xuICAgICAgdmFyIGxlbmd0aCA9IHNvdXJjZXMubGVuZ3RoO1xuICAgICAgdmFyIGd1YXJkID0gbGVuZ3RoID4gMiA/IHNvdXJjZXNbMl0gOiB1bmRlZmluZWQ7XG5cbiAgICAgIGlmIChndWFyZCAmJiBpc0l0ZXJhdGVlQ2FsbChzb3VyY2VzWzBdLCBzb3VyY2VzWzFdLCBndWFyZCkpIHtcbiAgICAgICAgbGVuZ3RoID0gMTtcbiAgICAgIH1cblxuICAgICAgd2hpbGUgKCsraW5kZXggPCBsZW5ndGgpIHtcbiAgICAgICAgdmFyIHNvdXJjZSA9IHNvdXJjZXNbaW5kZXhdO1xuICAgICAgICB2YXIgcHJvcHMgPSBrZXlzSW4oc291cmNlKTtcbiAgICAgICAgdmFyIHByb3BzSW5kZXggPSAtMTtcbiAgICAgICAgdmFyIHByb3BzTGVuZ3RoID0gcHJvcHMubGVuZ3RoO1xuXG4gICAgICAgIHdoaWxlICgrK3Byb3BzSW5kZXggPCBwcm9wc0xlbmd0aCkge1xuICAgICAgICAgIHZhciBrZXkgPSBwcm9wc1twcm9wc0luZGV4XTtcbiAgICAgICAgICB2YXIgdmFsdWUgPSBvYmplY3Rba2V5XTtcblxuICAgICAgICAgIGlmICh2YWx1ZSA9PT0gdW5kZWZpbmVkIHx8XG4gICAgICAgICAgICAgIChlcSh2YWx1ZSwgb2JqZWN0UHJvdG9ba2V5XSkgJiYgIWhhc093blByb3BlcnR5LmNhbGwob2JqZWN0LCBrZXkpKSkge1xuICAgICAgICAgICAgb2JqZWN0W2tleV0gPSBzb3VyY2Vba2V5XTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgcmV0dXJuIG9iamVjdDtcbiAgICB9KTtcblxuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIGlzIGxpa2UgYF8uZGVmYXVsdHNgIGV4Y2VwdCB0aGF0IGl0IHJlY3Vyc2l2ZWx5IGFzc2lnbnNcbiAgICAgKiBkZWZhdWx0IHByb3BlcnRpZXMuXG4gICAgICpcbiAgICAgKiAqKk5vdGU6KiogVGhpcyBtZXRob2QgbXV0YXRlcyBgb2JqZWN0YC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAzLjEwLjBcbiAgICAgKiBAY2F0ZWdvcnkgT2JqZWN0XG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgZGVzdGluYXRpb24gb2JqZWN0LlxuICAgICAqIEBwYXJhbSB7Li4uT2JqZWN0fSBbc291cmNlc10gVGhlIHNvdXJjZSBvYmplY3RzLlxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgYG9iamVjdGAuXG4gICAgICogQHNlZSBfLmRlZmF1bHRzXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uZGVmYXVsdHNEZWVwKHsgJ2EnOiB7ICdiJzogMiB9IH0sIHsgJ2EnOiB7ICdiJzogMSwgJ2MnOiAzIH0gfSk7XG4gICAgICogLy8gPT4geyAnYSc6IHsgJ2InOiAyLCAnYyc6IDMgfSB9XG4gICAgICovXG4gICAgdmFyIGRlZmF1bHRzRGVlcCA9IGJhc2VSZXN0KGZ1bmN0aW9uKGFyZ3MpIHtcbiAgICAgIGFyZ3MucHVzaCh1bmRlZmluZWQsIGN1c3RvbURlZmF1bHRzTWVyZ2UpO1xuICAgICAgcmV0dXJuIGFwcGx5KG1lcmdlV2l0aCwgdW5kZWZpbmVkLCBhcmdzKTtcbiAgICB9KTtcblxuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIGlzIGxpa2UgYF8uZmluZGAgZXhjZXB0IHRoYXQgaXQgcmV0dXJucyB0aGUga2V5IG9mIHRoZSBmaXJzdFxuICAgICAqIGVsZW1lbnQgYHByZWRpY2F0ZWAgcmV0dXJucyB0cnV0aHkgZm9yIGluc3RlYWQgb2YgdGhlIGVsZW1lbnQgaXRzZWxmLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDEuMS4wXG4gICAgICogQGNhdGVnb3J5IE9iamVjdFxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBpbnNwZWN0LlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtwcmVkaWNhdGU9Xy5pZGVudGl0eV0gVGhlIGZ1bmN0aW9uIGludm9rZWQgcGVyIGl0ZXJhdGlvbi5cbiAgICAgKiBAcmV0dXJucyB7c3RyaW5nfHVuZGVmaW5lZH0gUmV0dXJucyB0aGUga2V5IG9mIHRoZSBtYXRjaGVkIGVsZW1lbnQsXG4gICAgICogIGVsc2UgYHVuZGVmaW5lZGAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciB1c2VycyA9IHtcbiAgICAgKiAgICdiYXJuZXknOiAgeyAnYWdlJzogMzYsICdhY3RpdmUnOiB0cnVlIH0sXG4gICAgICogICAnZnJlZCc6ICAgIHsgJ2FnZSc6IDQwLCAnYWN0aXZlJzogZmFsc2UgfSxcbiAgICAgKiAgICdwZWJibGVzJzogeyAnYWdlJzogMSwgICdhY3RpdmUnOiB0cnVlIH1cbiAgICAgKiB9O1xuICAgICAqXG4gICAgICogXy5maW5kS2V5KHVzZXJzLCBmdW5jdGlvbihvKSB7IHJldHVybiBvLmFnZSA8IDQwOyB9KTtcbiAgICAgKiAvLyA9PiAnYmFybmV5JyAoaXRlcmF0aW9uIG9yZGVyIGlzIG5vdCBndWFyYW50ZWVkKVxuICAgICAqXG4gICAgICogLy8gVGhlIGBfLm1hdGNoZXNgIGl0ZXJhdGVlIHNob3J0aGFuZC5cbiAgICAgKiBfLmZpbmRLZXkodXNlcnMsIHsgJ2FnZSc6IDEsICdhY3RpdmUnOiB0cnVlIH0pO1xuICAgICAqIC8vID0+ICdwZWJibGVzJ1xuICAgICAqXG4gICAgICogLy8gVGhlIGBfLm1hdGNoZXNQcm9wZXJ0eWAgaXRlcmF0ZWUgc2hvcnRoYW5kLlxuICAgICAqIF8uZmluZEtleSh1c2VycywgWydhY3RpdmUnLCBmYWxzZV0pO1xuICAgICAqIC8vID0+ICdmcmVkJ1xuICAgICAqXG4gICAgICogLy8gVGhlIGBfLnByb3BlcnR5YCBpdGVyYXRlZSBzaG9ydGhhbmQuXG4gICAgICogXy5maW5kS2V5KHVzZXJzLCAnYWN0aXZlJyk7XG4gICAgICogLy8gPT4gJ2Jhcm5leSdcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBmaW5kS2V5KG9iamVjdCwgcHJlZGljYXRlKSB7XG4gICAgICByZXR1cm4gYmFzZUZpbmRLZXkob2JqZWN0LCBnZXRJdGVyYXRlZShwcmVkaWNhdGUsIDMpLCBiYXNlRm9yT3duKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCBpcyBsaWtlIGBfLmZpbmRLZXlgIGV4Y2VwdCB0aGF0IGl0IGl0ZXJhdGVzIG92ZXIgZWxlbWVudHMgb2ZcbiAgICAgKiBhIGNvbGxlY3Rpb24gaW4gdGhlIG9wcG9zaXRlIG9yZGVyLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDIuMC4wXG4gICAgICogQGNhdGVnb3J5IE9iamVjdFxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBpbnNwZWN0LlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtwcmVkaWNhdGU9Xy5pZGVudGl0eV0gVGhlIGZ1bmN0aW9uIGludm9rZWQgcGVyIGl0ZXJhdGlvbi5cbiAgICAgKiBAcmV0dXJucyB7c3RyaW5nfHVuZGVmaW5lZH0gUmV0dXJucyB0aGUga2V5IG9mIHRoZSBtYXRjaGVkIGVsZW1lbnQsXG4gICAgICogIGVsc2UgYHVuZGVmaW5lZGAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciB1c2VycyA9IHtcbiAgICAgKiAgICdiYXJuZXknOiAgeyAnYWdlJzogMzYsICdhY3RpdmUnOiB0cnVlIH0sXG4gICAgICogICAnZnJlZCc6ICAgIHsgJ2FnZSc6IDQwLCAnYWN0aXZlJzogZmFsc2UgfSxcbiAgICAgKiAgICdwZWJibGVzJzogeyAnYWdlJzogMSwgICdhY3RpdmUnOiB0cnVlIH1cbiAgICAgKiB9O1xuICAgICAqXG4gICAgICogXy5maW5kTGFzdEtleSh1c2VycywgZnVuY3Rpb24obykgeyByZXR1cm4gby5hZ2UgPCA0MDsgfSk7XG4gICAgICogLy8gPT4gcmV0dXJucyAncGViYmxlcycgYXNzdW1pbmcgYF8uZmluZEtleWAgcmV0dXJucyAnYmFybmV5J1xuICAgICAqXG4gICAgICogLy8gVGhlIGBfLm1hdGNoZXNgIGl0ZXJhdGVlIHNob3J0aGFuZC5cbiAgICAgKiBfLmZpbmRMYXN0S2V5KHVzZXJzLCB7ICdhZ2UnOiAzNiwgJ2FjdGl2ZSc6IHRydWUgfSk7XG4gICAgICogLy8gPT4gJ2Jhcm5leSdcbiAgICAgKlxuICAgICAqIC8vIFRoZSBgXy5tYXRjaGVzUHJvcGVydHlgIGl0ZXJhdGVlIHNob3J0aGFuZC5cbiAgICAgKiBfLmZpbmRMYXN0S2V5KHVzZXJzLCBbJ2FjdGl2ZScsIGZhbHNlXSk7XG4gICAgICogLy8gPT4gJ2ZyZWQnXG4gICAgICpcbiAgICAgKiAvLyBUaGUgYF8ucHJvcGVydHlgIGl0ZXJhdGVlIHNob3J0aGFuZC5cbiAgICAgKiBfLmZpbmRMYXN0S2V5KHVzZXJzLCAnYWN0aXZlJyk7XG4gICAgICogLy8gPT4gJ3BlYmJsZXMnXG4gICAgICovXG4gICAgZnVuY3Rpb24gZmluZExhc3RLZXkob2JqZWN0LCBwcmVkaWNhdGUpIHtcbiAgICAgIHJldHVybiBiYXNlRmluZEtleShvYmplY3QsIGdldEl0ZXJhdGVlKHByZWRpY2F0ZSwgMyksIGJhc2VGb3JPd25SaWdodCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogSXRlcmF0ZXMgb3ZlciBvd24gYW5kIGluaGVyaXRlZCBlbnVtZXJhYmxlIHN0cmluZyBrZXllZCBwcm9wZXJ0aWVzIG9mIGFuXG4gICAgICogb2JqZWN0IGFuZCBpbnZva2VzIGBpdGVyYXRlZWAgZm9yIGVhY2ggcHJvcGVydHkuIFRoZSBpdGVyYXRlZSBpcyBpbnZva2VkXG4gICAgICogd2l0aCB0aHJlZSBhcmd1bWVudHM6ICh2YWx1ZSwga2V5LCBvYmplY3QpLiBJdGVyYXRlZSBmdW5jdGlvbnMgbWF5IGV4aXRcbiAgICAgKiBpdGVyYXRpb24gZWFybHkgYnkgZXhwbGljaXRseSByZXR1cm5pbmcgYGZhbHNlYC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAwLjMuMFxuICAgICAqIEBjYXRlZ29yeSBPYmplY3RcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gaXRlcmF0ZSBvdmVyLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtpdGVyYXRlZT1fLmlkZW50aXR5XSBUaGUgZnVuY3Rpb24gaW52b2tlZCBwZXIgaXRlcmF0aW9uLlxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgYG9iamVjdGAuXG4gICAgICogQHNlZSBfLmZvckluUmlnaHRcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogZnVuY3Rpb24gRm9vKCkge1xuICAgICAqICAgdGhpcy5hID0gMTtcbiAgICAgKiAgIHRoaXMuYiA9IDI7XG4gICAgICogfVxuICAgICAqXG4gICAgICogRm9vLnByb3RvdHlwZS5jID0gMztcbiAgICAgKlxuICAgICAqIF8uZm9ySW4obmV3IEZvbywgZnVuY3Rpb24odmFsdWUsIGtleSkge1xuICAgICAqICAgY29uc29sZS5sb2coa2V5KTtcbiAgICAgKiB9KTtcbiAgICAgKiAvLyA9PiBMb2dzICdhJywgJ2InLCB0aGVuICdjJyAoaXRlcmF0aW9uIG9yZGVyIGlzIG5vdCBndWFyYW50ZWVkKS5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBmb3JJbihvYmplY3QsIGl0ZXJhdGVlKSB7XG4gICAgICByZXR1cm4gb2JqZWN0ID09IG51bGxcbiAgICAgICAgPyBvYmplY3RcbiAgICAgICAgOiBiYXNlRm9yKG9iamVjdCwgZ2V0SXRlcmF0ZWUoaXRlcmF0ZWUsIDMpLCBrZXlzSW4pO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIGlzIGxpa2UgYF8uZm9ySW5gIGV4Y2VwdCB0aGF0IGl0IGl0ZXJhdGVzIG92ZXIgcHJvcGVydGllcyBvZlxuICAgICAqIGBvYmplY3RgIGluIHRoZSBvcHBvc2l0ZSBvcmRlci5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAyLjAuMFxuICAgICAqIEBjYXRlZ29yeSBPYmplY3RcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gaXRlcmF0ZSBvdmVyLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtpdGVyYXRlZT1fLmlkZW50aXR5XSBUaGUgZnVuY3Rpb24gaW52b2tlZCBwZXIgaXRlcmF0aW9uLlxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgYG9iamVjdGAuXG4gICAgICogQHNlZSBfLmZvckluXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIGZ1bmN0aW9uIEZvbygpIHtcbiAgICAgKiAgIHRoaXMuYSA9IDE7XG4gICAgICogICB0aGlzLmIgPSAyO1xuICAgICAqIH1cbiAgICAgKlxuICAgICAqIEZvby5wcm90b3R5cGUuYyA9IDM7XG4gICAgICpcbiAgICAgKiBfLmZvckluUmlnaHQobmV3IEZvbywgZnVuY3Rpb24odmFsdWUsIGtleSkge1xuICAgICAqICAgY29uc29sZS5sb2coa2V5KTtcbiAgICAgKiB9KTtcbiAgICAgKiAvLyA9PiBMb2dzICdjJywgJ2InLCB0aGVuICdhJyBhc3N1bWluZyBgXy5mb3JJbmAgbG9ncyAnYScsICdiJywgdGhlbiAnYycuXG4gICAgICovXG4gICAgZnVuY3Rpb24gZm9ySW5SaWdodChvYmplY3QsIGl0ZXJhdGVlKSB7XG4gICAgICByZXR1cm4gb2JqZWN0ID09IG51bGxcbiAgICAgICAgPyBvYmplY3RcbiAgICAgICAgOiBiYXNlRm9yUmlnaHQob2JqZWN0LCBnZXRJdGVyYXRlZShpdGVyYXRlZSwgMyksIGtleXNJbik7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogSXRlcmF0ZXMgb3ZlciBvd24gZW51bWVyYWJsZSBzdHJpbmcga2V5ZWQgcHJvcGVydGllcyBvZiBhbiBvYmplY3QgYW5kXG4gICAgICogaW52b2tlcyBgaXRlcmF0ZWVgIGZvciBlYWNoIHByb3BlcnR5LiBUaGUgaXRlcmF0ZWUgaXMgaW52b2tlZCB3aXRoIHRocmVlXG4gICAgICogYXJndW1lbnRzOiAodmFsdWUsIGtleSwgb2JqZWN0KS4gSXRlcmF0ZWUgZnVuY3Rpb25zIG1heSBleGl0IGl0ZXJhdGlvblxuICAgICAqIGVhcmx5IGJ5IGV4cGxpY2l0bHkgcmV0dXJuaW5nIGBmYWxzZWAuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMC4zLjBcbiAgICAgKiBAY2F0ZWdvcnkgT2JqZWN0XG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIGl0ZXJhdGUgb3Zlci5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbaXRlcmF0ZWU9Xy5pZGVudGl0eV0gVGhlIGZ1bmN0aW9uIGludm9rZWQgcGVyIGl0ZXJhdGlvbi5cbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIGBvYmplY3RgLlxuICAgICAqIEBzZWUgXy5mb3JPd25SaWdodFxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBmdW5jdGlvbiBGb28oKSB7XG4gICAgICogICB0aGlzLmEgPSAxO1xuICAgICAqICAgdGhpcy5iID0gMjtcbiAgICAgKiB9XG4gICAgICpcbiAgICAgKiBGb28ucHJvdG90eXBlLmMgPSAzO1xuICAgICAqXG4gICAgICogXy5mb3JPd24obmV3IEZvbywgZnVuY3Rpb24odmFsdWUsIGtleSkge1xuICAgICAqICAgY29uc29sZS5sb2coa2V5KTtcbiAgICAgKiB9KTtcbiAgICAgKiAvLyA9PiBMb2dzICdhJyB0aGVuICdiJyAoaXRlcmF0aW9uIG9yZGVyIGlzIG5vdCBndWFyYW50ZWVkKS5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBmb3JPd24ob2JqZWN0LCBpdGVyYXRlZSkge1xuICAgICAgcmV0dXJuIG9iamVjdCAmJiBiYXNlRm9yT3duKG9iamVjdCwgZ2V0SXRlcmF0ZWUoaXRlcmF0ZWUsIDMpKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCBpcyBsaWtlIGBfLmZvck93bmAgZXhjZXB0IHRoYXQgaXQgaXRlcmF0ZXMgb3ZlciBwcm9wZXJ0aWVzIG9mXG4gICAgICogYG9iamVjdGAgaW4gdGhlIG9wcG9zaXRlIG9yZGVyLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDIuMC4wXG4gICAgICogQGNhdGVnb3J5IE9iamVjdFxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBpdGVyYXRlIG92ZXIuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2l0ZXJhdGVlPV8uaWRlbnRpdHldIFRoZSBmdW5jdGlvbiBpbnZva2VkIHBlciBpdGVyYXRpb24uXG4gICAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyBgb2JqZWN0YC5cbiAgICAgKiBAc2VlIF8uZm9yT3duXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIGZ1bmN0aW9uIEZvbygpIHtcbiAgICAgKiAgIHRoaXMuYSA9IDE7XG4gICAgICogICB0aGlzLmIgPSAyO1xuICAgICAqIH1cbiAgICAgKlxuICAgICAqIEZvby5wcm90b3R5cGUuYyA9IDM7XG4gICAgICpcbiAgICAgKiBfLmZvck93blJpZ2h0KG5ldyBGb28sIGZ1bmN0aW9uKHZhbHVlLCBrZXkpIHtcbiAgICAgKiAgIGNvbnNvbGUubG9nKGtleSk7XG4gICAgICogfSk7XG4gICAgICogLy8gPT4gTG9ncyAnYicgdGhlbiAnYScgYXNzdW1pbmcgYF8uZm9yT3duYCBsb2dzICdhJyB0aGVuICdiJy5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBmb3JPd25SaWdodChvYmplY3QsIGl0ZXJhdGVlKSB7XG4gICAgICByZXR1cm4gb2JqZWN0ICYmIGJhc2VGb3JPd25SaWdodChvYmplY3QsIGdldEl0ZXJhdGVlKGl0ZXJhdGVlLCAzKSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhbiBhcnJheSBvZiBmdW5jdGlvbiBwcm9wZXJ0eSBuYW1lcyBmcm9tIG93biBlbnVtZXJhYmxlIHByb3BlcnRpZXNcbiAgICAgKiBvZiBgb2JqZWN0YC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAc2luY2UgMC4xLjBcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBjYXRlZ29yeSBPYmplY3RcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gaW5zcGVjdC5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIGZ1bmN0aW9uIG5hbWVzLlxuICAgICAqIEBzZWUgXy5mdW5jdGlvbnNJblxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBmdW5jdGlvbiBGb28oKSB7XG4gICAgICogICB0aGlzLmEgPSBfLmNvbnN0YW50KCdhJyk7XG4gICAgICogICB0aGlzLmIgPSBfLmNvbnN0YW50KCdiJyk7XG4gICAgICogfVxuICAgICAqXG4gICAgICogRm9vLnByb3RvdHlwZS5jID0gXy5jb25zdGFudCgnYycpO1xuICAgICAqXG4gICAgICogXy5mdW5jdGlvbnMobmV3IEZvbyk7XG4gICAgICogLy8gPT4gWydhJywgJ2InXVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGZ1bmN0aW9ucyhvYmplY3QpIHtcbiAgICAgIHJldHVybiBvYmplY3QgPT0gbnVsbCA/IFtdIDogYmFzZUZ1bmN0aW9ucyhvYmplY3QsIGtleXMob2JqZWN0KSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhbiBhcnJheSBvZiBmdW5jdGlvbiBwcm9wZXJ0eSBuYW1lcyBmcm9tIG93biBhbmQgaW5oZXJpdGVkXG4gICAgICogZW51bWVyYWJsZSBwcm9wZXJ0aWVzIG9mIGBvYmplY3RgLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IE9iamVjdFxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBpbnNwZWN0LlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgZnVuY3Rpb24gbmFtZXMuXG4gICAgICogQHNlZSBfLmZ1bmN0aW9uc1xuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBmdW5jdGlvbiBGb28oKSB7XG4gICAgICogICB0aGlzLmEgPSBfLmNvbnN0YW50KCdhJyk7XG4gICAgICogICB0aGlzLmIgPSBfLmNvbnN0YW50KCdiJyk7XG4gICAgICogfVxuICAgICAqXG4gICAgICogRm9vLnByb3RvdHlwZS5jID0gXy5jb25zdGFudCgnYycpO1xuICAgICAqXG4gICAgICogXy5mdW5jdGlvbnNJbihuZXcgRm9vKTtcbiAgICAgKiAvLyA9PiBbJ2EnLCAnYicsICdjJ11cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBmdW5jdGlvbnNJbihvYmplY3QpIHtcbiAgICAgIHJldHVybiBvYmplY3QgPT0gbnVsbCA/IFtdIDogYmFzZUZ1bmN0aW9ucyhvYmplY3QsIGtleXNJbihvYmplY3QpKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBHZXRzIHRoZSB2YWx1ZSBhdCBgcGF0aGAgb2YgYG9iamVjdGAuIElmIHRoZSByZXNvbHZlZCB2YWx1ZSBpc1xuICAgICAqIGB1bmRlZmluZWRgLCB0aGUgYGRlZmF1bHRWYWx1ZWAgaXMgcmV0dXJuZWQgaW4gaXRzIHBsYWNlLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDMuNy4wXG4gICAgICogQGNhdGVnb3J5IE9iamVjdFxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBxdWVyeS5cbiAgICAgKiBAcGFyYW0ge0FycmF5fHN0cmluZ30gcGF0aCBUaGUgcGF0aCBvZiB0aGUgcHJvcGVydHkgdG8gZ2V0LlxuICAgICAqIEBwYXJhbSB7Kn0gW2RlZmF1bHRWYWx1ZV0gVGhlIHZhbHVlIHJldHVybmVkIGZvciBgdW5kZWZpbmVkYCByZXNvbHZlZCB2YWx1ZXMuXG4gICAgICogQHJldHVybnMgeyp9IFJldHVybnMgdGhlIHJlc29sdmVkIHZhbHVlLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgb2JqZWN0ID0geyAnYSc6IFt7ICdiJzogeyAnYyc6IDMgfSB9XSB9O1xuICAgICAqXG4gICAgICogXy5nZXQob2JqZWN0LCAnYVswXS5iLmMnKTtcbiAgICAgKiAvLyA9PiAzXG4gICAgICpcbiAgICAgKiBfLmdldChvYmplY3QsIFsnYScsICcwJywgJ2InLCAnYyddKTtcbiAgICAgKiAvLyA9PiAzXG4gICAgICpcbiAgICAgKiBfLmdldChvYmplY3QsICdhLmIuYycsICdkZWZhdWx0Jyk7XG4gICAgICogLy8gPT4gJ2RlZmF1bHQnXG4gICAgICovXG4gICAgZnVuY3Rpb24gZ2V0KG9iamVjdCwgcGF0aCwgZGVmYXVsdFZhbHVlKSB7XG4gICAgICB2YXIgcmVzdWx0ID0gb2JqZWN0ID09IG51bGwgPyB1bmRlZmluZWQgOiBiYXNlR2V0KG9iamVjdCwgcGF0aCk7XG4gICAgICByZXR1cm4gcmVzdWx0ID09PSB1bmRlZmluZWQgPyBkZWZhdWx0VmFsdWUgOiByZXN1bHQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2hlY2tzIGlmIGBwYXRoYCBpcyBhIGRpcmVjdCBwcm9wZXJ0eSBvZiBgb2JqZWN0YC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAc2luY2UgMC4xLjBcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBjYXRlZ29yeSBPYmplY3RcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gcXVlcnkuXG4gICAgICogQHBhcmFtIHtBcnJheXxzdHJpbmd9IHBhdGggVGhlIHBhdGggdG8gY2hlY2suXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGBwYXRoYCBleGlzdHMsIGVsc2UgYGZhbHNlYC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIG9iamVjdCA9IHsgJ2EnOiB7ICdiJzogMiB9IH07XG4gICAgICogdmFyIG90aGVyID0gXy5jcmVhdGUoeyAnYSc6IF8uY3JlYXRlKHsgJ2InOiAyIH0pIH0pO1xuICAgICAqXG4gICAgICogXy5oYXMob2JqZWN0LCAnYScpO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKlxuICAgICAqIF8uaGFzKG9iamVjdCwgJ2EuYicpO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKlxuICAgICAqIF8uaGFzKG9iamVjdCwgWydhJywgJ2InXSk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogXy5oYXMob3RoZXIsICdhJyk7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBoYXMob2JqZWN0LCBwYXRoKSB7XG4gICAgICByZXR1cm4gb2JqZWN0ICE9IG51bGwgJiYgaGFzUGF0aChvYmplY3QsIHBhdGgsIGJhc2VIYXMpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENoZWNrcyBpZiBgcGF0aGAgaXMgYSBkaXJlY3Qgb3IgaW5oZXJpdGVkIHByb3BlcnR5IG9mIGBvYmplY3RgLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IE9iamVjdFxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBxdWVyeS5cbiAgICAgKiBAcGFyYW0ge0FycmF5fHN0cmluZ30gcGF0aCBUaGUgcGF0aCB0byBjaGVjay5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHBhdGhgIGV4aXN0cywgZWxzZSBgZmFsc2VgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgb2JqZWN0ID0gXy5jcmVhdGUoeyAnYSc6IF8uY3JlYXRlKHsgJ2InOiAyIH0pIH0pO1xuICAgICAqXG4gICAgICogXy5oYXNJbihvYmplY3QsICdhJyk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogXy5oYXNJbihvYmplY3QsICdhLmInKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBfLmhhc0luKG9iamVjdCwgWydhJywgJ2InXSk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogXy5oYXNJbihvYmplY3QsICdiJyk7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBoYXNJbihvYmplY3QsIHBhdGgpIHtcbiAgICAgIHJldHVybiBvYmplY3QgIT0gbnVsbCAmJiBoYXNQYXRoKG9iamVjdCwgcGF0aCwgYmFzZUhhc0luKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGFuIG9iamVjdCBjb21wb3NlZCBvZiB0aGUgaW52ZXJ0ZWQga2V5cyBhbmQgdmFsdWVzIG9mIGBvYmplY3RgLlxuICAgICAqIElmIGBvYmplY3RgIGNvbnRhaW5zIGR1cGxpY2F0ZSB2YWx1ZXMsIHN1YnNlcXVlbnQgdmFsdWVzIG92ZXJ3cml0ZVxuICAgICAqIHByb3BlcnR5IGFzc2lnbm1lbnRzIG9mIHByZXZpb3VzIHZhbHVlcy5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAwLjcuMFxuICAgICAqIEBjYXRlZ29yeSBPYmplY3RcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gaW52ZXJ0LlxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgdGhlIG5ldyBpbnZlcnRlZCBvYmplY3QuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBvYmplY3QgPSB7ICdhJzogMSwgJ2InOiAyLCAnYyc6IDEgfTtcbiAgICAgKlxuICAgICAqIF8uaW52ZXJ0KG9iamVjdCk7XG4gICAgICogLy8gPT4geyAnMSc6ICdjJywgJzInOiAnYicgfVxuICAgICAqL1xuICAgIHZhciBpbnZlcnQgPSBjcmVhdGVJbnZlcnRlcihmdW5jdGlvbihyZXN1bHQsIHZhbHVlLCBrZXkpIHtcbiAgICAgIGlmICh2YWx1ZSAhPSBudWxsICYmXG4gICAgICAgICAgdHlwZW9mIHZhbHVlLnRvU3RyaW5nICE9ICdmdW5jdGlvbicpIHtcbiAgICAgICAgdmFsdWUgPSBuYXRpdmVPYmplY3RUb1N0cmluZy5jYWxsKHZhbHVlKTtcbiAgICAgIH1cblxuICAgICAgcmVzdWx0W3ZhbHVlXSA9IGtleTtcbiAgICB9LCBjb25zdGFudChpZGVudGl0eSkpO1xuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgaXMgbGlrZSBgXy5pbnZlcnRgIGV4Y2VwdCB0aGF0IHRoZSBpbnZlcnRlZCBvYmplY3QgaXMgZ2VuZXJhdGVkXG4gICAgICogZnJvbSB0aGUgcmVzdWx0cyBvZiBydW5uaW5nIGVhY2ggZWxlbWVudCBvZiBgb2JqZWN0YCB0aHJ1IGBpdGVyYXRlZWAuIFRoZVxuICAgICAqIGNvcnJlc3BvbmRpbmcgaW52ZXJ0ZWQgdmFsdWUgb2YgZWFjaCBpbnZlcnRlZCBrZXkgaXMgYW4gYXJyYXkgb2Yga2V5c1xuICAgICAqIHJlc3BvbnNpYmxlIGZvciBnZW5lcmF0aW5nIHRoZSBpbnZlcnRlZCB2YWx1ZS4gVGhlIGl0ZXJhdGVlIGlzIGludm9rZWRcbiAgICAgKiB3aXRoIG9uZSBhcmd1bWVudDogKHZhbHVlKS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjEuMFxuICAgICAqIEBjYXRlZ29yeSBPYmplY3RcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gaW52ZXJ0LlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtpdGVyYXRlZT1fLmlkZW50aXR5XSBUaGUgaXRlcmF0ZWUgaW52b2tlZCBwZXIgZWxlbWVudC5cbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIHRoZSBuZXcgaW52ZXJ0ZWQgb2JqZWN0LlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgb2JqZWN0ID0geyAnYSc6IDEsICdiJzogMiwgJ2MnOiAxIH07XG4gICAgICpcbiAgICAgKiBfLmludmVydEJ5KG9iamVjdCk7XG4gICAgICogLy8gPT4geyAnMSc6IFsnYScsICdjJ10sICcyJzogWydiJ10gfVxuICAgICAqXG4gICAgICogXy5pbnZlcnRCeShvYmplY3QsIGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgICogICByZXR1cm4gJ2dyb3VwJyArIHZhbHVlO1xuICAgICAqIH0pO1xuICAgICAqIC8vID0+IHsgJ2dyb3VwMSc6IFsnYScsICdjJ10sICdncm91cDInOiBbJ2InXSB9XG4gICAgICovXG4gICAgdmFyIGludmVydEJ5ID0gY3JlYXRlSW52ZXJ0ZXIoZnVuY3Rpb24ocmVzdWx0LCB2YWx1ZSwga2V5KSB7XG4gICAgICBpZiAodmFsdWUgIT0gbnVsbCAmJlxuICAgICAgICAgIHR5cGVvZiB2YWx1ZS50b1N0cmluZyAhPSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIHZhbHVlID0gbmF0aXZlT2JqZWN0VG9TdHJpbmcuY2FsbCh2YWx1ZSk7XG4gICAgICB9XG5cbiAgICAgIGlmIChoYXNPd25Qcm9wZXJ0eS5jYWxsKHJlc3VsdCwgdmFsdWUpKSB7XG4gICAgICAgIHJlc3VsdFt2YWx1ZV0ucHVzaChrZXkpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmVzdWx0W3ZhbHVlXSA9IFtrZXldO1xuICAgICAgfVxuICAgIH0sIGdldEl0ZXJhdGVlKTtcblxuICAgIC8qKlxuICAgICAqIEludm9rZXMgdGhlIG1ldGhvZCBhdCBgcGF0aGAgb2YgYG9iamVjdGAuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgT2JqZWN0XG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIHF1ZXJ5LlxuICAgICAqIEBwYXJhbSB7QXJyYXl8c3RyaW5nfSBwYXRoIFRoZSBwYXRoIG9mIHRoZSBtZXRob2QgdG8gaW52b2tlLlxuICAgICAqIEBwYXJhbSB7Li4uKn0gW2FyZ3NdIFRoZSBhcmd1bWVudHMgdG8gaW52b2tlIHRoZSBtZXRob2Qgd2l0aC5cbiAgICAgKiBAcmV0dXJucyB7Kn0gUmV0dXJucyB0aGUgcmVzdWx0IG9mIHRoZSBpbnZva2VkIG1ldGhvZC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIG9iamVjdCA9IHsgJ2EnOiBbeyAnYic6IHsgJ2MnOiBbMSwgMiwgMywgNF0gfSB9XSB9O1xuICAgICAqXG4gICAgICogXy5pbnZva2Uob2JqZWN0LCAnYVswXS5iLmMuc2xpY2UnLCAxLCAzKTtcbiAgICAgKiAvLyA9PiBbMiwgM11cbiAgICAgKi9cbiAgICB2YXIgaW52b2tlID0gYmFzZVJlc3QoYmFzZUludm9rZSk7XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGFuIGFycmF5IG9mIHRoZSBvd24gZW51bWVyYWJsZSBwcm9wZXJ0eSBuYW1lcyBvZiBgb2JqZWN0YC5cbiAgICAgKlxuICAgICAqICoqTm90ZToqKiBOb24tb2JqZWN0IHZhbHVlcyBhcmUgY29lcmNlZCB0byBvYmplY3RzLiBTZWUgdGhlXG4gICAgICogW0VTIHNwZWNdKGh0dHA6Ly9lY21hLWludGVybmF0aW9uYWwub3JnL2VjbWEtMjYyLzcuMC8jc2VjLW9iamVjdC5rZXlzKVxuICAgICAqIGZvciBtb3JlIGRldGFpbHMuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQHNpbmNlIDAuMS4wXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAY2F0ZWdvcnkgT2JqZWN0XG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIHF1ZXJ5LlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgYXJyYXkgb2YgcHJvcGVydHkgbmFtZXMuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIGZ1bmN0aW9uIEZvbygpIHtcbiAgICAgKiAgIHRoaXMuYSA9IDE7XG4gICAgICogICB0aGlzLmIgPSAyO1xuICAgICAqIH1cbiAgICAgKlxuICAgICAqIEZvby5wcm90b3R5cGUuYyA9IDM7XG4gICAgICpcbiAgICAgKiBfLmtleXMobmV3IEZvbyk7XG4gICAgICogLy8gPT4gWydhJywgJ2InXSAoaXRlcmF0aW9uIG9yZGVyIGlzIG5vdCBndWFyYW50ZWVkKVxuICAgICAqXG4gICAgICogXy5rZXlzKCdoaScpO1xuICAgICAqIC8vID0+IFsnMCcsICcxJ11cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBrZXlzKG9iamVjdCkge1xuICAgICAgcmV0dXJuIGlzQXJyYXlMaWtlKG9iamVjdCkgPyBhcnJheUxpa2VLZXlzKG9iamVjdCkgOiBiYXNlS2V5cyhvYmplY3QpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYW4gYXJyYXkgb2YgdGhlIG93biBhbmQgaW5oZXJpdGVkIGVudW1lcmFibGUgcHJvcGVydHkgbmFtZXMgb2YgYG9iamVjdGAuXG4gICAgICpcbiAgICAgKiAqKk5vdGU6KiogTm9uLW9iamVjdCB2YWx1ZXMgYXJlIGNvZXJjZWQgdG8gb2JqZWN0cy5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAzLjAuMFxuICAgICAqIEBjYXRlZ29yeSBPYmplY3RcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gcXVlcnkuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBhcnJheSBvZiBwcm9wZXJ0eSBuYW1lcy5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogZnVuY3Rpb24gRm9vKCkge1xuICAgICAqICAgdGhpcy5hID0gMTtcbiAgICAgKiAgIHRoaXMuYiA9IDI7XG4gICAgICogfVxuICAgICAqXG4gICAgICogRm9vLnByb3RvdHlwZS5jID0gMztcbiAgICAgKlxuICAgICAqIF8ua2V5c0luKG5ldyBGb28pO1xuICAgICAqIC8vID0+IFsnYScsICdiJywgJ2MnXSAoaXRlcmF0aW9uIG9yZGVyIGlzIG5vdCBndWFyYW50ZWVkKVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGtleXNJbihvYmplY3QpIHtcbiAgICAgIHJldHVybiBpc0FycmF5TGlrZShvYmplY3QpID8gYXJyYXlMaWtlS2V5cyhvYmplY3QsIHRydWUpIDogYmFzZUtleXNJbihvYmplY3QpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBvcHBvc2l0ZSBvZiBgXy5tYXBWYWx1ZXNgOyB0aGlzIG1ldGhvZCBjcmVhdGVzIGFuIG9iamVjdCB3aXRoIHRoZVxuICAgICAqIHNhbWUgdmFsdWVzIGFzIGBvYmplY3RgIGFuZCBrZXlzIGdlbmVyYXRlZCBieSBydW5uaW5nIGVhY2ggb3duIGVudW1lcmFibGVcbiAgICAgKiBzdHJpbmcga2V5ZWQgcHJvcGVydHkgb2YgYG9iamVjdGAgdGhydSBgaXRlcmF0ZWVgLiBUaGUgaXRlcmF0ZWUgaXMgaW52b2tlZFxuICAgICAqIHdpdGggdGhyZWUgYXJndW1lbnRzOiAodmFsdWUsIGtleSwgb2JqZWN0KS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAzLjguMFxuICAgICAqIEBjYXRlZ29yeSBPYmplY3RcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gaXRlcmF0ZSBvdmVyLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtpdGVyYXRlZT1fLmlkZW50aXR5XSBUaGUgZnVuY3Rpb24gaW52b2tlZCBwZXIgaXRlcmF0aW9uLlxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgdGhlIG5ldyBtYXBwZWQgb2JqZWN0LlxuICAgICAqIEBzZWUgXy5tYXBWYWx1ZXNcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5tYXBLZXlzKHsgJ2EnOiAxLCAnYic6IDIgfSwgZnVuY3Rpb24odmFsdWUsIGtleSkge1xuICAgICAqICAgcmV0dXJuIGtleSArIHZhbHVlO1xuICAgICAqIH0pO1xuICAgICAqIC8vID0+IHsgJ2ExJzogMSwgJ2IyJzogMiB9XG4gICAgICovXG4gICAgZnVuY3Rpb24gbWFwS2V5cyhvYmplY3QsIGl0ZXJhdGVlKSB7XG4gICAgICB2YXIgcmVzdWx0ID0ge307XG4gICAgICBpdGVyYXRlZSA9IGdldEl0ZXJhdGVlKGl0ZXJhdGVlLCAzKTtcblxuICAgICAgYmFzZUZvck93bihvYmplY3QsIGZ1bmN0aW9uKHZhbHVlLCBrZXksIG9iamVjdCkge1xuICAgICAgICBiYXNlQXNzaWduVmFsdWUocmVzdWx0LCBpdGVyYXRlZSh2YWx1ZSwga2V5LCBvYmplY3QpLCB2YWx1ZSk7XG4gICAgICB9KTtcbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhbiBvYmplY3Qgd2l0aCB0aGUgc2FtZSBrZXlzIGFzIGBvYmplY3RgIGFuZCB2YWx1ZXMgZ2VuZXJhdGVkXG4gICAgICogYnkgcnVubmluZyBlYWNoIG93biBlbnVtZXJhYmxlIHN0cmluZyBrZXllZCBwcm9wZXJ0eSBvZiBgb2JqZWN0YCB0aHJ1XG4gICAgICogYGl0ZXJhdGVlYC4gVGhlIGl0ZXJhdGVlIGlzIGludm9rZWQgd2l0aCB0aHJlZSBhcmd1bWVudHM6XG4gICAgICogKHZhbHVlLCBrZXksIG9iamVjdCkuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMi40LjBcbiAgICAgKiBAY2F0ZWdvcnkgT2JqZWN0XG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIGl0ZXJhdGUgb3Zlci5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbaXRlcmF0ZWU9Xy5pZGVudGl0eV0gVGhlIGZ1bmN0aW9uIGludm9rZWQgcGVyIGl0ZXJhdGlvbi5cbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIHRoZSBuZXcgbWFwcGVkIG9iamVjdC5cbiAgICAgKiBAc2VlIF8ubWFwS2V5c1xuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgdXNlcnMgPSB7XG4gICAgICogICAnZnJlZCc6ICAgIHsgJ3VzZXInOiAnZnJlZCcsICAgICdhZ2UnOiA0MCB9LFxuICAgICAqICAgJ3BlYmJsZXMnOiB7ICd1c2VyJzogJ3BlYmJsZXMnLCAnYWdlJzogMSB9XG4gICAgICogfTtcbiAgICAgKlxuICAgICAqIF8ubWFwVmFsdWVzKHVzZXJzLCBmdW5jdGlvbihvKSB7IHJldHVybiBvLmFnZTsgfSk7XG4gICAgICogLy8gPT4geyAnZnJlZCc6IDQwLCAncGViYmxlcyc6IDEgfSAoaXRlcmF0aW9uIG9yZGVyIGlzIG5vdCBndWFyYW50ZWVkKVxuICAgICAqXG4gICAgICogLy8gVGhlIGBfLnByb3BlcnR5YCBpdGVyYXRlZSBzaG9ydGhhbmQuXG4gICAgICogXy5tYXBWYWx1ZXModXNlcnMsICdhZ2UnKTtcbiAgICAgKiAvLyA9PiB7ICdmcmVkJzogNDAsICdwZWJibGVzJzogMSB9IChpdGVyYXRpb24gb3JkZXIgaXMgbm90IGd1YXJhbnRlZWQpXG4gICAgICovXG4gICAgZnVuY3Rpb24gbWFwVmFsdWVzKG9iamVjdCwgaXRlcmF0ZWUpIHtcbiAgICAgIHZhciByZXN1bHQgPSB7fTtcbiAgICAgIGl0ZXJhdGVlID0gZ2V0SXRlcmF0ZWUoaXRlcmF0ZWUsIDMpO1xuXG4gICAgICBiYXNlRm9yT3duKG9iamVjdCwgZnVuY3Rpb24odmFsdWUsIGtleSwgb2JqZWN0KSB7XG4gICAgICAgIGJhc2VBc3NpZ25WYWx1ZShyZXN1bHQsIGtleSwgaXRlcmF0ZWUodmFsdWUsIGtleSwgb2JqZWN0KSk7XG4gICAgICB9KTtcbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgaXMgbGlrZSBgXy5hc3NpZ25gIGV4Y2VwdCB0aGF0IGl0IHJlY3Vyc2l2ZWx5IG1lcmdlcyBvd24gYW5kXG4gICAgICogaW5oZXJpdGVkIGVudW1lcmFibGUgc3RyaW5nIGtleWVkIHByb3BlcnRpZXMgb2Ygc291cmNlIG9iamVjdHMgaW50byB0aGVcbiAgICAgKiBkZXN0aW5hdGlvbiBvYmplY3QuIFNvdXJjZSBwcm9wZXJ0aWVzIHRoYXQgcmVzb2x2ZSB0byBgdW5kZWZpbmVkYCBhcmVcbiAgICAgKiBza2lwcGVkIGlmIGEgZGVzdGluYXRpb24gdmFsdWUgZXhpc3RzLiBBcnJheSBhbmQgcGxhaW4gb2JqZWN0IHByb3BlcnRpZXNcbiAgICAgKiBhcmUgbWVyZ2VkIHJlY3Vyc2l2ZWx5LiBPdGhlciBvYmplY3RzIGFuZCB2YWx1ZSB0eXBlcyBhcmUgb3ZlcnJpZGRlbiBieVxuICAgICAqIGFzc2lnbm1lbnQuIFNvdXJjZSBvYmplY3RzIGFyZSBhcHBsaWVkIGZyb20gbGVmdCB0byByaWdodC4gU3Vic2VxdWVudFxuICAgICAqIHNvdXJjZXMgb3ZlcndyaXRlIHByb3BlcnR5IGFzc2lnbm1lbnRzIG9mIHByZXZpb3VzIHNvdXJjZXMuXG4gICAgICpcbiAgICAgKiAqKk5vdGU6KiogVGhpcyBtZXRob2QgbXV0YXRlcyBgb2JqZWN0YC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAwLjUuMFxuICAgICAqIEBjYXRlZ29yeSBPYmplY3RcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBkZXN0aW5hdGlvbiBvYmplY3QuXG4gICAgICogQHBhcmFtIHsuLi5PYmplY3R9IFtzb3VyY2VzXSBUaGUgc291cmNlIG9iamVjdHMuXG4gICAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyBgb2JqZWN0YC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIG9iamVjdCA9IHtcbiAgICAgKiAgICdhJzogW3sgJ2InOiAyIH0sIHsgJ2QnOiA0IH1dXG4gICAgICogfTtcbiAgICAgKlxuICAgICAqIHZhciBvdGhlciA9IHtcbiAgICAgKiAgICdhJzogW3sgJ2MnOiAzIH0sIHsgJ2UnOiA1IH1dXG4gICAgICogfTtcbiAgICAgKlxuICAgICAqIF8ubWVyZ2Uob2JqZWN0LCBvdGhlcik7XG4gICAgICogLy8gPT4geyAnYSc6IFt7ICdiJzogMiwgJ2MnOiAzIH0sIHsgJ2QnOiA0LCAnZSc6IDUgfV0gfVxuICAgICAqL1xuICAgIHZhciBtZXJnZSA9IGNyZWF0ZUFzc2lnbmVyKGZ1bmN0aW9uKG9iamVjdCwgc291cmNlLCBzcmNJbmRleCkge1xuICAgICAgYmFzZU1lcmdlKG9iamVjdCwgc291cmNlLCBzcmNJbmRleCk7XG4gICAgfSk7XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCBpcyBsaWtlIGBfLm1lcmdlYCBleGNlcHQgdGhhdCBpdCBhY2NlcHRzIGBjdXN0b21pemVyYCB3aGljaFxuICAgICAqIGlzIGludm9rZWQgdG8gcHJvZHVjZSB0aGUgbWVyZ2VkIHZhbHVlcyBvZiB0aGUgZGVzdGluYXRpb24gYW5kIHNvdXJjZVxuICAgICAqIHByb3BlcnRpZXMuIElmIGBjdXN0b21pemVyYCByZXR1cm5zIGB1bmRlZmluZWRgLCBtZXJnaW5nIGlzIGhhbmRsZWQgYnkgdGhlXG4gICAgICogbWV0aG9kIGluc3RlYWQuIFRoZSBgY3VzdG9taXplcmAgaXMgaW52b2tlZCB3aXRoIHNpeCBhcmd1bWVudHM6XG4gICAgICogKG9ialZhbHVlLCBzcmNWYWx1ZSwga2V5LCBvYmplY3QsIHNvdXJjZSwgc3RhY2spLlxuICAgICAqXG4gICAgICogKipOb3RlOioqIFRoaXMgbWV0aG9kIG11dGF0ZXMgYG9iamVjdGAuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgT2JqZWN0XG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgZGVzdGluYXRpb24gb2JqZWN0LlxuICAgICAqIEBwYXJhbSB7Li4uT2JqZWN0fSBzb3VyY2VzIFRoZSBzb3VyY2Ugb2JqZWN0cy5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBjdXN0b21pemVyIFRoZSBmdW5jdGlvbiB0byBjdXN0b21pemUgYXNzaWduZWQgdmFsdWVzLlxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgYG9iamVjdGAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIGZ1bmN0aW9uIGN1c3RvbWl6ZXIob2JqVmFsdWUsIHNyY1ZhbHVlKSB7XG4gICAgICogICBpZiAoXy5pc0FycmF5KG9ialZhbHVlKSkge1xuICAgICAqICAgICByZXR1cm4gb2JqVmFsdWUuY29uY2F0KHNyY1ZhbHVlKTtcbiAgICAgKiAgIH1cbiAgICAgKiB9XG4gICAgICpcbiAgICAgKiB2YXIgb2JqZWN0ID0geyAnYSc6IFsxXSwgJ2InOiBbMl0gfTtcbiAgICAgKiB2YXIgb3RoZXIgPSB7ICdhJzogWzNdLCAnYic6IFs0XSB9O1xuICAgICAqXG4gICAgICogXy5tZXJnZVdpdGgob2JqZWN0LCBvdGhlciwgY3VzdG9taXplcik7XG4gICAgICogLy8gPT4geyAnYSc6IFsxLCAzXSwgJ2InOiBbMiwgNF0gfVxuICAgICAqL1xuICAgIHZhciBtZXJnZVdpdGggPSBjcmVhdGVBc3NpZ25lcihmdW5jdGlvbihvYmplY3QsIHNvdXJjZSwgc3JjSW5kZXgsIGN1c3RvbWl6ZXIpIHtcbiAgICAgIGJhc2VNZXJnZShvYmplY3QsIHNvdXJjZSwgc3JjSW5kZXgsIGN1c3RvbWl6ZXIpO1xuICAgIH0pO1xuXG4gICAgLyoqXG4gICAgICogVGhlIG9wcG9zaXRlIG9mIGBfLnBpY2tgOyB0aGlzIG1ldGhvZCBjcmVhdGVzIGFuIG9iamVjdCBjb21wb3NlZCBvZiB0aGVcbiAgICAgKiBvd24gYW5kIGluaGVyaXRlZCBlbnVtZXJhYmxlIHByb3BlcnR5IHBhdGhzIG9mIGBvYmplY3RgIHRoYXQgYXJlIG5vdCBvbWl0dGVkLlxuICAgICAqXG4gICAgICogKipOb3RlOioqIFRoaXMgbWV0aG9kIGlzIGNvbnNpZGVyYWJseSBzbG93ZXIgdGhhbiBgXy5waWNrYC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAc2luY2UgMC4xLjBcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBjYXRlZ29yeSBPYmplY3RcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBzb3VyY2Ugb2JqZWN0LlxuICAgICAqIEBwYXJhbSB7Li4uKHN0cmluZ3xzdHJpbmdbXSl9IFtwYXRoc10gVGhlIHByb3BlcnR5IHBhdGhzIHRvIG9taXQuXG4gICAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyB0aGUgbmV3IG9iamVjdC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIG9iamVjdCA9IHsgJ2EnOiAxLCAnYic6ICcyJywgJ2MnOiAzIH07XG4gICAgICpcbiAgICAgKiBfLm9taXQob2JqZWN0LCBbJ2EnLCAnYyddKTtcbiAgICAgKiAvLyA9PiB7ICdiJzogJzInIH1cbiAgICAgKi9cbiAgICB2YXIgb21pdCA9IGZsYXRSZXN0KGZ1bmN0aW9uKG9iamVjdCwgcGF0aHMpIHtcbiAgICAgIHZhciByZXN1bHQgPSB7fTtcbiAgICAgIGlmIChvYmplY3QgPT0gbnVsbCkge1xuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgfVxuICAgICAgdmFyIGlzRGVlcCA9IGZhbHNlO1xuICAgICAgcGF0aHMgPSBhcnJheU1hcChwYXRocywgZnVuY3Rpb24ocGF0aCkge1xuICAgICAgICBwYXRoID0gY2FzdFBhdGgocGF0aCwgb2JqZWN0KTtcbiAgICAgICAgaXNEZWVwIHx8IChpc0RlZXAgPSBwYXRoLmxlbmd0aCA+IDEpO1xuICAgICAgICByZXR1cm4gcGF0aDtcbiAgICAgIH0pO1xuICAgICAgY29weU9iamVjdChvYmplY3QsIGdldEFsbEtleXNJbihvYmplY3QpLCByZXN1bHQpO1xuICAgICAgaWYgKGlzRGVlcCkge1xuICAgICAgICByZXN1bHQgPSBiYXNlQ2xvbmUocmVzdWx0LCBDTE9ORV9ERUVQX0ZMQUcgfCBDTE9ORV9GTEFUX0ZMQUcgfCBDTE9ORV9TWU1CT0xTX0ZMQUcsIGN1c3RvbU9taXRDbG9uZSk7XG4gICAgICB9XG4gICAgICB2YXIgbGVuZ3RoID0gcGF0aHMubGVuZ3RoO1xuICAgICAgd2hpbGUgKGxlbmd0aC0tKSB7XG4gICAgICAgIGJhc2VVbnNldChyZXN1bHQsIHBhdGhzW2xlbmd0aF0pO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9KTtcblxuICAgIC8qKlxuICAgICAqIFRoZSBvcHBvc2l0ZSBvZiBgXy5waWNrQnlgOyB0aGlzIG1ldGhvZCBjcmVhdGVzIGFuIG9iamVjdCBjb21wb3NlZCBvZlxuICAgICAqIHRoZSBvd24gYW5kIGluaGVyaXRlZCBlbnVtZXJhYmxlIHN0cmluZyBrZXllZCBwcm9wZXJ0aWVzIG9mIGBvYmplY3RgIHRoYXRcbiAgICAgKiBgcHJlZGljYXRlYCBkb2Vzbid0IHJldHVybiB0cnV0aHkgZm9yLiBUaGUgcHJlZGljYXRlIGlzIGludm9rZWQgd2l0aCB0d29cbiAgICAgKiBhcmd1bWVudHM6ICh2YWx1ZSwga2V5KS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBPYmplY3RcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBzb3VyY2Ugb2JqZWN0LlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtwcmVkaWNhdGU9Xy5pZGVudGl0eV0gVGhlIGZ1bmN0aW9uIGludm9rZWQgcGVyIHByb3BlcnR5LlxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgdGhlIG5ldyBvYmplY3QuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBvYmplY3QgPSB7ICdhJzogMSwgJ2InOiAnMicsICdjJzogMyB9O1xuICAgICAqXG4gICAgICogXy5vbWl0Qnkob2JqZWN0LCBfLmlzTnVtYmVyKTtcbiAgICAgKiAvLyA9PiB7ICdiJzogJzInIH1cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBvbWl0Qnkob2JqZWN0LCBwcmVkaWNhdGUpIHtcbiAgICAgIHJldHVybiBwaWNrQnkob2JqZWN0LCBuZWdhdGUoZ2V0SXRlcmF0ZWUocHJlZGljYXRlKSkpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYW4gb2JqZWN0IGNvbXBvc2VkIG9mIHRoZSBwaWNrZWQgYG9iamVjdGAgcHJvcGVydGllcy5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAc2luY2UgMC4xLjBcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBjYXRlZ29yeSBPYmplY3RcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBzb3VyY2Ugb2JqZWN0LlxuICAgICAqIEBwYXJhbSB7Li4uKHN0cmluZ3xzdHJpbmdbXSl9IFtwYXRoc10gVGhlIHByb3BlcnR5IHBhdGhzIHRvIHBpY2suXG4gICAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyB0aGUgbmV3IG9iamVjdC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIG9iamVjdCA9IHsgJ2EnOiAxLCAnYic6ICcyJywgJ2MnOiAzIH07XG4gICAgICpcbiAgICAgKiBfLnBpY2sob2JqZWN0LCBbJ2EnLCAnYyddKTtcbiAgICAgKiAvLyA9PiB7ICdhJzogMSwgJ2MnOiAzIH1cbiAgICAgKi9cbiAgICB2YXIgcGljayA9IGZsYXRSZXN0KGZ1bmN0aW9uKG9iamVjdCwgcGF0aHMpIHtcbiAgICAgIHJldHVybiBvYmplY3QgPT0gbnVsbCA/IHt9IDogYmFzZVBpY2sob2JqZWN0LCBwYXRocyk7XG4gICAgfSk7XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGFuIG9iamVjdCBjb21wb3NlZCBvZiB0aGUgYG9iamVjdGAgcHJvcGVydGllcyBgcHJlZGljYXRlYCByZXR1cm5zXG4gICAgICogdHJ1dGh5IGZvci4gVGhlIHByZWRpY2F0ZSBpcyBpbnZva2VkIHdpdGggdHdvIGFyZ3VtZW50czogKHZhbHVlLCBrZXkpLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IE9iamVjdFxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIHNvdXJjZSBvYmplY3QuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW3ByZWRpY2F0ZT1fLmlkZW50aXR5XSBUaGUgZnVuY3Rpb24gaW52b2tlZCBwZXIgcHJvcGVydHkuXG4gICAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyB0aGUgbmV3IG9iamVjdC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIG9iamVjdCA9IHsgJ2EnOiAxLCAnYic6ICcyJywgJ2MnOiAzIH07XG4gICAgICpcbiAgICAgKiBfLnBpY2tCeShvYmplY3QsIF8uaXNOdW1iZXIpO1xuICAgICAqIC8vID0+IHsgJ2EnOiAxLCAnYyc6IDMgfVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHBpY2tCeShvYmplY3QsIHByZWRpY2F0ZSkge1xuICAgICAgaWYgKG9iamVjdCA9PSBudWxsKSB7XG4gICAgICAgIHJldHVybiB7fTtcbiAgICAgIH1cbiAgICAgIHZhciBwcm9wcyA9IGFycmF5TWFwKGdldEFsbEtleXNJbihvYmplY3QpLCBmdW5jdGlvbihwcm9wKSB7XG4gICAgICAgIHJldHVybiBbcHJvcF07XG4gICAgICB9KTtcbiAgICAgIHByZWRpY2F0ZSA9IGdldEl0ZXJhdGVlKHByZWRpY2F0ZSk7XG4gICAgICByZXR1cm4gYmFzZVBpY2tCeShvYmplY3QsIHByb3BzLCBmdW5jdGlvbih2YWx1ZSwgcGF0aCkge1xuICAgICAgICByZXR1cm4gcHJlZGljYXRlKHZhbHVlLCBwYXRoWzBdKTtcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIGlzIGxpa2UgYF8uZ2V0YCBleGNlcHQgdGhhdCBpZiB0aGUgcmVzb2x2ZWQgdmFsdWUgaXMgYVxuICAgICAqIGZ1bmN0aW9uIGl0J3MgaW52b2tlZCB3aXRoIHRoZSBgdGhpc2AgYmluZGluZyBvZiBpdHMgcGFyZW50IG9iamVjdCBhbmRcbiAgICAgKiBpdHMgcmVzdWx0IGlzIHJldHVybmVkLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBzaW5jZSAwLjEuMFxuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQGNhdGVnb3J5IE9iamVjdFxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBxdWVyeS5cbiAgICAgKiBAcGFyYW0ge0FycmF5fHN0cmluZ30gcGF0aCBUaGUgcGF0aCBvZiB0aGUgcHJvcGVydHkgdG8gcmVzb2x2ZS5cbiAgICAgKiBAcGFyYW0geyp9IFtkZWZhdWx0VmFsdWVdIFRoZSB2YWx1ZSByZXR1cm5lZCBmb3IgYHVuZGVmaW5lZGAgcmVzb2x2ZWQgdmFsdWVzLlxuICAgICAqIEByZXR1cm5zIHsqfSBSZXR1cm5zIHRoZSByZXNvbHZlZCB2YWx1ZS5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIG9iamVjdCA9IHsgJ2EnOiBbeyAnYic6IHsgJ2MxJzogMywgJ2MyJzogXy5jb25zdGFudCg0KSB9IH1dIH07XG4gICAgICpcbiAgICAgKiBfLnJlc3VsdChvYmplY3QsICdhWzBdLmIuYzEnKTtcbiAgICAgKiAvLyA9PiAzXG4gICAgICpcbiAgICAgKiBfLnJlc3VsdChvYmplY3QsICdhWzBdLmIuYzInKTtcbiAgICAgKiAvLyA9PiA0XG4gICAgICpcbiAgICAgKiBfLnJlc3VsdChvYmplY3QsICdhWzBdLmIuYzMnLCAnZGVmYXVsdCcpO1xuICAgICAqIC8vID0+ICdkZWZhdWx0J1xuICAgICAqXG4gICAgICogXy5yZXN1bHQob2JqZWN0LCAnYVswXS5iLmMzJywgXy5jb25zdGFudCgnZGVmYXVsdCcpKTtcbiAgICAgKiAvLyA9PiAnZGVmYXVsdCdcbiAgICAgKi9cbiAgICBmdW5jdGlvbiByZXN1bHQob2JqZWN0LCBwYXRoLCBkZWZhdWx0VmFsdWUpIHtcbiAgICAgIHBhdGggPSBjYXN0UGF0aChwYXRoLCBvYmplY3QpO1xuXG4gICAgICB2YXIgaW5kZXggPSAtMSxcbiAgICAgICAgICBsZW5ndGggPSBwYXRoLmxlbmd0aDtcblxuICAgICAgLy8gRW5zdXJlIHRoZSBsb29wIGlzIGVudGVyZWQgd2hlbiBwYXRoIGlzIGVtcHR5LlxuICAgICAgaWYgKCFsZW5ndGgpIHtcbiAgICAgICAgbGVuZ3RoID0gMTtcbiAgICAgICAgb2JqZWN0ID0gdW5kZWZpbmVkO1xuICAgICAgfVxuICAgICAgd2hpbGUgKCsraW5kZXggPCBsZW5ndGgpIHtcbiAgICAgICAgdmFyIHZhbHVlID0gb2JqZWN0ID09IG51bGwgPyB1bmRlZmluZWQgOiBvYmplY3RbdG9LZXkocGF0aFtpbmRleF0pXTtcbiAgICAgICAgaWYgKHZhbHVlID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICBpbmRleCA9IGxlbmd0aDtcbiAgICAgICAgICB2YWx1ZSA9IGRlZmF1bHRWYWx1ZTtcbiAgICAgICAgfVxuICAgICAgICBvYmplY3QgPSBpc0Z1bmN0aW9uKHZhbHVlKSA/IHZhbHVlLmNhbGwob2JqZWN0KSA6IHZhbHVlO1xuICAgICAgfVxuICAgICAgcmV0dXJuIG9iamVjdDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBTZXRzIHRoZSB2YWx1ZSBhdCBgcGF0aGAgb2YgYG9iamVjdGAuIElmIGEgcG9ydGlvbiBvZiBgcGF0aGAgZG9lc24ndCBleGlzdCxcbiAgICAgKiBpdCdzIGNyZWF0ZWQuIEFycmF5cyBhcmUgY3JlYXRlZCBmb3IgbWlzc2luZyBpbmRleCBwcm9wZXJ0aWVzIHdoaWxlIG9iamVjdHNcbiAgICAgKiBhcmUgY3JlYXRlZCBmb3IgYWxsIG90aGVyIG1pc3NpbmcgcHJvcGVydGllcy4gVXNlIGBfLnNldFdpdGhgIHRvIGN1c3RvbWl6ZVxuICAgICAqIGBwYXRoYCBjcmVhdGlvbi5cbiAgICAgKlxuICAgICAqICoqTm90ZToqKiBUaGlzIG1ldGhvZCBtdXRhdGVzIGBvYmplY3RgLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDMuNy4wXG4gICAgICogQGNhdGVnb3J5IE9iamVjdFxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBtb2RpZnkuXG4gICAgICogQHBhcmFtIHtBcnJheXxzdHJpbmd9IHBhdGggVGhlIHBhdGggb2YgdGhlIHByb3BlcnR5IHRvIHNldC5cbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBzZXQuXG4gICAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyBgb2JqZWN0YC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIG9iamVjdCA9IHsgJ2EnOiBbeyAnYic6IHsgJ2MnOiAzIH0gfV0gfTtcbiAgICAgKlxuICAgICAqIF8uc2V0KG9iamVjdCwgJ2FbMF0uYi5jJywgNCk7XG4gICAgICogY29uc29sZS5sb2cob2JqZWN0LmFbMF0uYi5jKTtcbiAgICAgKiAvLyA9PiA0XG4gICAgICpcbiAgICAgKiBfLnNldChvYmplY3QsIFsneCcsICcwJywgJ3knLCAneiddLCA1KTtcbiAgICAgKiBjb25zb2xlLmxvZyhvYmplY3QueFswXS55LnopO1xuICAgICAqIC8vID0+IDVcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBzZXQob2JqZWN0LCBwYXRoLCB2YWx1ZSkge1xuICAgICAgcmV0dXJuIG9iamVjdCA9PSBudWxsID8gb2JqZWN0IDogYmFzZVNldChvYmplY3QsIHBhdGgsIHZhbHVlKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCBpcyBsaWtlIGBfLnNldGAgZXhjZXB0IHRoYXQgaXQgYWNjZXB0cyBgY3VzdG9taXplcmAgd2hpY2ggaXNcbiAgICAgKiBpbnZva2VkIHRvIHByb2R1Y2UgdGhlIG9iamVjdHMgb2YgYHBhdGhgLiAgSWYgYGN1c3RvbWl6ZXJgIHJldHVybnMgYHVuZGVmaW5lZGBcbiAgICAgKiBwYXRoIGNyZWF0aW9uIGlzIGhhbmRsZWQgYnkgdGhlIG1ldGhvZCBpbnN0ZWFkLiBUaGUgYGN1c3RvbWl6ZXJgIGlzIGludm9rZWRcbiAgICAgKiB3aXRoIHRocmVlIGFyZ3VtZW50czogKG5zVmFsdWUsIGtleSwgbnNPYmplY3QpLlxuICAgICAqXG4gICAgICogKipOb3RlOioqIFRoaXMgbWV0aG9kIG11dGF0ZXMgYG9iamVjdGAuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgT2JqZWN0XG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIG1vZGlmeS5cbiAgICAgKiBAcGFyYW0ge0FycmF5fHN0cmluZ30gcGF0aCBUaGUgcGF0aCBvZiB0aGUgcHJvcGVydHkgdG8gc2V0LlxuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIHNldC5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbY3VzdG9taXplcl0gVGhlIGZ1bmN0aW9uIHRvIGN1c3RvbWl6ZSBhc3NpZ25lZCB2YWx1ZXMuXG4gICAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyBgb2JqZWN0YC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIG9iamVjdCA9IHt9O1xuICAgICAqXG4gICAgICogXy5zZXRXaXRoKG9iamVjdCwgJ1swXVsxXScsICdhJywgT2JqZWN0KTtcbiAgICAgKiAvLyA9PiB7ICcwJzogeyAnMSc6ICdhJyB9IH1cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBzZXRXaXRoKG9iamVjdCwgcGF0aCwgdmFsdWUsIGN1c3RvbWl6ZXIpIHtcbiAgICAgIGN1c3RvbWl6ZXIgPSB0eXBlb2YgY3VzdG9taXplciA9PSAnZnVuY3Rpb24nID8gY3VzdG9taXplciA6IHVuZGVmaW5lZDtcbiAgICAgIHJldHVybiBvYmplY3QgPT0gbnVsbCA/IG9iamVjdCA6IGJhc2VTZXQob2JqZWN0LCBwYXRoLCB2YWx1ZSwgY3VzdG9taXplcik7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhbiBhcnJheSBvZiBvd24gZW51bWVyYWJsZSBzdHJpbmcga2V5ZWQtdmFsdWUgcGFpcnMgZm9yIGBvYmplY3RgXG4gICAgICogd2hpY2ggY2FuIGJlIGNvbnN1bWVkIGJ5IGBfLmZyb21QYWlyc2AuIElmIGBvYmplY3RgIGlzIGEgbWFwIG9yIHNldCwgaXRzXG4gICAgICogZW50cmllcyBhcmUgcmV0dXJuZWQuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAYWxpYXMgZW50cmllc1xuICAgICAqIEBjYXRlZ29yeSBPYmplY3RcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gcXVlcnkuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBrZXktdmFsdWUgcGFpcnMuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIGZ1bmN0aW9uIEZvbygpIHtcbiAgICAgKiAgIHRoaXMuYSA9IDE7XG4gICAgICogICB0aGlzLmIgPSAyO1xuICAgICAqIH1cbiAgICAgKlxuICAgICAqIEZvby5wcm90b3R5cGUuYyA9IDM7XG4gICAgICpcbiAgICAgKiBfLnRvUGFpcnMobmV3IEZvbyk7XG4gICAgICogLy8gPT4gW1snYScsIDFdLCBbJ2InLCAyXV0gKGl0ZXJhdGlvbiBvcmRlciBpcyBub3QgZ3VhcmFudGVlZClcbiAgICAgKi9cbiAgICB2YXIgdG9QYWlycyA9IGNyZWF0ZVRvUGFpcnMoa2V5cyk7XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGFuIGFycmF5IG9mIG93biBhbmQgaW5oZXJpdGVkIGVudW1lcmFibGUgc3RyaW5nIGtleWVkLXZhbHVlIHBhaXJzXG4gICAgICogZm9yIGBvYmplY3RgIHdoaWNoIGNhbiBiZSBjb25zdW1lZCBieSBgXy5mcm9tUGFpcnNgLiBJZiBgb2JqZWN0YCBpcyBhIG1hcFxuICAgICAqIG9yIHNldCwgaXRzIGVudHJpZXMgYXJlIHJldHVybmVkLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGFsaWFzIGVudHJpZXNJblxuICAgICAqIEBjYXRlZ29yeSBPYmplY3RcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gcXVlcnkuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBrZXktdmFsdWUgcGFpcnMuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIGZ1bmN0aW9uIEZvbygpIHtcbiAgICAgKiAgIHRoaXMuYSA9IDE7XG4gICAgICogICB0aGlzLmIgPSAyO1xuICAgICAqIH1cbiAgICAgKlxuICAgICAqIEZvby5wcm90b3R5cGUuYyA9IDM7XG4gICAgICpcbiAgICAgKiBfLnRvUGFpcnNJbihuZXcgRm9vKTtcbiAgICAgKiAvLyA9PiBbWydhJywgMV0sIFsnYicsIDJdLCBbJ2MnLCAzXV0gKGl0ZXJhdGlvbiBvcmRlciBpcyBub3QgZ3VhcmFudGVlZClcbiAgICAgKi9cbiAgICB2YXIgdG9QYWlyc0luID0gY3JlYXRlVG9QYWlycyhrZXlzSW4pO1xuXG4gICAgLyoqXG4gICAgICogQW4gYWx0ZXJuYXRpdmUgdG8gYF8ucmVkdWNlYDsgdGhpcyBtZXRob2QgdHJhbnNmb3JtcyBgb2JqZWN0YCB0byBhIG5ld1xuICAgICAqIGBhY2N1bXVsYXRvcmAgb2JqZWN0IHdoaWNoIGlzIHRoZSByZXN1bHQgb2YgcnVubmluZyBlYWNoIG9mIGl0cyBvd25cbiAgICAgKiBlbnVtZXJhYmxlIHN0cmluZyBrZXllZCBwcm9wZXJ0aWVzIHRocnUgYGl0ZXJhdGVlYCwgd2l0aCBlYWNoIGludm9jYXRpb25cbiAgICAgKiBwb3RlbnRpYWxseSBtdXRhdGluZyB0aGUgYGFjY3VtdWxhdG9yYCBvYmplY3QuIElmIGBhY2N1bXVsYXRvcmAgaXMgbm90XG4gICAgICogcHJvdmlkZWQsIGEgbmV3IG9iamVjdCB3aXRoIHRoZSBzYW1lIGBbW1Byb3RvdHlwZV1dYCB3aWxsIGJlIHVzZWQuIFRoZVxuICAgICAqIGl0ZXJhdGVlIGlzIGludm9rZWQgd2l0aCBmb3VyIGFyZ3VtZW50czogKGFjY3VtdWxhdG9yLCB2YWx1ZSwga2V5LCBvYmplY3QpLlxuICAgICAqIEl0ZXJhdGVlIGZ1bmN0aW9ucyBtYXkgZXhpdCBpdGVyYXRpb24gZWFybHkgYnkgZXhwbGljaXRseSByZXR1cm5pbmcgYGZhbHNlYC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAxLjMuMFxuICAgICAqIEBjYXRlZ29yeSBPYmplY3RcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gaXRlcmF0ZSBvdmVyLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtpdGVyYXRlZT1fLmlkZW50aXR5XSBUaGUgZnVuY3Rpb24gaW52b2tlZCBwZXIgaXRlcmF0aW9uLlxuICAgICAqIEBwYXJhbSB7Kn0gW2FjY3VtdWxhdG9yXSBUaGUgY3VzdG9tIGFjY3VtdWxhdG9yIHZhbHVlLlxuICAgICAqIEByZXR1cm5zIHsqfSBSZXR1cm5zIHRoZSBhY2N1bXVsYXRlZCB2YWx1ZS5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy50cmFuc2Zvcm0oWzIsIDMsIDRdLCBmdW5jdGlvbihyZXN1bHQsIG4pIHtcbiAgICAgKiAgIHJlc3VsdC5wdXNoKG4gKj0gbik7XG4gICAgICogICByZXR1cm4gbiAlIDIgPT0gMDtcbiAgICAgKiB9LCBbXSk7XG4gICAgICogLy8gPT4gWzQsIDldXG4gICAgICpcbiAgICAgKiBfLnRyYW5zZm9ybSh7ICdhJzogMSwgJ2InOiAyLCAnYyc6IDEgfSwgZnVuY3Rpb24ocmVzdWx0LCB2YWx1ZSwga2V5KSB7XG4gICAgICogICAocmVzdWx0W3ZhbHVlXSB8fCAocmVzdWx0W3ZhbHVlXSA9IFtdKSkucHVzaChrZXkpO1xuICAgICAqIH0sIHt9KTtcbiAgICAgKiAvLyA9PiB7ICcxJzogWydhJywgJ2MnXSwgJzInOiBbJ2InXSB9XG4gICAgICovXG4gICAgZnVuY3Rpb24gdHJhbnNmb3JtKG9iamVjdCwgaXRlcmF0ZWUsIGFjY3VtdWxhdG9yKSB7XG4gICAgICB2YXIgaXNBcnIgPSBpc0FycmF5KG9iamVjdCksXG4gICAgICAgICAgaXNBcnJMaWtlID0gaXNBcnIgfHwgaXNCdWZmZXIob2JqZWN0KSB8fCBpc1R5cGVkQXJyYXkob2JqZWN0KTtcblxuICAgICAgaXRlcmF0ZWUgPSBnZXRJdGVyYXRlZShpdGVyYXRlZSwgNCk7XG4gICAgICBpZiAoYWNjdW11bGF0b3IgPT0gbnVsbCkge1xuICAgICAgICB2YXIgQ3RvciA9IG9iamVjdCAmJiBvYmplY3QuY29uc3RydWN0b3I7XG4gICAgICAgIGlmIChpc0Fyckxpa2UpIHtcbiAgICAgICAgICBhY2N1bXVsYXRvciA9IGlzQXJyID8gbmV3IEN0b3IgOiBbXTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChpc09iamVjdChvYmplY3QpKSB7XG4gICAgICAgICAgYWNjdW11bGF0b3IgPSBpc0Z1bmN0aW9uKEN0b3IpID8gYmFzZUNyZWF0ZShnZXRQcm90b3R5cGUob2JqZWN0KSkgOiB7fTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICBhY2N1bXVsYXRvciA9IHt9O1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICAoaXNBcnJMaWtlID8gYXJyYXlFYWNoIDogYmFzZUZvck93bikob2JqZWN0LCBmdW5jdGlvbih2YWx1ZSwgaW5kZXgsIG9iamVjdCkge1xuICAgICAgICByZXR1cm4gaXRlcmF0ZWUoYWNjdW11bGF0b3IsIHZhbHVlLCBpbmRleCwgb2JqZWN0KTtcbiAgICAgIH0pO1xuICAgICAgcmV0dXJuIGFjY3VtdWxhdG9yO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJlbW92ZXMgdGhlIHByb3BlcnR5IGF0IGBwYXRoYCBvZiBgb2JqZWN0YC5cbiAgICAgKlxuICAgICAqICoqTm90ZToqKiBUaGlzIG1ldGhvZCBtdXRhdGVzIGBvYmplY3RgLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IE9iamVjdFxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBtb2RpZnkuXG4gICAgICogQHBhcmFtIHtBcnJheXxzdHJpbmd9IHBhdGggVGhlIHBhdGggb2YgdGhlIHByb3BlcnR5IHRvIHVuc2V0LlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiB0aGUgcHJvcGVydHkgaXMgZGVsZXRlZCwgZWxzZSBgZmFsc2VgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgb2JqZWN0ID0geyAnYSc6IFt7ICdiJzogeyAnYyc6IDcgfSB9XSB9O1xuICAgICAqIF8udW5zZXQob2JqZWN0LCAnYVswXS5iLmMnKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBjb25zb2xlLmxvZyhvYmplY3QpO1xuICAgICAqIC8vID0+IHsgJ2EnOiBbeyAnYic6IHt9IH1dIH07XG4gICAgICpcbiAgICAgKiBfLnVuc2V0KG9iamVjdCwgWydhJywgJzAnLCAnYicsICdjJ10pO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKlxuICAgICAqIGNvbnNvbGUubG9nKG9iamVjdCk7XG4gICAgICogLy8gPT4geyAnYSc6IFt7ICdiJzoge30gfV0gfTtcbiAgICAgKi9cbiAgICBmdW5jdGlvbiB1bnNldChvYmplY3QsIHBhdGgpIHtcbiAgICAgIHJldHVybiBvYmplY3QgPT0gbnVsbCA/IHRydWUgOiBiYXNlVW5zZXQob2JqZWN0LCBwYXRoKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCBpcyBsaWtlIGBfLnNldGAgZXhjZXB0IHRoYXQgYWNjZXB0cyBgdXBkYXRlcmAgdG8gcHJvZHVjZSB0aGVcbiAgICAgKiB2YWx1ZSB0byBzZXQuIFVzZSBgXy51cGRhdGVXaXRoYCB0byBjdXN0b21pemUgYHBhdGhgIGNyZWF0aW9uLiBUaGUgYHVwZGF0ZXJgXG4gICAgICogaXMgaW52b2tlZCB3aXRoIG9uZSBhcmd1bWVudDogKHZhbHVlKS5cbiAgICAgKlxuICAgICAqICoqTm90ZToqKiBUaGlzIG1ldGhvZCBtdXRhdGVzIGBvYmplY3RgLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuNi4wXG4gICAgICogQGNhdGVnb3J5IE9iamVjdFxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBtb2RpZnkuXG4gICAgICogQHBhcmFtIHtBcnJheXxzdHJpbmd9IHBhdGggVGhlIHBhdGggb2YgdGhlIHByb3BlcnR5IHRvIHNldC5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSB1cGRhdGVyIFRoZSBmdW5jdGlvbiB0byBwcm9kdWNlIHRoZSB1cGRhdGVkIHZhbHVlLlxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgYG9iamVjdGAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBvYmplY3QgPSB7ICdhJzogW3sgJ2InOiB7ICdjJzogMyB9IH1dIH07XG4gICAgICpcbiAgICAgKiBfLnVwZGF0ZShvYmplY3QsICdhWzBdLmIuYycsIGZ1bmN0aW9uKG4pIHsgcmV0dXJuIG4gKiBuOyB9KTtcbiAgICAgKiBjb25zb2xlLmxvZyhvYmplY3QuYVswXS5iLmMpO1xuICAgICAqIC8vID0+IDlcbiAgICAgKlxuICAgICAqIF8udXBkYXRlKG9iamVjdCwgJ3hbMF0ueS56JywgZnVuY3Rpb24obikgeyByZXR1cm4gbiA/IG4gKyAxIDogMDsgfSk7XG4gICAgICogY29uc29sZS5sb2cob2JqZWN0LnhbMF0ueS56KTtcbiAgICAgKiAvLyA9PiAwXG4gICAgICovXG4gICAgZnVuY3Rpb24gdXBkYXRlKG9iamVjdCwgcGF0aCwgdXBkYXRlcikge1xuICAgICAgcmV0dXJuIG9iamVjdCA9PSBudWxsID8gb2JqZWN0IDogYmFzZVVwZGF0ZShvYmplY3QsIHBhdGgsIGNhc3RGdW5jdGlvbih1cGRhdGVyKSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgaXMgbGlrZSBgXy51cGRhdGVgIGV4Y2VwdCB0aGF0IGl0IGFjY2VwdHMgYGN1c3RvbWl6ZXJgIHdoaWNoIGlzXG4gICAgICogaW52b2tlZCB0byBwcm9kdWNlIHRoZSBvYmplY3RzIG9mIGBwYXRoYC4gIElmIGBjdXN0b21pemVyYCByZXR1cm5zIGB1bmRlZmluZWRgXG4gICAgICogcGF0aCBjcmVhdGlvbiBpcyBoYW5kbGVkIGJ5IHRoZSBtZXRob2QgaW5zdGVhZC4gVGhlIGBjdXN0b21pemVyYCBpcyBpbnZva2VkXG4gICAgICogd2l0aCB0aHJlZSBhcmd1bWVudHM6IChuc1ZhbHVlLCBrZXksIG5zT2JqZWN0KS5cbiAgICAgKlxuICAgICAqICoqTm90ZToqKiBUaGlzIG1ldGhvZCBtdXRhdGVzIGBvYmplY3RgLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuNi4wXG4gICAgICogQGNhdGVnb3J5IE9iamVjdFxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBtb2RpZnkuXG4gICAgICogQHBhcmFtIHtBcnJheXxzdHJpbmd9IHBhdGggVGhlIHBhdGggb2YgdGhlIHByb3BlcnR5IHRvIHNldC5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSB1cGRhdGVyIFRoZSBmdW5jdGlvbiB0byBwcm9kdWNlIHRoZSB1cGRhdGVkIHZhbHVlLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtjdXN0b21pemVyXSBUaGUgZnVuY3Rpb24gdG8gY3VzdG9taXplIGFzc2lnbmVkIHZhbHVlcy5cbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIGBvYmplY3RgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgb2JqZWN0ID0ge307XG4gICAgICpcbiAgICAgKiBfLnVwZGF0ZVdpdGgob2JqZWN0LCAnWzBdWzFdJywgXy5jb25zdGFudCgnYScpLCBPYmplY3QpO1xuICAgICAqIC8vID0+IHsgJzAnOiB7ICcxJzogJ2EnIH0gfVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHVwZGF0ZVdpdGgob2JqZWN0LCBwYXRoLCB1cGRhdGVyLCBjdXN0b21pemVyKSB7XG4gICAgICBjdXN0b21pemVyID0gdHlwZW9mIGN1c3RvbWl6ZXIgPT0gJ2Z1bmN0aW9uJyA/IGN1c3RvbWl6ZXIgOiB1bmRlZmluZWQ7XG4gICAgICByZXR1cm4gb2JqZWN0ID09IG51bGwgPyBvYmplY3QgOiBiYXNlVXBkYXRlKG9iamVjdCwgcGF0aCwgY2FzdEZ1bmN0aW9uKHVwZGF0ZXIpLCBjdXN0b21pemVyKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGFuIGFycmF5IG9mIHRoZSBvd24gZW51bWVyYWJsZSBzdHJpbmcga2V5ZWQgcHJvcGVydHkgdmFsdWVzIG9mIGBvYmplY3RgLlxuICAgICAqXG4gICAgICogKipOb3RlOioqIE5vbi1vYmplY3QgdmFsdWVzIGFyZSBjb2VyY2VkIHRvIG9iamVjdHMuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQHNpbmNlIDAuMS4wXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAY2F0ZWdvcnkgT2JqZWN0XG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIHF1ZXJ5LlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgYXJyYXkgb2YgcHJvcGVydHkgdmFsdWVzLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBmdW5jdGlvbiBGb28oKSB7XG4gICAgICogICB0aGlzLmEgPSAxO1xuICAgICAqICAgdGhpcy5iID0gMjtcbiAgICAgKiB9XG4gICAgICpcbiAgICAgKiBGb28ucHJvdG90eXBlLmMgPSAzO1xuICAgICAqXG4gICAgICogXy52YWx1ZXMobmV3IEZvbyk7XG4gICAgICogLy8gPT4gWzEsIDJdIChpdGVyYXRpb24gb3JkZXIgaXMgbm90IGd1YXJhbnRlZWQpXG4gICAgICpcbiAgICAgKiBfLnZhbHVlcygnaGknKTtcbiAgICAgKiAvLyA9PiBbJ2gnLCAnaSddXG4gICAgICovXG4gICAgZnVuY3Rpb24gdmFsdWVzKG9iamVjdCkge1xuICAgICAgcmV0dXJuIG9iamVjdCA9PSBudWxsID8gW10gOiBiYXNlVmFsdWVzKG9iamVjdCwga2V5cyhvYmplY3QpKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGFuIGFycmF5IG9mIHRoZSBvd24gYW5kIGluaGVyaXRlZCBlbnVtZXJhYmxlIHN0cmluZyBrZXllZCBwcm9wZXJ0eVxuICAgICAqIHZhbHVlcyBvZiBgb2JqZWN0YC5cbiAgICAgKlxuICAgICAqICoqTm90ZToqKiBOb24tb2JqZWN0IHZhbHVlcyBhcmUgY29lcmNlZCB0byBvYmplY3RzLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDMuMC4wXG4gICAgICogQGNhdGVnb3J5IE9iamVjdFxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBxdWVyeS5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIGFycmF5IG9mIHByb3BlcnR5IHZhbHVlcy5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogZnVuY3Rpb24gRm9vKCkge1xuICAgICAqICAgdGhpcy5hID0gMTtcbiAgICAgKiAgIHRoaXMuYiA9IDI7XG4gICAgICogfVxuICAgICAqXG4gICAgICogRm9vLnByb3RvdHlwZS5jID0gMztcbiAgICAgKlxuICAgICAqIF8udmFsdWVzSW4obmV3IEZvbyk7XG4gICAgICogLy8gPT4gWzEsIDIsIDNdIChpdGVyYXRpb24gb3JkZXIgaXMgbm90IGd1YXJhbnRlZWQpXG4gICAgICovXG4gICAgZnVuY3Rpb24gdmFsdWVzSW4ob2JqZWN0KSB7XG4gICAgICByZXR1cm4gb2JqZWN0ID09IG51bGwgPyBbXSA6IGJhc2VWYWx1ZXMob2JqZWN0LCBrZXlzSW4ob2JqZWN0KSk7XG4gICAgfVxuXG4gICAgLyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuXG4gICAgLyoqXG4gICAgICogQ2xhbXBzIGBudW1iZXJgIHdpdGhpbiB0aGUgaW5jbHVzaXZlIGBsb3dlcmAgYW5kIGB1cHBlcmAgYm91bmRzLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IE51bWJlclxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBudW1iZXIgVGhlIG51bWJlciB0byBjbGFtcC5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW2xvd2VyXSBUaGUgbG93ZXIgYm91bmQuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHVwcGVyIFRoZSB1cHBlciBib3VuZC5cbiAgICAgKiBAcmV0dXJucyB7bnVtYmVyfSBSZXR1cm5zIHRoZSBjbGFtcGVkIG51bWJlci5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5jbGFtcCgtMTAsIC01LCA1KTtcbiAgICAgKiAvLyA9PiAtNVxuICAgICAqXG4gICAgICogXy5jbGFtcCgxMCwgLTUsIDUpO1xuICAgICAqIC8vID0+IDVcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBjbGFtcChudW1iZXIsIGxvd2VyLCB1cHBlcikge1xuICAgICAgaWYgKHVwcGVyID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgdXBwZXIgPSBsb3dlcjtcbiAgICAgICAgbG93ZXIgPSB1bmRlZmluZWQ7XG4gICAgICB9XG4gICAgICBpZiAodXBwZXIgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICB1cHBlciA9IHRvTnVtYmVyKHVwcGVyKTtcbiAgICAgICAgdXBwZXIgPSB1cHBlciA9PT0gdXBwZXIgPyB1cHBlciA6IDA7XG4gICAgICB9XG4gICAgICBpZiAobG93ZXIgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBsb3dlciA9IHRvTnVtYmVyKGxvd2VyKTtcbiAgICAgICAgbG93ZXIgPSBsb3dlciA9PT0gbG93ZXIgPyBsb3dlciA6IDA7XG4gICAgICB9XG4gICAgICByZXR1cm4gYmFzZUNsYW1wKHRvTnVtYmVyKG51bWJlciksIGxvd2VyLCB1cHBlcik7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2hlY2tzIGlmIGBuYCBpcyBiZXR3ZWVuIGBzdGFydGAgYW5kIHVwIHRvLCBidXQgbm90IGluY2x1ZGluZywgYGVuZGAuIElmXG4gICAgICogYGVuZGAgaXMgbm90IHNwZWNpZmllZCwgaXQncyBzZXQgdG8gYHN0YXJ0YCB3aXRoIGBzdGFydGAgdGhlbiBzZXQgdG8gYDBgLlxuICAgICAqIElmIGBzdGFydGAgaXMgZ3JlYXRlciB0aGFuIGBlbmRgIHRoZSBwYXJhbXMgYXJlIHN3YXBwZWQgdG8gc3VwcG9ydFxuICAgICAqIG5lZ2F0aXZlIHJhbmdlcy5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAzLjMuMFxuICAgICAqIEBjYXRlZ29yeSBOdW1iZXJcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gbnVtYmVyIFRoZSBudW1iZXIgdG8gY2hlY2suXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtzdGFydD0wXSBUaGUgc3RhcnQgb2YgdGhlIHJhbmdlLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBlbmQgVGhlIGVuZCBvZiB0aGUgcmFuZ2UuXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGBudW1iZXJgIGlzIGluIHRoZSByYW5nZSwgZWxzZSBgZmFsc2VgLlxuICAgICAqIEBzZWUgXy5yYW5nZSwgXy5yYW5nZVJpZ2h0XG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uaW5SYW5nZSgzLCAyLCA0KTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBfLmluUmFuZ2UoNCwgOCk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogXy5pblJhbmdlKDQsIDIpO1xuICAgICAqIC8vID0+IGZhbHNlXG4gICAgICpcbiAgICAgKiBfLmluUmFuZ2UoMiwgMik7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKlxuICAgICAqIF8uaW5SYW5nZSgxLjIsIDIpO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKlxuICAgICAqIF8uaW5SYW5nZSg1LjIsIDQpO1xuICAgICAqIC8vID0+IGZhbHNlXG4gICAgICpcbiAgICAgKiBfLmluUmFuZ2UoLTMsIC0yLCAtNik7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGluUmFuZ2UobnVtYmVyLCBzdGFydCwgZW5kKSB7XG4gICAgICBzdGFydCA9IHRvRmluaXRlKHN0YXJ0KTtcbiAgICAgIGlmIChlbmQgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICBlbmQgPSBzdGFydDtcbiAgICAgICAgc3RhcnQgPSAwO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgZW5kID0gdG9GaW5pdGUoZW5kKTtcbiAgICAgIH1cbiAgICAgIG51bWJlciA9IHRvTnVtYmVyKG51bWJlcik7XG4gICAgICByZXR1cm4gYmFzZUluUmFuZ2UobnVtYmVyLCBzdGFydCwgZW5kKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBQcm9kdWNlcyBhIHJhbmRvbSBudW1iZXIgYmV0d2VlbiB0aGUgaW5jbHVzaXZlIGBsb3dlcmAgYW5kIGB1cHBlcmAgYm91bmRzLlxuICAgICAqIElmIG9ubHkgb25lIGFyZ3VtZW50IGlzIHByb3ZpZGVkIGEgbnVtYmVyIGJldHdlZW4gYDBgIGFuZCB0aGUgZ2l2ZW4gbnVtYmVyXG4gICAgICogaXMgcmV0dXJuZWQuIElmIGBmbG9hdGluZ2AgaXMgYHRydWVgLCBvciBlaXRoZXIgYGxvd2VyYCBvciBgdXBwZXJgIGFyZVxuICAgICAqIGZsb2F0cywgYSBmbG9hdGluZy1wb2ludCBudW1iZXIgaXMgcmV0dXJuZWQgaW5zdGVhZCBvZiBhbiBpbnRlZ2VyLlxuICAgICAqXG4gICAgICogKipOb3RlOioqIEphdmFTY3JpcHQgZm9sbG93cyB0aGUgSUVFRS03NTQgc3RhbmRhcmQgZm9yIHJlc29sdmluZ1xuICAgICAqIGZsb2F0aW5nLXBvaW50IHZhbHVlcyB3aGljaCBjYW4gcHJvZHVjZSB1bmV4cGVjdGVkIHJlc3VsdHMuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMC43LjBcbiAgICAgKiBAY2F0ZWdvcnkgTnVtYmVyXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtsb3dlcj0wXSBUaGUgbG93ZXIgYm91bmQuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFt1cHBlcj0xXSBUaGUgdXBwZXIgYm91bmQuXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbZmxvYXRpbmddIFNwZWNpZnkgcmV0dXJuaW5nIGEgZmxvYXRpbmctcG9pbnQgbnVtYmVyLlxuICAgICAqIEByZXR1cm5zIHtudW1iZXJ9IFJldHVybnMgdGhlIHJhbmRvbSBudW1iZXIuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8ucmFuZG9tKDAsIDUpO1xuICAgICAqIC8vID0+IGFuIGludGVnZXIgYmV0d2VlbiAwIGFuZCA1XG4gICAgICpcbiAgICAgKiBfLnJhbmRvbSg1KTtcbiAgICAgKiAvLyA9PiBhbHNvIGFuIGludGVnZXIgYmV0d2VlbiAwIGFuZCA1XG4gICAgICpcbiAgICAgKiBfLnJhbmRvbSg1LCB0cnVlKTtcbiAgICAgKiAvLyA9PiBhIGZsb2F0aW5nLXBvaW50IG51bWJlciBiZXR3ZWVuIDAgYW5kIDVcbiAgICAgKlxuICAgICAqIF8ucmFuZG9tKDEuMiwgNS4yKTtcbiAgICAgKiAvLyA9PiBhIGZsb2F0aW5nLXBvaW50IG51bWJlciBiZXR3ZWVuIDEuMiBhbmQgNS4yXG4gICAgICovXG4gICAgZnVuY3Rpb24gcmFuZG9tKGxvd2VyLCB1cHBlciwgZmxvYXRpbmcpIHtcbiAgICAgIGlmIChmbG9hdGluZyAmJiB0eXBlb2YgZmxvYXRpbmcgIT0gJ2Jvb2xlYW4nICYmIGlzSXRlcmF0ZWVDYWxsKGxvd2VyLCB1cHBlciwgZmxvYXRpbmcpKSB7XG4gICAgICAgIHVwcGVyID0gZmxvYXRpbmcgPSB1bmRlZmluZWQ7XG4gICAgICB9XG4gICAgICBpZiAoZmxvYXRpbmcgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICBpZiAodHlwZW9mIHVwcGVyID09ICdib29sZWFuJykge1xuICAgICAgICAgIGZsb2F0aW5nID0gdXBwZXI7XG4gICAgICAgICAgdXBwZXIgPSB1bmRlZmluZWQ7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAodHlwZW9mIGxvd2VyID09ICdib29sZWFuJykge1xuICAgICAgICAgIGZsb2F0aW5nID0gbG93ZXI7XG4gICAgICAgICAgbG93ZXIgPSB1bmRlZmluZWQ7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGlmIChsb3dlciA9PT0gdW5kZWZpbmVkICYmIHVwcGVyID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgbG93ZXIgPSAwO1xuICAgICAgICB1cHBlciA9IDE7XG4gICAgICB9XG4gICAgICBlbHNlIHtcbiAgICAgICAgbG93ZXIgPSB0b0Zpbml0ZShsb3dlcik7XG4gICAgICAgIGlmICh1cHBlciA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgdXBwZXIgPSBsb3dlcjtcbiAgICAgICAgICBsb3dlciA9IDA7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdXBwZXIgPSB0b0Zpbml0ZSh1cHBlcik7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGlmIChsb3dlciA+IHVwcGVyKSB7XG4gICAgICAgIHZhciB0ZW1wID0gbG93ZXI7XG4gICAgICAgIGxvd2VyID0gdXBwZXI7XG4gICAgICAgIHVwcGVyID0gdGVtcDtcbiAgICAgIH1cbiAgICAgIGlmIChmbG9hdGluZyB8fCBsb3dlciAlIDEgfHwgdXBwZXIgJSAxKSB7XG4gICAgICAgIHZhciByYW5kID0gbmF0aXZlUmFuZG9tKCk7XG4gICAgICAgIHJldHVybiBuYXRpdmVNaW4obG93ZXIgKyAocmFuZCAqICh1cHBlciAtIGxvd2VyICsgZnJlZVBhcnNlRmxvYXQoJzFlLScgKyAoKHJhbmQgKyAnJykubGVuZ3RoIC0gMSkpKSksIHVwcGVyKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBiYXNlUmFuZG9tKGxvd2VyLCB1cHBlcik7XG4gICAgfVxuXG4gICAgLyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuXG4gICAgLyoqXG4gICAgICogQ29udmVydHMgYHN0cmluZ2AgdG8gW2NhbWVsIGNhc2VdKGh0dHBzOi8vZW4ud2lraXBlZGlhLm9yZy93aWtpL0NhbWVsQ2FzZSkuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMy4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgU3RyaW5nXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFtzdHJpbmc9JyddIFRoZSBzdHJpbmcgdG8gY29udmVydC5cbiAgICAgKiBAcmV0dXJucyB7c3RyaW5nfSBSZXR1cm5zIHRoZSBjYW1lbCBjYXNlZCBzdHJpbmcuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uY2FtZWxDYXNlKCdGb28gQmFyJyk7XG4gICAgICogLy8gPT4gJ2Zvb0JhcidcbiAgICAgKlxuICAgICAqIF8uY2FtZWxDYXNlKCctLWZvby1iYXItLScpO1xuICAgICAqIC8vID0+ICdmb29CYXInXG4gICAgICpcbiAgICAgKiBfLmNhbWVsQ2FzZSgnX19GT09fQkFSX18nKTtcbiAgICAgKiAvLyA9PiAnZm9vQmFyJ1xuICAgICAqL1xuICAgIHZhciBjYW1lbENhc2UgPSBjcmVhdGVDb21wb3VuZGVyKGZ1bmN0aW9uKHJlc3VsdCwgd29yZCwgaW5kZXgpIHtcbiAgICAgIHdvcmQgPSB3b3JkLnRvTG93ZXJDYXNlKCk7XG4gICAgICByZXR1cm4gcmVzdWx0ICsgKGluZGV4ID8gY2FwaXRhbGl6ZSh3b3JkKSA6IHdvcmQpO1xuICAgIH0pO1xuXG4gICAgLyoqXG4gICAgICogQ29udmVydHMgdGhlIGZpcnN0IGNoYXJhY3RlciBvZiBgc3RyaW5nYCB0byB1cHBlciBjYXNlIGFuZCB0aGUgcmVtYWluaW5nXG4gICAgICogdG8gbG93ZXIgY2FzZS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAzLjAuMFxuICAgICAqIEBjYXRlZ29yeSBTdHJpbmdcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW3N0cmluZz0nJ10gVGhlIHN0cmluZyB0byBjYXBpdGFsaXplLlxuICAgICAqIEByZXR1cm5zIHtzdHJpbmd9IFJldHVybnMgdGhlIGNhcGl0YWxpemVkIHN0cmluZy5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5jYXBpdGFsaXplKCdGUkVEJyk7XG4gICAgICogLy8gPT4gJ0ZyZWQnXG4gICAgICovXG4gICAgZnVuY3Rpb24gY2FwaXRhbGl6ZShzdHJpbmcpIHtcbiAgICAgIHJldHVybiB1cHBlckZpcnN0KHRvU3RyaW5nKHN0cmluZykudG9Mb3dlckNhc2UoKSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogRGVidXJycyBgc3RyaW5nYCBieSBjb252ZXJ0aW5nXG4gICAgICogW0xhdGluLTEgU3VwcGxlbWVudF0oaHR0cHM6Ly9lbi53aWtpcGVkaWEub3JnL3dpa2kvTGF0aW4tMV9TdXBwbGVtZW50XyhVbmljb2RlX2Jsb2NrKSNDaGFyYWN0ZXJfdGFibGUpXG4gICAgICogYW5kIFtMYXRpbiBFeHRlbmRlZC1BXShodHRwczovL2VuLndpa2lwZWRpYS5vcmcvd2lraS9MYXRpbl9FeHRlbmRlZC1BKVxuICAgICAqIGxldHRlcnMgdG8gYmFzaWMgTGF0aW4gbGV0dGVycyBhbmQgcmVtb3ZpbmdcbiAgICAgKiBbY29tYmluaW5nIGRpYWNyaXRpY2FsIG1hcmtzXShodHRwczovL2VuLndpa2lwZWRpYS5vcmcvd2lraS9Db21iaW5pbmdfRGlhY3JpdGljYWxfTWFya3MpLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDMuMC4wXG4gICAgICogQGNhdGVnb3J5IFN0cmluZ1xuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbc3RyaW5nPScnXSBUaGUgc3RyaW5nIHRvIGRlYnVyci5cbiAgICAgKiBAcmV0dXJucyB7c3RyaW5nfSBSZXR1cm5zIHRoZSBkZWJ1cnJlZCBzdHJpbmcuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uZGVidXJyKCdkw6lqw6AgdnUnKTtcbiAgICAgKiAvLyA9PiAnZGVqYSB2dSdcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBkZWJ1cnIoc3RyaW5nKSB7XG4gICAgICBzdHJpbmcgPSB0b1N0cmluZyhzdHJpbmcpO1xuICAgICAgcmV0dXJuIHN0cmluZyAmJiBzdHJpbmcucmVwbGFjZShyZUxhdGluLCBkZWJ1cnJMZXR0ZXIpLnJlcGxhY2UocmVDb21ib01hcmssICcnKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDaGVja3MgaWYgYHN0cmluZ2AgZW5kcyB3aXRoIHRoZSBnaXZlbiB0YXJnZXQgc3RyaW5nLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDMuMC4wXG4gICAgICogQGNhdGVnb3J5IFN0cmluZ1xuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbc3RyaW5nPScnXSBUaGUgc3RyaW5nIHRvIGluc3BlY3QuXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFt0YXJnZXRdIFRoZSBzdHJpbmcgdG8gc2VhcmNoIGZvci5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3Bvc2l0aW9uPXN0cmluZy5sZW5ndGhdIFRoZSBwb3NpdGlvbiB0byBzZWFyY2ggdXAgdG8uXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGBzdHJpbmdgIGVuZHMgd2l0aCBgdGFyZ2V0YCxcbiAgICAgKiAgZWxzZSBgZmFsc2VgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmVuZHNXaXRoKCdhYmMnLCAnYycpO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKlxuICAgICAqIF8uZW5kc1dpdGgoJ2FiYycsICdiJyk7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKlxuICAgICAqIF8uZW5kc1dpdGgoJ2FiYycsICdiJywgMik7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGVuZHNXaXRoKHN0cmluZywgdGFyZ2V0LCBwb3NpdGlvbikge1xuICAgICAgc3RyaW5nID0gdG9TdHJpbmcoc3RyaW5nKTtcbiAgICAgIHRhcmdldCA9IGJhc2VUb1N0cmluZyh0YXJnZXQpO1xuXG4gICAgICB2YXIgbGVuZ3RoID0gc3RyaW5nLmxlbmd0aDtcbiAgICAgIHBvc2l0aW9uID0gcG9zaXRpb24gPT09IHVuZGVmaW5lZFxuICAgICAgICA/IGxlbmd0aFxuICAgICAgICA6IGJhc2VDbGFtcCh0b0ludGVnZXIocG9zaXRpb24pLCAwLCBsZW5ndGgpO1xuXG4gICAgICB2YXIgZW5kID0gcG9zaXRpb247XG4gICAgICBwb3NpdGlvbiAtPSB0YXJnZXQubGVuZ3RoO1xuICAgICAgcmV0dXJuIHBvc2l0aW9uID49IDAgJiYgc3RyaW5nLnNsaWNlKHBvc2l0aW9uLCBlbmQpID09IHRhcmdldDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDb252ZXJ0cyB0aGUgY2hhcmFjdGVycyBcIiZcIiwgXCI8XCIsIFwiPlwiLCAnXCInLCBhbmQgXCInXCIgaW4gYHN0cmluZ2AgdG8gdGhlaXJcbiAgICAgKiBjb3JyZXNwb25kaW5nIEhUTUwgZW50aXRpZXMuXG4gICAgICpcbiAgICAgKiAqKk5vdGU6KiogTm8gb3RoZXIgY2hhcmFjdGVycyBhcmUgZXNjYXBlZC4gVG8gZXNjYXBlIGFkZGl0aW9uYWxcbiAgICAgKiBjaGFyYWN0ZXJzIHVzZSBhIHRoaXJkLXBhcnR5IGxpYnJhcnkgbGlrZSBbX2hlX10oaHR0cHM6Ly9tdGhzLmJlL2hlKS5cbiAgICAgKlxuICAgICAqIFRob3VnaCB0aGUgXCI+XCIgY2hhcmFjdGVyIGlzIGVzY2FwZWQgZm9yIHN5bW1ldHJ5LCBjaGFyYWN0ZXJzIGxpa2VcbiAgICAgKiBcIj5cIiBhbmQgXCIvXCIgZG9uJ3QgbmVlZCBlc2NhcGluZyBpbiBIVE1MIGFuZCBoYXZlIG5vIHNwZWNpYWwgbWVhbmluZ1xuICAgICAqIHVubGVzcyB0aGV5J3JlIHBhcnQgb2YgYSB0YWcgb3IgdW5xdW90ZWQgYXR0cmlidXRlIHZhbHVlLiBTZWVcbiAgICAgKiBbTWF0aGlhcyBCeW5lbnMncyBhcnRpY2xlXShodHRwczovL21hdGhpYXNieW5lbnMuYmUvbm90ZXMvYW1iaWd1b3VzLWFtcGVyc2FuZHMpXG4gICAgICogKHVuZGVyIFwic2VtaS1yZWxhdGVkIGZ1biBmYWN0XCIpIGZvciBtb3JlIGRldGFpbHMuXG4gICAgICpcbiAgICAgKiBXaGVuIHdvcmtpbmcgd2l0aCBIVE1MIHlvdSBzaG91bGQgYWx3YXlzXG4gICAgICogW3F1b3RlIGF0dHJpYnV0ZSB2YWx1ZXNdKGh0dHA6Ly93b25rby5jb20vcG9zdC9odG1sLWVzY2FwaW5nKSB0byByZWR1Y2VcbiAgICAgKiBYU1MgdmVjdG9ycy5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAc2luY2UgMC4xLjBcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBjYXRlZ29yeSBTdHJpbmdcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW3N0cmluZz0nJ10gVGhlIHN0cmluZyB0byBlc2NhcGUuXG4gICAgICogQHJldHVybnMge3N0cmluZ30gUmV0dXJucyB0aGUgZXNjYXBlZCBzdHJpbmcuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uZXNjYXBlKCdmcmVkLCBiYXJuZXksICYgcGViYmxlcycpO1xuICAgICAqIC8vID0+ICdmcmVkLCBiYXJuZXksICZhbXA7IHBlYmJsZXMnXG4gICAgICovXG4gICAgZnVuY3Rpb24gZXNjYXBlKHN0cmluZykge1xuICAgICAgc3RyaW5nID0gdG9TdHJpbmcoc3RyaW5nKTtcbiAgICAgIHJldHVybiAoc3RyaW5nICYmIHJlSGFzVW5lc2NhcGVkSHRtbC50ZXN0KHN0cmluZykpXG4gICAgICAgID8gc3RyaW5nLnJlcGxhY2UocmVVbmVzY2FwZWRIdG1sLCBlc2NhcGVIdG1sQ2hhcilcbiAgICAgICAgOiBzdHJpbmc7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogRXNjYXBlcyB0aGUgYFJlZ0V4cGAgc3BlY2lhbCBjaGFyYWN0ZXJzIFwiXlwiLCBcIiRcIiwgXCJcXFwiLCBcIi5cIiwgXCIqXCIsIFwiK1wiLFxuICAgICAqIFwiP1wiLCBcIihcIiwgXCIpXCIsIFwiW1wiLCBcIl1cIiwgXCJ7XCIsIFwifVwiLCBhbmQgXCJ8XCIgaW4gYHN0cmluZ2AuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMy4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgU3RyaW5nXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFtzdHJpbmc9JyddIFRoZSBzdHJpbmcgdG8gZXNjYXBlLlxuICAgICAqIEByZXR1cm5zIHtzdHJpbmd9IFJldHVybnMgdGhlIGVzY2FwZWQgc3RyaW5nLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmVzY2FwZVJlZ0V4cCgnW2xvZGFzaF0oaHR0cHM6Ly9sb2Rhc2guY29tLyknKTtcbiAgICAgKiAvLyA9PiAnXFxbbG9kYXNoXFxdXFwoaHR0cHM6Ly9sb2Rhc2hcXC5jb20vXFwpJ1xuICAgICAqL1xuICAgIGZ1bmN0aW9uIGVzY2FwZVJlZ0V4cChzdHJpbmcpIHtcbiAgICAgIHN0cmluZyA9IHRvU3RyaW5nKHN0cmluZyk7XG4gICAgICByZXR1cm4gKHN0cmluZyAmJiByZUhhc1JlZ0V4cENoYXIudGVzdChzdHJpbmcpKVxuICAgICAgICA/IHN0cmluZy5yZXBsYWNlKHJlUmVnRXhwQ2hhciwgJ1xcXFwkJicpXG4gICAgICAgIDogc3RyaW5nO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENvbnZlcnRzIGBzdHJpbmdgIHRvXG4gICAgICogW2tlYmFiIGNhc2VdKGh0dHBzOi8vZW4ud2lraXBlZGlhLm9yZy93aWtpL0xldHRlcl9jYXNlI1NwZWNpYWxfY2FzZV9zdHlsZXMpLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDMuMC4wXG4gICAgICogQGNhdGVnb3J5IFN0cmluZ1xuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbc3RyaW5nPScnXSBUaGUgc3RyaW5nIHRvIGNvbnZlcnQuXG4gICAgICogQHJldHVybnMge3N0cmluZ30gUmV0dXJucyB0aGUga2ViYWIgY2FzZWQgc3RyaW5nLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmtlYmFiQ2FzZSgnRm9vIEJhcicpO1xuICAgICAqIC8vID0+ICdmb28tYmFyJ1xuICAgICAqXG4gICAgICogXy5rZWJhYkNhc2UoJ2Zvb0JhcicpO1xuICAgICAqIC8vID0+ICdmb28tYmFyJ1xuICAgICAqXG4gICAgICogXy5rZWJhYkNhc2UoJ19fRk9PX0JBUl9fJyk7XG4gICAgICogLy8gPT4gJ2Zvby1iYXInXG4gICAgICovXG4gICAgdmFyIGtlYmFiQ2FzZSA9IGNyZWF0ZUNvbXBvdW5kZXIoZnVuY3Rpb24ocmVzdWx0LCB3b3JkLCBpbmRleCkge1xuICAgICAgcmV0dXJuIHJlc3VsdCArIChpbmRleCA/ICctJyA6ICcnKSArIHdvcmQudG9Mb3dlckNhc2UoKTtcbiAgICB9KTtcblxuICAgIC8qKlxuICAgICAqIENvbnZlcnRzIGBzdHJpbmdgLCBhcyBzcGFjZSBzZXBhcmF0ZWQgd29yZHMsIHRvIGxvd2VyIGNhc2UuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgU3RyaW5nXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFtzdHJpbmc9JyddIFRoZSBzdHJpbmcgdG8gY29udmVydC5cbiAgICAgKiBAcmV0dXJucyB7c3RyaW5nfSBSZXR1cm5zIHRoZSBsb3dlciBjYXNlZCBzdHJpbmcuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8ubG93ZXJDYXNlKCctLUZvby1CYXItLScpO1xuICAgICAqIC8vID0+ICdmb28gYmFyJ1xuICAgICAqXG4gICAgICogXy5sb3dlckNhc2UoJ2Zvb0JhcicpO1xuICAgICAqIC8vID0+ICdmb28gYmFyJ1xuICAgICAqXG4gICAgICogXy5sb3dlckNhc2UoJ19fRk9PX0JBUl9fJyk7XG4gICAgICogLy8gPT4gJ2ZvbyBiYXInXG4gICAgICovXG4gICAgdmFyIGxvd2VyQ2FzZSA9IGNyZWF0ZUNvbXBvdW5kZXIoZnVuY3Rpb24ocmVzdWx0LCB3b3JkLCBpbmRleCkge1xuICAgICAgcmV0dXJuIHJlc3VsdCArIChpbmRleCA/ICcgJyA6ICcnKSArIHdvcmQudG9Mb3dlckNhc2UoKTtcbiAgICB9KTtcblxuICAgIC8qKlxuICAgICAqIENvbnZlcnRzIHRoZSBmaXJzdCBjaGFyYWN0ZXIgb2YgYHN0cmluZ2AgdG8gbG93ZXIgY2FzZS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBTdHJpbmdcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW3N0cmluZz0nJ10gVGhlIHN0cmluZyB0byBjb252ZXJ0LlxuICAgICAqIEByZXR1cm5zIHtzdHJpbmd9IFJldHVybnMgdGhlIGNvbnZlcnRlZCBzdHJpbmcuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8ubG93ZXJGaXJzdCgnRnJlZCcpO1xuICAgICAqIC8vID0+ICdmcmVkJ1xuICAgICAqXG4gICAgICogXy5sb3dlckZpcnN0KCdGUkVEJyk7XG4gICAgICogLy8gPT4gJ2ZSRUQnXG4gICAgICovXG4gICAgdmFyIGxvd2VyRmlyc3QgPSBjcmVhdGVDYXNlRmlyc3QoJ3RvTG93ZXJDYXNlJyk7XG5cbiAgICAvKipcbiAgICAgKiBQYWRzIGBzdHJpbmdgIG9uIHRoZSBsZWZ0IGFuZCByaWdodCBzaWRlcyBpZiBpdCdzIHNob3J0ZXIgdGhhbiBgbGVuZ3RoYC5cbiAgICAgKiBQYWRkaW5nIGNoYXJhY3RlcnMgYXJlIHRydW5jYXRlZCBpZiB0aGV5IGNhbid0IGJlIGV2ZW5seSBkaXZpZGVkIGJ5IGBsZW5ndGhgLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDMuMC4wXG4gICAgICogQGNhdGVnb3J5IFN0cmluZ1xuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbc3RyaW5nPScnXSBUaGUgc3RyaW5nIHRvIHBhZC5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW2xlbmd0aD0wXSBUaGUgcGFkZGluZyBsZW5ndGguXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFtjaGFycz0nICddIFRoZSBzdHJpbmcgdXNlZCBhcyBwYWRkaW5nLlxuICAgICAqIEByZXR1cm5zIHtzdHJpbmd9IFJldHVybnMgdGhlIHBhZGRlZCBzdHJpbmcuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8ucGFkKCdhYmMnLCA4KTtcbiAgICAgKiAvLyA9PiAnICBhYmMgICAnXG4gICAgICpcbiAgICAgKiBfLnBhZCgnYWJjJywgOCwgJ18tJyk7XG4gICAgICogLy8gPT4gJ18tYWJjXy1fJ1xuICAgICAqXG4gICAgICogXy5wYWQoJ2FiYycsIDMpO1xuICAgICAqIC8vID0+ICdhYmMnXG4gICAgICovXG4gICAgZnVuY3Rpb24gcGFkKHN0cmluZywgbGVuZ3RoLCBjaGFycykge1xuICAgICAgc3RyaW5nID0gdG9TdHJpbmcoc3RyaW5nKTtcbiAgICAgIGxlbmd0aCA9IHRvSW50ZWdlcihsZW5ndGgpO1xuXG4gICAgICB2YXIgc3RyTGVuZ3RoID0gbGVuZ3RoID8gc3RyaW5nU2l6ZShzdHJpbmcpIDogMDtcbiAgICAgIGlmICghbGVuZ3RoIHx8IHN0ckxlbmd0aCA+PSBsZW5ndGgpIHtcbiAgICAgICAgcmV0dXJuIHN0cmluZztcbiAgICAgIH1cbiAgICAgIHZhciBtaWQgPSAobGVuZ3RoIC0gc3RyTGVuZ3RoKSAvIDI7XG4gICAgICByZXR1cm4gKFxuICAgICAgICBjcmVhdGVQYWRkaW5nKG5hdGl2ZUZsb29yKG1pZCksIGNoYXJzKSArXG4gICAgICAgIHN0cmluZyArXG4gICAgICAgIGNyZWF0ZVBhZGRpbmcobmF0aXZlQ2VpbChtaWQpLCBjaGFycylcbiAgICAgICk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUGFkcyBgc3RyaW5nYCBvbiB0aGUgcmlnaHQgc2lkZSBpZiBpdCdzIHNob3J0ZXIgdGhhbiBgbGVuZ3RoYC4gUGFkZGluZ1xuICAgICAqIGNoYXJhY3RlcnMgYXJlIHRydW5jYXRlZCBpZiB0aGV5IGV4Y2VlZCBgbGVuZ3RoYC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBTdHJpbmdcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW3N0cmluZz0nJ10gVGhlIHN0cmluZyB0byBwYWQuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtsZW5ndGg9MF0gVGhlIHBhZGRpbmcgbGVuZ3RoLlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbY2hhcnM9JyAnXSBUaGUgc3RyaW5nIHVzZWQgYXMgcGFkZGluZy5cbiAgICAgKiBAcmV0dXJucyB7c3RyaW5nfSBSZXR1cm5zIHRoZSBwYWRkZWQgc3RyaW5nLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLnBhZEVuZCgnYWJjJywgNik7XG4gICAgICogLy8gPT4gJ2FiYyAgICdcbiAgICAgKlxuICAgICAqIF8ucGFkRW5kKCdhYmMnLCA2LCAnXy0nKTtcbiAgICAgKiAvLyA9PiAnYWJjXy1fJ1xuICAgICAqXG4gICAgICogXy5wYWRFbmQoJ2FiYycsIDMpO1xuICAgICAqIC8vID0+ICdhYmMnXG4gICAgICovXG4gICAgZnVuY3Rpb24gcGFkRW5kKHN0cmluZywgbGVuZ3RoLCBjaGFycykge1xuICAgICAgc3RyaW5nID0gdG9TdHJpbmcoc3RyaW5nKTtcbiAgICAgIGxlbmd0aCA9IHRvSW50ZWdlcihsZW5ndGgpO1xuXG4gICAgICB2YXIgc3RyTGVuZ3RoID0gbGVuZ3RoID8gc3RyaW5nU2l6ZShzdHJpbmcpIDogMDtcbiAgICAgIHJldHVybiAobGVuZ3RoICYmIHN0ckxlbmd0aCA8IGxlbmd0aClcbiAgICAgICAgPyAoc3RyaW5nICsgY3JlYXRlUGFkZGluZyhsZW5ndGggLSBzdHJMZW5ndGgsIGNoYXJzKSlcbiAgICAgICAgOiBzdHJpbmc7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUGFkcyBgc3RyaW5nYCBvbiB0aGUgbGVmdCBzaWRlIGlmIGl0J3Mgc2hvcnRlciB0aGFuIGBsZW5ndGhgLiBQYWRkaW5nXG4gICAgICogY2hhcmFjdGVycyBhcmUgdHJ1bmNhdGVkIGlmIHRoZXkgZXhjZWVkIGBsZW5ndGhgLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IFN0cmluZ1xuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbc3RyaW5nPScnXSBUaGUgc3RyaW5nIHRvIHBhZC5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW2xlbmd0aD0wXSBUaGUgcGFkZGluZyBsZW5ndGguXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFtjaGFycz0nICddIFRoZSBzdHJpbmcgdXNlZCBhcyBwYWRkaW5nLlxuICAgICAqIEByZXR1cm5zIHtzdHJpbmd9IFJldHVybnMgdGhlIHBhZGRlZCBzdHJpbmcuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8ucGFkU3RhcnQoJ2FiYycsIDYpO1xuICAgICAqIC8vID0+ICcgICBhYmMnXG4gICAgICpcbiAgICAgKiBfLnBhZFN0YXJ0KCdhYmMnLCA2LCAnXy0nKTtcbiAgICAgKiAvLyA9PiAnXy1fYWJjJ1xuICAgICAqXG4gICAgICogXy5wYWRTdGFydCgnYWJjJywgMyk7XG4gICAgICogLy8gPT4gJ2FiYydcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBwYWRTdGFydChzdHJpbmcsIGxlbmd0aCwgY2hhcnMpIHtcbiAgICAgIHN0cmluZyA9IHRvU3RyaW5nKHN0cmluZyk7XG4gICAgICBsZW5ndGggPSB0b0ludGVnZXIobGVuZ3RoKTtcblxuICAgICAgdmFyIHN0ckxlbmd0aCA9IGxlbmd0aCA/IHN0cmluZ1NpemUoc3RyaW5nKSA6IDA7XG4gICAgICByZXR1cm4gKGxlbmd0aCAmJiBzdHJMZW5ndGggPCBsZW5ndGgpXG4gICAgICAgID8gKGNyZWF0ZVBhZGRpbmcobGVuZ3RoIC0gc3RyTGVuZ3RoLCBjaGFycykgKyBzdHJpbmcpXG4gICAgICAgIDogc3RyaW5nO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENvbnZlcnRzIGBzdHJpbmdgIHRvIGFuIGludGVnZXIgb2YgdGhlIHNwZWNpZmllZCByYWRpeC4gSWYgYHJhZGl4YCBpc1xuICAgICAqIGB1bmRlZmluZWRgIG9yIGAwYCwgYSBgcmFkaXhgIG9mIGAxMGAgaXMgdXNlZCB1bmxlc3MgYHZhbHVlYCBpcyBhXG4gICAgICogaGV4YWRlY2ltYWwsIGluIHdoaWNoIGNhc2UgYSBgcmFkaXhgIG9mIGAxNmAgaXMgdXNlZC5cbiAgICAgKlxuICAgICAqICoqTm90ZToqKiBUaGlzIG1ldGhvZCBhbGlnbnMgd2l0aCB0aGVcbiAgICAgKiBbRVM1IGltcGxlbWVudGF0aW9uXShodHRwczovL2VzNS5naXRodWIuaW8vI3gxNS4xLjIuMikgb2YgYHBhcnNlSW50YC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAxLjEuMFxuICAgICAqIEBjYXRlZ29yeSBTdHJpbmdcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gc3RyaW5nIFRoZSBzdHJpbmcgdG8gY29udmVydC5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3JhZGl4PTEwXSBUaGUgcmFkaXggdG8gaW50ZXJwcmV0IGB2YWx1ZWAgYnkuXG4gICAgICogQHBhcmFtLSB7T2JqZWN0fSBbZ3VhcmRdIEVuYWJsZXMgdXNlIGFzIGFuIGl0ZXJhdGVlIGZvciBtZXRob2RzIGxpa2UgYF8ubWFwYC5cbiAgICAgKiBAcmV0dXJucyB7bnVtYmVyfSBSZXR1cm5zIHRoZSBjb252ZXJ0ZWQgaW50ZWdlci5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5wYXJzZUludCgnMDgnKTtcbiAgICAgKiAvLyA9PiA4XG4gICAgICpcbiAgICAgKiBfLm1hcChbJzYnLCAnMDgnLCAnMTAnXSwgXy5wYXJzZUludCk7XG4gICAgICogLy8gPT4gWzYsIDgsIDEwXVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHBhcnNlSW50KHN0cmluZywgcmFkaXgsIGd1YXJkKSB7XG4gICAgICBpZiAoZ3VhcmQgfHwgcmFkaXggPT0gbnVsbCkge1xuICAgICAgICByYWRpeCA9IDA7XG4gICAgICB9IGVsc2UgaWYgKHJhZGl4KSB7XG4gICAgICAgIHJhZGl4ID0gK3JhZGl4O1xuICAgICAgfVxuICAgICAgcmV0dXJuIG5hdGl2ZVBhcnNlSW50KHRvU3RyaW5nKHN0cmluZykucmVwbGFjZShyZVRyaW1TdGFydCwgJycpLCByYWRpeCB8fCAwKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZXBlYXRzIHRoZSBnaXZlbiBzdHJpbmcgYG5gIHRpbWVzLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDMuMC4wXG4gICAgICogQGNhdGVnb3J5IFN0cmluZ1xuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbc3RyaW5nPScnXSBUaGUgc3RyaW5nIHRvIHJlcGVhdC5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW249MV0gVGhlIG51bWJlciBvZiB0aW1lcyB0byByZXBlYXQgdGhlIHN0cmluZy5cbiAgICAgKiBAcGFyYW0tIHtPYmplY3R9IFtndWFyZF0gRW5hYmxlcyB1c2UgYXMgYW4gaXRlcmF0ZWUgZm9yIG1ldGhvZHMgbGlrZSBgXy5tYXBgLlxuICAgICAqIEByZXR1cm5zIHtzdHJpbmd9IFJldHVybnMgdGhlIHJlcGVhdGVkIHN0cmluZy5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5yZXBlYXQoJyonLCAzKTtcbiAgICAgKiAvLyA9PiAnKioqJ1xuICAgICAqXG4gICAgICogXy5yZXBlYXQoJ2FiYycsIDIpO1xuICAgICAqIC8vID0+ICdhYmNhYmMnXG4gICAgICpcbiAgICAgKiBfLnJlcGVhdCgnYWJjJywgMCk7XG4gICAgICogLy8gPT4gJydcbiAgICAgKi9cbiAgICBmdW5jdGlvbiByZXBlYXQoc3RyaW5nLCBuLCBndWFyZCkge1xuICAgICAgaWYgKChndWFyZCA/IGlzSXRlcmF0ZWVDYWxsKHN0cmluZywgbiwgZ3VhcmQpIDogbiA9PT0gdW5kZWZpbmVkKSkge1xuICAgICAgICBuID0gMTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIG4gPSB0b0ludGVnZXIobik7XG4gICAgICB9XG4gICAgICByZXR1cm4gYmFzZVJlcGVhdCh0b1N0cmluZyhzdHJpbmcpLCBuKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZXBsYWNlcyBtYXRjaGVzIGZvciBgcGF0dGVybmAgaW4gYHN0cmluZ2Agd2l0aCBgcmVwbGFjZW1lbnRgLlxuICAgICAqXG4gICAgICogKipOb3RlOioqIFRoaXMgbWV0aG9kIGlzIGJhc2VkIG9uXG4gICAgICogW2BTdHJpbmcjcmVwbGFjZWBdKGh0dHBzOi8vbWRuLmlvL1N0cmluZy9yZXBsYWNlKS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBTdHJpbmdcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW3N0cmluZz0nJ10gVGhlIHN0cmluZyB0byBtb2RpZnkuXG4gICAgICogQHBhcmFtIHtSZWdFeHB8c3RyaW5nfSBwYXR0ZXJuIFRoZSBwYXR0ZXJuIHRvIHJlcGxhY2UuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbnxzdHJpbmd9IHJlcGxhY2VtZW50IFRoZSBtYXRjaCByZXBsYWNlbWVudC5cbiAgICAgKiBAcmV0dXJucyB7c3RyaW5nfSBSZXR1cm5zIHRoZSBtb2RpZmllZCBzdHJpbmcuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8ucmVwbGFjZSgnSGkgRnJlZCcsICdGcmVkJywgJ0Jhcm5leScpO1xuICAgICAqIC8vID0+ICdIaSBCYXJuZXknXG4gICAgICovXG4gICAgZnVuY3Rpb24gcmVwbGFjZSgpIHtcbiAgICAgIHZhciBhcmdzID0gYXJndW1lbnRzLFxuICAgICAgICAgIHN0cmluZyA9IHRvU3RyaW5nKGFyZ3NbMF0pO1xuXG4gICAgICByZXR1cm4gYXJncy5sZW5ndGggPCAzID8gc3RyaW5nIDogc3RyaW5nLnJlcGxhY2UoYXJnc1sxXSwgYXJnc1syXSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ29udmVydHMgYHN0cmluZ2AgdG9cbiAgICAgKiBbc25ha2UgY2FzZV0oaHR0cHM6Ly9lbi53aWtpcGVkaWEub3JnL3dpa2kvU25ha2VfY2FzZSkuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMy4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgU3RyaW5nXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFtzdHJpbmc9JyddIFRoZSBzdHJpbmcgdG8gY29udmVydC5cbiAgICAgKiBAcmV0dXJucyB7c3RyaW5nfSBSZXR1cm5zIHRoZSBzbmFrZSBjYXNlZCBzdHJpbmcuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uc25ha2VDYXNlKCdGb28gQmFyJyk7XG4gICAgICogLy8gPT4gJ2Zvb19iYXInXG4gICAgICpcbiAgICAgKiBfLnNuYWtlQ2FzZSgnZm9vQmFyJyk7XG4gICAgICogLy8gPT4gJ2Zvb19iYXInXG4gICAgICpcbiAgICAgKiBfLnNuYWtlQ2FzZSgnLS1GT08tQkFSLS0nKTtcbiAgICAgKiAvLyA9PiAnZm9vX2JhcidcbiAgICAgKi9cbiAgICB2YXIgc25ha2VDYXNlID0gY3JlYXRlQ29tcG91bmRlcihmdW5jdGlvbihyZXN1bHQsIHdvcmQsIGluZGV4KSB7XG4gICAgICByZXR1cm4gcmVzdWx0ICsgKGluZGV4ID8gJ18nIDogJycpICsgd29yZC50b0xvd2VyQ2FzZSgpO1xuICAgIH0pO1xuXG4gICAgLyoqXG4gICAgICogU3BsaXRzIGBzdHJpbmdgIGJ5IGBzZXBhcmF0b3JgLlxuICAgICAqXG4gICAgICogKipOb3RlOioqIFRoaXMgbWV0aG9kIGlzIGJhc2VkIG9uXG4gICAgICogW2BTdHJpbmcjc3BsaXRgXShodHRwczovL21kbi5pby9TdHJpbmcvc3BsaXQpLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IFN0cmluZ1xuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbc3RyaW5nPScnXSBUaGUgc3RyaW5nIHRvIHNwbGl0LlxuICAgICAqIEBwYXJhbSB7UmVnRXhwfHN0cmluZ30gc2VwYXJhdG9yIFRoZSBzZXBhcmF0b3IgcGF0dGVybiB0byBzcGxpdCBieS5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW2xpbWl0XSBUaGUgbGVuZ3RoIHRvIHRydW5jYXRlIHJlc3VsdHMgdG8uXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBzdHJpbmcgc2VnbWVudHMuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uc3BsaXQoJ2EtYi1jJywgJy0nLCAyKTtcbiAgICAgKiAvLyA9PiBbJ2EnLCAnYiddXG4gICAgICovXG4gICAgZnVuY3Rpb24gc3BsaXQoc3RyaW5nLCBzZXBhcmF0b3IsIGxpbWl0KSB7XG4gICAgICBpZiAobGltaXQgJiYgdHlwZW9mIGxpbWl0ICE9ICdudW1iZXInICYmIGlzSXRlcmF0ZWVDYWxsKHN0cmluZywgc2VwYXJhdG9yLCBsaW1pdCkpIHtcbiAgICAgICAgc2VwYXJhdG9yID0gbGltaXQgPSB1bmRlZmluZWQ7XG4gICAgICB9XG4gICAgICBsaW1pdCA9IGxpbWl0ID09PSB1bmRlZmluZWQgPyBNQVhfQVJSQVlfTEVOR1RIIDogbGltaXQgPj4+IDA7XG4gICAgICBpZiAoIWxpbWl0KSB7XG4gICAgICAgIHJldHVybiBbXTtcbiAgICAgIH1cbiAgICAgIHN0cmluZyA9IHRvU3RyaW5nKHN0cmluZyk7XG4gICAgICBpZiAoc3RyaW5nICYmIChcbiAgICAgICAgICAgIHR5cGVvZiBzZXBhcmF0b3IgPT0gJ3N0cmluZycgfHxcbiAgICAgICAgICAgIChzZXBhcmF0b3IgIT0gbnVsbCAmJiAhaXNSZWdFeHAoc2VwYXJhdG9yKSlcbiAgICAgICAgICApKSB7XG4gICAgICAgIHNlcGFyYXRvciA9IGJhc2VUb1N0cmluZyhzZXBhcmF0b3IpO1xuICAgICAgICBpZiAoIXNlcGFyYXRvciAmJiBoYXNVbmljb2RlKHN0cmluZykpIHtcbiAgICAgICAgICByZXR1cm4gY2FzdFNsaWNlKHN0cmluZ1RvQXJyYXkoc3RyaW5nKSwgMCwgbGltaXQpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gc3RyaW5nLnNwbGl0KHNlcGFyYXRvciwgbGltaXQpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENvbnZlcnRzIGBzdHJpbmdgIHRvXG4gICAgICogW3N0YXJ0IGNhc2VdKGh0dHBzOi8vZW4ud2lraXBlZGlhLm9yZy93aWtpL0xldHRlcl9jYXNlI1N0eWxpc3RpY19vcl9zcGVjaWFsaXNlZF91c2FnZSkuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMy4xLjBcbiAgICAgKiBAY2F0ZWdvcnkgU3RyaW5nXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFtzdHJpbmc9JyddIFRoZSBzdHJpbmcgdG8gY29udmVydC5cbiAgICAgKiBAcmV0dXJucyB7c3RyaW5nfSBSZXR1cm5zIHRoZSBzdGFydCBjYXNlZCBzdHJpbmcuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uc3RhcnRDYXNlKCctLWZvby1iYXItLScpO1xuICAgICAqIC8vID0+ICdGb28gQmFyJ1xuICAgICAqXG4gICAgICogXy5zdGFydENhc2UoJ2Zvb0JhcicpO1xuICAgICAqIC8vID0+ICdGb28gQmFyJ1xuICAgICAqXG4gICAgICogXy5zdGFydENhc2UoJ19fRk9PX0JBUl9fJyk7XG4gICAgICogLy8gPT4gJ0ZPTyBCQVInXG4gICAgICovXG4gICAgdmFyIHN0YXJ0Q2FzZSA9IGNyZWF0ZUNvbXBvdW5kZXIoZnVuY3Rpb24ocmVzdWx0LCB3b3JkLCBpbmRleCkge1xuICAgICAgcmV0dXJuIHJlc3VsdCArIChpbmRleCA/ICcgJyA6ICcnKSArIHVwcGVyRmlyc3Qod29yZCk7XG4gICAgfSk7XG5cbiAgICAvKipcbiAgICAgKiBDaGVja3MgaWYgYHN0cmluZ2Agc3RhcnRzIHdpdGggdGhlIGdpdmVuIHRhcmdldCBzdHJpbmcuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMy4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgU3RyaW5nXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFtzdHJpbmc9JyddIFRoZSBzdHJpbmcgdG8gaW5zcGVjdC5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW3RhcmdldF0gVGhlIHN0cmluZyB0byBzZWFyY2ggZm9yLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbcG9zaXRpb249MF0gVGhlIHBvc2l0aW9uIHRvIHNlYXJjaCBmcm9tLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgc3RyaW5nYCBzdGFydHMgd2l0aCBgdGFyZ2V0YCxcbiAgICAgKiAgZWxzZSBgZmFsc2VgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLnN0YXJ0c1dpdGgoJ2FiYycsICdhJyk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogXy5zdGFydHNXaXRoKCdhYmMnLCAnYicpO1xuICAgICAqIC8vID0+IGZhbHNlXG4gICAgICpcbiAgICAgKiBfLnN0YXJ0c1dpdGgoJ2FiYycsICdiJywgMSk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHN0YXJ0c1dpdGgoc3RyaW5nLCB0YXJnZXQsIHBvc2l0aW9uKSB7XG4gICAgICBzdHJpbmcgPSB0b1N0cmluZyhzdHJpbmcpO1xuICAgICAgcG9zaXRpb24gPSBwb3NpdGlvbiA9PSBudWxsXG4gICAgICAgID8gMFxuICAgICAgICA6IGJhc2VDbGFtcCh0b0ludGVnZXIocG9zaXRpb24pLCAwLCBzdHJpbmcubGVuZ3RoKTtcblxuICAgICAgdGFyZ2V0ID0gYmFzZVRvU3RyaW5nKHRhcmdldCk7XG4gICAgICByZXR1cm4gc3RyaW5nLnNsaWNlKHBvc2l0aW9uLCBwb3NpdGlvbiArIHRhcmdldC5sZW5ndGgpID09IHRhcmdldDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgY29tcGlsZWQgdGVtcGxhdGUgZnVuY3Rpb24gdGhhdCBjYW4gaW50ZXJwb2xhdGUgZGF0YSBwcm9wZXJ0aWVzXG4gICAgICogaW4gXCJpbnRlcnBvbGF0ZVwiIGRlbGltaXRlcnMsIEhUTUwtZXNjYXBlIGludGVycG9sYXRlZCBkYXRhIHByb3BlcnRpZXMgaW5cbiAgICAgKiBcImVzY2FwZVwiIGRlbGltaXRlcnMsIGFuZCBleGVjdXRlIEphdmFTY3JpcHQgaW4gXCJldmFsdWF0ZVwiIGRlbGltaXRlcnMuIERhdGFcbiAgICAgKiBwcm9wZXJ0aWVzIG1heSBiZSBhY2Nlc3NlZCBhcyBmcmVlIHZhcmlhYmxlcyBpbiB0aGUgdGVtcGxhdGUuIElmIGEgc2V0dGluZ1xuICAgICAqIG9iamVjdCBpcyBnaXZlbiwgaXQgdGFrZXMgcHJlY2VkZW5jZSBvdmVyIGBfLnRlbXBsYXRlU2V0dGluZ3NgIHZhbHVlcy5cbiAgICAgKlxuICAgICAqICoqTm90ZToqKiBJbiB0aGUgZGV2ZWxvcG1lbnQgYnVpbGQgYF8udGVtcGxhdGVgIHV0aWxpemVzXG4gICAgICogW3NvdXJjZVVSTHNdKGh0dHA6Ly93d3cuaHRtbDVyb2Nrcy5jb20vZW4vdHV0b3JpYWxzL2RldmVsb3BlcnRvb2xzL3NvdXJjZW1hcHMvI3RvYy1zb3VyY2V1cmwpXG4gICAgICogZm9yIGVhc2llciBkZWJ1Z2dpbmcuXG4gICAgICpcbiAgICAgKiBGb3IgbW9yZSBpbmZvcm1hdGlvbiBvbiBwcmVjb21waWxpbmcgdGVtcGxhdGVzIHNlZVxuICAgICAqIFtsb2Rhc2gncyBjdXN0b20gYnVpbGRzIGRvY3VtZW50YXRpb25dKGh0dHBzOi8vbG9kYXNoLmNvbS9jdXN0b20tYnVpbGRzKS5cbiAgICAgKlxuICAgICAqIEZvciBtb3JlIGluZm9ybWF0aW9uIG9uIENocm9tZSBleHRlbnNpb24gc2FuZGJveGVzIHNlZVxuICAgICAqIFtDaHJvbWUncyBleHRlbnNpb25zIGRvY3VtZW50YXRpb25dKGh0dHBzOi8vZGV2ZWxvcGVyLmNocm9tZS5jb20vZXh0ZW5zaW9ucy9zYW5kYm94aW5nRXZhbCkuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQHNpbmNlIDAuMS4wXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAY2F0ZWdvcnkgU3RyaW5nXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFtzdHJpbmc9JyddIFRoZSB0ZW1wbGF0ZSBzdHJpbmcuXG4gICAgICogQHBhcmFtIHtPYmplY3R9IFtvcHRpb25zPXt9XSBUaGUgb3B0aW9ucyBvYmplY3QuXG4gICAgICogQHBhcmFtIHtSZWdFeHB9IFtvcHRpb25zLmVzY2FwZT1fLnRlbXBsYXRlU2V0dGluZ3MuZXNjYXBlXVxuICAgICAqICBUaGUgSFRNTCBcImVzY2FwZVwiIGRlbGltaXRlci5cbiAgICAgKiBAcGFyYW0ge1JlZ0V4cH0gW29wdGlvbnMuZXZhbHVhdGU9Xy50ZW1wbGF0ZVNldHRpbmdzLmV2YWx1YXRlXVxuICAgICAqICBUaGUgXCJldmFsdWF0ZVwiIGRlbGltaXRlci5cbiAgICAgKiBAcGFyYW0ge09iamVjdH0gW29wdGlvbnMuaW1wb3J0cz1fLnRlbXBsYXRlU2V0dGluZ3MuaW1wb3J0c11cbiAgICAgKiAgQW4gb2JqZWN0IHRvIGltcG9ydCBpbnRvIHRoZSB0ZW1wbGF0ZSBhcyBmcmVlIHZhcmlhYmxlcy5cbiAgICAgKiBAcGFyYW0ge1JlZ0V4cH0gW29wdGlvbnMuaW50ZXJwb2xhdGU9Xy50ZW1wbGF0ZVNldHRpbmdzLmludGVycG9sYXRlXVxuICAgICAqICBUaGUgXCJpbnRlcnBvbGF0ZVwiIGRlbGltaXRlci5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW29wdGlvbnMuc291cmNlVVJMPSdsb2Rhc2gudGVtcGxhdGVTb3VyY2VzW25dJ11cbiAgICAgKiAgVGhlIHNvdXJjZVVSTCBvZiB0aGUgY29tcGlsZWQgdGVtcGxhdGUuXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFtvcHRpb25zLnZhcmlhYmxlPSdvYmonXVxuICAgICAqICBUaGUgZGF0YSBvYmplY3QgdmFyaWFibGUgbmFtZS5cbiAgICAgKiBAcGFyYW0tIHtPYmplY3R9IFtndWFyZF0gRW5hYmxlcyB1c2UgYXMgYW4gaXRlcmF0ZWUgZm9yIG1ldGhvZHMgbGlrZSBgXy5tYXBgLlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgY29tcGlsZWQgdGVtcGxhdGUgZnVuY3Rpb24uXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIC8vIFVzZSB0aGUgXCJpbnRlcnBvbGF0ZVwiIGRlbGltaXRlciB0byBjcmVhdGUgYSBjb21waWxlZCB0ZW1wbGF0ZS5cbiAgICAgKiB2YXIgY29tcGlsZWQgPSBfLnRlbXBsYXRlKCdoZWxsbyA8JT0gdXNlciAlPiEnKTtcbiAgICAgKiBjb21waWxlZCh7ICd1c2VyJzogJ2ZyZWQnIH0pO1xuICAgICAqIC8vID0+ICdoZWxsbyBmcmVkISdcbiAgICAgKlxuICAgICAqIC8vIFVzZSB0aGUgSFRNTCBcImVzY2FwZVwiIGRlbGltaXRlciB0byBlc2NhcGUgZGF0YSBwcm9wZXJ0eSB2YWx1ZXMuXG4gICAgICogdmFyIGNvbXBpbGVkID0gXy50ZW1wbGF0ZSgnPGI+PCUtIHZhbHVlICU+PC9iPicpO1xuICAgICAqIGNvbXBpbGVkKHsgJ3ZhbHVlJzogJzxzY3JpcHQ+JyB9KTtcbiAgICAgKiAvLyA9PiAnPGI+Jmx0O3NjcmlwdCZndDs8L2I+J1xuICAgICAqXG4gICAgICogLy8gVXNlIHRoZSBcImV2YWx1YXRlXCIgZGVsaW1pdGVyIHRvIGV4ZWN1dGUgSmF2YVNjcmlwdCBhbmQgZ2VuZXJhdGUgSFRNTC5cbiAgICAgKiB2YXIgY29tcGlsZWQgPSBfLnRlbXBsYXRlKCc8JSBfLmZvckVhY2godXNlcnMsIGZ1bmN0aW9uKHVzZXIpIHsgJT48bGk+PCUtIHVzZXIgJT48L2xpPjwlIH0pOyAlPicpO1xuICAgICAqIGNvbXBpbGVkKHsgJ3VzZXJzJzogWydmcmVkJywgJ2Jhcm5leSddIH0pO1xuICAgICAqIC8vID0+ICc8bGk+ZnJlZDwvbGk+PGxpPmJhcm5leTwvbGk+J1xuICAgICAqXG4gICAgICogLy8gVXNlIHRoZSBpbnRlcm5hbCBgcHJpbnRgIGZ1bmN0aW9uIGluIFwiZXZhbHVhdGVcIiBkZWxpbWl0ZXJzLlxuICAgICAqIHZhciBjb21waWxlZCA9IF8udGVtcGxhdGUoJzwlIHByaW50KFwiaGVsbG8gXCIgKyB1c2VyKTsgJT4hJyk7XG4gICAgICogY29tcGlsZWQoeyAndXNlcic6ICdiYXJuZXknIH0pO1xuICAgICAqIC8vID0+ICdoZWxsbyBiYXJuZXkhJ1xuICAgICAqXG4gICAgICogLy8gVXNlIHRoZSBFUyB0ZW1wbGF0ZSBsaXRlcmFsIGRlbGltaXRlciBhcyBhbiBcImludGVycG9sYXRlXCIgZGVsaW1pdGVyLlxuICAgICAqIC8vIERpc2FibGUgc3VwcG9ydCBieSByZXBsYWNpbmcgdGhlIFwiaW50ZXJwb2xhdGVcIiBkZWxpbWl0ZXIuXG4gICAgICogdmFyIGNvbXBpbGVkID0gXy50ZW1wbGF0ZSgnaGVsbG8gJHsgdXNlciB9IScpO1xuICAgICAqIGNvbXBpbGVkKHsgJ3VzZXInOiAncGViYmxlcycgfSk7XG4gICAgICogLy8gPT4gJ2hlbGxvIHBlYmJsZXMhJ1xuICAgICAqXG4gICAgICogLy8gVXNlIGJhY2tzbGFzaGVzIHRvIHRyZWF0IGRlbGltaXRlcnMgYXMgcGxhaW4gdGV4dC5cbiAgICAgKiB2YXIgY29tcGlsZWQgPSBfLnRlbXBsYXRlKCc8JT0gXCJcXFxcPCUtIHZhbHVlICVcXFxcPlwiICU+Jyk7XG4gICAgICogY29tcGlsZWQoeyAndmFsdWUnOiAnaWdub3JlZCcgfSk7XG4gICAgICogLy8gPT4gJzwlLSB2YWx1ZSAlPidcbiAgICAgKlxuICAgICAqIC8vIFVzZSB0aGUgYGltcG9ydHNgIG9wdGlvbiB0byBpbXBvcnQgYGpRdWVyeWAgYXMgYGpxYC5cbiAgICAgKiB2YXIgdGV4dCA9ICc8JSBqcS5lYWNoKHVzZXJzLCBmdW5jdGlvbih1c2VyKSB7ICU+PGxpPjwlLSB1c2VyICU+PC9saT48JSB9KTsgJT4nO1xuICAgICAqIHZhciBjb21waWxlZCA9IF8udGVtcGxhdGUodGV4dCwgeyAnaW1wb3J0cyc6IHsgJ2pxJzogalF1ZXJ5IH0gfSk7XG4gICAgICogY29tcGlsZWQoeyAndXNlcnMnOiBbJ2ZyZWQnLCAnYmFybmV5J10gfSk7XG4gICAgICogLy8gPT4gJzxsaT5mcmVkPC9saT48bGk+YmFybmV5PC9saT4nXG4gICAgICpcbiAgICAgKiAvLyBVc2UgdGhlIGBzb3VyY2VVUkxgIG9wdGlvbiB0byBzcGVjaWZ5IGEgY3VzdG9tIHNvdXJjZVVSTCBmb3IgdGhlIHRlbXBsYXRlLlxuICAgICAqIHZhciBjb21waWxlZCA9IF8udGVtcGxhdGUoJ2hlbGxvIDwlPSB1c2VyICU+IScsIHsgJ3NvdXJjZVVSTCc6ICcvYmFzaWMvZ3JlZXRpbmcuanN0JyB9KTtcbiAgICAgKiBjb21waWxlZChkYXRhKTtcbiAgICAgKiAvLyA9PiBGaW5kIHRoZSBzb3VyY2Ugb2YgXCJncmVldGluZy5qc3RcIiB1bmRlciB0aGUgU291cmNlcyB0YWIgb3IgUmVzb3VyY2VzIHBhbmVsIG9mIHRoZSB3ZWIgaW5zcGVjdG9yLlxuICAgICAqXG4gICAgICogLy8gVXNlIHRoZSBgdmFyaWFibGVgIG9wdGlvbiB0byBlbnN1cmUgYSB3aXRoLXN0YXRlbWVudCBpc24ndCB1c2VkIGluIHRoZSBjb21waWxlZCB0ZW1wbGF0ZS5cbiAgICAgKiB2YXIgY29tcGlsZWQgPSBfLnRlbXBsYXRlKCdoaSA8JT0gZGF0YS51c2VyICU+IScsIHsgJ3ZhcmlhYmxlJzogJ2RhdGEnIH0pO1xuICAgICAqIGNvbXBpbGVkLnNvdXJjZTtcbiAgICAgKiAvLyA9PiBmdW5jdGlvbihkYXRhKSB7XG4gICAgICogLy8gICB2YXIgX190LCBfX3AgPSAnJztcbiAgICAgKiAvLyAgIF9fcCArPSAnaGkgJyArICgoX190ID0gKCBkYXRhLnVzZXIgKSkgPT0gbnVsbCA/ICcnIDogX190KSArICchJztcbiAgICAgKiAvLyAgIHJldHVybiBfX3A7XG4gICAgICogLy8gfVxuICAgICAqXG4gICAgICogLy8gVXNlIGN1c3RvbSB0ZW1wbGF0ZSBkZWxpbWl0ZXJzLlxuICAgICAqIF8udGVtcGxhdGVTZXR0aW5ncy5pbnRlcnBvbGF0ZSA9IC97eyhbXFxzXFxTXSs/KX19L2c7XG4gICAgICogdmFyIGNvbXBpbGVkID0gXy50ZW1wbGF0ZSgnaGVsbG8ge3sgdXNlciB9fSEnKTtcbiAgICAgKiBjb21waWxlZCh7ICd1c2VyJzogJ211c3RhY2hlJyB9KTtcbiAgICAgKiAvLyA9PiAnaGVsbG8gbXVzdGFjaGUhJ1xuICAgICAqXG4gICAgICogLy8gVXNlIHRoZSBgc291cmNlYCBwcm9wZXJ0eSB0byBpbmxpbmUgY29tcGlsZWQgdGVtcGxhdGVzIGZvciBtZWFuaW5nZnVsXG4gICAgICogLy8gbGluZSBudW1iZXJzIGluIGVycm9yIG1lc3NhZ2VzIGFuZCBzdGFjayB0cmFjZXMuXG4gICAgICogZnMud3JpdGVGaWxlU3luYyhwYXRoLmpvaW4ocHJvY2Vzcy5jd2QoKSwgJ2pzdC5qcycpLCAnXFxcbiAgICAgKiAgIHZhciBKU1QgPSB7XFxcbiAgICAgKiAgICAgXCJtYWluXCI6ICcgKyBfLnRlbXBsYXRlKG1haW5UZXh0KS5zb3VyY2UgKyAnXFxcbiAgICAgKiAgIH07XFxcbiAgICAgKiAnKTtcbiAgICAgKi9cbiAgICBmdW5jdGlvbiB0ZW1wbGF0ZShzdHJpbmcsIG9wdGlvbnMsIGd1YXJkKSB7XG4gICAgICAvLyBCYXNlZCBvbiBKb2huIFJlc2lnJ3MgYHRtcGxgIGltcGxlbWVudGF0aW9uXG4gICAgICAvLyAoaHR0cDovL2Vqb2huLm9yZy9ibG9nL2phdmFzY3JpcHQtbWljcm8tdGVtcGxhdGluZy8pXG4gICAgICAvLyBhbmQgTGF1cmEgRG9rdG9yb3ZhJ3MgZG9ULmpzIChodHRwczovL2dpdGh1Yi5jb20vb2xhZG8vZG9UKS5cbiAgICAgIHZhciBzZXR0aW5ncyA9IGxvZGFzaC50ZW1wbGF0ZVNldHRpbmdzO1xuXG4gICAgICBpZiAoZ3VhcmQgJiYgaXNJdGVyYXRlZUNhbGwoc3RyaW5nLCBvcHRpb25zLCBndWFyZCkpIHtcbiAgICAgICAgb3B0aW9ucyA9IHVuZGVmaW5lZDtcbiAgICAgIH1cbiAgICAgIHN0cmluZyA9IHRvU3RyaW5nKHN0cmluZyk7XG4gICAgICBvcHRpb25zID0gYXNzaWduSW5XaXRoKHt9LCBvcHRpb25zLCBzZXR0aW5ncywgY3VzdG9tRGVmYXVsdHNBc3NpZ25Jbik7XG5cbiAgICAgIHZhciBpbXBvcnRzID0gYXNzaWduSW5XaXRoKHt9LCBvcHRpb25zLmltcG9ydHMsIHNldHRpbmdzLmltcG9ydHMsIGN1c3RvbURlZmF1bHRzQXNzaWduSW4pLFxuICAgICAgICAgIGltcG9ydHNLZXlzID0ga2V5cyhpbXBvcnRzKSxcbiAgICAgICAgICBpbXBvcnRzVmFsdWVzID0gYmFzZVZhbHVlcyhpbXBvcnRzLCBpbXBvcnRzS2V5cyk7XG5cbiAgICAgIHZhciBpc0VzY2FwaW5nLFxuICAgICAgICAgIGlzRXZhbHVhdGluZyxcbiAgICAgICAgICBpbmRleCA9IDAsXG4gICAgICAgICAgaW50ZXJwb2xhdGUgPSBvcHRpb25zLmludGVycG9sYXRlIHx8IHJlTm9NYXRjaCxcbiAgICAgICAgICBzb3VyY2UgPSBcIl9fcCArPSAnXCI7XG5cbiAgICAgIC8vIENvbXBpbGUgdGhlIHJlZ2V4cCB0byBtYXRjaCBlYWNoIGRlbGltaXRlci5cbiAgICAgIHZhciByZURlbGltaXRlcnMgPSBSZWdFeHAoXG4gICAgICAgIChvcHRpb25zLmVzY2FwZSB8fCByZU5vTWF0Y2gpLnNvdXJjZSArICd8JyArXG4gICAgICAgIGludGVycG9sYXRlLnNvdXJjZSArICd8JyArXG4gICAgICAgIChpbnRlcnBvbGF0ZSA9PT0gcmVJbnRlcnBvbGF0ZSA/IHJlRXNUZW1wbGF0ZSA6IHJlTm9NYXRjaCkuc291cmNlICsgJ3wnICtcbiAgICAgICAgKG9wdGlvbnMuZXZhbHVhdGUgfHwgcmVOb01hdGNoKS5zb3VyY2UgKyAnfCQnXG4gICAgICAsICdnJyk7XG5cbiAgICAgIC8vIFVzZSBhIHNvdXJjZVVSTCBmb3IgZWFzaWVyIGRlYnVnZ2luZy5cbiAgICAgIC8vIFRoZSBzb3VyY2VVUkwgZ2V0cyBpbmplY3RlZCBpbnRvIHRoZSBzb3VyY2UgdGhhdCdzIGV2YWwtZWQsIHNvIGJlIGNhcmVmdWxcbiAgICAgIC8vIHdpdGggbG9va3VwIChpbiBjYXNlIG9mIGUuZy4gcHJvdG90eXBlIHBvbGx1dGlvbiksIGFuZCBzdHJpcCBuZXdsaW5lcyBpZiBhbnkuXG4gICAgICAvLyBBIG5ld2xpbmUgd291bGRuJ3QgYmUgYSB2YWxpZCBzb3VyY2VVUkwgYW55d2F5LCBhbmQgaXQnZCBlbmFibGUgY29kZSBpbmplY3Rpb24uXG4gICAgICB2YXIgc291cmNlVVJMID0gJy8vIyBzb3VyY2VVUkw9JyArXG4gICAgICAgIChoYXNPd25Qcm9wZXJ0eS5jYWxsKG9wdGlvbnMsICdzb3VyY2VVUkwnKVxuICAgICAgICAgID8gKG9wdGlvbnMuc291cmNlVVJMICsgJycpLnJlcGxhY2UoL1tcXHJcXG5dL2csICcgJylcbiAgICAgICAgICA6ICgnbG9kYXNoLnRlbXBsYXRlU291cmNlc1snICsgKCsrdGVtcGxhdGVDb3VudGVyKSArICddJylcbiAgICAgICAgKSArICdcXG4nO1xuXG4gICAgICBzdHJpbmcucmVwbGFjZShyZURlbGltaXRlcnMsIGZ1bmN0aW9uKG1hdGNoLCBlc2NhcGVWYWx1ZSwgaW50ZXJwb2xhdGVWYWx1ZSwgZXNUZW1wbGF0ZVZhbHVlLCBldmFsdWF0ZVZhbHVlLCBvZmZzZXQpIHtcbiAgICAgICAgaW50ZXJwb2xhdGVWYWx1ZSB8fCAoaW50ZXJwb2xhdGVWYWx1ZSA9IGVzVGVtcGxhdGVWYWx1ZSk7XG5cbiAgICAgICAgLy8gRXNjYXBlIGNoYXJhY3RlcnMgdGhhdCBjYW4ndCBiZSBpbmNsdWRlZCBpbiBzdHJpbmcgbGl0ZXJhbHMuXG4gICAgICAgIHNvdXJjZSArPSBzdHJpbmcuc2xpY2UoaW5kZXgsIG9mZnNldCkucmVwbGFjZShyZVVuZXNjYXBlZFN0cmluZywgZXNjYXBlU3RyaW5nQ2hhcik7XG5cbiAgICAgICAgLy8gUmVwbGFjZSBkZWxpbWl0ZXJzIHdpdGggc25pcHBldHMuXG4gICAgICAgIGlmIChlc2NhcGVWYWx1ZSkge1xuICAgICAgICAgIGlzRXNjYXBpbmcgPSB0cnVlO1xuICAgICAgICAgIHNvdXJjZSArPSBcIicgK1xcbl9fZShcIiArIGVzY2FwZVZhbHVlICsgXCIpICtcXG4nXCI7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGV2YWx1YXRlVmFsdWUpIHtcbiAgICAgICAgICBpc0V2YWx1YXRpbmcgPSB0cnVlO1xuICAgICAgICAgIHNvdXJjZSArPSBcIic7XFxuXCIgKyBldmFsdWF0ZVZhbHVlICsgXCI7XFxuX19wICs9ICdcIjtcbiAgICAgICAgfVxuICAgICAgICBpZiAoaW50ZXJwb2xhdGVWYWx1ZSkge1xuICAgICAgICAgIHNvdXJjZSArPSBcIicgK1xcbigoX190ID0gKFwiICsgaW50ZXJwb2xhdGVWYWx1ZSArIFwiKSkgPT0gbnVsbCA/ICcnIDogX190KSArXFxuJ1wiO1xuICAgICAgICB9XG4gICAgICAgIGluZGV4ID0gb2Zmc2V0ICsgbWF0Y2gubGVuZ3RoO1xuXG4gICAgICAgIC8vIFRoZSBKUyBlbmdpbmUgZW1iZWRkZWQgaW4gQWRvYmUgcHJvZHVjdHMgbmVlZHMgYG1hdGNoYCByZXR1cm5lZCBpblxuICAgICAgICAvLyBvcmRlciB0byBwcm9kdWNlIHRoZSBjb3JyZWN0IGBvZmZzZXRgIHZhbHVlLlxuICAgICAgICByZXR1cm4gbWF0Y2g7XG4gICAgICB9KTtcblxuICAgICAgc291cmNlICs9IFwiJztcXG5cIjtcblxuICAgICAgLy8gSWYgYHZhcmlhYmxlYCBpcyBub3Qgc3BlY2lmaWVkIHdyYXAgYSB3aXRoLXN0YXRlbWVudCBhcm91bmQgdGhlIGdlbmVyYXRlZFxuICAgICAgLy8gY29kZSB0byBhZGQgdGhlIGRhdGEgb2JqZWN0IHRvIHRoZSB0b3Agb2YgdGhlIHNjb3BlIGNoYWluLlxuICAgICAgLy8gTGlrZSB3aXRoIHNvdXJjZVVSTCwgd2UgdGFrZSBjYXJlIHRvIG5vdCBjaGVjayB0aGUgb3B0aW9uJ3MgcHJvdG90eXBlLFxuICAgICAgLy8gYXMgdGhpcyBjb25maWd1cmF0aW9uIGlzIGEgY29kZSBpbmplY3Rpb24gdmVjdG9yLlxuICAgICAgdmFyIHZhcmlhYmxlID0gaGFzT3duUHJvcGVydHkuY2FsbChvcHRpb25zLCAndmFyaWFibGUnKSAmJiBvcHRpb25zLnZhcmlhYmxlO1xuICAgICAgaWYgKCF2YXJpYWJsZSkge1xuICAgICAgICBzb3VyY2UgPSAnd2l0aCAob2JqKSB7XFxuJyArIHNvdXJjZSArICdcXG59XFxuJztcbiAgICAgIH1cbiAgICAgIC8vIENsZWFudXAgY29kZSBieSBzdHJpcHBpbmcgZW1wdHkgc3RyaW5ncy5cbiAgICAgIHNvdXJjZSA9IChpc0V2YWx1YXRpbmcgPyBzb3VyY2UucmVwbGFjZShyZUVtcHR5U3RyaW5nTGVhZGluZywgJycpIDogc291cmNlKVxuICAgICAgICAucmVwbGFjZShyZUVtcHR5U3RyaW5nTWlkZGxlLCAnJDEnKVxuICAgICAgICAucmVwbGFjZShyZUVtcHR5U3RyaW5nVHJhaWxpbmcsICckMTsnKTtcblxuICAgICAgLy8gRnJhbWUgY29kZSBhcyB0aGUgZnVuY3Rpb24gYm9keS5cbiAgICAgIHNvdXJjZSA9ICdmdW5jdGlvbignICsgKHZhcmlhYmxlIHx8ICdvYmonKSArICcpIHtcXG4nICtcbiAgICAgICAgKHZhcmlhYmxlXG4gICAgICAgICAgPyAnJ1xuICAgICAgICAgIDogJ29iaiB8fCAob2JqID0ge30pO1xcbidcbiAgICAgICAgKSArXG4gICAgICAgIFwidmFyIF9fdCwgX19wID0gJydcIiArXG4gICAgICAgIChpc0VzY2FwaW5nXG4gICAgICAgICAgID8gJywgX19lID0gXy5lc2NhcGUnXG4gICAgICAgICAgIDogJydcbiAgICAgICAgKSArXG4gICAgICAgIChpc0V2YWx1YXRpbmdcbiAgICAgICAgICA/ICcsIF9faiA9IEFycmF5LnByb3RvdHlwZS5qb2luO1xcbicgK1xuICAgICAgICAgICAgXCJmdW5jdGlvbiBwcmludCgpIHsgX19wICs9IF9fai5jYWxsKGFyZ3VtZW50cywgJycpIH1cXG5cIlxuICAgICAgICAgIDogJztcXG4nXG4gICAgICAgICkgK1xuICAgICAgICBzb3VyY2UgK1xuICAgICAgICAncmV0dXJuIF9fcFxcbn0nO1xuXG4gICAgICB2YXIgcmVzdWx0ID0gYXR0ZW1wdChmdW5jdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIEZ1bmN0aW9uKGltcG9ydHNLZXlzLCBzb3VyY2VVUkwgKyAncmV0dXJuICcgKyBzb3VyY2UpXG4gICAgICAgICAgLmFwcGx5KHVuZGVmaW5lZCwgaW1wb3J0c1ZhbHVlcyk7XG4gICAgICB9KTtcblxuICAgICAgLy8gUHJvdmlkZSB0aGUgY29tcGlsZWQgZnVuY3Rpb24ncyBzb3VyY2UgYnkgaXRzIGB0b1N0cmluZ2AgbWV0aG9kIG9yXG4gICAgICAvLyB0aGUgYHNvdXJjZWAgcHJvcGVydHkgYXMgYSBjb252ZW5pZW5jZSBmb3IgaW5saW5pbmcgY29tcGlsZWQgdGVtcGxhdGVzLlxuICAgICAgcmVzdWx0LnNvdXJjZSA9IHNvdXJjZTtcbiAgICAgIGlmIChpc0Vycm9yKHJlc3VsdCkpIHtcbiAgICAgICAgdGhyb3cgcmVzdWx0O1xuICAgICAgfVxuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDb252ZXJ0cyBgc3RyaW5nYCwgYXMgYSB3aG9sZSwgdG8gbG93ZXIgY2FzZSBqdXN0IGxpa2VcbiAgICAgKiBbU3RyaW5nI3RvTG93ZXJDYXNlXShodHRwczovL21kbi5pby90b0xvd2VyQ2FzZSkuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgU3RyaW5nXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFtzdHJpbmc9JyddIFRoZSBzdHJpbmcgdG8gY29udmVydC5cbiAgICAgKiBAcmV0dXJucyB7c3RyaW5nfSBSZXR1cm5zIHRoZSBsb3dlciBjYXNlZCBzdHJpbmcuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8udG9Mb3dlcignLS1Gb28tQmFyLS0nKTtcbiAgICAgKiAvLyA9PiAnLS1mb28tYmFyLS0nXG4gICAgICpcbiAgICAgKiBfLnRvTG93ZXIoJ2Zvb0JhcicpO1xuICAgICAqIC8vID0+ICdmb29iYXInXG4gICAgICpcbiAgICAgKiBfLnRvTG93ZXIoJ19fRk9PX0JBUl9fJyk7XG4gICAgICogLy8gPT4gJ19fZm9vX2Jhcl9fJ1xuICAgICAqL1xuICAgIGZ1bmN0aW9uIHRvTG93ZXIodmFsdWUpIHtcbiAgICAgIHJldHVybiB0b1N0cmluZyh2YWx1ZSkudG9Mb3dlckNhc2UoKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDb252ZXJ0cyBgc3RyaW5nYCwgYXMgYSB3aG9sZSwgdG8gdXBwZXIgY2FzZSBqdXN0IGxpa2VcbiAgICAgKiBbU3RyaW5nI3RvVXBwZXJDYXNlXShodHRwczovL21kbi5pby90b1VwcGVyQ2FzZSkuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgU3RyaW5nXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFtzdHJpbmc9JyddIFRoZSBzdHJpbmcgdG8gY29udmVydC5cbiAgICAgKiBAcmV0dXJucyB7c3RyaW5nfSBSZXR1cm5zIHRoZSB1cHBlciBjYXNlZCBzdHJpbmcuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8udG9VcHBlcignLS1mb28tYmFyLS0nKTtcbiAgICAgKiAvLyA9PiAnLS1GT08tQkFSLS0nXG4gICAgICpcbiAgICAgKiBfLnRvVXBwZXIoJ2Zvb0JhcicpO1xuICAgICAqIC8vID0+ICdGT09CQVInXG4gICAgICpcbiAgICAgKiBfLnRvVXBwZXIoJ19fZm9vX2Jhcl9fJyk7XG4gICAgICogLy8gPT4gJ19fRk9PX0JBUl9fJ1xuICAgICAqL1xuICAgIGZ1bmN0aW9uIHRvVXBwZXIodmFsdWUpIHtcbiAgICAgIHJldHVybiB0b1N0cmluZyh2YWx1ZSkudG9VcHBlckNhc2UoKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZW1vdmVzIGxlYWRpbmcgYW5kIHRyYWlsaW5nIHdoaXRlc3BhY2Ugb3Igc3BlY2lmaWVkIGNoYXJhY3RlcnMgZnJvbSBgc3RyaW5nYC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAzLjAuMFxuICAgICAqIEBjYXRlZ29yeSBTdHJpbmdcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW3N0cmluZz0nJ10gVGhlIHN0cmluZyB0byB0cmltLlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbY2hhcnM9d2hpdGVzcGFjZV0gVGhlIGNoYXJhY3RlcnMgdG8gdHJpbS5cbiAgICAgKiBAcGFyYW0tIHtPYmplY3R9IFtndWFyZF0gRW5hYmxlcyB1c2UgYXMgYW4gaXRlcmF0ZWUgZm9yIG1ldGhvZHMgbGlrZSBgXy5tYXBgLlxuICAgICAqIEByZXR1cm5zIHtzdHJpbmd9IFJldHVybnMgdGhlIHRyaW1tZWQgc3RyaW5nLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLnRyaW0oJyAgYWJjICAnKTtcbiAgICAgKiAvLyA9PiAnYWJjJ1xuICAgICAqXG4gICAgICogXy50cmltKCctXy1hYmMtXy0nLCAnXy0nKTtcbiAgICAgKiAvLyA9PiAnYWJjJ1xuICAgICAqXG4gICAgICogXy5tYXAoWycgIGZvbyAgJywgJyAgYmFyICAnXSwgXy50cmltKTtcbiAgICAgKiAvLyA9PiBbJ2ZvbycsICdiYXInXVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHRyaW0oc3RyaW5nLCBjaGFycywgZ3VhcmQpIHtcbiAgICAgIHN0cmluZyA9IHRvU3RyaW5nKHN0cmluZyk7XG4gICAgICBpZiAoc3RyaW5nICYmIChndWFyZCB8fCBjaGFycyA9PT0gdW5kZWZpbmVkKSkge1xuICAgICAgICByZXR1cm4gc3RyaW5nLnJlcGxhY2UocmVUcmltLCAnJyk7XG4gICAgICB9XG4gICAgICBpZiAoIXN0cmluZyB8fCAhKGNoYXJzID0gYmFzZVRvU3RyaW5nKGNoYXJzKSkpIHtcbiAgICAgICAgcmV0dXJuIHN0cmluZztcbiAgICAgIH1cbiAgICAgIHZhciBzdHJTeW1ib2xzID0gc3RyaW5nVG9BcnJheShzdHJpbmcpLFxuICAgICAgICAgIGNoclN5bWJvbHMgPSBzdHJpbmdUb0FycmF5KGNoYXJzKSxcbiAgICAgICAgICBzdGFydCA9IGNoYXJzU3RhcnRJbmRleChzdHJTeW1ib2xzLCBjaHJTeW1ib2xzKSxcbiAgICAgICAgICBlbmQgPSBjaGFyc0VuZEluZGV4KHN0clN5bWJvbHMsIGNoclN5bWJvbHMpICsgMTtcblxuICAgICAgcmV0dXJuIGNhc3RTbGljZShzdHJTeW1ib2xzLCBzdGFydCwgZW5kKS5qb2luKCcnKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZW1vdmVzIHRyYWlsaW5nIHdoaXRlc3BhY2Ugb3Igc3BlY2lmaWVkIGNoYXJhY3RlcnMgZnJvbSBgc3RyaW5nYC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBTdHJpbmdcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW3N0cmluZz0nJ10gVGhlIHN0cmluZyB0byB0cmltLlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbY2hhcnM9d2hpdGVzcGFjZV0gVGhlIGNoYXJhY3RlcnMgdG8gdHJpbS5cbiAgICAgKiBAcGFyYW0tIHtPYmplY3R9IFtndWFyZF0gRW5hYmxlcyB1c2UgYXMgYW4gaXRlcmF0ZWUgZm9yIG1ldGhvZHMgbGlrZSBgXy5tYXBgLlxuICAgICAqIEByZXR1cm5zIHtzdHJpbmd9IFJldHVybnMgdGhlIHRyaW1tZWQgc3RyaW5nLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLnRyaW1FbmQoJyAgYWJjICAnKTtcbiAgICAgKiAvLyA9PiAnICBhYmMnXG4gICAgICpcbiAgICAgKiBfLnRyaW1FbmQoJy1fLWFiYy1fLScsICdfLScpO1xuICAgICAqIC8vID0+ICctXy1hYmMnXG4gICAgICovXG4gICAgZnVuY3Rpb24gdHJpbUVuZChzdHJpbmcsIGNoYXJzLCBndWFyZCkge1xuICAgICAgc3RyaW5nID0gdG9TdHJpbmcoc3RyaW5nKTtcbiAgICAgIGlmIChzdHJpbmcgJiYgKGd1YXJkIHx8IGNoYXJzID09PSB1bmRlZmluZWQpKSB7XG4gICAgICAgIHJldHVybiBzdHJpbmcucmVwbGFjZShyZVRyaW1FbmQsICcnKTtcbiAgICAgIH1cbiAgICAgIGlmICghc3RyaW5nIHx8ICEoY2hhcnMgPSBiYXNlVG9TdHJpbmcoY2hhcnMpKSkge1xuICAgICAgICByZXR1cm4gc3RyaW5nO1xuICAgICAgfVxuICAgICAgdmFyIHN0clN5bWJvbHMgPSBzdHJpbmdUb0FycmF5KHN0cmluZyksXG4gICAgICAgICAgZW5kID0gY2hhcnNFbmRJbmRleChzdHJTeW1ib2xzLCBzdHJpbmdUb0FycmF5KGNoYXJzKSkgKyAxO1xuXG4gICAgICByZXR1cm4gY2FzdFNsaWNlKHN0clN5bWJvbHMsIDAsIGVuZCkuam9pbignJyk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmVtb3ZlcyBsZWFkaW5nIHdoaXRlc3BhY2Ugb3Igc3BlY2lmaWVkIGNoYXJhY3RlcnMgZnJvbSBgc3RyaW5nYC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBTdHJpbmdcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW3N0cmluZz0nJ10gVGhlIHN0cmluZyB0byB0cmltLlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbY2hhcnM9d2hpdGVzcGFjZV0gVGhlIGNoYXJhY3RlcnMgdG8gdHJpbS5cbiAgICAgKiBAcGFyYW0tIHtPYmplY3R9IFtndWFyZF0gRW5hYmxlcyB1c2UgYXMgYW4gaXRlcmF0ZWUgZm9yIG1ldGhvZHMgbGlrZSBgXy5tYXBgLlxuICAgICAqIEByZXR1cm5zIHtzdHJpbmd9IFJldHVybnMgdGhlIHRyaW1tZWQgc3RyaW5nLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLnRyaW1TdGFydCgnICBhYmMgICcpO1xuICAgICAqIC8vID0+ICdhYmMgICdcbiAgICAgKlxuICAgICAqIF8udHJpbVN0YXJ0KCctXy1hYmMtXy0nLCAnXy0nKTtcbiAgICAgKiAvLyA9PiAnYWJjLV8tJ1xuICAgICAqL1xuICAgIGZ1bmN0aW9uIHRyaW1TdGFydChzdHJpbmcsIGNoYXJzLCBndWFyZCkge1xuICAgICAgc3RyaW5nID0gdG9TdHJpbmcoc3RyaW5nKTtcbiAgICAgIGlmIChzdHJpbmcgJiYgKGd1YXJkIHx8IGNoYXJzID09PSB1bmRlZmluZWQpKSB7XG4gICAgICAgIHJldHVybiBzdHJpbmcucmVwbGFjZShyZVRyaW1TdGFydCwgJycpO1xuICAgICAgfVxuICAgICAgaWYgKCFzdHJpbmcgfHwgIShjaGFycyA9IGJhc2VUb1N0cmluZyhjaGFycykpKSB7XG4gICAgICAgIHJldHVybiBzdHJpbmc7XG4gICAgICB9XG4gICAgICB2YXIgc3RyU3ltYm9scyA9IHN0cmluZ1RvQXJyYXkoc3RyaW5nKSxcbiAgICAgICAgICBzdGFydCA9IGNoYXJzU3RhcnRJbmRleChzdHJTeW1ib2xzLCBzdHJpbmdUb0FycmF5KGNoYXJzKSk7XG5cbiAgICAgIHJldHVybiBjYXN0U2xpY2Uoc3RyU3ltYm9scywgc3RhcnQpLmpvaW4oJycpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRydW5jYXRlcyBgc3RyaW5nYCBpZiBpdCdzIGxvbmdlciB0aGFuIHRoZSBnaXZlbiBtYXhpbXVtIHN0cmluZyBsZW5ndGguXG4gICAgICogVGhlIGxhc3QgY2hhcmFjdGVycyBvZiB0aGUgdHJ1bmNhdGVkIHN0cmluZyBhcmUgcmVwbGFjZWQgd2l0aCB0aGUgb21pc3Npb25cbiAgICAgKiBzdHJpbmcgd2hpY2ggZGVmYXVsdHMgdG8gXCIuLi5cIi5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBTdHJpbmdcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW3N0cmluZz0nJ10gVGhlIHN0cmluZyB0byB0cnVuY2F0ZS5cbiAgICAgKiBAcGFyYW0ge09iamVjdH0gW29wdGlvbnM9e31dIFRoZSBvcHRpb25zIG9iamVjdC5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW29wdGlvbnMubGVuZ3RoPTMwXSBUaGUgbWF4aW11bSBzdHJpbmcgbGVuZ3RoLlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbb3B0aW9ucy5vbWlzc2lvbj0nLi4uJ10gVGhlIHN0cmluZyB0byBpbmRpY2F0ZSB0ZXh0IGlzIG9taXR0ZWQuXG4gICAgICogQHBhcmFtIHtSZWdFeHB8c3RyaW5nfSBbb3B0aW9ucy5zZXBhcmF0b3JdIFRoZSBzZXBhcmF0b3IgcGF0dGVybiB0byB0cnVuY2F0ZSB0by5cbiAgICAgKiBAcmV0dXJucyB7c3RyaW5nfSBSZXR1cm5zIHRoZSB0cnVuY2F0ZWQgc3RyaW5nLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLnRydW5jYXRlKCdoaS1kaWRkbHktaG8gdGhlcmUsIG5laWdoYm9yaW5vJyk7XG4gICAgICogLy8gPT4gJ2hpLWRpZGRseS1obyB0aGVyZSwgbmVpZ2hiby4uLidcbiAgICAgKlxuICAgICAqIF8udHJ1bmNhdGUoJ2hpLWRpZGRseS1obyB0aGVyZSwgbmVpZ2hib3Jpbm8nLCB7XG4gICAgICogICAnbGVuZ3RoJzogMjQsXG4gICAgICogICAnc2VwYXJhdG9yJzogJyAnXG4gICAgICogfSk7XG4gICAgICogLy8gPT4gJ2hpLWRpZGRseS1obyB0aGVyZSwuLi4nXG4gICAgICpcbiAgICAgKiBfLnRydW5jYXRlKCdoaS1kaWRkbHktaG8gdGhlcmUsIG5laWdoYm9yaW5vJywge1xuICAgICAqICAgJ2xlbmd0aCc6IDI0LFxuICAgICAqICAgJ3NlcGFyYXRvcic6IC8sPyArL1xuICAgICAqIH0pO1xuICAgICAqIC8vID0+ICdoaS1kaWRkbHktaG8gdGhlcmUuLi4nXG4gICAgICpcbiAgICAgKiBfLnRydW5jYXRlKCdoaS1kaWRkbHktaG8gdGhlcmUsIG5laWdoYm9yaW5vJywge1xuICAgICAqICAgJ29taXNzaW9uJzogJyBbLi4uXSdcbiAgICAgKiB9KTtcbiAgICAgKiAvLyA9PiAnaGktZGlkZGx5LWhvIHRoZXJlLCBuZWlnIFsuLi5dJ1xuICAgICAqL1xuICAgIGZ1bmN0aW9uIHRydW5jYXRlKHN0cmluZywgb3B0aW9ucykge1xuICAgICAgdmFyIGxlbmd0aCA9IERFRkFVTFRfVFJVTkNfTEVOR1RILFxuICAgICAgICAgIG9taXNzaW9uID0gREVGQVVMVF9UUlVOQ19PTUlTU0lPTjtcblxuICAgICAgaWYgKGlzT2JqZWN0KG9wdGlvbnMpKSB7XG4gICAgICAgIHZhciBzZXBhcmF0b3IgPSAnc2VwYXJhdG9yJyBpbiBvcHRpb25zID8gb3B0aW9ucy5zZXBhcmF0b3IgOiBzZXBhcmF0b3I7XG4gICAgICAgIGxlbmd0aCA9ICdsZW5ndGgnIGluIG9wdGlvbnMgPyB0b0ludGVnZXIob3B0aW9ucy5sZW5ndGgpIDogbGVuZ3RoO1xuICAgICAgICBvbWlzc2lvbiA9ICdvbWlzc2lvbicgaW4gb3B0aW9ucyA/IGJhc2VUb1N0cmluZyhvcHRpb25zLm9taXNzaW9uKSA6IG9taXNzaW9uO1xuICAgICAgfVxuICAgICAgc3RyaW5nID0gdG9TdHJpbmcoc3RyaW5nKTtcblxuICAgICAgdmFyIHN0ckxlbmd0aCA9IHN0cmluZy5sZW5ndGg7XG4gICAgICBpZiAoaGFzVW5pY29kZShzdHJpbmcpKSB7XG4gICAgICAgIHZhciBzdHJTeW1ib2xzID0gc3RyaW5nVG9BcnJheShzdHJpbmcpO1xuICAgICAgICBzdHJMZW5ndGggPSBzdHJTeW1ib2xzLmxlbmd0aDtcbiAgICAgIH1cbiAgICAgIGlmIChsZW5ndGggPj0gc3RyTGVuZ3RoKSB7XG4gICAgICAgIHJldHVybiBzdHJpbmc7XG4gICAgICB9XG4gICAgICB2YXIgZW5kID0gbGVuZ3RoIC0gc3RyaW5nU2l6ZShvbWlzc2lvbik7XG4gICAgICBpZiAoZW5kIDwgMSkge1xuICAgICAgICByZXR1cm4gb21pc3Npb247XG4gICAgICB9XG4gICAgICB2YXIgcmVzdWx0ID0gc3RyU3ltYm9sc1xuICAgICAgICA/IGNhc3RTbGljZShzdHJTeW1ib2xzLCAwLCBlbmQpLmpvaW4oJycpXG4gICAgICAgIDogc3RyaW5nLnNsaWNlKDAsIGVuZCk7XG5cbiAgICAgIGlmIChzZXBhcmF0b3IgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICByZXR1cm4gcmVzdWx0ICsgb21pc3Npb247XG4gICAgICB9XG4gICAgICBpZiAoc3RyU3ltYm9scykge1xuICAgICAgICBlbmQgKz0gKHJlc3VsdC5sZW5ndGggLSBlbmQpO1xuICAgICAgfVxuICAgICAgaWYgKGlzUmVnRXhwKHNlcGFyYXRvcikpIHtcbiAgICAgICAgaWYgKHN0cmluZy5zbGljZShlbmQpLnNlYXJjaChzZXBhcmF0b3IpKSB7XG4gICAgICAgICAgdmFyIG1hdGNoLFxuICAgICAgICAgICAgICBzdWJzdHJpbmcgPSByZXN1bHQ7XG5cbiAgICAgICAgICBpZiAoIXNlcGFyYXRvci5nbG9iYWwpIHtcbiAgICAgICAgICAgIHNlcGFyYXRvciA9IFJlZ0V4cChzZXBhcmF0b3Iuc291cmNlLCB0b1N0cmluZyhyZUZsYWdzLmV4ZWMoc2VwYXJhdG9yKSkgKyAnZycpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBzZXBhcmF0b3IubGFzdEluZGV4ID0gMDtcbiAgICAgICAgICB3aGlsZSAoKG1hdGNoID0gc2VwYXJhdG9yLmV4ZWMoc3Vic3RyaW5nKSkpIHtcbiAgICAgICAgICAgIHZhciBuZXdFbmQgPSBtYXRjaC5pbmRleDtcbiAgICAgICAgICB9XG4gICAgICAgICAgcmVzdWx0ID0gcmVzdWx0LnNsaWNlKDAsIG5ld0VuZCA9PT0gdW5kZWZpbmVkID8gZW5kIDogbmV3RW5kKTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIGlmIChzdHJpbmcuaW5kZXhPZihiYXNlVG9TdHJpbmcoc2VwYXJhdG9yKSwgZW5kKSAhPSBlbmQpIHtcbiAgICAgICAgdmFyIGluZGV4ID0gcmVzdWx0Lmxhc3RJbmRleE9mKHNlcGFyYXRvcik7XG4gICAgICAgIGlmIChpbmRleCA+IC0xKSB7XG4gICAgICAgICAgcmVzdWx0ID0gcmVzdWx0LnNsaWNlKDAsIGluZGV4KTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIHJlc3VsdCArIG9taXNzaW9uO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBpbnZlcnNlIG9mIGBfLmVzY2FwZWA7IHRoaXMgbWV0aG9kIGNvbnZlcnRzIHRoZSBIVE1MIGVudGl0aWVzXG4gICAgICogYCZhbXA7YCwgYCZsdDtgLCBgJmd0O2AsIGAmcXVvdDtgLCBhbmQgYCYjMzk7YCBpbiBgc3RyaW5nYCB0b1xuICAgICAqIHRoZWlyIGNvcnJlc3BvbmRpbmcgY2hhcmFjdGVycy5cbiAgICAgKlxuICAgICAqICoqTm90ZToqKiBObyBvdGhlciBIVE1MIGVudGl0aWVzIGFyZSB1bmVzY2FwZWQuIFRvIHVuZXNjYXBlIGFkZGl0aW9uYWxcbiAgICAgKiBIVE1MIGVudGl0aWVzIHVzZSBhIHRoaXJkLXBhcnR5IGxpYnJhcnkgbGlrZSBbX2hlX10oaHR0cHM6Ly9tdGhzLmJlL2hlKS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAwLjYuMFxuICAgICAqIEBjYXRlZ29yeSBTdHJpbmdcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW3N0cmluZz0nJ10gVGhlIHN0cmluZyB0byB1bmVzY2FwZS5cbiAgICAgKiBAcmV0dXJucyB7c3RyaW5nfSBSZXR1cm5zIHRoZSB1bmVzY2FwZWQgc3RyaW5nLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLnVuZXNjYXBlKCdmcmVkLCBiYXJuZXksICZhbXA7IHBlYmJsZXMnKTtcbiAgICAgKiAvLyA9PiAnZnJlZCwgYmFybmV5LCAmIHBlYmJsZXMnXG4gICAgICovXG4gICAgZnVuY3Rpb24gdW5lc2NhcGUoc3RyaW5nKSB7XG4gICAgICBzdHJpbmcgPSB0b1N0cmluZyhzdHJpbmcpO1xuICAgICAgcmV0dXJuIChzdHJpbmcgJiYgcmVIYXNFc2NhcGVkSHRtbC50ZXN0KHN0cmluZykpXG4gICAgICAgID8gc3RyaW5nLnJlcGxhY2UocmVFc2NhcGVkSHRtbCwgdW5lc2NhcGVIdG1sQ2hhcilcbiAgICAgICAgOiBzdHJpbmc7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ29udmVydHMgYHN0cmluZ2AsIGFzIHNwYWNlIHNlcGFyYXRlZCB3b3JkcywgdG8gdXBwZXIgY2FzZS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBTdHJpbmdcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW3N0cmluZz0nJ10gVGhlIHN0cmluZyB0byBjb252ZXJ0LlxuICAgICAqIEByZXR1cm5zIHtzdHJpbmd9IFJldHVybnMgdGhlIHVwcGVyIGNhc2VkIHN0cmluZy5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy51cHBlckNhc2UoJy0tZm9vLWJhcicpO1xuICAgICAqIC8vID0+ICdGT08gQkFSJ1xuICAgICAqXG4gICAgICogXy51cHBlckNhc2UoJ2Zvb0JhcicpO1xuICAgICAqIC8vID0+ICdGT08gQkFSJ1xuICAgICAqXG4gICAgICogXy51cHBlckNhc2UoJ19fZm9vX2Jhcl9fJyk7XG4gICAgICogLy8gPT4gJ0ZPTyBCQVInXG4gICAgICovXG4gICAgdmFyIHVwcGVyQ2FzZSA9IGNyZWF0ZUNvbXBvdW5kZXIoZnVuY3Rpb24ocmVzdWx0LCB3b3JkLCBpbmRleCkge1xuICAgICAgcmV0dXJuIHJlc3VsdCArIChpbmRleCA/ICcgJyA6ICcnKSArIHdvcmQudG9VcHBlckNhc2UoKTtcbiAgICB9KTtcblxuICAgIC8qKlxuICAgICAqIENvbnZlcnRzIHRoZSBmaXJzdCBjaGFyYWN0ZXIgb2YgYHN0cmluZ2AgdG8gdXBwZXIgY2FzZS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBTdHJpbmdcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW3N0cmluZz0nJ10gVGhlIHN0cmluZyB0byBjb252ZXJ0LlxuICAgICAqIEByZXR1cm5zIHtzdHJpbmd9IFJldHVybnMgdGhlIGNvbnZlcnRlZCBzdHJpbmcuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8udXBwZXJGaXJzdCgnZnJlZCcpO1xuICAgICAqIC8vID0+ICdGcmVkJ1xuICAgICAqXG4gICAgICogXy51cHBlckZpcnN0KCdGUkVEJyk7XG4gICAgICogLy8gPT4gJ0ZSRUQnXG4gICAgICovXG4gICAgdmFyIHVwcGVyRmlyc3QgPSBjcmVhdGVDYXNlRmlyc3QoJ3RvVXBwZXJDYXNlJyk7XG5cbiAgICAvKipcbiAgICAgKiBTcGxpdHMgYHN0cmluZ2AgaW50byBhbiBhcnJheSBvZiBpdHMgd29yZHMuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMy4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgU3RyaW5nXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFtzdHJpbmc9JyddIFRoZSBzdHJpbmcgdG8gaW5zcGVjdC5cbiAgICAgKiBAcGFyYW0ge1JlZ0V4cHxzdHJpbmd9IFtwYXR0ZXJuXSBUaGUgcGF0dGVybiB0byBtYXRjaCB3b3Jkcy5cbiAgICAgKiBAcGFyYW0tIHtPYmplY3R9IFtndWFyZF0gRW5hYmxlcyB1c2UgYXMgYW4gaXRlcmF0ZWUgZm9yIG1ldGhvZHMgbGlrZSBgXy5tYXBgLlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgd29yZHMgb2YgYHN0cmluZ2AuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8ud29yZHMoJ2ZyZWQsIGJhcm5leSwgJiBwZWJibGVzJyk7XG4gICAgICogLy8gPT4gWydmcmVkJywgJ2Jhcm5leScsICdwZWJibGVzJ11cbiAgICAgKlxuICAgICAqIF8ud29yZHMoJ2ZyZWQsIGJhcm5leSwgJiBwZWJibGVzJywgL1teLCBdKy9nKTtcbiAgICAgKiAvLyA9PiBbJ2ZyZWQnLCAnYmFybmV5JywgJyYnLCAncGViYmxlcyddXG4gICAgICovXG4gICAgZnVuY3Rpb24gd29yZHMoc3RyaW5nLCBwYXR0ZXJuLCBndWFyZCkge1xuICAgICAgc3RyaW5nID0gdG9TdHJpbmcoc3RyaW5nKTtcbiAgICAgIHBhdHRlcm4gPSBndWFyZCA/IHVuZGVmaW5lZCA6IHBhdHRlcm47XG5cbiAgICAgIGlmIChwYXR0ZXJuID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgcmV0dXJuIGhhc1VuaWNvZGVXb3JkKHN0cmluZykgPyB1bmljb2RlV29yZHMoc3RyaW5nKSA6IGFzY2lpV29yZHMoc3RyaW5nKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBzdHJpbmcubWF0Y2gocGF0dGVybikgfHwgW107XG4gICAgfVxuXG4gICAgLyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuXG4gICAgLyoqXG4gICAgICogQXR0ZW1wdHMgdG8gaW52b2tlIGBmdW5jYCwgcmV0dXJuaW5nIGVpdGhlciB0aGUgcmVzdWx0IG9yIHRoZSBjYXVnaHQgZXJyb3JcbiAgICAgKiBvYmplY3QuIEFueSBhZGRpdGlvbmFsIGFyZ3VtZW50cyBhcmUgcHJvdmlkZWQgdG8gYGZ1bmNgIHdoZW4gaXQncyBpbnZva2VkLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDMuMC4wXG4gICAgICogQGNhdGVnb3J5IFV0aWxcbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBmdW5jIFRoZSBmdW5jdGlvbiB0byBhdHRlbXB0LlxuICAgICAqIEBwYXJhbSB7Li4uKn0gW2FyZ3NdIFRoZSBhcmd1bWVudHMgdG8gaW52b2tlIGBmdW5jYCB3aXRoLlxuICAgICAqIEByZXR1cm5zIHsqfSBSZXR1cm5zIHRoZSBgZnVuY2AgcmVzdWx0IG9yIGVycm9yIG9iamVjdC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogLy8gQXZvaWQgdGhyb3dpbmcgZXJyb3JzIGZvciBpbnZhbGlkIHNlbGVjdG9ycy5cbiAgICAgKiB2YXIgZWxlbWVudHMgPSBfLmF0dGVtcHQoZnVuY3Rpb24oc2VsZWN0b3IpIHtcbiAgICAgKiAgIHJldHVybiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKHNlbGVjdG9yKTtcbiAgICAgKiB9LCAnPl8+Jyk7XG4gICAgICpcbiAgICAgKiBpZiAoXy5pc0Vycm9yKGVsZW1lbnRzKSkge1xuICAgICAqICAgZWxlbWVudHMgPSBbXTtcbiAgICAgKiB9XG4gICAgICovXG4gICAgdmFyIGF0dGVtcHQgPSBiYXNlUmVzdChmdW5jdGlvbihmdW5jLCBhcmdzKSB7XG4gICAgICB0cnkge1xuICAgICAgICByZXR1cm4gYXBwbHkoZnVuYywgdW5kZWZpbmVkLCBhcmdzKTtcbiAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgcmV0dXJuIGlzRXJyb3IoZSkgPyBlIDogbmV3IEVycm9yKGUpO1xuICAgICAgfVxuICAgIH0pO1xuXG4gICAgLyoqXG4gICAgICogQmluZHMgbWV0aG9kcyBvZiBhbiBvYmplY3QgdG8gdGhlIG9iamVjdCBpdHNlbGYsIG92ZXJ3cml0aW5nIHRoZSBleGlzdGluZ1xuICAgICAqIG1ldGhvZC5cbiAgICAgKlxuICAgICAqICoqTm90ZToqKiBUaGlzIG1ldGhvZCBkb2Vzbid0IHNldCB0aGUgXCJsZW5ndGhcIiBwcm9wZXJ0eSBvZiBib3VuZCBmdW5jdGlvbnMuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQHNpbmNlIDAuMS4wXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAY2F0ZWdvcnkgVXRpbFxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBiaW5kIGFuZCBhc3NpZ24gdGhlIGJvdW5kIG1ldGhvZHMgdG8uXG4gICAgICogQHBhcmFtIHsuLi4oc3RyaW5nfHN0cmluZ1tdKX0gbWV0aG9kTmFtZXMgVGhlIG9iamVjdCBtZXRob2QgbmFtZXMgdG8gYmluZC5cbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIGBvYmplY3RgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgdmlldyA9IHtcbiAgICAgKiAgICdsYWJlbCc6ICdkb2NzJyxcbiAgICAgKiAgICdjbGljayc6IGZ1bmN0aW9uKCkge1xuICAgICAqICAgICBjb25zb2xlLmxvZygnY2xpY2tlZCAnICsgdGhpcy5sYWJlbCk7XG4gICAgICogICB9XG4gICAgICogfTtcbiAgICAgKlxuICAgICAqIF8uYmluZEFsbCh2aWV3LCBbJ2NsaWNrJ10pO1xuICAgICAqIGpRdWVyeShlbGVtZW50KS5vbignY2xpY2snLCB2aWV3LmNsaWNrKTtcbiAgICAgKiAvLyA9PiBMb2dzICdjbGlja2VkIGRvY3MnIHdoZW4gY2xpY2tlZC5cbiAgICAgKi9cbiAgICB2YXIgYmluZEFsbCA9IGZsYXRSZXN0KGZ1bmN0aW9uKG9iamVjdCwgbWV0aG9kTmFtZXMpIHtcbiAgICAgIGFycmF5RWFjaChtZXRob2ROYW1lcywgZnVuY3Rpb24oa2V5KSB7XG4gICAgICAgIGtleSA9IHRvS2V5KGtleSk7XG4gICAgICAgIGJhc2VBc3NpZ25WYWx1ZShvYmplY3QsIGtleSwgYmluZChvYmplY3Rba2V5XSwgb2JqZWN0KSk7XG4gICAgICB9KTtcbiAgICAgIHJldHVybiBvYmplY3Q7XG4gICAgfSk7XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgZnVuY3Rpb24gdGhhdCBpdGVyYXRlcyBvdmVyIGBwYWlyc2AgYW5kIGludm9rZXMgdGhlIGNvcnJlc3BvbmRpbmdcbiAgICAgKiBmdW5jdGlvbiBvZiB0aGUgZmlyc3QgcHJlZGljYXRlIHRvIHJldHVybiB0cnV0aHkuIFRoZSBwcmVkaWNhdGUtZnVuY3Rpb25cbiAgICAgKiBwYWlycyBhcmUgaW52b2tlZCB3aXRoIHRoZSBgdGhpc2AgYmluZGluZyBhbmQgYXJndW1lbnRzIG9mIHRoZSBjcmVhdGVkXG4gICAgICogZnVuY3Rpb24uXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgVXRpbFxuICAgICAqIEBwYXJhbSB7QXJyYXl9IHBhaXJzIFRoZSBwcmVkaWNhdGUtZnVuY3Rpb24gcGFpcnMuXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgY29tcG9zaXRlIGZ1bmN0aW9uLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgZnVuYyA9IF8uY29uZChbXG4gICAgICogICBbXy5tYXRjaGVzKHsgJ2EnOiAxIH0pLCAgICAgICAgICAgXy5jb25zdGFudCgnbWF0Y2hlcyBBJyldLFxuICAgICAqICAgW18uY29uZm9ybXMoeyAnYic6IF8uaXNOdW1iZXIgfSksIF8uY29uc3RhbnQoJ21hdGNoZXMgQicpXSxcbiAgICAgKiAgIFtfLnN0dWJUcnVlLCAgICAgICAgICAgICAgICAgICAgICBfLmNvbnN0YW50KCdubyBtYXRjaCcpXVxuICAgICAqIF0pO1xuICAgICAqXG4gICAgICogZnVuYyh7ICdhJzogMSwgJ2InOiAyIH0pO1xuICAgICAqIC8vID0+ICdtYXRjaGVzIEEnXG4gICAgICpcbiAgICAgKiBmdW5jKHsgJ2EnOiAwLCAnYic6IDEgfSk7XG4gICAgICogLy8gPT4gJ21hdGNoZXMgQidcbiAgICAgKlxuICAgICAqIGZ1bmMoeyAnYSc6ICcxJywgJ2InOiAnMicgfSk7XG4gICAgICogLy8gPT4gJ25vIG1hdGNoJ1xuICAgICAqL1xuICAgIGZ1bmN0aW9uIGNvbmQocGFpcnMpIHtcbiAgICAgIHZhciBsZW5ndGggPSBwYWlycyA9PSBudWxsID8gMCA6IHBhaXJzLmxlbmd0aCxcbiAgICAgICAgICB0b0l0ZXJhdGVlID0gZ2V0SXRlcmF0ZWUoKTtcblxuICAgICAgcGFpcnMgPSAhbGVuZ3RoID8gW10gOiBhcnJheU1hcChwYWlycywgZnVuY3Rpb24ocGFpcikge1xuICAgICAgICBpZiAodHlwZW9mIHBhaXJbMV0gIT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoRlVOQ19FUlJPUl9URVhUKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gW3RvSXRlcmF0ZWUocGFpclswXSksIHBhaXJbMV1dO1xuICAgICAgfSk7XG5cbiAgICAgIHJldHVybiBiYXNlUmVzdChmdW5jdGlvbihhcmdzKSB7XG4gICAgICAgIHZhciBpbmRleCA9IC0xO1xuICAgICAgICB3aGlsZSAoKytpbmRleCA8IGxlbmd0aCkge1xuICAgICAgICAgIHZhciBwYWlyID0gcGFpcnNbaW5kZXhdO1xuICAgICAgICAgIGlmIChhcHBseShwYWlyWzBdLCB0aGlzLCBhcmdzKSkge1xuICAgICAgICAgICAgcmV0dXJuIGFwcGx5KHBhaXJbMV0sIHRoaXMsIGFyZ3MpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGZ1bmN0aW9uIHRoYXQgaW52b2tlcyB0aGUgcHJlZGljYXRlIHByb3BlcnRpZXMgb2YgYHNvdXJjZWAgd2l0aFxuICAgICAqIHRoZSBjb3JyZXNwb25kaW5nIHByb3BlcnR5IHZhbHVlcyBvZiBhIGdpdmVuIG9iamVjdCwgcmV0dXJuaW5nIGB0cnVlYCBpZlxuICAgICAqIGFsbCBwcmVkaWNhdGVzIHJldHVybiB0cnV0aHksIGVsc2UgYGZhbHNlYC5cbiAgICAgKlxuICAgICAqICoqTm90ZToqKiBUaGUgY3JlYXRlZCBmdW5jdGlvbiBpcyBlcXVpdmFsZW50IHRvIGBfLmNvbmZvcm1zVG9gIHdpdGhcbiAgICAgKiBgc291cmNlYCBwYXJ0aWFsbHkgYXBwbGllZC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBVdGlsXG4gICAgICogQHBhcmFtIHtPYmplY3R9IHNvdXJjZSBUaGUgb2JqZWN0IG9mIHByb3BlcnR5IHByZWRpY2F0ZXMgdG8gY29uZm9ybSB0by5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyBzcGVjIGZ1bmN0aW9uLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgb2JqZWN0cyA9IFtcbiAgICAgKiAgIHsgJ2EnOiAyLCAnYic6IDEgfSxcbiAgICAgKiAgIHsgJ2EnOiAxLCAnYic6IDIgfVxuICAgICAqIF07XG4gICAgICpcbiAgICAgKiBfLmZpbHRlcihvYmplY3RzLCBfLmNvbmZvcm1zKHsgJ2InOiBmdW5jdGlvbihuKSB7IHJldHVybiBuID4gMTsgfSB9KSk7XG4gICAgICogLy8gPT4gW3sgJ2EnOiAxLCAnYic6IDIgfV1cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBjb25mb3Jtcyhzb3VyY2UpIHtcbiAgICAgIHJldHVybiBiYXNlQ29uZm9ybXMoYmFzZUNsb25lKHNvdXJjZSwgQ0xPTkVfREVFUF9GTEFHKSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGZ1bmN0aW9uIHRoYXQgcmV0dXJucyBgdmFsdWVgLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDIuNC4wXG4gICAgICogQGNhdGVnb3J5IFV0aWxcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byByZXR1cm4gZnJvbSB0aGUgbmV3IGZ1bmN0aW9uLlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IGNvbnN0YW50IGZ1bmN0aW9uLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgb2JqZWN0cyA9IF8udGltZXMoMiwgXy5jb25zdGFudCh7ICdhJzogMSB9KSk7XG4gICAgICpcbiAgICAgKiBjb25zb2xlLmxvZyhvYmplY3RzKTtcbiAgICAgKiAvLyA9PiBbeyAnYSc6IDEgfSwgeyAnYSc6IDEgfV1cbiAgICAgKlxuICAgICAqIGNvbnNvbGUubG9nKG9iamVjdHNbMF0gPT09IG9iamVjdHNbMV0pO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBjb25zdGFudCh2YWx1ZSkge1xuICAgICAgcmV0dXJuIGZ1bmN0aW9uKCkge1xuICAgICAgICByZXR1cm4gdmFsdWU7XG4gICAgICB9O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENoZWNrcyBgdmFsdWVgIHRvIGRldGVybWluZSB3aGV0aGVyIGEgZGVmYXVsdCB2YWx1ZSBzaG91bGQgYmUgcmV0dXJuZWQgaW5cbiAgICAgKiBpdHMgcGxhY2UuIFRoZSBgZGVmYXVsdFZhbHVlYCBpcyByZXR1cm5lZCBpZiBgdmFsdWVgIGlzIGBOYU5gLCBgbnVsbGAsXG4gICAgICogb3IgYHVuZGVmaW5lZGAuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4xNC4wXG4gICAgICogQGNhdGVnb3J5IFV0aWxcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAgICAgKiBAcGFyYW0geyp9IGRlZmF1bHRWYWx1ZSBUaGUgZGVmYXVsdCB2YWx1ZS5cbiAgICAgKiBAcmV0dXJucyB7Kn0gUmV0dXJucyB0aGUgcmVzb2x2ZWQgdmFsdWUuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uZGVmYXVsdFRvKDEsIDEwKTtcbiAgICAgKiAvLyA9PiAxXG4gICAgICpcbiAgICAgKiBfLmRlZmF1bHRUbyh1bmRlZmluZWQsIDEwKTtcbiAgICAgKiAvLyA9PiAxMFxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGRlZmF1bHRUbyh2YWx1ZSwgZGVmYXVsdFZhbHVlKSB7XG4gICAgICByZXR1cm4gKHZhbHVlID09IG51bGwgfHwgdmFsdWUgIT09IHZhbHVlKSA/IGRlZmF1bHRWYWx1ZSA6IHZhbHVlO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBmdW5jdGlvbiB0aGF0IHJldHVybnMgdGhlIHJlc3VsdCBvZiBpbnZva2luZyB0aGUgZ2l2ZW4gZnVuY3Rpb25zXG4gICAgICogd2l0aCB0aGUgYHRoaXNgIGJpbmRpbmcgb2YgdGhlIGNyZWF0ZWQgZnVuY3Rpb24sIHdoZXJlIGVhY2ggc3VjY2Vzc2l2ZVxuICAgICAqIGludm9jYXRpb24gaXMgc3VwcGxpZWQgdGhlIHJldHVybiB2YWx1ZSBvZiB0aGUgcHJldmlvdXMuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMy4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgVXRpbFxuICAgICAqIEBwYXJhbSB7Li4uKEZ1bmN0aW9ufEZ1bmN0aW9uW10pfSBbZnVuY3NdIFRoZSBmdW5jdGlvbnMgdG8gaW52b2tlLlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IGNvbXBvc2l0ZSBmdW5jdGlvbi5cbiAgICAgKiBAc2VlIF8uZmxvd1JpZ2h0XG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIGZ1bmN0aW9uIHNxdWFyZShuKSB7XG4gICAgICogICByZXR1cm4gbiAqIG47XG4gICAgICogfVxuICAgICAqXG4gICAgICogdmFyIGFkZFNxdWFyZSA9IF8uZmxvdyhbXy5hZGQsIHNxdWFyZV0pO1xuICAgICAqIGFkZFNxdWFyZSgxLCAyKTtcbiAgICAgKiAvLyA9PiA5XG4gICAgICovXG4gICAgdmFyIGZsb3cgPSBjcmVhdGVGbG93KCk7XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCBpcyBsaWtlIGBfLmZsb3dgIGV4Y2VwdCB0aGF0IGl0IGNyZWF0ZXMgYSBmdW5jdGlvbiB0aGF0XG4gICAgICogaW52b2tlcyB0aGUgZ2l2ZW4gZnVuY3Rpb25zIGZyb20gcmlnaHQgdG8gbGVmdC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAc2luY2UgMy4wLjBcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBjYXRlZ29yeSBVdGlsXG4gICAgICogQHBhcmFtIHsuLi4oRnVuY3Rpb258RnVuY3Rpb25bXSl9IFtmdW5jc10gVGhlIGZ1bmN0aW9ucyB0byBpbnZva2UuXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgY29tcG9zaXRlIGZ1bmN0aW9uLlxuICAgICAqIEBzZWUgXy5mbG93XG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIGZ1bmN0aW9uIHNxdWFyZShuKSB7XG4gICAgICogICByZXR1cm4gbiAqIG47XG4gICAgICogfVxuICAgICAqXG4gICAgICogdmFyIGFkZFNxdWFyZSA9IF8uZmxvd1JpZ2h0KFtzcXVhcmUsIF8uYWRkXSk7XG4gICAgICogYWRkU3F1YXJlKDEsIDIpO1xuICAgICAqIC8vID0+IDlcbiAgICAgKi9cbiAgICB2YXIgZmxvd1JpZ2h0ID0gY3JlYXRlRmxvdyh0cnVlKTtcblxuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIHJldHVybnMgdGhlIGZpcnN0IGFyZ3VtZW50IGl0IHJlY2VpdmVzLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBzaW5jZSAwLjEuMFxuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQGNhdGVnb3J5IFV0aWxcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIEFueSB2YWx1ZS5cbiAgICAgKiBAcmV0dXJucyB7Kn0gUmV0dXJucyBgdmFsdWVgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgb2JqZWN0ID0geyAnYSc6IDEgfTtcbiAgICAgKlxuICAgICAqIGNvbnNvbGUubG9nKF8uaWRlbnRpdHkob2JqZWN0KSA9PT0gb2JqZWN0KTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICovXG4gICAgZnVuY3Rpb24gaWRlbnRpdHkodmFsdWUpIHtcbiAgICAgIHJldHVybiB2YWx1ZTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgZnVuY3Rpb24gdGhhdCBpbnZva2VzIGBmdW5jYCB3aXRoIHRoZSBhcmd1bWVudHMgb2YgdGhlIGNyZWF0ZWRcbiAgICAgKiBmdW5jdGlvbi4gSWYgYGZ1bmNgIGlzIGEgcHJvcGVydHkgbmFtZSwgdGhlIGNyZWF0ZWQgZnVuY3Rpb24gcmV0dXJucyB0aGVcbiAgICAgKiBwcm9wZXJ0eSB2YWx1ZSBmb3IgYSBnaXZlbiBlbGVtZW50LiBJZiBgZnVuY2AgaXMgYW4gYXJyYXkgb3Igb2JqZWN0LCB0aGVcbiAgICAgKiBjcmVhdGVkIGZ1bmN0aW9uIHJldHVybnMgYHRydWVgIGZvciBlbGVtZW50cyB0aGF0IGNvbnRhaW4gdGhlIGVxdWl2YWxlbnRcbiAgICAgKiBzb3VyY2UgcHJvcGVydGllcywgb3RoZXJ3aXNlIGl0IHJldHVybnMgYGZhbHNlYC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBjYXRlZ29yeSBVdGlsXG4gICAgICogQHBhcmFtIHsqfSBbZnVuYz1fLmlkZW50aXR5XSBUaGUgdmFsdWUgdG8gY29udmVydCB0byBhIGNhbGxiYWNrLlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgY2FsbGJhY2suXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciB1c2VycyA9IFtcbiAgICAgKiAgIHsgJ3VzZXInOiAnYmFybmV5JywgJ2FnZSc6IDM2LCAnYWN0aXZlJzogdHJ1ZSB9LFxuICAgICAqICAgeyAndXNlcic6ICdmcmVkJywgICAnYWdlJzogNDAsICdhY3RpdmUnOiBmYWxzZSB9XG4gICAgICogXTtcbiAgICAgKlxuICAgICAqIC8vIFRoZSBgXy5tYXRjaGVzYCBpdGVyYXRlZSBzaG9ydGhhbmQuXG4gICAgICogXy5maWx0ZXIodXNlcnMsIF8uaXRlcmF0ZWUoeyAndXNlcic6ICdiYXJuZXknLCAnYWN0aXZlJzogdHJ1ZSB9KSk7XG4gICAgICogLy8gPT4gW3sgJ3VzZXInOiAnYmFybmV5JywgJ2FnZSc6IDM2LCAnYWN0aXZlJzogdHJ1ZSB9XVxuICAgICAqXG4gICAgICogLy8gVGhlIGBfLm1hdGNoZXNQcm9wZXJ0eWAgaXRlcmF0ZWUgc2hvcnRoYW5kLlxuICAgICAqIF8uZmlsdGVyKHVzZXJzLCBfLml0ZXJhdGVlKFsndXNlcicsICdmcmVkJ10pKTtcbiAgICAgKiAvLyA9PiBbeyAndXNlcic6ICdmcmVkJywgJ2FnZSc6IDQwIH1dXG4gICAgICpcbiAgICAgKiAvLyBUaGUgYF8ucHJvcGVydHlgIGl0ZXJhdGVlIHNob3J0aGFuZC5cbiAgICAgKiBfLm1hcCh1c2VycywgXy5pdGVyYXRlZSgndXNlcicpKTtcbiAgICAgKiAvLyA9PiBbJ2Jhcm5leScsICdmcmVkJ11cbiAgICAgKlxuICAgICAqIC8vIENyZWF0ZSBjdXN0b20gaXRlcmF0ZWUgc2hvcnRoYW5kcy5cbiAgICAgKiBfLml0ZXJhdGVlID0gXy53cmFwKF8uaXRlcmF0ZWUsIGZ1bmN0aW9uKGl0ZXJhdGVlLCBmdW5jKSB7XG4gICAgICogICByZXR1cm4gIV8uaXNSZWdFeHAoZnVuYykgPyBpdGVyYXRlZShmdW5jKSA6IGZ1bmN0aW9uKHN0cmluZykge1xuICAgICAqICAgICByZXR1cm4gZnVuYy50ZXN0KHN0cmluZyk7XG4gICAgICogICB9O1xuICAgICAqIH0pO1xuICAgICAqXG4gICAgICogXy5maWx0ZXIoWydhYmMnLCAnZGVmJ10sIC9lZi8pO1xuICAgICAqIC8vID0+IFsnZGVmJ11cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBpdGVyYXRlZShmdW5jKSB7XG4gICAgICByZXR1cm4gYmFzZUl0ZXJhdGVlKHR5cGVvZiBmdW5jID09ICdmdW5jdGlvbicgPyBmdW5jIDogYmFzZUNsb25lKGZ1bmMsIENMT05FX0RFRVBfRkxBRykpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBmdW5jdGlvbiB0aGF0IHBlcmZvcm1zIGEgcGFydGlhbCBkZWVwIGNvbXBhcmlzb24gYmV0d2VlbiBhIGdpdmVuXG4gICAgICogb2JqZWN0IGFuZCBgc291cmNlYCwgcmV0dXJuaW5nIGB0cnVlYCBpZiB0aGUgZ2l2ZW4gb2JqZWN0IGhhcyBlcXVpdmFsZW50XG4gICAgICogcHJvcGVydHkgdmFsdWVzLCBlbHNlIGBmYWxzZWAuXG4gICAgICpcbiAgICAgKiAqKk5vdGU6KiogVGhlIGNyZWF0ZWQgZnVuY3Rpb24gaXMgZXF1aXZhbGVudCB0byBgXy5pc01hdGNoYCB3aXRoIGBzb3VyY2VgXG4gICAgICogcGFydGlhbGx5IGFwcGxpZWQuXG4gICAgICpcbiAgICAgKiBQYXJ0aWFsIGNvbXBhcmlzb25zIHdpbGwgbWF0Y2ggZW1wdHkgYXJyYXkgYW5kIGVtcHR5IG9iamVjdCBgc291cmNlYFxuICAgICAqIHZhbHVlcyBhZ2FpbnN0IGFueSBhcnJheSBvciBvYmplY3QgdmFsdWUsIHJlc3BlY3RpdmVseS4gU2VlIGBfLmlzRXF1YWxgXG4gICAgICogZm9yIGEgbGlzdCBvZiBzdXBwb3J0ZWQgdmFsdWUgY29tcGFyaXNvbnMuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMy4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgVXRpbFxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBzb3VyY2UgVGhlIG9iamVjdCBvZiBwcm9wZXJ0eSB2YWx1ZXMgdG8gbWF0Y2guXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgc3BlYyBmdW5jdGlvbi5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIG9iamVjdHMgPSBbXG4gICAgICogICB7ICdhJzogMSwgJ2InOiAyLCAnYyc6IDMgfSxcbiAgICAgKiAgIHsgJ2EnOiA0LCAnYic6IDUsICdjJzogNiB9XG4gICAgICogXTtcbiAgICAgKlxuICAgICAqIF8uZmlsdGVyKG9iamVjdHMsIF8ubWF0Y2hlcyh7ICdhJzogNCwgJ2MnOiA2IH0pKTtcbiAgICAgKiAvLyA9PiBbeyAnYSc6IDQsICdiJzogNSwgJ2MnOiA2IH1dXG4gICAgICovXG4gICAgZnVuY3Rpb24gbWF0Y2hlcyhzb3VyY2UpIHtcbiAgICAgIHJldHVybiBiYXNlTWF0Y2hlcyhiYXNlQ2xvbmUoc291cmNlLCBDTE9ORV9ERUVQX0ZMQUcpKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgZnVuY3Rpb24gdGhhdCBwZXJmb3JtcyBhIHBhcnRpYWwgZGVlcCBjb21wYXJpc29uIGJldHdlZW4gdGhlXG4gICAgICogdmFsdWUgYXQgYHBhdGhgIG9mIGEgZ2l2ZW4gb2JqZWN0IHRvIGBzcmNWYWx1ZWAsIHJldHVybmluZyBgdHJ1ZWAgaWYgdGhlXG4gICAgICogb2JqZWN0IHZhbHVlIGlzIGVxdWl2YWxlbnQsIGVsc2UgYGZhbHNlYC5cbiAgICAgKlxuICAgICAqICoqTm90ZToqKiBQYXJ0aWFsIGNvbXBhcmlzb25zIHdpbGwgbWF0Y2ggZW1wdHkgYXJyYXkgYW5kIGVtcHR5IG9iamVjdFxuICAgICAqIGBzcmNWYWx1ZWAgdmFsdWVzIGFnYWluc3QgYW55IGFycmF5IG9yIG9iamVjdCB2YWx1ZSwgcmVzcGVjdGl2ZWx5LiBTZWVcbiAgICAgKiBgXy5pc0VxdWFsYCBmb3IgYSBsaXN0IG9mIHN1cHBvcnRlZCB2YWx1ZSBjb21wYXJpc29ucy5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAzLjIuMFxuICAgICAqIEBjYXRlZ29yeSBVdGlsXG4gICAgICogQHBhcmFtIHtBcnJheXxzdHJpbmd9IHBhdGggVGhlIHBhdGggb2YgdGhlIHByb3BlcnR5IHRvIGdldC5cbiAgICAgKiBAcGFyYW0geyp9IHNyY1ZhbHVlIFRoZSB2YWx1ZSB0byBtYXRjaC5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyBzcGVjIGZ1bmN0aW9uLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgb2JqZWN0cyA9IFtcbiAgICAgKiAgIHsgJ2EnOiAxLCAnYic6IDIsICdjJzogMyB9LFxuICAgICAqICAgeyAnYSc6IDQsICdiJzogNSwgJ2MnOiA2IH1cbiAgICAgKiBdO1xuICAgICAqXG4gICAgICogXy5maW5kKG9iamVjdHMsIF8ubWF0Y2hlc1Byb3BlcnR5KCdhJywgNCkpO1xuICAgICAqIC8vID0+IHsgJ2EnOiA0LCAnYic6IDUsICdjJzogNiB9XG4gICAgICovXG4gICAgZnVuY3Rpb24gbWF0Y2hlc1Byb3BlcnR5KHBhdGgsIHNyY1ZhbHVlKSB7XG4gICAgICByZXR1cm4gYmFzZU1hdGNoZXNQcm9wZXJ0eShwYXRoLCBiYXNlQ2xvbmUoc3JjVmFsdWUsIENMT05FX0RFRVBfRkxBRykpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBmdW5jdGlvbiB0aGF0IGludm9rZXMgdGhlIG1ldGhvZCBhdCBgcGF0aGAgb2YgYSBnaXZlbiBvYmplY3QuXG4gICAgICogQW55IGFkZGl0aW9uYWwgYXJndW1lbnRzIGFyZSBwcm92aWRlZCB0byB0aGUgaW52b2tlZCBtZXRob2QuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMy43LjBcbiAgICAgKiBAY2F0ZWdvcnkgVXRpbFxuICAgICAqIEBwYXJhbSB7QXJyYXl8c3RyaW5nfSBwYXRoIFRoZSBwYXRoIG9mIHRoZSBtZXRob2QgdG8gaW52b2tlLlxuICAgICAqIEBwYXJhbSB7Li4uKn0gW2FyZ3NdIFRoZSBhcmd1bWVudHMgdG8gaW52b2tlIHRoZSBtZXRob2Qgd2l0aC5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyBpbnZva2VyIGZ1bmN0aW9uLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgb2JqZWN0cyA9IFtcbiAgICAgKiAgIHsgJ2EnOiB7ICdiJzogXy5jb25zdGFudCgyKSB9IH0sXG4gICAgICogICB7ICdhJzogeyAnYic6IF8uY29uc3RhbnQoMSkgfSB9XG4gICAgICogXTtcbiAgICAgKlxuICAgICAqIF8ubWFwKG9iamVjdHMsIF8ubWV0aG9kKCdhLmInKSk7XG4gICAgICogLy8gPT4gWzIsIDFdXG4gICAgICpcbiAgICAgKiBfLm1hcChvYmplY3RzLCBfLm1ldGhvZChbJ2EnLCAnYiddKSk7XG4gICAgICogLy8gPT4gWzIsIDFdXG4gICAgICovXG4gICAgdmFyIG1ldGhvZCA9IGJhc2VSZXN0KGZ1bmN0aW9uKHBhdGgsIGFyZ3MpIHtcbiAgICAgIHJldHVybiBmdW5jdGlvbihvYmplY3QpIHtcbiAgICAgICAgcmV0dXJuIGJhc2VJbnZva2Uob2JqZWN0LCBwYXRoLCBhcmdzKTtcbiAgICAgIH07XG4gICAgfSk7XG5cbiAgICAvKipcbiAgICAgKiBUaGUgb3Bwb3NpdGUgb2YgYF8ubWV0aG9kYDsgdGhpcyBtZXRob2QgY3JlYXRlcyBhIGZ1bmN0aW9uIHRoYXQgaW52b2tlc1xuICAgICAqIHRoZSBtZXRob2QgYXQgYSBnaXZlbiBwYXRoIG9mIGBvYmplY3RgLiBBbnkgYWRkaXRpb25hbCBhcmd1bWVudHMgYXJlXG4gICAgICogcHJvdmlkZWQgdG8gdGhlIGludm9rZWQgbWV0aG9kLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDMuNy4wXG4gICAgICogQGNhdGVnb3J5IFV0aWxcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gcXVlcnkuXG4gICAgICogQHBhcmFtIHsuLi4qfSBbYXJnc10gVGhlIGFyZ3VtZW50cyB0byBpbnZva2UgdGhlIG1ldGhvZCB3aXRoLlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IGludm9rZXIgZnVuY3Rpb24uXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBhcnJheSA9IF8udGltZXMoMywgXy5jb25zdGFudCksXG4gICAgICogICAgIG9iamVjdCA9IHsgJ2EnOiBhcnJheSwgJ2InOiBhcnJheSwgJ2MnOiBhcnJheSB9O1xuICAgICAqXG4gICAgICogXy5tYXAoWydhWzJdJywgJ2NbMF0nXSwgXy5tZXRob2RPZihvYmplY3QpKTtcbiAgICAgKiAvLyA9PiBbMiwgMF1cbiAgICAgKlxuICAgICAqIF8ubWFwKFtbJ2EnLCAnMiddLCBbJ2MnLCAnMCddXSwgXy5tZXRob2RPZihvYmplY3QpKTtcbiAgICAgKiAvLyA9PiBbMiwgMF1cbiAgICAgKi9cbiAgICB2YXIgbWV0aG9kT2YgPSBiYXNlUmVzdChmdW5jdGlvbihvYmplY3QsIGFyZ3MpIHtcbiAgICAgIHJldHVybiBmdW5jdGlvbihwYXRoKSB7XG4gICAgICAgIHJldHVybiBiYXNlSW52b2tlKG9iamVjdCwgcGF0aCwgYXJncyk7XG4gICAgICB9O1xuICAgIH0pO1xuXG4gICAgLyoqXG4gICAgICogQWRkcyBhbGwgb3duIGVudW1lcmFibGUgc3RyaW5nIGtleWVkIGZ1bmN0aW9uIHByb3BlcnRpZXMgb2YgYSBzb3VyY2VcbiAgICAgKiBvYmplY3QgdG8gdGhlIGRlc3RpbmF0aW9uIG9iamVjdC4gSWYgYG9iamVjdGAgaXMgYSBmdW5jdGlvbiwgdGhlbiBtZXRob2RzXG4gICAgICogYXJlIGFkZGVkIHRvIGl0cyBwcm90b3R5cGUgYXMgd2VsbC5cbiAgICAgKlxuICAgICAqICoqTm90ZToqKiBVc2UgYF8ucnVuSW5Db250ZXh0YCB0byBjcmVhdGUgYSBwcmlzdGluZSBgbG9kYXNoYCBmdW5jdGlvbiB0b1xuICAgICAqIGF2b2lkIGNvbmZsaWN0cyBjYXVzZWQgYnkgbW9kaWZ5aW5nIHRoZSBvcmlnaW5hbC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAc2luY2UgMC4xLjBcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBjYXRlZ29yeSBVdGlsXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbnxPYmplY3R9IFtvYmplY3Q9bG9kYXNoXSBUaGUgZGVzdGluYXRpb24gb2JqZWN0LlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBzb3VyY2UgVGhlIG9iamVjdCBvZiBmdW5jdGlvbnMgdG8gYWRkLlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBbb3B0aW9ucz17fV0gVGhlIG9wdGlvbnMgb2JqZWN0LlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdGlvbnMuY2hhaW49dHJ1ZV0gU3BlY2lmeSB3aGV0aGVyIG1peGlucyBhcmUgY2hhaW5hYmxlLlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbnxPYmplY3R9IFJldHVybnMgYG9iamVjdGAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIGZ1bmN0aW9uIHZvd2VscyhzdHJpbmcpIHtcbiAgICAgKiAgIHJldHVybiBfLmZpbHRlcihzdHJpbmcsIGZ1bmN0aW9uKHYpIHtcbiAgICAgKiAgICAgcmV0dXJuIC9bYWVpb3VdL2kudGVzdCh2KTtcbiAgICAgKiAgIH0pO1xuICAgICAqIH1cbiAgICAgKlxuICAgICAqIF8ubWl4aW4oeyAndm93ZWxzJzogdm93ZWxzIH0pO1xuICAgICAqIF8udm93ZWxzKCdmcmVkJyk7XG4gICAgICogLy8gPT4gWydlJ11cbiAgICAgKlxuICAgICAqIF8oJ2ZyZWQnKS52b3dlbHMoKS52YWx1ZSgpO1xuICAgICAqIC8vID0+IFsnZSddXG4gICAgICpcbiAgICAgKiBfLm1peGluKHsgJ3Zvd2Vscyc6IHZvd2VscyB9LCB7ICdjaGFpbic6IGZhbHNlIH0pO1xuICAgICAqIF8oJ2ZyZWQnKS52b3dlbHMoKTtcbiAgICAgKiAvLyA9PiBbJ2UnXVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIG1peGluKG9iamVjdCwgc291cmNlLCBvcHRpb25zKSB7XG4gICAgICB2YXIgcHJvcHMgPSBrZXlzKHNvdXJjZSksXG4gICAgICAgICAgbWV0aG9kTmFtZXMgPSBiYXNlRnVuY3Rpb25zKHNvdXJjZSwgcHJvcHMpO1xuXG4gICAgICBpZiAob3B0aW9ucyA9PSBudWxsICYmXG4gICAgICAgICAgIShpc09iamVjdChzb3VyY2UpICYmIChtZXRob2ROYW1lcy5sZW5ndGggfHwgIXByb3BzLmxlbmd0aCkpKSB7XG4gICAgICAgIG9wdGlvbnMgPSBzb3VyY2U7XG4gICAgICAgIHNvdXJjZSA9IG9iamVjdDtcbiAgICAgICAgb2JqZWN0ID0gdGhpcztcbiAgICAgICAgbWV0aG9kTmFtZXMgPSBiYXNlRnVuY3Rpb25zKHNvdXJjZSwga2V5cyhzb3VyY2UpKTtcbiAgICAgIH1cbiAgICAgIHZhciBjaGFpbiA9ICEoaXNPYmplY3Qob3B0aW9ucykgJiYgJ2NoYWluJyBpbiBvcHRpb25zKSB8fCAhIW9wdGlvbnMuY2hhaW4sXG4gICAgICAgICAgaXNGdW5jID0gaXNGdW5jdGlvbihvYmplY3QpO1xuXG4gICAgICBhcnJheUVhY2gobWV0aG9kTmFtZXMsIGZ1bmN0aW9uKG1ldGhvZE5hbWUpIHtcbiAgICAgICAgdmFyIGZ1bmMgPSBzb3VyY2VbbWV0aG9kTmFtZV07XG4gICAgICAgIG9iamVjdFttZXRob2ROYW1lXSA9IGZ1bmM7XG4gICAgICAgIGlmIChpc0Z1bmMpIHtcbiAgICAgICAgICBvYmplY3QucHJvdG90eXBlW21ldGhvZE5hbWVdID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICB2YXIgY2hhaW5BbGwgPSB0aGlzLl9fY2hhaW5fXztcbiAgICAgICAgICAgIGlmIChjaGFpbiB8fCBjaGFpbkFsbCkge1xuICAgICAgICAgICAgICB2YXIgcmVzdWx0ID0gb2JqZWN0KHRoaXMuX193cmFwcGVkX18pLFxuICAgICAgICAgICAgICAgICAgYWN0aW9ucyA9IHJlc3VsdC5fX2FjdGlvbnNfXyA9IGNvcHlBcnJheSh0aGlzLl9fYWN0aW9uc19fKTtcblxuICAgICAgICAgICAgICBhY3Rpb25zLnB1c2goeyAnZnVuYyc6IGZ1bmMsICdhcmdzJzogYXJndW1lbnRzLCAndGhpc0FyZyc6IG9iamVjdCB9KTtcbiAgICAgICAgICAgICAgcmVzdWx0Ll9fY2hhaW5fXyA9IGNoYWluQWxsO1xuICAgICAgICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIGZ1bmMuYXBwbHkob2JqZWN0LCBhcnJheVB1c2goW3RoaXMudmFsdWUoKV0sIGFyZ3VtZW50cykpO1xuICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICAgIH0pO1xuXG4gICAgICByZXR1cm4gb2JqZWN0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJldmVydHMgdGhlIGBfYCB2YXJpYWJsZSB0byBpdHMgcHJldmlvdXMgdmFsdWUgYW5kIHJldHVybnMgYSByZWZlcmVuY2UgdG9cbiAgICAgKiB0aGUgYGxvZGFzaGAgZnVuY3Rpb24uXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQHNpbmNlIDAuMS4wXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAY2F0ZWdvcnkgVXRpbFxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgYGxvZGFzaGAgZnVuY3Rpb24uXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBsb2Rhc2ggPSBfLm5vQ29uZmxpY3QoKTtcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBub0NvbmZsaWN0KCkge1xuICAgICAgaWYgKHJvb3QuXyA9PT0gdGhpcykge1xuICAgICAgICByb290Ll8gPSBvbGREYXNoO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgcmV0dXJucyBgdW5kZWZpbmVkYC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAyLjMuMFxuICAgICAqIEBjYXRlZ29yeSBVdGlsXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8udGltZXMoMiwgXy5ub29wKTtcbiAgICAgKiAvLyA9PiBbdW5kZWZpbmVkLCB1bmRlZmluZWRdXG4gICAgICovXG4gICAgZnVuY3Rpb24gbm9vcCgpIHtcbiAgICAgIC8vIE5vIG9wZXJhdGlvbiBwZXJmb3JtZWQuXG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGZ1bmN0aW9uIHRoYXQgZ2V0cyB0aGUgYXJndW1lbnQgYXQgaW5kZXggYG5gLiBJZiBgbmAgaXMgbmVnYXRpdmUsXG4gICAgICogdGhlIG50aCBhcmd1bWVudCBmcm9tIHRoZSBlbmQgaXMgcmV0dXJuZWQuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgVXRpbFxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbbj0wXSBUaGUgaW5kZXggb2YgdGhlIGFyZ3VtZW50IHRvIHJldHVybi5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyBwYXNzLXRocnUgZnVuY3Rpb24uXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBmdW5jID0gXy5udGhBcmcoMSk7XG4gICAgICogZnVuYygnYScsICdiJywgJ2MnLCAnZCcpO1xuICAgICAqIC8vID0+ICdiJ1xuICAgICAqXG4gICAgICogdmFyIGZ1bmMgPSBfLm50aEFyZygtMik7XG4gICAgICogZnVuYygnYScsICdiJywgJ2MnLCAnZCcpO1xuICAgICAqIC8vID0+ICdjJ1xuICAgICAqL1xuICAgIGZ1bmN0aW9uIG50aEFyZyhuKSB7XG4gICAgICBuID0gdG9JbnRlZ2VyKG4pO1xuICAgICAgcmV0dXJuIGJhc2VSZXN0KGZ1bmN0aW9uKGFyZ3MpIHtcbiAgICAgICAgcmV0dXJuIGJhc2VOdGgoYXJncywgbik7XG4gICAgICB9KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgZnVuY3Rpb24gdGhhdCBpbnZva2VzIGBpdGVyYXRlZXNgIHdpdGggdGhlIGFyZ3VtZW50cyBpdCByZWNlaXZlc1xuICAgICAqIGFuZCByZXR1cm5zIHRoZWlyIHJlc3VsdHMuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgVXRpbFxuICAgICAqIEBwYXJhbSB7Li4uKEZ1bmN0aW9ufEZ1bmN0aW9uW10pfSBbaXRlcmF0ZWVzPVtfLmlkZW50aXR5XV1cbiAgICAgKiAgVGhlIGl0ZXJhdGVlcyB0byBpbnZva2UuXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgZnVuY3Rpb24uXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBmdW5jID0gXy5vdmVyKFtNYXRoLm1heCwgTWF0aC5taW5dKTtcbiAgICAgKlxuICAgICAqIGZ1bmMoMSwgMiwgMywgNCk7XG4gICAgICogLy8gPT4gWzQsIDFdXG4gICAgICovXG4gICAgdmFyIG92ZXIgPSBjcmVhdGVPdmVyKGFycmF5TWFwKTtcblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBmdW5jdGlvbiB0aGF0IGNoZWNrcyBpZiAqKmFsbCoqIG9mIHRoZSBgcHJlZGljYXRlc2AgcmV0dXJuXG4gICAgICogdHJ1dGh5IHdoZW4gaW52b2tlZCB3aXRoIHRoZSBhcmd1bWVudHMgaXQgcmVjZWl2ZXMuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgVXRpbFxuICAgICAqIEBwYXJhbSB7Li4uKEZ1bmN0aW9ufEZ1bmN0aW9uW10pfSBbcHJlZGljYXRlcz1bXy5pZGVudGl0eV1dXG4gICAgICogIFRoZSBwcmVkaWNhdGVzIHRvIGNoZWNrLlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IGZ1bmN0aW9uLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgZnVuYyA9IF8ub3ZlckV2ZXJ5KFtCb29sZWFuLCBpc0Zpbml0ZV0pO1xuICAgICAqXG4gICAgICogZnVuYygnMScpO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKlxuICAgICAqIGZ1bmMobnVsbCk7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKlxuICAgICAqIGZ1bmMoTmFOKTtcbiAgICAgKiAvLyA9PiBmYWxzZVxuICAgICAqL1xuICAgIHZhciBvdmVyRXZlcnkgPSBjcmVhdGVPdmVyKGFycmF5RXZlcnkpO1xuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGZ1bmN0aW9uIHRoYXQgY2hlY2tzIGlmICoqYW55Kiogb2YgdGhlIGBwcmVkaWNhdGVzYCByZXR1cm5cbiAgICAgKiB0cnV0aHkgd2hlbiBpbnZva2VkIHdpdGggdGhlIGFyZ3VtZW50cyBpdCByZWNlaXZlcy5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBVdGlsXG4gICAgICogQHBhcmFtIHsuLi4oRnVuY3Rpb258RnVuY3Rpb25bXSl9IFtwcmVkaWNhdGVzPVtfLmlkZW50aXR5XV1cbiAgICAgKiAgVGhlIHByZWRpY2F0ZXMgdG8gY2hlY2suXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgZnVuY3Rpb24uXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBmdW5jID0gXy5vdmVyU29tZShbQm9vbGVhbiwgaXNGaW5pdGVdKTtcbiAgICAgKlxuICAgICAqIGZ1bmMoJzEnKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBmdW5jKG51bGwpO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKlxuICAgICAqIGZ1bmMoTmFOKTtcbiAgICAgKiAvLyA9PiBmYWxzZVxuICAgICAqL1xuICAgIHZhciBvdmVyU29tZSA9IGNyZWF0ZU92ZXIoYXJyYXlTb21lKTtcblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBmdW5jdGlvbiB0aGF0IHJldHVybnMgdGhlIHZhbHVlIGF0IGBwYXRoYCBvZiBhIGdpdmVuIG9iamVjdC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAyLjQuMFxuICAgICAqIEBjYXRlZ29yeSBVdGlsXG4gICAgICogQHBhcmFtIHtBcnJheXxzdHJpbmd9IHBhdGggVGhlIHBhdGggb2YgdGhlIHByb3BlcnR5IHRvIGdldC5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyBhY2Nlc3NvciBmdW5jdGlvbi5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIG9iamVjdHMgPSBbXG4gICAgICogICB7ICdhJzogeyAnYic6IDIgfSB9LFxuICAgICAqICAgeyAnYSc6IHsgJ2InOiAxIH0gfVxuICAgICAqIF07XG4gICAgICpcbiAgICAgKiBfLm1hcChvYmplY3RzLCBfLnByb3BlcnR5KCdhLmInKSk7XG4gICAgICogLy8gPT4gWzIsIDFdXG4gICAgICpcbiAgICAgKiBfLm1hcChfLnNvcnRCeShvYmplY3RzLCBfLnByb3BlcnR5KFsnYScsICdiJ10pKSwgJ2EuYicpO1xuICAgICAqIC8vID0+IFsxLCAyXVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHByb3BlcnR5KHBhdGgpIHtcbiAgICAgIHJldHVybiBpc0tleShwYXRoKSA/IGJhc2VQcm9wZXJ0eSh0b0tleShwYXRoKSkgOiBiYXNlUHJvcGVydHlEZWVwKHBhdGgpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBvcHBvc2l0ZSBvZiBgXy5wcm9wZXJ0eWA7IHRoaXMgbWV0aG9kIGNyZWF0ZXMgYSBmdW5jdGlvbiB0aGF0IHJldHVybnNcbiAgICAgKiB0aGUgdmFsdWUgYXQgYSBnaXZlbiBwYXRoIG9mIGBvYmplY3RgLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDMuMC4wXG4gICAgICogQGNhdGVnb3J5IFV0aWxcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gcXVlcnkuXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgYWNjZXNzb3IgZnVuY3Rpb24uXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBhcnJheSA9IFswLCAxLCAyXSxcbiAgICAgKiAgICAgb2JqZWN0ID0geyAnYSc6IGFycmF5LCAnYic6IGFycmF5LCAnYyc6IGFycmF5IH07XG4gICAgICpcbiAgICAgKiBfLm1hcChbJ2FbMl0nLCAnY1swXSddLCBfLnByb3BlcnR5T2Yob2JqZWN0KSk7XG4gICAgICogLy8gPT4gWzIsIDBdXG4gICAgICpcbiAgICAgKiBfLm1hcChbWydhJywgJzInXSwgWydjJywgJzAnXV0sIF8ucHJvcGVydHlPZihvYmplY3QpKTtcbiAgICAgKiAvLyA9PiBbMiwgMF1cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBwcm9wZXJ0eU9mKG9iamVjdCkge1xuICAgICAgcmV0dXJuIGZ1bmN0aW9uKHBhdGgpIHtcbiAgICAgICAgcmV0dXJuIG9iamVjdCA9PSBudWxsID8gdW5kZWZpbmVkIDogYmFzZUdldChvYmplY3QsIHBhdGgpO1xuICAgICAgfTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGFuIGFycmF5IG9mIG51bWJlcnMgKHBvc2l0aXZlIGFuZC9vciBuZWdhdGl2ZSkgcHJvZ3Jlc3NpbmcgZnJvbVxuICAgICAqIGBzdGFydGAgdXAgdG8sIGJ1dCBub3QgaW5jbHVkaW5nLCBgZW5kYC4gQSBzdGVwIG9mIGAtMWAgaXMgdXNlZCBpZiBhIG5lZ2F0aXZlXG4gICAgICogYHN0YXJ0YCBpcyBzcGVjaWZpZWQgd2l0aG91dCBhbiBgZW5kYCBvciBgc3RlcGAuIElmIGBlbmRgIGlzIG5vdCBzcGVjaWZpZWQsXG4gICAgICogaXQncyBzZXQgdG8gYHN0YXJ0YCB3aXRoIGBzdGFydGAgdGhlbiBzZXQgdG8gYDBgLlxuICAgICAqXG4gICAgICogKipOb3RlOioqIEphdmFTY3JpcHQgZm9sbG93cyB0aGUgSUVFRS03NTQgc3RhbmRhcmQgZm9yIHJlc29sdmluZ1xuICAgICAqIGZsb2F0aW5nLXBvaW50IHZhbHVlcyB3aGljaCBjYW4gcHJvZHVjZSB1bmV4cGVjdGVkIHJlc3VsdHMuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQHNpbmNlIDAuMS4wXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAY2F0ZWdvcnkgVXRpbFxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbc3RhcnQ9MF0gVGhlIHN0YXJ0IG9mIHRoZSByYW5nZS5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gZW5kIFRoZSBlbmQgb2YgdGhlIHJhbmdlLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbc3RlcD0xXSBUaGUgdmFsdWUgdG8gaW5jcmVtZW50IG9yIGRlY3JlbWVudCBieS5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIHJhbmdlIG9mIG51bWJlcnMuXG4gICAgICogQHNlZSBfLmluUmFuZ2UsIF8ucmFuZ2VSaWdodFxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLnJhbmdlKDQpO1xuICAgICAqIC8vID0+IFswLCAxLCAyLCAzXVxuICAgICAqXG4gICAgICogXy5yYW5nZSgtNCk7XG4gICAgICogLy8gPT4gWzAsIC0xLCAtMiwgLTNdXG4gICAgICpcbiAgICAgKiBfLnJhbmdlKDEsIDUpO1xuICAgICAqIC8vID0+IFsxLCAyLCAzLCA0XVxuICAgICAqXG4gICAgICogXy5yYW5nZSgwLCAyMCwgNSk7XG4gICAgICogLy8gPT4gWzAsIDUsIDEwLCAxNV1cbiAgICAgKlxuICAgICAqIF8ucmFuZ2UoMCwgLTQsIC0xKTtcbiAgICAgKiAvLyA9PiBbMCwgLTEsIC0yLCAtM11cbiAgICAgKlxuICAgICAqIF8ucmFuZ2UoMSwgNCwgMCk7XG4gICAgICogLy8gPT4gWzEsIDEsIDFdXG4gICAgICpcbiAgICAgKiBfLnJhbmdlKDApO1xuICAgICAqIC8vID0+IFtdXG4gICAgICovXG4gICAgdmFyIHJhbmdlID0gY3JlYXRlUmFuZ2UoKTtcblxuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIGlzIGxpa2UgYF8ucmFuZ2VgIGV4Y2VwdCB0aGF0IGl0IHBvcHVsYXRlcyB2YWx1ZXMgaW5cbiAgICAgKiBkZXNjZW5kaW5nIG9yZGVyLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IFV0aWxcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3N0YXJ0PTBdIFRoZSBzdGFydCBvZiB0aGUgcmFuZ2UuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGVuZCBUaGUgZW5kIG9mIHRoZSByYW5nZS5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3N0ZXA9MV0gVGhlIHZhbHVlIHRvIGluY3JlbWVudCBvciBkZWNyZW1lbnQgYnkuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSByYW5nZSBvZiBudW1iZXJzLlxuICAgICAqIEBzZWUgXy5pblJhbmdlLCBfLnJhbmdlXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8ucmFuZ2VSaWdodCg0KTtcbiAgICAgKiAvLyA9PiBbMywgMiwgMSwgMF1cbiAgICAgKlxuICAgICAqIF8ucmFuZ2VSaWdodCgtNCk7XG4gICAgICogLy8gPT4gWy0zLCAtMiwgLTEsIDBdXG4gICAgICpcbiAgICAgKiBfLnJhbmdlUmlnaHQoMSwgNSk7XG4gICAgICogLy8gPT4gWzQsIDMsIDIsIDFdXG4gICAgICpcbiAgICAgKiBfLnJhbmdlUmlnaHQoMCwgMjAsIDUpO1xuICAgICAqIC8vID0+IFsxNSwgMTAsIDUsIDBdXG4gICAgICpcbiAgICAgKiBfLnJhbmdlUmlnaHQoMCwgLTQsIC0xKTtcbiAgICAgKiAvLyA9PiBbLTMsIC0yLCAtMSwgMF1cbiAgICAgKlxuICAgICAqIF8ucmFuZ2VSaWdodCgxLCA0LCAwKTtcbiAgICAgKiAvLyA9PiBbMSwgMSwgMV1cbiAgICAgKlxuICAgICAqIF8ucmFuZ2VSaWdodCgwKTtcbiAgICAgKiAvLyA9PiBbXVxuICAgICAqL1xuICAgIHZhciByYW5nZVJpZ2h0ID0gY3JlYXRlUmFuZ2UodHJ1ZSk7XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCByZXR1cm5zIGEgbmV3IGVtcHR5IGFycmF5LlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMTMuMFxuICAgICAqIEBjYXRlZ29yeSBVdGlsXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBuZXcgZW1wdHkgYXJyYXkuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBhcnJheXMgPSBfLnRpbWVzKDIsIF8uc3R1YkFycmF5KTtcbiAgICAgKlxuICAgICAqIGNvbnNvbGUubG9nKGFycmF5cyk7XG4gICAgICogLy8gPT4gW1tdLCBbXV1cbiAgICAgKlxuICAgICAqIGNvbnNvbGUubG9nKGFycmF5c1swXSA9PT0gYXJyYXlzWzFdKTtcbiAgICAgKiAvLyA9PiBmYWxzZVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHN0dWJBcnJheSgpIHtcbiAgICAgIHJldHVybiBbXTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCByZXR1cm5zIGBmYWxzZWAuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4xMy4wXG4gICAgICogQGNhdGVnb3J5IFV0aWxcbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgZmFsc2VgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLnRpbWVzKDIsIF8uc3R1YkZhbHNlKTtcbiAgICAgKiAvLyA9PiBbZmFsc2UsIGZhbHNlXVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHN0dWJGYWxzZSgpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCByZXR1cm5zIGEgbmV3IGVtcHR5IG9iamVjdC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjEzLjBcbiAgICAgKiBAY2F0ZWdvcnkgVXRpbFxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgdGhlIG5ldyBlbXB0eSBvYmplY3QuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBvYmplY3RzID0gXy50aW1lcygyLCBfLnN0dWJPYmplY3QpO1xuICAgICAqXG4gICAgICogY29uc29sZS5sb2cob2JqZWN0cyk7XG4gICAgICogLy8gPT4gW3t9LCB7fV1cbiAgICAgKlxuICAgICAqIGNvbnNvbGUubG9nKG9iamVjdHNbMF0gPT09IG9iamVjdHNbMV0pO1xuICAgICAqIC8vID0+IGZhbHNlXG4gICAgICovXG4gICAgZnVuY3Rpb24gc3R1Yk9iamVjdCgpIHtcbiAgICAgIHJldHVybiB7fTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCByZXR1cm5zIGFuIGVtcHR5IHN0cmluZy5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjEzLjBcbiAgICAgKiBAY2F0ZWdvcnkgVXRpbFxuICAgICAqIEByZXR1cm5zIHtzdHJpbmd9IFJldHVybnMgdGhlIGVtcHR5IHN0cmluZy5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy50aW1lcygyLCBfLnN0dWJTdHJpbmcpO1xuICAgICAqIC8vID0+IFsnJywgJyddXG4gICAgICovXG4gICAgZnVuY3Rpb24gc3R1YlN0cmluZygpIHtcbiAgICAgIHJldHVybiAnJztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCByZXR1cm5zIGB0cnVlYC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjEzLjBcbiAgICAgKiBAY2F0ZWdvcnkgVXRpbFxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy50aW1lcygyLCBfLnN0dWJUcnVlKTtcbiAgICAgKiAvLyA9PiBbdHJ1ZSwgdHJ1ZV1cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBzdHViVHJ1ZSgpIHtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEludm9rZXMgdGhlIGl0ZXJhdGVlIGBuYCB0aW1lcywgcmV0dXJuaW5nIGFuIGFycmF5IG9mIHRoZSByZXN1bHRzIG9mXG4gICAgICogZWFjaCBpbnZvY2F0aW9uLiBUaGUgaXRlcmF0ZWUgaXMgaW52b2tlZCB3aXRoIG9uZSBhcmd1bWVudDsgKGluZGV4KS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAc2luY2UgMC4xLjBcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBjYXRlZ29yeSBVdGlsXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IG4gVGhlIG51bWJlciBvZiB0aW1lcyB0byBpbnZva2UgYGl0ZXJhdGVlYC5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbaXRlcmF0ZWU9Xy5pZGVudGl0eV0gVGhlIGZ1bmN0aW9uIGludm9rZWQgcGVyIGl0ZXJhdGlvbi5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIGFycmF5IG9mIHJlc3VsdHMuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8udGltZXMoMywgU3RyaW5nKTtcbiAgICAgKiAvLyA9PiBbJzAnLCAnMScsICcyJ11cbiAgICAgKlxuICAgICAqICBfLnRpbWVzKDQsIF8uY29uc3RhbnQoMCkpO1xuICAgICAqIC8vID0+IFswLCAwLCAwLCAwXVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHRpbWVzKG4sIGl0ZXJhdGVlKSB7XG4gICAgICBuID0gdG9JbnRlZ2VyKG4pO1xuICAgICAgaWYgKG4gPCAxIHx8IG4gPiBNQVhfU0FGRV9JTlRFR0VSKSB7XG4gICAgICAgIHJldHVybiBbXTtcbiAgICAgIH1cbiAgICAgIHZhciBpbmRleCA9IE1BWF9BUlJBWV9MRU5HVEgsXG4gICAgICAgICAgbGVuZ3RoID0gbmF0aXZlTWluKG4sIE1BWF9BUlJBWV9MRU5HVEgpO1xuXG4gICAgICBpdGVyYXRlZSA9IGdldEl0ZXJhdGVlKGl0ZXJhdGVlKTtcbiAgICAgIG4gLT0gTUFYX0FSUkFZX0xFTkdUSDtcblxuICAgICAgdmFyIHJlc3VsdCA9IGJhc2VUaW1lcyhsZW5ndGgsIGl0ZXJhdGVlKTtcbiAgICAgIHdoaWxlICgrK2luZGV4IDwgbikge1xuICAgICAgICBpdGVyYXRlZShpbmRleCk7XG4gICAgICB9XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENvbnZlcnRzIGB2YWx1ZWAgdG8gYSBwcm9wZXJ0eSBwYXRoIGFycmF5LlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IFV0aWxcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjb252ZXJ0LlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgbmV3IHByb3BlcnR5IHBhdGggYXJyYXkuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8udG9QYXRoKCdhLmIuYycpO1xuICAgICAqIC8vID0+IFsnYScsICdiJywgJ2MnXVxuICAgICAqXG4gICAgICogXy50b1BhdGgoJ2FbMF0uYi5jJyk7XG4gICAgICogLy8gPT4gWydhJywgJzAnLCAnYicsICdjJ11cbiAgICAgKi9cbiAgICBmdW5jdGlvbiB0b1BhdGgodmFsdWUpIHtcbiAgICAgIGlmIChpc0FycmF5KHZhbHVlKSkge1xuICAgICAgICByZXR1cm4gYXJyYXlNYXAodmFsdWUsIHRvS2V5KTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBpc1N5bWJvbCh2YWx1ZSkgPyBbdmFsdWVdIDogY29weUFycmF5KHN0cmluZ1RvUGF0aCh0b1N0cmluZyh2YWx1ZSkpKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBHZW5lcmF0ZXMgYSB1bmlxdWUgSUQuIElmIGBwcmVmaXhgIGlzIGdpdmVuLCB0aGUgSUQgaXMgYXBwZW5kZWQgdG8gaXQuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQHNpbmNlIDAuMS4wXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAY2F0ZWdvcnkgVXRpbFxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbcHJlZml4PScnXSBUaGUgdmFsdWUgdG8gcHJlZml4IHRoZSBJRCB3aXRoLlxuICAgICAqIEByZXR1cm5zIHtzdHJpbmd9IFJldHVybnMgdGhlIHVuaXF1ZSBJRC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy51bmlxdWVJZCgnY29udGFjdF8nKTtcbiAgICAgKiAvLyA9PiAnY29udGFjdF8xMDQnXG4gICAgICpcbiAgICAgKiBfLnVuaXF1ZUlkKCk7XG4gICAgICogLy8gPT4gJzEwNSdcbiAgICAgKi9cbiAgICBmdW5jdGlvbiB1bmlxdWVJZChwcmVmaXgpIHtcbiAgICAgIHZhciBpZCA9ICsraWRDb3VudGVyO1xuICAgICAgcmV0dXJuIHRvU3RyaW5nKHByZWZpeCkgKyBpZDtcbiAgICB9XG5cbiAgICAvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG5cbiAgICAvKipcbiAgICAgKiBBZGRzIHR3byBudW1iZXJzLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDMuNC4wXG4gICAgICogQGNhdGVnb3J5IE1hdGhcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gYXVnZW5kIFRoZSBmaXJzdCBudW1iZXIgaW4gYW4gYWRkaXRpb24uXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGFkZGVuZCBUaGUgc2Vjb25kIG51bWJlciBpbiBhbiBhZGRpdGlvbi5cbiAgICAgKiBAcmV0dXJucyB7bnVtYmVyfSBSZXR1cm5zIHRoZSB0b3RhbC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5hZGQoNiwgNCk7XG4gICAgICogLy8gPT4gMTBcbiAgICAgKi9cbiAgICB2YXIgYWRkID0gY3JlYXRlTWF0aE9wZXJhdGlvbihmdW5jdGlvbihhdWdlbmQsIGFkZGVuZCkge1xuICAgICAgcmV0dXJuIGF1Z2VuZCArIGFkZGVuZDtcbiAgICB9LCAwKTtcblxuICAgIC8qKlxuICAgICAqIENvbXB1dGVzIGBudW1iZXJgIHJvdW5kZWQgdXAgdG8gYHByZWNpc2lvbmAuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMy4xMC4wXG4gICAgICogQGNhdGVnb3J5IE1hdGhcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gbnVtYmVyIFRoZSBudW1iZXIgdG8gcm91bmQgdXAuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtwcmVjaXNpb249MF0gVGhlIHByZWNpc2lvbiB0byByb3VuZCB1cCB0by5cbiAgICAgKiBAcmV0dXJucyB7bnVtYmVyfSBSZXR1cm5zIHRoZSByb3VuZGVkIHVwIG51bWJlci5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5jZWlsKDQuMDA2KTtcbiAgICAgKiAvLyA9PiA1XG4gICAgICpcbiAgICAgKiBfLmNlaWwoNi4wMDQsIDIpO1xuICAgICAqIC8vID0+IDYuMDFcbiAgICAgKlxuICAgICAqIF8uY2VpbCg2MDQwLCAtMik7XG4gICAgICogLy8gPT4gNjEwMFxuICAgICAqL1xuICAgIHZhciBjZWlsID0gY3JlYXRlUm91bmQoJ2NlaWwnKTtcblxuICAgIC8qKlxuICAgICAqIERpdmlkZSB0d28gbnVtYmVycy5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjcuMFxuICAgICAqIEBjYXRlZ29yeSBNYXRoXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGRpdmlkZW5kIFRoZSBmaXJzdCBudW1iZXIgaW4gYSBkaXZpc2lvbi5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gZGl2aXNvciBUaGUgc2Vjb25kIG51bWJlciBpbiBhIGRpdmlzaW9uLlxuICAgICAqIEByZXR1cm5zIHtudW1iZXJ9IFJldHVybnMgdGhlIHF1b3RpZW50LlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmRpdmlkZSg2LCA0KTtcbiAgICAgKiAvLyA9PiAxLjVcbiAgICAgKi9cbiAgICB2YXIgZGl2aWRlID0gY3JlYXRlTWF0aE9wZXJhdGlvbihmdW5jdGlvbihkaXZpZGVuZCwgZGl2aXNvcikge1xuICAgICAgcmV0dXJuIGRpdmlkZW5kIC8gZGl2aXNvcjtcbiAgICB9LCAxKTtcblxuICAgIC8qKlxuICAgICAqIENvbXB1dGVzIGBudW1iZXJgIHJvdW5kZWQgZG93biB0byBgcHJlY2lzaW9uYC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAzLjEwLjBcbiAgICAgKiBAY2F0ZWdvcnkgTWF0aFxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBudW1iZXIgVGhlIG51bWJlciB0byByb3VuZCBkb3duLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbcHJlY2lzaW9uPTBdIFRoZSBwcmVjaXNpb24gdG8gcm91bmQgZG93biB0by5cbiAgICAgKiBAcmV0dXJucyB7bnVtYmVyfSBSZXR1cm5zIHRoZSByb3VuZGVkIGRvd24gbnVtYmVyLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmZsb29yKDQuMDA2KTtcbiAgICAgKiAvLyA9PiA0XG4gICAgICpcbiAgICAgKiBfLmZsb29yKDAuMDQ2LCAyKTtcbiAgICAgKiAvLyA9PiAwLjA0XG4gICAgICpcbiAgICAgKiBfLmZsb29yKDQwNjAsIC0yKTtcbiAgICAgKiAvLyA9PiA0MDAwXG4gICAgICovXG4gICAgdmFyIGZsb29yID0gY3JlYXRlUm91bmQoJ2Zsb29yJyk7XG5cbiAgICAvKipcbiAgICAgKiBDb21wdXRlcyB0aGUgbWF4aW11bSB2YWx1ZSBvZiBgYXJyYXlgLiBJZiBgYXJyYXlgIGlzIGVtcHR5IG9yIGZhbHNleSxcbiAgICAgKiBgdW5kZWZpbmVkYCBpcyByZXR1cm5lZC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAc2luY2UgMC4xLjBcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBjYXRlZ29yeSBNYXRoXG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIGl0ZXJhdGUgb3Zlci5cbiAgICAgKiBAcmV0dXJucyB7Kn0gUmV0dXJucyB0aGUgbWF4aW11bSB2YWx1ZS5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5tYXgoWzQsIDIsIDgsIDZdKTtcbiAgICAgKiAvLyA9PiA4XG4gICAgICpcbiAgICAgKiBfLm1heChbXSk7XG4gICAgICogLy8gPT4gdW5kZWZpbmVkXG4gICAgICovXG4gICAgZnVuY3Rpb24gbWF4KGFycmF5KSB7XG4gICAgICByZXR1cm4gKGFycmF5ICYmIGFycmF5Lmxlbmd0aClcbiAgICAgICAgPyBiYXNlRXh0cmVtdW0oYXJyYXksIGlkZW50aXR5LCBiYXNlR3QpXG4gICAgICAgIDogdW5kZWZpbmVkO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIGlzIGxpa2UgYF8ubWF4YCBleGNlcHQgdGhhdCBpdCBhY2NlcHRzIGBpdGVyYXRlZWAgd2hpY2ggaXNcbiAgICAgKiBpbnZva2VkIGZvciBlYWNoIGVsZW1lbnQgaW4gYGFycmF5YCB0byBnZW5lcmF0ZSB0aGUgY3JpdGVyaW9uIGJ5IHdoaWNoXG4gICAgICogdGhlIHZhbHVlIGlzIHJhbmtlZC4gVGhlIGl0ZXJhdGVlIGlzIGludm9rZWQgd2l0aCBvbmUgYXJndW1lbnQ6ICh2YWx1ZSkuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgTWF0aFxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBpdGVyYXRlIG92ZXIuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2l0ZXJhdGVlPV8uaWRlbnRpdHldIFRoZSBpdGVyYXRlZSBpbnZva2VkIHBlciBlbGVtZW50LlxuICAgICAqIEByZXR1cm5zIHsqfSBSZXR1cm5zIHRoZSBtYXhpbXVtIHZhbHVlLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgb2JqZWN0cyA9IFt7ICduJzogMSB9LCB7ICduJzogMiB9XTtcbiAgICAgKlxuICAgICAqIF8ubWF4Qnkob2JqZWN0cywgZnVuY3Rpb24obykgeyByZXR1cm4gby5uOyB9KTtcbiAgICAgKiAvLyA9PiB7ICduJzogMiB9XG4gICAgICpcbiAgICAgKiAvLyBUaGUgYF8ucHJvcGVydHlgIGl0ZXJhdGVlIHNob3J0aGFuZC5cbiAgICAgKiBfLm1heEJ5KG9iamVjdHMsICduJyk7XG4gICAgICogLy8gPT4geyAnbic6IDIgfVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIG1heEJ5KGFycmF5LCBpdGVyYXRlZSkge1xuICAgICAgcmV0dXJuIChhcnJheSAmJiBhcnJheS5sZW5ndGgpXG4gICAgICAgID8gYmFzZUV4dHJlbXVtKGFycmF5LCBnZXRJdGVyYXRlZShpdGVyYXRlZSwgMiksIGJhc2VHdClcbiAgICAgICAgOiB1bmRlZmluZWQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ29tcHV0ZXMgdGhlIG1lYW4gb2YgdGhlIHZhbHVlcyBpbiBgYXJyYXlgLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IE1hdGhcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gaXRlcmF0ZSBvdmVyLlxuICAgICAqIEByZXR1cm5zIHtudW1iZXJ9IFJldHVybnMgdGhlIG1lYW4uXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8ubWVhbihbNCwgMiwgOCwgNl0pO1xuICAgICAqIC8vID0+IDVcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBtZWFuKGFycmF5KSB7XG4gICAgICByZXR1cm4gYmFzZU1lYW4oYXJyYXksIGlkZW50aXR5KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCBpcyBsaWtlIGBfLm1lYW5gIGV4Y2VwdCB0aGF0IGl0IGFjY2VwdHMgYGl0ZXJhdGVlYCB3aGljaCBpc1xuICAgICAqIGludm9rZWQgZm9yIGVhY2ggZWxlbWVudCBpbiBgYXJyYXlgIHRvIGdlbmVyYXRlIHRoZSB2YWx1ZSB0byBiZSBhdmVyYWdlZC5cbiAgICAgKiBUaGUgaXRlcmF0ZWUgaXMgaW52b2tlZCB3aXRoIG9uZSBhcmd1bWVudDogKHZhbHVlKS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjcuMFxuICAgICAqIEBjYXRlZ29yeSBNYXRoXG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIGl0ZXJhdGUgb3Zlci5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbaXRlcmF0ZWU9Xy5pZGVudGl0eV0gVGhlIGl0ZXJhdGVlIGludm9rZWQgcGVyIGVsZW1lbnQuXG4gICAgICogQHJldHVybnMge251bWJlcn0gUmV0dXJucyB0aGUgbWVhbi5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIG9iamVjdHMgPSBbeyAnbic6IDQgfSwgeyAnbic6IDIgfSwgeyAnbic6IDggfSwgeyAnbic6IDYgfV07XG4gICAgICpcbiAgICAgKiBfLm1lYW5CeShvYmplY3RzLCBmdW5jdGlvbihvKSB7IHJldHVybiBvLm47IH0pO1xuICAgICAqIC8vID0+IDVcbiAgICAgKlxuICAgICAqIC8vIFRoZSBgXy5wcm9wZXJ0eWAgaXRlcmF0ZWUgc2hvcnRoYW5kLlxuICAgICAqIF8ubWVhbkJ5KG9iamVjdHMsICduJyk7XG4gICAgICogLy8gPT4gNVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIG1lYW5CeShhcnJheSwgaXRlcmF0ZWUpIHtcbiAgICAgIHJldHVybiBiYXNlTWVhbihhcnJheSwgZ2V0SXRlcmF0ZWUoaXRlcmF0ZWUsIDIpKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDb21wdXRlcyB0aGUgbWluaW11bSB2YWx1ZSBvZiBgYXJyYXlgLiBJZiBgYXJyYXlgIGlzIGVtcHR5IG9yIGZhbHNleSxcbiAgICAgKiBgdW5kZWZpbmVkYCBpcyByZXR1cm5lZC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAc2luY2UgMC4xLjBcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBjYXRlZ29yeSBNYXRoXG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIGl0ZXJhdGUgb3Zlci5cbiAgICAgKiBAcmV0dXJucyB7Kn0gUmV0dXJucyB0aGUgbWluaW11bSB2YWx1ZS5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5taW4oWzQsIDIsIDgsIDZdKTtcbiAgICAgKiAvLyA9PiAyXG4gICAgICpcbiAgICAgKiBfLm1pbihbXSk7XG4gICAgICogLy8gPT4gdW5kZWZpbmVkXG4gICAgICovXG4gICAgZnVuY3Rpb24gbWluKGFycmF5KSB7XG4gICAgICByZXR1cm4gKGFycmF5ICYmIGFycmF5Lmxlbmd0aClcbiAgICAgICAgPyBiYXNlRXh0cmVtdW0oYXJyYXksIGlkZW50aXR5LCBiYXNlTHQpXG4gICAgICAgIDogdW5kZWZpbmVkO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIGlzIGxpa2UgYF8ubWluYCBleGNlcHQgdGhhdCBpdCBhY2NlcHRzIGBpdGVyYXRlZWAgd2hpY2ggaXNcbiAgICAgKiBpbnZva2VkIGZvciBlYWNoIGVsZW1lbnQgaW4gYGFycmF5YCB0byBnZW5lcmF0ZSB0aGUgY3JpdGVyaW9uIGJ5IHdoaWNoXG4gICAgICogdGhlIHZhbHVlIGlzIHJhbmtlZC4gVGhlIGl0ZXJhdGVlIGlzIGludm9rZWQgd2l0aCBvbmUgYXJndW1lbnQ6ICh2YWx1ZSkuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgTWF0aFxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBpdGVyYXRlIG92ZXIuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2l0ZXJhdGVlPV8uaWRlbnRpdHldIFRoZSBpdGVyYXRlZSBpbnZva2VkIHBlciBlbGVtZW50LlxuICAgICAqIEByZXR1cm5zIHsqfSBSZXR1cm5zIHRoZSBtaW5pbXVtIHZhbHVlLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgb2JqZWN0cyA9IFt7ICduJzogMSB9LCB7ICduJzogMiB9XTtcbiAgICAgKlxuICAgICAqIF8ubWluQnkob2JqZWN0cywgZnVuY3Rpb24obykgeyByZXR1cm4gby5uOyB9KTtcbiAgICAgKiAvLyA9PiB7ICduJzogMSB9XG4gICAgICpcbiAgICAgKiAvLyBUaGUgYF8ucHJvcGVydHlgIGl0ZXJhdGVlIHNob3J0aGFuZC5cbiAgICAgKiBfLm1pbkJ5KG9iamVjdHMsICduJyk7XG4gICAgICogLy8gPT4geyAnbic6IDEgfVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIG1pbkJ5KGFycmF5LCBpdGVyYXRlZSkge1xuICAgICAgcmV0dXJuIChhcnJheSAmJiBhcnJheS5sZW5ndGgpXG4gICAgICAgID8gYmFzZUV4dHJlbXVtKGFycmF5LCBnZXRJdGVyYXRlZShpdGVyYXRlZSwgMiksIGJhc2VMdClcbiAgICAgICAgOiB1bmRlZmluZWQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogTXVsdGlwbHkgdHdvIG51bWJlcnMuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC43LjBcbiAgICAgKiBAY2F0ZWdvcnkgTWF0aFxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBtdWx0aXBsaWVyIFRoZSBmaXJzdCBudW1iZXIgaW4gYSBtdWx0aXBsaWNhdGlvbi5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gbXVsdGlwbGljYW5kIFRoZSBzZWNvbmQgbnVtYmVyIGluIGEgbXVsdGlwbGljYXRpb24uXG4gICAgICogQHJldHVybnMge251bWJlcn0gUmV0dXJucyB0aGUgcHJvZHVjdC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5tdWx0aXBseSg2LCA0KTtcbiAgICAgKiAvLyA9PiAyNFxuICAgICAqL1xuICAgIHZhciBtdWx0aXBseSA9IGNyZWF0ZU1hdGhPcGVyYXRpb24oZnVuY3Rpb24obXVsdGlwbGllciwgbXVsdGlwbGljYW5kKSB7XG4gICAgICByZXR1cm4gbXVsdGlwbGllciAqIG11bHRpcGxpY2FuZDtcbiAgICB9LCAxKTtcblxuICAgIC8qKlxuICAgICAqIENvbXB1dGVzIGBudW1iZXJgIHJvdW5kZWQgdG8gYHByZWNpc2lvbmAuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMy4xMC4wXG4gICAgICogQGNhdGVnb3J5IE1hdGhcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gbnVtYmVyIFRoZSBudW1iZXIgdG8gcm91bmQuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtwcmVjaXNpb249MF0gVGhlIHByZWNpc2lvbiB0byByb3VuZCB0by5cbiAgICAgKiBAcmV0dXJucyB7bnVtYmVyfSBSZXR1cm5zIHRoZSByb3VuZGVkIG51bWJlci5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5yb3VuZCg0LjAwNik7XG4gICAgICogLy8gPT4gNFxuICAgICAqXG4gICAgICogXy5yb3VuZCg0LjAwNiwgMik7XG4gICAgICogLy8gPT4gNC4wMVxuICAgICAqXG4gICAgICogXy5yb3VuZCg0MDYwLCAtMik7XG4gICAgICogLy8gPT4gNDEwMFxuICAgICAqL1xuICAgIHZhciByb3VuZCA9IGNyZWF0ZVJvdW5kKCdyb3VuZCcpO1xuXG4gICAgLyoqXG4gICAgICogU3VidHJhY3QgdHdvIG51bWJlcnMuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgTWF0aFxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBtaW51ZW5kIFRoZSBmaXJzdCBudW1iZXIgaW4gYSBzdWJ0cmFjdGlvbi5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gc3VidHJhaGVuZCBUaGUgc2Vjb25kIG51bWJlciBpbiBhIHN1YnRyYWN0aW9uLlxuICAgICAqIEByZXR1cm5zIHtudW1iZXJ9IFJldHVybnMgdGhlIGRpZmZlcmVuY2UuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uc3VidHJhY3QoNiwgNCk7XG4gICAgICogLy8gPT4gMlxuICAgICAqL1xuICAgIHZhciBzdWJ0cmFjdCA9IGNyZWF0ZU1hdGhPcGVyYXRpb24oZnVuY3Rpb24obWludWVuZCwgc3VidHJhaGVuZCkge1xuICAgICAgcmV0dXJuIG1pbnVlbmQgLSBzdWJ0cmFoZW5kO1xuICAgIH0sIDApO1xuXG4gICAgLyoqXG4gICAgICogQ29tcHV0ZXMgdGhlIHN1bSBvZiB0aGUgdmFsdWVzIGluIGBhcnJheWAuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMy40LjBcbiAgICAgKiBAY2F0ZWdvcnkgTWF0aFxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBpdGVyYXRlIG92ZXIuXG4gICAgICogQHJldHVybnMge251bWJlcn0gUmV0dXJucyB0aGUgc3VtLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLnN1bShbNCwgMiwgOCwgNl0pO1xuICAgICAqIC8vID0+IDIwXG4gICAgICovXG4gICAgZnVuY3Rpb24gc3VtKGFycmF5KSB7XG4gICAgICByZXR1cm4gKGFycmF5ICYmIGFycmF5Lmxlbmd0aClcbiAgICAgICAgPyBiYXNlU3VtKGFycmF5LCBpZGVudGl0eSlcbiAgICAgICAgOiAwO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIGlzIGxpa2UgYF8uc3VtYCBleGNlcHQgdGhhdCBpdCBhY2NlcHRzIGBpdGVyYXRlZWAgd2hpY2ggaXNcbiAgICAgKiBpbnZva2VkIGZvciBlYWNoIGVsZW1lbnQgaW4gYGFycmF5YCB0byBnZW5lcmF0ZSB0aGUgdmFsdWUgdG8gYmUgc3VtbWVkLlxuICAgICAqIFRoZSBpdGVyYXRlZSBpcyBpbnZva2VkIHdpdGggb25lIGFyZ3VtZW50OiAodmFsdWUpLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IE1hdGhcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gaXRlcmF0ZSBvdmVyLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtpdGVyYXRlZT1fLmlkZW50aXR5XSBUaGUgaXRlcmF0ZWUgaW52b2tlZCBwZXIgZWxlbWVudC5cbiAgICAgKiBAcmV0dXJucyB7bnVtYmVyfSBSZXR1cm5zIHRoZSBzdW0uXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBvYmplY3RzID0gW3sgJ24nOiA0IH0sIHsgJ24nOiAyIH0sIHsgJ24nOiA4IH0sIHsgJ24nOiA2IH1dO1xuICAgICAqXG4gICAgICogXy5zdW1CeShvYmplY3RzLCBmdW5jdGlvbihvKSB7IHJldHVybiBvLm47IH0pO1xuICAgICAqIC8vID0+IDIwXG4gICAgICpcbiAgICAgKiAvLyBUaGUgYF8ucHJvcGVydHlgIGl0ZXJhdGVlIHNob3J0aGFuZC5cbiAgICAgKiBfLnN1bUJ5KG9iamVjdHMsICduJyk7XG4gICAgICogLy8gPT4gMjBcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBzdW1CeShhcnJheSwgaXRlcmF0ZWUpIHtcbiAgICAgIHJldHVybiAoYXJyYXkgJiYgYXJyYXkubGVuZ3RoKVxuICAgICAgICA/IGJhc2VTdW0oYXJyYXksIGdldEl0ZXJhdGVlKGl0ZXJhdGVlLCAyKSlcbiAgICAgICAgOiAwO1xuICAgIH1cblxuICAgIC8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cblxuICAgIC8vIEFkZCBtZXRob2RzIHRoYXQgcmV0dXJuIHdyYXBwZWQgdmFsdWVzIGluIGNoYWluIHNlcXVlbmNlcy5cbiAgICBsb2Rhc2guYWZ0ZXIgPSBhZnRlcjtcbiAgICBsb2Rhc2guYXJ5ID0gYXJ5O1xuICAgIGxvZGFzaC5hc3NpZ24gPSBhc3NpZ247XG4gICAgbG9kYXNoLmFzc2lnbkluID0gYXNzaWduSW47XG4gICAgbG9kYXNoLmFzc2lnbkluV2l0aCA9IGFzc2lnbkluV2l0aDtcbiAgICBsb2Rhc2guYXNzaWduV2l0aCA9IGFzc2lnbldpdGg7XG4gICAgbG9kYXNoLmF0ID0gYXQ7XG4gICAgbG9kYXNoLmJlZm9yZSA9IGJlZm9yZTtcbiAgICBsb2Rhc2guYmluZCA9IGJpbmQ7XG4gICAgbG9kYXNoLmJpbmRBbGwgPSBiaW5kQWxsO1xuICAgIGxvZGFzaC5iaW5kS2V5ID0gYmluZEtleTtcbiAgICBsb2Rhc2guY2FzdEFycmF5ID0gY2FzdEFycmF5O1xuICAgIGxvZGFzaC5jaGFpbiA9IGNoYWluO1xuICAgIGxvZGFzaC5jaHVuayA9IGNodW5rO1xuICAgIGxvZGFzaC5jb21wYWN0ID0gY29tcGFjdDtcbiAgICBsb2Rhc2guY29uY2F0ID0gY29uY2F0O1xuICAgIGxvZGFzaC5jb25kID0gY29uZDtcbiAgICBsb2Rhc2guY29uZm9ybXMgPSBjb25mb3JtcztcbiAgICBsb2Rhc2guY29uc3RhbnQgPSBjb25zdGFudDtcbiAgICBsb2Rhc2guY291bnRCeSA9IGNvdW50Qnk7XG4gICAgbG9kYXNoLmNyZWF0ZSA9IGNyZWF0ZTtcbiAgICBsb2Rhc2guY3VycnkgPSBjdXJyeTtcbiAgICBsb2Rhc2guY3VycnlSaWdodCA9IGN1cnJ5UmlnaHQ7XG4gICAgbG9kYXNoLmRlYm91bmNlID0gZGVib3VuY2U7XG4gICAgbG9kYXNoLmRlZmF1bHRzID0gZGVmYXVsdHM7XG4gICAgbG9kYXNoLmRlZmF1bHRzRGVlcCA9IGRlZmF1bHRzRGVlcDtcbiAgICBsb2Rhc2guZGVmZXIgPSBkZWZlcjtcbiAgICBsb2Rhc2guZGVsYXkgPSBkZWxheTtcbiAgICBsb2Rhc2guZGlmZmVyZW5jZSA9IGRpZmZlcmVuY2U7XG4gICAgbG9kYXNoLmRpZmZlcmVuY2VCeSA9IGRpZmZlcmVuY2VCeTtcbiAgICBsb2Rhc2guZGlmZmVyZW5jZVdpdGggPSBkaWZmZXJlbmNlV2l0aDtcbiAgICBsb2Rhc2guZHJvcCA9IGRyb3A7XG4gICAgbG9kYXNoLmRyb3BSaWdodCA9IGRyb3BSaWdodDtcbiAgICBsb2Rhc2guZHJvcFJpZ2h0V2hpbGUgPSBkcm9wUmlnaHRXaGlsZTtcbiAgICBsb2Rhc2guZHJvcFdoaWxlID0gZHJvcFdoaWxlO1xuICAgIGxvZGFzaC5maWxsID0gZmlsbDtcbiAgICBsb2Rhc2guZmlsdGVyID0gZmlsdGVyO1xuICAgIGxvZGFzaC5mbGF0TWFwID0gZmxhdE1hcDtcbiAgICBsb2Rhc2guZmxhdE1hcERlZXAgPSBmbGF0TWFwRGVlcDtcbiAgICBsb2Rhc2guZmxhdE1hcERlcHRoID0gZmxhdE1hcERlcHRoO1xuICAgIGxvZGFzaC5mbGF0dGVuID0gZmxhdHRlbjtcbiAgICBsb2Rhc2guZmxhdHRlbkRlZXAgPSBmbGF0dGVuRGVlcDtcbiAgICBsb2Rhc2guZmxhdHRlbkRlcHRoID0gZmxhdHRlbkRlcHRoO1xuICAgIGxvZGFzaC5mbGlwID0gZmxpcDtcbiAgICBsb2Rhc2guZmxvdyA9IGZsb3c7XG4gICAgbG9kYXNoLmZsb3dSaWdodCA9IGZsb3dSaWdodDtcbiAgICBsb2Rhc2guZnJvbVBhaXJzID0gZnJvbVBhaXJzO1xuICAgIGxvZGFzaC5mdW5jdGlvbnMgPSBmdW5jdGlvbnM7XG4gICAgbG9kYXNoLmZ1bmN0aW9uc0luID0gZnVuY3Rpb25zSW47XG4gICAgbG9kYXNoLmdyb3VwQnkgPSBncm91cEJ5O1xuICAgIGxvZGFzaC5pbml0aWFsID0gaW5pdGlhbDtcbiAgICBsb2Rhc2guaW50ZXJzZWN0aW9uID0gaW50ZXJzZWN0aW9uO1xuICAgIGxvZGFzaC5pbnRlcnNlY3Rpb25CeSA9IGludGVyc2VjdGlvbkJ5O1xuICAgIGxvZGFzaC5pbnRlcnNlY3Rpb25XaXRoID0gaW50ZXJzZWN0aW9uV2l0aDtcbiAgICBsb2Rhc2guaW52ZXJ0ID0gaW52ZXJ0O1xuICAgIGxvZGFzaC5pbnZlcnRCeSA9IGludmVydEJ5O1xuICAgIGxvZGFzaC5pbnZva2VNYXAgPSBpbnZva2VNYXA7XG4gICAgbG9kYXNoLml0ZXJhdGVlID0gaXRlcmF0ZWU7XG4gICAgbG9kYXNoLmtleUJ5ID0ga2V5Qnk7XG4gICAgbG9kYXNoLmtleXMgPSBrZXlzO1xuICAgIGxvZGFzaC5rZXlzSW4gPSBrZXlzSW47XG4gICAgbG9kYXNoLm1hcCA9IG1hcDtcbiAgICBsb2Rhc2gubWFwS2V5cyA9IG1hcEtleXM7XG4gICAgbG9kYXNoLm1hcFZhbHVlcyA9IG1hcFZhbHVlcztcbiAgICBsb2Rhc2gubWF0Y2hlcyA9IG1hdGNoZXM7XG4gICAgbG9kYXNoLm1hdGNoZXNQcm9wZXJ0eSA9IG1hdGNoZXNQcm9wZXJ0eTtcbiAgICBsb2Rhc2gubWVtb2l6ZSA9IG1lbW9pemU7XG4gICAgbG9kYXNoLm1lcmdlID0gbWVyZ2U7XG4gICAgbG9kYXNoLm1lcmdlV2l0aCA9IG1lcmdlV2l0aDtcbiAgICBsb2Rhc2gubWV0aG9kID0gbWV0aG9kO1xuICAgIGxvZGFzaC5tZXRob2RPZiA9IG1ldGhvZE9mO1xuICAgIGxvZGFzaC5taXhpbiA9IG1peGluO1xuICAgIGxvZGFzaC5uZWdhdGUgPSBuZWdhdGU7XG4gICAgbG9kYXNoLm50aEFyZyA9IG50aEFyZztcbiAgICBsb2Rhc2gub21pdCA9IG9taXQ7XG4gICAgbG9kYXNoLm9taXRCeSA9IG9taXRCeTtcbiAgICBsb2Rhc2gub25jZSA9IG9uY2U7XG4gICAgbG9kYXNoLm9yZGVyQnkgPSBvcmRlckJ5O1xuICAgIGxvZGFzaC5vdmVyID0gb3ZlcjtcbiAgICBsb2Rhc2gub3ZlckFyZ3MgPSBvdmVyQXJncztcbiAgICBsb2Rhc2gub3ZlckV2ZXJ5ID0gb3ZlckV2ZXJ5O1xuICAgIGxvZGFzaC5vdmVyU29tZSA9IG92ZXJTb21lO1xuICAgIGxvZGFzaC5wYXJ0aWFsID0gcGFydGlhbDtcbiAgICBsb2Rhc2gucGFydGlhbFJpZ2h0ID0gcGFydGlhbFJpZ2h0O1xuICAgIGxvZGFzaC5wYXJ0aXRpb24gPSBwYXJ0aXRpb247XG4gICAgbG9kYXNoLnBpY2sgPSBwaWNrO1xuICAgIGxvZGFzaC5waWNrQnkgPSBwaWNrQnk7XG4gICAgbG9kYXNoLnByb3BlcnR5ID0gcHJvcGVydHk7XG4gICAgbG9kYXNoLnByb3BlcnR5T2YgPSBwcm9wZXJ0eU9mO1xuICAgIGxvZGFzaC5wdWxsID0gcHVsbDtcbiAgICBsb2Rhc2gucHVsbEFsbCA9IHB1bGxBbGw7XG4gICAgbG9kYXNoLnB1bGxBbGxCeSA9IHB1bGxBbGxCeTtcbiAgICBsb2Rhc2gucHVsbEFsbFdpdGggPSBwdWxsQWxsV2l0aDtcbiAgICBsb2Rhc2gucHVsbEF0ID0gcHVsbEF0O1xuICAgIGxvZGFzaC5yYW5nZSA9IHJhbmdlO1xuICAgIGxvZGFzaC5yYW5nZVJpZ2h0ID0gcmFuZ2VSaWdodDtcbiAgICBsb2Rhc2gucmVhcmcgPSByZWFyZztcbiAgICBsb2Rhc2gucmVqZWN0ID0gcmVqZWN0O1xuICAgIGxvZGFzaC5yZW1vdmUgPSByZW1vdmU7XG4gICAgbG9kYXNoLnJlc3QgPSByZXN0O1xuICAgIGxvZGFzaC5yZXZlcnNlID0gcmV2ZXJzZTtcbiAgICBsb2Rhc2guc2FtcGxlU2l6ZSA9IHNhbXBsZVNpemU7XG4gICAgbG9kYXNoLnNldCA9IHNldDtcbiAgICBsb2Rhc2guc2V0V2l0aCA9IHNldFdpdGg7XG4gICAgbG9kYXNoLnNodWZmbGUgPSBzaHVmZmxlO1xuICAgIGxvZGFzaC5zbGljZSA9IHNsaWNlO1xuICAgIGxvZGFzaC5zb3J0QnkgPSBzb3J0Qnk7XG4gICAgbG9kYXNoLnNvcnRlZFVuaXEgPSBzb3J0ZWRVbmlxO1xuICAgIGxvZGFzaC5zb3J0ZWRVbmlxQnkgPSBzb3J0ZWRVbmlxQnk7XG4gICAgbG9kYXNoLnNwbGl0ID0gc3BsaXQ7XG4gICAgbG9kYXNoLnNwcmVhZCA9IHNwcmVhZDtcbiAgICBsb2Rhc2gudGFpbCA9IHRhaWw7XG4gICAgbG9kYXNoLnRha2UgPSB0YWtlO1xuICAgIGxvZGFzaC50YWtlUmlnaHQgPSB0YWtlUmlnaHQ7XG4gICAgbG9kYXNoLnRha2VSaWdodFdoaWxlID0gdGFrZVJpZ2h0V2hpbGU7XG4gICAgbG9kYXNoLnRha2VXaGlsZSA9IHRha2VXaGlsZTtcbiAgICBsb2Rhc2gudGFwID0gdGFwO1xuICAgIGxvZGFzaC50aHJvdHRsZSA9IHRocm90dGxlO1xuICAgIGxvZGFzaC50aHJ1ID0gdGhydTtcbiAgICBsb2Rhc2gudG9BcnJheSA9IHRvQXJyYXk7XG4gICAgbG9kYXNoLnRvUGFpcnMgPSB0b1BhaXJzO1xuICAgIGxvZGFzaC50b1BhaXJzSW4gPSB0b1BhaXJzSW47XG4gICAgbG9kYXNoLnRvUGF0aCA9IHRvUGF0aDtcbiAgICBsb2Rhc2gudG9QbGFpbk9iamVjdCA9IHRvUGxhaW5PYmplY3Q7XG4gICAgbG9kYXNoLnRyYW5zZm9ybSA9IHRyYW5zZm9ybTtcbiAgICBsb2Rhc2gudW5hcnkgPSB1bmFyeTtcbiAgICBsb2Rhc2gudW5pb24gPSB1bmlvbjtcbiAgICBsb2Rhc2gudW5pb25CeSA9IHVuaW9uQnk7XG4gICAgbG9kYXNoLnVuaW9uV2l0aCA9IHVuaW9uV2l0aDtcbiAgICBsb2Rhc2gudW5pcSA9IHVuaXE7XG4gICAgbG9kYXNoLnVuaXFCeSA9IHVuaXFCeTtcbiAgICBsb2Rhc2gudW5pcVdpdGggPSB1bmlxV2l0aDtcbiAgICBsb2Rhc2gudW5zZXQgPSB1bnNldDtcbiAgICBsb2Rhc2gudW56aXAgPSB1bnppcDtcbiAgICBsb2Rhc2gudW56aXBXaXRoID0gdW56aXBXaXRoO1xuICAgIGxvZGFzaC51cGRhdGUgPSB1cGRhdGU7XG4gICAgbG9kYXNoLnVwZGF0ZVdpdGggPSB1cGRhdGVXaXRoO1xuICAgIGxvZGFzaC52YWx1ZXMgPSB2YWx1ZXM7XG4gICAgbG9kYXNoLnZhbHVlc0luID0gdmFsdWVzSW47XG4gICAgbG9kYXNoLndpdGhvdXQgPSB3aXRob3V0O1xuICAgIGxvZGFzaC53b3JkcyA9IHdvcmRzO1xuICAgIGxvZGFzaC53cmFwID0gd3JhcDtcbiAgICBsb2Rhc2gueG9yID0geG9yO1xuICAgIGxvZGFzaC54b3JCeSA9IHhvckJ5O1xuICAgIGxvZGFzaC54b3JXaXRoID0geG9yV2l0aDtcbiAgICBsb2Rhc2guemlwID0gemlwO1xuICAgIGxvZGFzaC56aXBPYmplY3QgPSB6aXBPYmplY3Q7XG4gICAgbG9kYXNoLnppcE9iamVjdERlZXAgPSB6aXBPYmplY3REZWVwO1xuICAgIGxvZGFzaC56aXBXaXRoID0gemlwV2l0aDtcblxuICAgIC8vIEFkZCBhbGlhc2VzLlxuICAgIGxvZGFzaC5lbnRyaWVzID0gdG9QYWlycztcbiAgICBsb2Rhc2guZW50cmllc0luID0gdG9QYWlyc0luO1xuICAgIGxvZGFzaC5leHRlbmQgPSBhc3NpZ25JbjtcbiAgICBsb2Rhc2guZXh0ZW5kV2l0aCA9IGFzc2lnbkluV2l0aDtcblxuICAgIC8vIEFkZCBtZXRob2RzIHRvIGBsb2Rhc2gucHJvdG90eXBlYC5cbiAgICBtaXhpbihsb2Rhc2gsIGxvZGFzaCk7XG5cbiAgICAvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG5cbiAgICAvLyBBZGQgbWV0aG9kcyB0aGF0IHJldHVybiB1bndyYXBwZWQgdmFsdWVzIGluIGNoYWluIHNlcXVlbmNlcy5cbiAgICBsb2Rhc2guYWRkID0gYWRkO1xuICAgIGxvZGFzaC5hdHRlbXB0ID0gYXR0ZW1wdDtcbiAgICBsb2Rhc2guY2FtZWxDYXNlID0gY2FtZWxDYXNlO1xuICAgIGxvZGFzaC5jYXBpdGFsaXplID0gY2FwaXRhbGl6ZTtcbiAgICBsb2Rhc2guY2VpbCA9IGNlaWw7XG4gICAgbG9kYXNoLmNsYW1wID0gY2xhbXA7XG4gICAgbG9kYXNoLmNsb25lID0gY2xvbmU7XG4gICAgbG9kYXNoLmNsb25lRGVlcCA9IGNsb25lRGVlcDtcbiAgICBsb2Rhc2guY2xvbmVEZWVwV2l0aCA9IGNsb25lRGVlcFdpdGg7XG4gICAgbG9kYXNoLmNsb25lV2l0aCA9IGNsb25lV2l0aDtcbiAgICBsb2Rhc2guY29uZm9ybXNUbyA9IGNvbmZvcm1zVG87XG4gICAgbG9kYXNoLmRlYnVyciA9IGRlYnVycjtcbiAgICBsb2Rhc2guZGVmYXVsdFRvID0gZGVmYXVsdFRvO1xuICAgIGxvZGFzaC5kaXZpZGUgPSBkaXZpZGU7XG4gICAgbG9kYXNoLmVuZHNXaXRoID0gZW5kc1dpdGg7XG4gICAgbG9kYXNoLmVxID0gZXE7XG4gICAgbG9kYXNoLmVzY2FwZSA9IGVzY2FwZTtcbiAgICBsb2Rhc2guZXNjYXBlUmVnRXhwID0gZXNjYXBlUmVnRXhwO1xuICAgIGxvZGFzaC5ldmVyeSA9IGV2ZXJ5O1xuICAgIGxvZGFzaC5maW5kID0gZmluZDtcbiAgICBsb2Rhc2guZmluZEluZGV4ID0gZmluZEluZGV4O1xuICAgIGxvZGFzaC5maW5kS2V5ID0gZmluZEtleTtcbiAgICBsb2Rhc2guZmluZExhc3QgPSBmaW5kTGFzdDtcbiAgICBsb2Rhc2guZmluZExhc3RJbmRleCA9IGZpbmRMYXN0SW5kZXg7XG4gICAgbG9kYXNoLmZpbmRMYXN0S2V5ID0gZmluZExhc3RLZXk7XG4gICAgbG9kYXNoLmZsb29yID0gZmxvb3I7XG4gICAgbG9kYXNoLmZvckVhY2ggPSBmb3JFYWNoO1xuICAgIGxvZGFzaC5mb3JFYWNoUmlnaHQgPSBmb3JFYWNoUmlnaHQ7XG4gICAgbG9kYXNoLmZvckluID0gZm9ySW47XG4gICAgbG9kYXNoLmZvckluUmlnaHQgPSBmb3JJblJpZ2h0O1xuICAgIGxvZGFzaC5mb3JPd24gPSBmb3JPd247XG4gICAgbG9kYXNoLmZvck93blJpZ2h0ID0gZm9yT3duUmlnaHQ7XG4gICAgbG9kYXNoLmdldCA9IGdldDtcbiAgICBsb2Rhc2guZ3QgPSBndDtcbiAgICBsb2Rhc2guZ3RlID0gZ3RlO1xuICAgIGxvZGFzaC5oYXMgPSBoYXM7XG4gICAgbG9kYXNoLmhhc0luID0gaGFzSW47XG4gICAgbG9kYXNoLmhlYWQgPSBoZWFkO1xuICAgIGxvZGFzaC5pZGVudGl0eSA9IGlkZW50aXR5O1xuICAgIGxvZGFzaC5pbmNsdWRlcyA9IGluY2x1ZGVzO1xuICAgIGxvZGFzaC5pbmRleE9mID0gaW5kZXhPZjtcbiAgICBsb2Rhc2guaW5SYW5nZSA9IGluUmFuZ2U7XG4gICAgbG9kYXNoLmludm9rZSA9IGludm9rZTtcbiAgICBsb2Rhc2guaXNBcmd1bWVudHMgPSBpc0FyZ3VtZW50cztcbiAgICBsb2Rhc2guaXNBcnJheSA9IGlzQXJyYXk7XG4gICAgbG9kYXNoLmlzQXJyYXlCdWZmZXIgPSBpc0FycmF5QnVmZmVyO1xuICAgIGxvZGFzaC5pc0FycmF5TGlrZSA9IGlzQXJyYXlMaWtlO1xuICAgIGxvZGFzaC5pc0FycmF5TGlrZU9iamVjdCA9IGlzQXJyYXlMaWtlT2JqZWN0O1xuICAgIGxvZGFzaC5pc0Jvb2xlYW4gPSBpc0Jvb2xlYW47XG4gICAgbG9kYXNoLmlzQnVmZmVyID0gaXNCdWZmZXI7XG4gICAgbG9kYXNoLmlzRGF0ZSA9IGlzRGF0ZTtcbiAgICBsb2Rhc2guaXNFbGVtZW50ID0gaXNFbGVtZW50O1xuICAgIGxvZGFzaC5pc0VtcHR5ID0gaXNFbXB0eTtcbiAgICBsb2Rhc2guaXNFcXVhbCA9IGlzRXF1YWw7XG4gICAgbG9kYXNoLmlzRXF1YWxXaXRoID0gaXNFcXVhbFdpdGg7XG4gICAgbG9kYXNoLmlzRXJyb3IgPSBpc0Vycm9yO1xuICAgIGxvZGFzaC5pc0Zpbml0ZSA9IGlzRmluaXRlO1xuICAgIGxvZGFzaC5pc0Z1bmN0aW9uID0gaXNGdW5jdGlvbjtcbiAgICBsb2Rhc2guaXNJbnRlZ2VyID0gaXNJbnRlZ2VyO1xuICAgIGxvZGFzaC5pc0xlbmd0aCA9IGlzTGVuZ3RoO1xuICAgIGxvZGFzaC5pc01hcCA9IGlzTWFwO1xuICAgIGxvZGFzaC5pc01hdGNoID0gaXNNYXRjaDtcbiAgICBsb2Rhc2guaXNNYXRjaFdpdGggPSBpc01hdGNoV2l0aDtcbiAgICBsb2Rhc2guaXNOYU4gPSBpc05hTjtcbiAgICBsb2Rhc2guaXNOYXRpdmUgPSBpc05hdGl2ZTtcbiAgICBsb2Rhc2guaXNOaWwgPSBpc05pbDtcbiAgICBsb2Rhc2guaXNOdWxsID0gaXNOdWxsO1xuICAgIGxvZGFzaC5pc051bWJlciA9IGlzTnVtYmVyO1xuICAgIGxvZGFzaC5pc09iamVjdCA9IGlzT2JqZWN0O1xuICAgIGxvZGFzaC5pc09iamVjdExpa2UgPSBpc09iamVjdExpa2U7XG4gICAgbG9kYXNoLmlzUGxhaW5PYmplY3QgPSBpc1BsYWluT2JqZWN0O1xuICAgIGxvZGFzaC5pc1JlZ0V4cCA9IGlzUmVnRXhwO1xuICAgIGxvZGFzaC5pc1NhZmVJbnRlZ2VyID0gaXNTYWZlSW50ZWdlcjtcbiAgICBsb2Rhc2guaXNTZXQgPSBpc1NldDtcbiAgICBsb2Rhc2guaXNTdHJpbmcgPSBpc1N0cmluZztcbiAgICBsb2Rhc2guaXNTeW1ib2wgPSBpc1N5bWJvbDtcbiAgICBsb2Rhc2guaXNUeXBlZEFycmF5ID0gaXNUeXBlZEFycmF5O1xuICAgIGxvZGFzaC5pc1VuZGVmaW5lZCA9IGlzVW5kZWZpbmVkO1xuICAgIGxvZGFzaC5pc1dlYWtNYXAgPSBpc1dlYWtNYXA7XG4gICAgbG9kYXNoLmlzV2Vha1NldCA9IGlzV2Vha1NldDtcbiAgICBsb2Rhc2guam9pbiA9IGpvaW47XG4gICAgbG9kYXNoLmtlYmFiQ2FzZSA9IGtlYmFiQ2FzZTtcbiAgICBsb2Rhc2gubGFzdCA9IGxhc3Q7XG4gICAgbG9kYXNoLmxhc3RJbmRleE9mID0gbGFzdEluZGV4T2Y7XG4gICAgbG9kYXNoLmxvd2VyQ2FzZSA9IGxvd2VyQ2FzZTtcbiAgICBsb2Rhc2gubG93ZXJGaXJzdCA9IGxvd2VyRmlyc3Q7XG4gICAgbG9kYXNoLmx0ID0gbHQ7XG4gICAgbG9kYXNoLmx0ZSA9IGx0ZTtcbiAgICBsb2Rhc2gubWF4ID0gbWF4O1xuICAgIGxvZGFzaC5tYXhCeSA9IG1heEJ5O1xuICAgIGxvZGFzaC5tZWFuID0gbWVhbjtcbiAgICBsb2Rhc2gubWVhbkJ5ID0gbWVhbkJ5O1xuICAgIGxvZGFzaC5taW4gPSBtaW47XG4gICAgbG9kYXNoLm1pbkJ5ID0gbWluQnk7XG4gICAgbG9kYXNoLnN0dWJBcnJheSA9IHN0dWJBcnJheTtcbiAgICBsb2Rhc2guc3R1YkZhbHNlID0gc3R1YkZhbHNlO1xuICAgIGxvZGFzaC5zdHViT2JqZWN0ID0gc3R1Yk9iamVjdDtcbiAgICBsb2Rhc2guc3R1YlN0cmluZyA9IHN0dWJTdHJpbmc7XG4gICAgbG9kYXNoLnN0dWJUcnVlID0gc3R1YlRydWU7XG4gICAgbG9kYXNoLm11bHRpcGx5ID0gbXVsdGlwbHk7XG4gICAgbG9kYXNoLm50aCA9IG50aDtcbiAgICBsb2Rhc2gubm9Db25mbGljdCA9IG5vQ29uZmxpY3Q7XG4gICAgbG9kYXNoLm5vb3AgPSBub29wO1xuICAgIGxvZGFzaC5ub3cgPSBub3c7XG4gICAgbG9kYXNoLnBhZCA9IHBhZDtcbiAgICBsb2Rhc2gucGFkRW5kID0gcGFkRW5kO1xuICAgIGxvZGFzaC5wYWRTdGFydCA9IHBhZFN0YXJ0O1xuICAgIGxvZGFzaC5wYXJzZUludCA9IHBhcnNlSW50O1xuICAgIGxvZGFzaC5yYW5kb20gPSByYW5kb207XG4gICAgbG9kYXNoLnJlZHVjZSA9IHJlZHVjZTtcbiAgICBsb2Rhc2gucmVkdWNlUmlnaHQgPSByZWR1Y2VSaWdodDtcbiAgICBsb2Rhc2gucmVwZWF0ID0gcmVwZWF0O1xuICAgIGxvZGFzaC5yZXBsYWNlID0gcmVwbGFjZTtcbiAgICBsb2Rhc2gucmVzdWx0ID0gcmVzdWx0O1xuICAgIGxvZGFzaC5yb3VuZCA9IHJvdW5kO1xuICAgIGxvZGFzaC5ydW5JbkNvbnRleHQgPSBydW5JbkNvbnRleHQ7XG4gICAgbG9kYXNoLnNhbXBsZSA9IHNhbXBsZTtcbiAgICBsb2Rhc2guc2l6ZSA9IHNpemU7XG4gICAgbG9kYXNoLnNuYWtlQ2FzZSA9IHNuYWtlQ2FzZTtcbiAgICBsb2Rhc2guc29tZSA9IHNvbWU7XG4gICAgbG9kYXNoLnNvcnRlZEluZGV4ID0gc29ydGVkSW5kZXg7XG4gICAgbG9kYXNoLnNvcnRlZEluZGV4QnkgPSBzb3J0ZWRJbmRleEJ5O1xuICAgIGxvZGFzaC5zb3J0ZWRJbmRleE9mID0gc29ydGVkSW5kZXhPZjtcbiAgICBsb2Rhc2guc29ydGVkTGFzdEluZGV4ID0gc29ydGVkTGFzdEluZGV4O1xuICAgIGxvZGFzaC5zb3J0ZWRMYXN0SW5kZXhCeSA9IHNvcnRlZExhc3RJbmRleEJ5O1xuICAgIGxvZGFzaC5zb3J0ZWRMYXN0SW5kZXhPZiA9IHNvcnRlZExhc3RJbmRleE9mO1xuICAgIGxvZGFzaC5zdGFydENhc2UgPSBzdGFydENhc2U7XG4gICAgbG9kYXNoLnN0YXJ0c1dpdGggPSBzdGFydHNXaXRoO1xuICAgIGxvZGFzaC5zdWJ0cmFjdCA9IHN1YnRyYWN0O1xuICAgIGxvZGFzaC5zdW0gPSBzdW07XG4gICAgbG9kYXNoLnN1bUJ5ID0gc3VtQnk7XG4gICAgbG9kYXNoLnRlbXBsYXRlID0gdGVtcGxhdGU7XG4gICAgbG9kYXNoLnRpbWVzID0gdGltZXM7XG4gICAgbG9kYXNoLnRvRmluaXRlID0gdG9GaW5pdGU7XG4gICAgbG9kYXNoLnRvSW50ZWdlciA9IHRvSW50ZWdlcjtcbiAgICBsb2Rhc2gudG9MZW5ndGggPSB0b0xlbmd0aDtcbiAgICBsb2Rhc2gudG9Mb3dlciA9IHRvTG93ZXI7XG4gICAgbG9kYXNoLnRvTnVtYmVyID0gdG9OdW1iZXI7XG4gICAgbG9kYXNoLnRvU2FmZUludGVnZXIgPSB0b1NhZmVJbnRlZ2VyO1xuICAgIGxvZGFzaC50b1N0cmluZyA9IHRvU3RyaW5nO1xuICAgIGxvZGFzaC50b1VwcGVyID0gdG9VcHBlcjtcbiAgICBsb2Rhc2gudHJpbSA9IHRyaW07XG4gICAgbG9kYXNoLnRyaW1FbmQgPSB0cmltRW5kO1xuICAgIGxvZGFzaC50cmltU3RhcnQgPSB0cmltU3RhcnQ7XG4gICAgbG9kYXNoLnRydW5jYXRlID0gdHJ1bmNhdGU7XG4gICAgbG9kYXNoLnVuZXNjYXBlID0gdW5lc2NhcGU7XG4gICAgbG9kYXNoLnVuaXF1ZUlkID0gdW5pcXVlSWQ7XG4gICAgbG9kYXNoLnVwcGVyQ2FzZSA9IHVwcGVyQ2FzZTtcbiAgICBsb2Rhc2gudXBwZXJGaXJzdCA9IHVwcGVyRmlyc3Q7XG5cbiAgICAvLyBBZGQgYWxpYXNlcy5cbiAgICBsb2Rhc2guZWFjaCA9IGZvckVhY2g7XG4gICAgbG9kYXNoLmVhY2hSaWdodCA9IGZvckVhY2hSaWdodDtcbiAgICBsb2Rhc2guZmlyc3QgPSBoZWFkO1xuXG4gICAgbWl4aW4obG9kYXNoLCAoZnVuY3Rpb24oKSB7XG4gICAgICB2YXIgc291cmNlID0ge307XG4gICAgICBiYXNlRm9yT3duKGxvZGFzaCwgZnVuY3Rpb24oZnVuYywgbWV0aG9kTmFtZSkge1xuICAgICAgICBpZiAoIWhhc093blByb3BlcnR5LmNhbGwobG9kYXNoLnByb3RvdHlwZSwgbWV0aG9kTmFtZSkpIHtcbiAgICAgICAgICBzb3VyY2VbbWV0aG9kTmFtZV0gPSBmdW5jO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICAgIHJldHVybiBzb3VyY2U7XG4gICAgfSgpKSwgeyAnY2hhaW4nOiBmYWxzZSB9KTtcblxuICAgIC8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cblxuICAgIC8qKlxuICAgICAqIFRoZSBzZW1hbnRpYyB2ZXJzaW9uIG51bWJlci5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEB0eXBlIHtzdHJpbmd9XG4gICAgICovXG4gICAgbG9kYXNoLlZFUlNJT04gPSBWRVJTSU9OO1xuXG4gICAgLy8gQXNzaWduIGRlZmF1bHQgcGxhY2Vob2xkZXJzLlxuICAgIGFycmF5RWFjaChbJ2JpbmQnLCAnYmluZEtleScsICdjdXJyeScsICdjdXJyeVJpZ2h0JywgJ3BhcnRpYWwnLCAncGFydGlhbFJpZ2h0J10sIGZ1bmN0aW9uKG1ldGhvZE5hbWUpIHtcbiAgICAgIGxvZGFzaFttZXRob2ROYW1lXS5wbGFjZWhvbGRlciA9IGxvZGFzaDtcbiAgICB9KTtcblxuICAgIC8vIEFkZCBgTGF6eVdyYXBwZXJgIG1ldGhvZHMgZm9yIGBfLmRyb3BgIGFuZCBgXy50YWtlYCB2YXJpYW50cy5cbiAgICBhcnJheUVhY2goWydkcm9wJywgJ3Rha2UnXSwgZnVuY3Rpb24obWV0aG9kTmFtZSwgaW5kZXgpIHtcbiAgICAgIExhenlXcmFwcGVyLnByb3RvdHlwZVttZXRob2ROYW1lXSA9IGZ1bmN0aW9uKG4pIHtcbiAgICAgICAgbiA9IG4gPT09IHVuZGVmaW5lZCA/IDEgOiBuYXRpdmVNYXgodG9JbnRlZ2VyKG4pLCAwKTtcblxuICAgICAgICB2YXIgcmVzdWx0ID0gKHRoaXMuX19maWx0ZXJlZF9fICYmICFpbmRleClcbiAgICAgICAgICA/IG5ldyBMYXp5V3JhcHBlcih0aGlzKVxuICAgICAgICAgIDogdGhpcy5jbG9uZSgpO1xuXG4gICAgICAgIGlmIChyZXN1bHQuX19maWx0ZXJlZF9fKSB7XG4gICAgICAgICAgcmVzdWx0Ll9fdGFrZUNvdW50X18gPSBuYXRpdmVNaW4obiwgcmVzdWx0Ll9fdGFrZUNvdW50X18pO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHJlc3VsdC5fX3ZpZXdzX18ucHVzaCh7XG4gICAgICAgICAgICAnc2l6ZSc6IG5hdGl2ZU1pbihuLCBNQVhfQVJSQVlfTEVOR1RIKSxcbiAgICAgICAgICAgICd0eXBlJzogbWV0aG9kTmFtZSArIChyZXN1bHQuX19kaXJfXyA8IDAgPyAnUmlnaHQnIDogJycpXG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgIH07XG5cbiAgICAgIExhenlXcmFwcGVyLnByb3RvdHlwZVttZXRob2ROYW1lICsgJ1JpZ2h0J10gPSBmdW5jdGlvbihuKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnJldmVyc2UoKVttZXRob2ROYW1lXShuKS5yZXZlcnNlKCk7XG4gICAgICB9O1xuICAgIH0pO1xuXG4gICAgLy8gQWRkIGBMYXp5V3JhcHBlcmAgbWV0aG9kcyB0aGF0IGFjY2VwdCBhbiBgaXRlcmF0ZWVgIHZhbHVlLlxuICAgIGFycmF5RWFjaChbJ2ZpbHRlcicsICdtYXAnLCAndGFrZVdoaWxlJ10sIGZ1bmN0aW9uKG1ldGhvZE5hbWUsIGluZGV4KSB7XG4gICAgICB2YXIgdHlwZSA9IGluZGV4ICsgMSxcbiAgICAgICAgICBpc0ZpbHRlciA9IHR5cGUgPT0gTEFaWV9GSUxURVJfRkxBRyB8fCB0eXBlID09IExBWllfV0hJTEVfRkxBRztcblxuICAgICAgTGF6eVdyYXBwZXIucHJvdG90eXBlW21ldGhvZE5hbWVdID0gZnVuY3Rpb24oaXRlcmF0ZWUpIHtcbiAgICAgICAgdmFyIHJlc3VsdCA9IHRoaXMuY2xvbmUoKTtcbiAgICAgICAgcmVzdWx0Ll9faXRlcmF0ZWVzX18ucHVzaCh7XG4gICAgICAgICAgJ2l0ZXJhdGVlJzogZ2V0SXRlcmF0ZWUoaXRlcmF0ZWUsIDMpLFxuICAgICAgICAgICd0eXBlJzogdHlwZVxuICAgICAgICB9KTtcbiAgICAgICAgcmVzdWx0Ll9fZmlsdGVyZWRfXyA9IHJlc3VsdC5fX2ZpbHRlcmVkX18gfHwgaXNGaWx0ZXI7XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICB9O1xuICAgIH0pO1xuXG4gICAgLy8gQWRkIGBMYXp5V3JhcHBlcmAgbWV0aG9kcyBmb3IgYF8uaGVhZGAgYW5kIGBfLmxhc3RgLlxuICAgIGFycmF5RWFjaChbJ2hlYWQnLCAnbGFzdCddLCBmdW5jdGlvbihtZXRob2ROYW1lLCBpbmRleCkge1xuICAgICAgdmFyIHRha2VOYW1lID0gJ3Rha2UnICsgKGluZGV4ID8gJ1JpZ2h0JyA6ICcnKTtcblxuICAgICAgTGF6eVdyYXBwZXIucHJvdG90eXBlW21ldGhvZE5hbWVdID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiB0aGlzW3Rha2VOYW1lXSgxKS52YWx1ZSgpWzBdO1xuICAgICAgfTtcbiAgICB9KTtcblxuICAgIC8vIEFkZCBgTGF6eVdyYXBwZXJgIG1ldGhvZHMgZm9yIGBfLmluaXRpYWxgIGFuZCBgXy50YWlsYC5cbiAgICBhcnJheUVhY2goWydpbml0aWFsJywgJ3RhaWwnXSwgZnVuY3Rpb24obWV0aG9kTmFtZSwgaW5kZXgpIHtcbiAgICAgIHZhciBkcm9wTmFtZSA9ICdkcm9wJyArIChpbmRleCA/ICcnIDogJ1JpZ2h0Jyk7XG5cbiAgICAgIExhenlXcmFwcGVyLnByb3RvdHlwZVttZXRob2ROYW1lXSA9IGZ1bmN0aW9uKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fX2ZpbHRlcmVkX18gPyBuZXcgTGF6eVdyYXBwZXIodGhpcykgOiB0aGlzW2Ryb3BOYW1lXSgxKTtcbiAgICAgIH07XG4gICAgfSk7XG5cbiAgICBMYXp5V3JhcHBlci5wcm90b3R5cGUuY29tcGFjdCA9IGZ1bmN0aW9uKCkge1xuICAgICAgcmV0dXJuIHRoaXMuZmlsdGVyKGlkZW50aXR5KTtcbiAgICB9O1xuXG4gICAgTGF6eVdyYXBwZXIucHJvdG90eXBlLmZpbmQgPSBmdW5jdGlvbihwcmVkaWNhdGUpIHtcbiAgICAgIHJldHVybiB0aGlzLmZpbHRlcihwcmVkaWNhdGUpLmhlYWQoKTtcbiAgICB9O1xuXG4gICAgTGF6eVdyYXBwZXIucHJvdG90eXBlLmZpbmRMYXN0ID0gZnVuY3Rpb24ocHJlZGljYXRlKSB7XG4gICAgICByZXR1cm4gdGhpcy5yZXZlcnNlKCkuZmluZChwcmVkaWNhdGUpO1xuICAgIH07XG5cbiAgICBMYXp5V3JhcHBlci5wcm90b3R5cGUuaW52b2tlTWFwID0gYmFzZVJlc3QoZnVuY3Rpb24ocGF0aCwgYXJncykge1xuICAgICAgaWYgKHR5cGVvZiBwYXRoID09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBMYXp5V3JhcHBlcih0aGlzKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiB0aGlzLm1hcChmdW5jdGlvbih2YWx1ZSkge1xuICAgICAgICByZXR1cm4gYmFzZUludm9rZSh2YWx1ZSwgcGF0aCwgYXJncyk7XG4gICAgICB9KTtcbiAgICB9KTtcblxuICAgIExhenlXcmFwcGVyLnByb3RvdHlwZS5yZWplY3QgPSBmdW5jdGlvbihwcmVkaWNhdGUpIHtcbiAgICAgIHJldHVybiB0aGlzLmZpbHRlcihuZWdhdGUoZ2V0SXRlcmF0ZWUocHJlZGljYXRlKSkpO1xuICAgIH07XG5cbiAgICBMYXp5V3JhcHBlci5wcm90b3R5cGUuc2xpY2UgPSBmdW5jdGlvbihzdGFydCwgZW5kKSB7XG4gICAgICBzdGFydCA9IHRvSW50ZWdlcihzdGFydCk7XG5cbiAgICAgIHZhciByZXN1bHQgPSB0aGlzO1xuICAgICAgaWYgKHJlc3VsdC5fX2ZpbHRlcmVkX18gJiYgKHN0YXJ0ID4gMCB8fCBlbmQgPCAwKSkge1xuICAgICAgICByZXR1cm4gbmV3IExhenlXcmFwcGVyKHJlc3VsdCk7XG4gICAgICB9XG4gICAgICBpZiAoc3RhcnQgPCAwKSB7XG4gICAgICAgIHJlc3VsdCA9IHJlc3VsdC50YWtlUmlnaHQoLXN0YXJ0KTtcbiAgICAgIH0gZWxzZSBpZiAoc3RhcnQpIHtcbiAgICAgICAgcmVzdWx0ID0gcmVzdWx0LmRyb3Aoc3RhcnQpO1xuICAgICAgfVxuICAgICAgaWYgKGVuZCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGVuZCA9IHRvSW50ZWdlcihlbmQpO1xuICAgICAgICByZXN1bHQgPSBlbmQgPCAwID8gcmVzdWx0LmRyb3BSaWdodCgtZW5kKSA6IHJlc3VsdC50YWtlKGVuZCAtIHN0YXJ0KTtcbiAgICAgIH1cbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfTtcblxuICAgIExhenlXcmFwcGVyLnByb3RvdHlwZS50YWtlUmlnaHRXaGlsZSA9IGZ1bmN0aW9uKHByZWRpY2F0ZSkge1xuICAgICAgcmV0dXJuIHRoaXMucmV2ZXJzZSgpLnRha2VXaGlsZShwcmVkaWNhdGUpLnJldmVyc2UoKTtcbiAgICB9O1xuXG4gICAgTGF6eVdyYXBwZXIucHJvdG90eXBlLnRvQXJyYXkgPSBmdW5jdGlvbigpIHtcbiAgICAgIHJldHVybiB0aGlzLnRha2UoTUFYX0FSUkFZX0xFTkdUSCk7XG4gICAgfTtcblxuICAgIC8vIEFkZCBgTGF6eVdyYXBwZXJgIG1ldGhvZHMgdG8gYGxvZGFzaC5wcm90b3R5cGVgLlxuICAgIGJhc2VGb3JPd24oTGF6eVdyYXBwZXIucHJvdG90eXBlLCBmdW5jdGlvbihmdW5jLCBtZXRob2ROYW1lKSB7XG4gICAgICB2YXIgY2hlY2tJdGVyYXRlZSA9IC9eKD86ZmlsdGVyfGZpbmR8bWFwfHJlamVjdCl8V2hpbGUkLy50ZXN0KG1ldGhvZE5hbWUpLFxuICAgICAgICAgIGlzVGFrZXIgPSAvXig/OmhlYWR8bGFzdCkkLy50ZXN0KG1ldGhvZE5hbWUpLFxuICAgICAgICAgIGxvZGFzaEZ1bmMgPSBsb2Rhc2hbaXNUYWtlciA/ICgndGFrZScgKyAobWV0aG9kTmFtZSA9PSAnbGFzdCcgPyAnUmlnaHQnIDogJycpKSA6IG1ldGhvZE5hbWVdLFxuICAgICAgICAgIHJldFVud3JhcHBlZCA9IGlzVGFrZXIgfHwgL15maW5kLy50ZXN0KG1ldGhvZE5hbWUpO1xuXG4gICAgICBpZiAoIWxvZGFzaEZ1bmMpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgbG9kYXNoLnByb3RvdHlwZVttZXRob2ROYW1lXSA9IGZ1bmN0aW9uKCkge1xuICAgICAgICB2YXIgdmFsdWUgPSB0aGlzLl9fd3JhcHBlZF9fLFxuICAgICAgICAgICAgYXJncyA9IGlzVGFrZXIgPyBbMV0gOiBhcmd1bWVudHMsXG4gICAgICAgICAgICBpc0xhenkgPSB2YWx1ZSBpbnN0YW5jZW9mIExhenlXcmFwcGVyLFxuICAgICAgICAgICAgaXRlcmF0ZWUgPSBhcmdzWzBdLFxuICAgICAgICAgICAgdXNlTGF6eSA9IGlzTGF6eSB8fCBpc0FycmF5KHZhbHVlKTtcblxuICAgICAgICB2YXIgaW50ZXJjZXB0b3IgPSBmdW5jdGlvbih2YWx1ZSkge1xuICAgICAgICAgIHZhciByZXN1bHQgPSBsb2Rhc2hGdW5jLmFwcGx5KGxvZGFzaCwgYXJyYXlQdXNoKFt2YWx1ZV0sIGFyZ3MpKTtcbiAgICAgICAgICByZXR1cm4gKGlzVGFrZXIgJiYgY2hhaW5BbGwpID8gcmVzdWx0WzBdIDogcmVzdWx0O1xuICAgICAgICB9O1xuXG4gICAgICAgIGlmICh1c2VMYXp5ICYmIGNoZWNrSXRlcmF0ZWUgJiYgdHlwZW9mIGl0ZXJhdGVlID09ICdmdW5jdGlvbicgJiYgaXRlcmF0ZWUubGVuZ3RoICE9IDEpIHtcbiAgICAgICAgICAvLyBBdm9pZCBsYXp5IHVzZSBpZiB0aGUgaXRlcmF0ZWUgaGFzIGEgXCJsZW5ndGhcIiB2YWx1ZSBvdGhlciB0aGFuIGAxYC5cbiAgICAgICAgICBpc0xhenkgPSB1c2VMYXp5ID0gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGNoYWluQWxsID0gdGhpcy5fX2NoYWluX18sXG4gICAgICAgICAgICBpc0h5YnJpZCA9ICEhdGhpcy5fX2FjdGlvbnNfXy5sZW5ndGgsXG4gICAgICAgICAgICBpc1Vud3JhcHBlZCA9IHJldFVud3JhcHBlZCAmJiAhY2hhaW5BbGwsXG4gICAgICAgICAgICBvbmx5TGF6eSA9IGlzTGF6eSAmJiAhaXNIeWJyaWQ7XG5cbiAgICAgICAgaWYgKCFyZXRVbndyYXBwZWQgJiYgdXNlTGF6eSkge1xuICAgICAgICAgIHZhbHVlID0gb25seUxhenkgPyB2YWx1ZSA6IG5ldyBMYXp5V3JhcHBlcih0aGlzKTtcbiAgICAgICAgICB2YXIgcmVzdWx0ID0gZnVuYy5hcHBseSh2YWx1ZSwgYXJncyk7XG4gICAgICAgICAgcmVzdWx0Ll9fYWN0aW9uc19fLnB1c2goeyAnZnVuYyc6IHRocnUsICdhcmdzJzogW2ludGVyY2VwdG9yXSwgJ3RoaXNBcmcnOiB1bmRlZmluZWQgfSk7XG4gICAgICAgICAgcmV0dXJuIG5ldyBMb2Rhc2hXcmFwcGVyKHJlc3VsdCwgY2hhaW5BbGwpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChpc1Vud3JhcHBlZCAmJiBvbmx5TGF6eSkge1xuICAgICAgICAgIHJldHVybiBmdW5jLmFwcGx5KHRoaXMsIGFyZ3MpO1xuICAgICAgICB9XG4gICAgICAgIHJlc3VsdCA9IHRoaXMudGhydShpbnRlcmNlcHRvcik7XG4gICAgICAgIHJldHVybiBpc1Vud3JhcHBlZCA/IChpc1Rha2VyID8gcmVzdWx0LnZhbHVlKClbMF0gOiByZXN1bHQudmFsdWUoKSkgOiByZXN1bHQ7XG4gICAgICB9O1xuICAgIH0pO1xuXG4gICAgLy8gQWRkIGBBcnJheWAgbWV0aG9kcyB0byBgbG9kYXNoLnByb3RvdHlwZWAuXG4gICAgYXJyYXlFYWNoKFsncG9wJywgJ3B1c2gnLCAnc2hpZnQnLCAnc29ydCcsICdzcGxpY2UnLCAndW5zaGlmdCddLCBmdW5jdGlvbihtZXRob2ROYW1lKSB7XG4gICAgICB2YXIgZnVuYyA9IGFycmF5UHJvdG9bbWV0aG9kTmFtZV0sXG4gICAgICAgICAgY2hhaW5OYW1lID0gL14oPzpwdXNofHNvcnR8dW5zaGlmdCkkLy50ZXN0KG1ldGhvZE5hbWUpID8gJ3RhcCcgOiAndGhydScsXG4gICAgICAgICAgcmV0VW53cmFwcGVkID0gL14oPzpwb3B8c2hpZnQpJC8udGVzdChtZXRob2ROYW1lKTtcblxuICAgICAgbG9kYXNoLnByb3RvdHlwZVttZXRob2ROYW1lXSA9IGZ1bmN0aW9uKCkge1xuICAgICAgICB2YXIgYXJncyA9IGFyZ3VtZW50cztcbiAgICAgICAgaWYgKHJldFVud3JhcHBlZCAmJiAhdGhpcy5fX2NoYWluX18pIHtcbiAgICAgICAgICB2YXIgdmFsdWUgPSB0aGlzLnZhbHVlKCk7XG4gICAgICAgICAgcmV0dXJuIGZ1bmMuYXBwbHkoaXNBcnJheSh2YWx1ZSkgPyB2YWx1ZSA6IFtdLCBhcmdzKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpc1tjaGFpbk5hbWVdKGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgICAgICAgcmV0dXJuIGZ1bmMuYXBwbHkoaXNBcnJheSh2YWx1ZSkgPyB2YWx1ZSA6IFtdLCBhcmdzKTtcbiAgICAgICAgfSk7XG4gICAgICB9O1xuICAgIH0pO1xuXG4gICAgLy8gTWFwIG1pbmlmaWVkIG1ldGhvZCBuYW1lcyB0byB0aGVpciByZWFsIG5hbWVzLlxuICAgIGJhc2VGb3JPd24oTGF6eVdyYXBwZXIucHJvdG90eXBlLCBmdW5jdGlvbihmdW5jLCBtZXRob2ROYW1lKSB7XG4gICAgICB2YXIgbG9kYXNoRnVuYyA9IGxvZGFzaFttZXRob2ROYW1lXTtcbiAgICAgIGlmIChsb2Rhc2hGdW5jKSB7XG4gICAgICAgIHZhciBrZXkgPSBsb2Rhc2hGdW5jLm5hbWUgKyAnJztcbiAgICAgICAgaWYgKCFoYXNPd25Qcm9wZXJ0eS5jYWxsKHJlYWxOYW1lcywga2V5KSkge1xuICAgICAgICAgIHJlYWxOYW1lc1trZXldID0gW107XG4gICAgICAgIH1cbiAgICAgICAgcmVhbE5hbWVzW2tleV0ucHVzaCh7ICduYW1lJzogbWV0aG9kTmFtZSwgJ2Z1bmMnOiBsb2Rhc2hGdW5jIH0pO1xuICAgICAgfVxuICAgIH0pO1xuXG4gICAgcmVhbE5hbWVzW2NyZWF0ZUh5YnJpZCh1bmRlZmluZWQsIFdSQVBfQklORF9LRVlfRkxBRykubmFtZV0gPSBbe1xuICAgICAgJ25hbWUnOiAnd3JhcHBlcicsXG4gICAgICAnZnVuYyc6IHVuZGVmaW5lZFxuICAgIH1dO1xuXG4gICAgLy8gQWRkIG1ldGhvZHMgdG8gYExhenlXcmFwcGVyYC5cbiAgICBMYXp5V3JhcHBlci5wcm90b3R5cGUuY2xvbmUgPSBsYXp5Q2xvbmU7XG4gICAgTGF6eVdyYXBwZXIucHJvdG90eXBlLnJldmVyc2UgPSBsYXp5UmV2ZXJzZTtcbiAgICBMYXp5V3JhcHBlci5wcm90b3R5cGUudmFsdWUgPSBsYXp5VmFsdWU7XG5cbiAgICAvLyBBZGQgY2hhaW4gc2VxdWVuY2UgbWV0aG9kcyB0byB0aGUgYGxvZGFzaGAgd3JhcHBlci5cbiAgICBsb2Rhc2gucHJvdG90eXBlLmF0ID0gd3JhcHBlckF0O1xuICAgIGxvZGFzaC5wcm90b3R5cGUuY2hhaW4gPSB3cmFwcGVyQ2hhaW47XG4gICAgbG9kYXNoLnByb3RvdHlwZS5jb21taXQgPSB3cmFwcGVyQ29tbWl0O1xuICAgIGxvZGFzaC5wcm90b3R5cGUubmV4dCA9IHdyYXBwZXJOZXh0O1xuICAgIGxvZGFzaC5wcm90b3R5cGUucGxhbnQgPSB3cmFwcGVyUGxhbnQ7XG4gICAgbG9kYXNoLnByb3RvdHlwZS5yZXZlcnNlID0gd3JhcHBlclJldmVyc2U7XG4gICAgbG9kYXNoLnByb3RvdHlwZS50b0pTT04gPSBsb2Rhc2gucHJvdG90eXBlLnZhbHVlT2YgPSBsb2Rhc2gucHJvdG90eXBlLnZhbHVlID0gd3JhcHBlclZhbHVlO1xuXG4gICAgLy8gQWRkIGxhenkgYWxpYXNlcy5cbiAgICBsb2Rhc2gucHJvdG90eXBlLmZpcnN0ID0gbG9kYXNoLnByb3RvdHlwZS5oZWFkO1xuXG4gICAgaWYgKHN5bUl0ZXJhdG9yKSB7XG4gICAgICBsb2Rhc2gucHJvdG90eXBlW3N5bUl0ZXJhdG9yXSA9IHdyYXBwZXJUb0l0ZXJhdG9yO1xuICAgIH1cbiAgICByZXR1cm4gbG9kYXNoO1xuICB9KTtcblxuICAvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cblxuICAvLyBFeHBvcnQgbG9kYXNoLlxuICB2YXIgXyA9IHJ1bkluQ29udGV4dCgpO1xuXG4gIC8vIFNvbWUgQU1EIGJ1aWxkIG9wdGltaXplcnMsIGxpa2Ugci5qcywgY2hlY2sgZm9yIGNvbmRpdGlvbiBwYXR0ZXJucyBsaWtlOlxuICBpZiAodHlwZW9mIGRlZmluZSA9PSAnZnVuY3Rpb24nICYmIHR5cGVvZiBkZWZpbmUuYW1kID09ICdvYmplY3QnICYmIGRlZmluZS5hbWQpIHtcbiAgICAvLyBFeHBvc2UgTG9kYXNoIG9uIHRoZSBnbG9iYWwgb2JqZWN0IHRvIHByZXZlbnQgZXJyb3JzIHdoZW4gTG9kYXNoIGlzXG4gICAgLy8gbG9hZGVkIGJ5IGEgc2NyaXB0IHRhZyBpbiB0aGUgcHJlc2VuY2Ugb2YgYW4gQU1EIGxvYWRlci5cbiAgICAvLyBTZWUgaHR0cDovL3JlcXVpcmVqcy5vcmcvZG9jcy9lcnJvcnMuaHRtbCNtaXNtYXRjaCBmb3IgbW9yZSBkZXRhaWxzLlxuICAgIC8vIFVzZSBgXy5ub0NvbmZsaWN0YCB0byByZW1vdmUgTG9kYXNoIGZyb20gdGhlIGdsb2JhbCBvYmplY3QuXG4gICAgcm9vdC5fID0gXztcblxuICAgIC8vIERlZmluZSBhcyBhbiBhbm9ueW1vdXMgbW9kdWxlIHNvLCB0aHJvdWdoIHBhdGggbWFwcGluZywgaXQgY2FuIGJlXG4gICAgLy8gcmVmZXJlbmNlZCBhcyB0aGUgXCJ1bmRlcnNjb3JlXCIgbW9kdWxlLlxuICAgIGRlZmluZShmdW5jdGlvbigpIHtcbiAgICAgIHJldHVybiBfO1xuICAgIH0pO1xuICB9XG4gIC8vIENoZWNrIGZvciBgZXhwb3J0c2AgYWZ0ZXIgYGRlZmluZWAgaW4gY2FzZSBhIGJ1aWxkIG9wdGltaXplciBhZGRzIGl0LlxuICBlbHNlIGlmIChmcmVlTW9kdWxlKSB7XG4gICAgLy8gRXhwb3J0IGZvciBOb2RlLmpzLlxuICAgIChmcmVlTW9kdWxlLmV4cG9ydHMgPSBfKS5fID0gXztcbiAgICAvLyBFeHBvcnQgZm9yIENvbW1vbkpTIHN1cHBvcnQuXG4gICAgZnJlZUV4cG9ydHMuXyA9IF87XG4gIH1cbiAgZWxzZSB7XG4gICAgLy8gRXhwb3J0IHRvIHRoZSBnbG9iYWwgb2JqZWN0LlxuICAgIHJvb3QuXyA9IF87XG4gIH1cbn0uY2FsbCh0aGlzKSk7XG4iLCJcInVzZSBzdHJpY3RcIjtcclxuZnVuY3Rpb24gX19leHBvcnQobSkge1xyXG4gICAgZm9yICh2YXIgcCBpbiBtKSBpZiAoIWV4cG9ydHMuaGFzT3duUHJvcGVydHkocCkpIGV4cG9ydHNbcF0gPSBtW3BdO1xyXG59XHJcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcclxudmFyIERpbWVuc2lvbl8xID0gcmVxdWlyZShcIi4vc3JjL0RpbWVuc2lvblwiKTtcclxuZXhwb3J0cy5EaW1lbnNpb24gPSBEaW1lbnNpb25fMS5kZWZhdWx0O1xyXG52YXIgVmVjdG9yXzEgPSByZXF1aXJlKFwiLi9zcmMvVmVjdG9yXCIpO1xyXG5leHBvcnRzLlZlY3RvciA9IFZlY3Rvcl8xLmRlZmF1bHQ7XHJcbnZhciBPcGVyYXRvcl8xID0gcmVxdWlyZShcIi4vc3JjL09wZXJhdG9yXCIpO1xyXG5leHBvcnRzLk9wZXJhdG9yID0gT3BlcmF0b3JfMS5kZWZhdWx0O1xyXG52YXIgUGhvdG9uc18xID0gcmVxdWlyZShcIi4vc3JjL1Bob3RvbnNcIik7XHJcbmV4cG9ydHMuUGhvdG9ucyA9IFBob3RvbnNfMS5kZWZhdWx0O1xyXG52YXIgQ29tcGxleF8xID0gcmVxdWlyZShcIi4vc3JjL0NvbXBsZXhcIik7XHJcbmV4cG9ydHMuQ3ggPSBDb21wbGV4XzEuQ3g7XHJcbmV4cG9ydHMuQ29tcGxleCA9IENvbXBsZXhfMS5kZWZhdWx0O1xyXG5fX2V4cG9ydChyZXF1aXJlKFwiLi9zcmMvRW50cnlcIikpO1xyXG5fX2V4cG9ydChyZXF1aXJlKFwiLi9zcmMvRWxlbWVudHNcIikpO1xyXG5fX2V4cG9ydChyZXF1aXJlKFwiLi9zcmMvQ29uc3RhbnRzXCIpKTtcclxuX19leHBvcnQocmVxdWlyZShcIi4vc3JjL09wc1wiKSk7XHJcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPW1haW4uanMubWFwIiwiXCJ1c2Ugc3RyaWN0XCI7XHJcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcclxuZXhwb3J0cy5UQVUgPSAyICogTWF0aC5QSTtcclxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Q29uc3RhbnRzLmpzLm1hcCIsIlwidXNlIHN0cmljdFwiO1xyXG4vLyBWRUNUT1IgQ0xBU1NcclxuLy8gVGVuc29yLWF3YXJlIG5hbWVkIHNwYXJzZSBjb21wbGV4IHZlY3RvclxyXG52YXIgX19zcHJlYWRBcnJheXMgPSAodGhpcyAmJiB0aGlzLl9fc3ByZWFkQXJyYXlzKSB8fCBmdW5jdGlvbiAoKSB7XHJcbiAgICBmb3IgKHZhciBzID0gMCwgaSA9IDAsIGlsID0gYXJndW1lbnRzLmxlbmd0aDsgaSA8IGlsOyBpKyspIHMgKz0gYXJndW1lbnRzW2ldLmxlbmd0aDtcclxuICAgIGZvciAodmFyIHIgPSBBcnJheShzKSwgayA9IDAsIGkgPSAwOyBpIDwgaWw7IGkrKylcclxuICAgICAgICBmb3IgKHZhciBhID0gYXJndW1lbnRzW2ldLCBqID0gMCwgamwgPSBhLmxlbmd0aDsgaiA8IGpsOyBqKyssIGsrKylcclxuICAgICAgICAgICAgcltrXSA9IGFbal07XHJcbiAgICByZXR1cm4gcjtcclxufTtcclxudmFyIF9faW1wb3J0RGVmYXVsdCA9ICh0aGlzICYmIHRoaXMuX19pbXBvcnREZWZhdWx0KSB8fCBmdW5jdGlvbiAobW9kKSB7XHJcbiAgICByZXR1cm4gKG1vZCAmJiBtb2QuX19lc01vZHVsZSkgPyBtb2QgOiB7IFwiZGVmYXVsdFwiOiBtb2QgfTtcclxufTtcclxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xyXG4vLyBWRUNUT1IgQ0xBU1NcclxuLy8gYWRkXHJcbi8vIGRvdCBwcm9kdWN0XHJcbi8vIHBlcm11dGVcclxudmFyIENvbXBsZXhfMSA9IHJlcXVpcmUoXCIuL0NvbXBsZXhcIik7XHJcbnZhciBFbnRyeV8xID0gcmVxdWlyZShcIi4vRW50cnlcIik7XHJcbnZhciBWZWN0b3JfMSA9IF9faW1wb3J0RGVmYXVsdChyZXF1aXJlKFwiLi9WZWN0b3JcIikpO1xyXG52YXIgRGltZW5zaW9uXzEgPSBfX2ltcG9ydERlZmF1bHQocmVxdWlyZShcIi4vRGltZW5zaW9uXCIpKTtcclxudmFyIGxvZGFzaF8xID0gX19pbXBvcnREZWZhdWx0KHJlcXVpcmUoXCJsb2Rhc2hcIikpO1xyXG52YXIgT3BlcmF0b3IgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XHJcbiAgICAvLyBUT0RPOiBhc3N1bWUgdGhlIGVudHJpZXMgYXJlIG9yZGVyZWRcclxuICAgIGZ1bmN0aW9uIE9wZXJhdG9yKGVudHJpZXMsIGRpbWVuc2lvbnNPdXQsIGRpbWVuc2lvbnNJbikge1xyXG4gICAgICAgIGlmIChkaW1lbnNpb25zSW4gPT09IHZvaWQgMCkgeyBkaW1lbnNpb25zSW4gPSBkaW1lbnNpb25zT3V0OyB9XHJcbiAgICAgICAgdGhpcy5lbnRyaWVzID0gZW50cmllcztcclxuICAgICAgICB0aGlzLmRpbWVuc2lvbnNPdXQgPSBkaW1lbnNpb25zT3V0O1xyXG4gICAgICAgIHRoaXMuZGltZW5zaW9uc0luID0gZGltZW5zaW9uc0luO1xyXG4gICAgICAgIC8vIE5PVEU6IHVzdWFsbHkgb3V0PT1pbiwgaG93IHRvIGFjY291bnQgZm9yIHRoYXQ/XHJcbiAgICB9XHJcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoT3BlcmF0b3IucHJvdG90eXBlLCBcImRpbWVuc2lvbnNcIiwge1xyXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICByZXR1cm4gW3RoaXMuZGltZW5zaW9uc091dCwgdGhpcy5kaW1lbnNpb25zSW5dO1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcclxuICAgIH0pO1xyXG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KE9wZXJhdG9yLnByb3RvdHlwZSwgXCJzaXplT3V0XCIsIHtcclxuICAgICAgICAvLyBPdXQvSW4gbmFzdHksIGJ1dCBJIGRvbjt0IGhhdmUgYSBjbGVhciBpZGVhIGhvdyB0byB0byBpdFxyXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5kaW1lbnNpb25zT3V0Lm1hcChmdW5jdGlvbiAoZGltZW5zaW9uKSB7IHJldHVybiBkaW1lbnNpb24uc2l6ZTsgfSk7XHJcbiAgICAgICAgfSxcclxuICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxyXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxyXG4gICAgfSk7XHJcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoT3BlcmF0b3IucHJvdG90eXBlLCBcInNpemVJblwiLCB7XHJcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmRpbWVuc2lvbnNJbi5tYXAoZnVuY3Rpb24gKGRpbWVuc2lvbikgeyByZXR1cm4gZGltZW5zaW9uLnNpemU7IH0pO1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcclxuICAgIH0pO1xyXG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KE9wZXJhdG9yLnByb3RvdHlwZSwgXCJ0b3RhbFNpemVPdXRcIiwge1xyXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5zaXplT3V0LnJlZHVjZShmdW5jdGlvbiAoYSwgYikgeyByZXR1cm4gYSAqIGI7IH0pO1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcclxuICAgIH0pO1xyXG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KE9wZXJhdG9yLnByb3RvdHlwZSwgXCJ0b3RhbFNpemVJblwiLCB7XHJcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnNpemVJbi5yZWR1Y2UoZnVuY3Rpb24gKGEsIGIpIHsgcmV0dXJuIGEgKiBiOyB9KTtcclxuICAgICAgICB9LFxyXG4gICAgICAgIGVudW1lcmFibGU6IHRydWUsXHJcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXHJcbiAgICB9KTtcclxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShPcGVyYXRvci5wcm90b3R5cGUsIFwibmFtZXNPdXRcIiwge1xyXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5kaW1lbnNpb25zT3V0Lm1hcChmdW5jdGlvbiAoZGltZW5zaW9uKSB7IHJldHVybiBkaW1lbnNpb24ubmFtZTsgfSk7XHJcbiAgICAgICAgfSxcclxuICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxyXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxyXG4gICAgfSk7XHJcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoT3BlcmF0b3IucHJvdG90eXBlLCBcIm5hbWVzSW5cIiwge1xyXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5kaW1lbnNpb25zSW4ubWFwKGZ1bmN0aW9uIChkaW1lbnNpb24pIHsgcmV0dXJuIGRpbWVuc2lvbi5uYW1lOyB9KTtcclxuICAgICAgICB9LFxyXG4gICAgICAgIGVudW1lcmFibGU6IHRydWUsXHJcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXHJcbiAgICB9KTtcclxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShPcGVyYXRvci5wcm90b3R5cGUsIFwiY29vcmROYW1lc091dFwiLCB7XHJcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmRpbWVuc2lvbnNPdXQubWFwKGZ1bmN0aW9uIChkaW1lbnNpb24pIHsgcmV0dXJuIGRpbWVuc2lvbi5jb29yZE5hbWVzOyB9KTtcclxuICAgICAgICB9LFxyXG4gICAgICAgIGVudW1lcmFibGU6IHRydWUsXHJcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXHJcbiAgICB9KTtcclxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShPcGVyYXRvci5wcm90b3R5cGUsIFwiY29vcmROYW1lc0luXCIsIHtcclxuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuZGltZW5zaW9uc0luLm1hcChmdW5jdGlvbiAoZGltZW5zaW9uKSB7IHJldHVybiBkaW1lbnNpb24uY29vcmROYW1lczsgfSk7XHJcbiAgICAgICAgfSxcclxuICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxyXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxyXG4gICAgfSk7XHJcbiAgICAvLyBDb25qdWdhdGVcclxuICAgIE9wZXJhdG9yLnByb3RvdHlwZS5jb25qID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHZhciBlbnRyaWVzID0gdGhpcy5lbnRyaWVzLm1hcChmdW5jdGlvbiAoZW50cnkpIHsgcmV0dXJuIG5ldyBFbnRyeV8xLk9wZXJhdG9yRW50cnkoX19zcHJlYWRBcnJheXMoZW50cnkuY29vcmRPdXQpLCBfX3NwcmVhZEFycmF5cyhlbnRyeS5jb29yZEluKSwgZW50cnkudmFsdWUuY29uaigpKTsgfSk7XHJcbiAgICAgICAgcmV0dXJuIG5ldyBPcGVyYXRvcihlbnRyaWVzLCB0aGlzLmRpbWVuc2lvbnNPdXQsIHRoaXMuZGltZW5zaW9uc0luKTtcclxuICAgIH07XHJcbiAgICAvLyBUcmFuc3Bvc2VcclxuICAgIE9wZXJhdG9yLnByb3RvdHlwZS50cmFuc3Bvc2UgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgdmFyIGVudHJpZXMgPSB0aGlzLmVudHJpZXMubWFwKGZ1bmN0aW9uIChlbnRyeSkgeyByZXR1cm4gbmV3IEVudHJ5XzEuT3BlcmF0b3JFbnRyeShfX3NwcmVhZEFycmF5cyhlbnRyeS5jb29yZEluKSwgX19zcHJlYWRBcnJheXMoZW50cnkuY29vcmRPdXQpLCBlbnRyeS52YWx1ZSk7IH0pO1xyXG4gICAgICAgIHJldHVybiBuZXcgT3BlcmF0b3IoZW50cmllcywgdGhpcy5kaW1lbnNpb25zSW4sIHRoaXMuZGltZW5zaW9uc091dCk7XHJcbiAgICB9O1xyXG4gICAgLyoqXHJcbiAgICAgKiBEYWdnZXIgb3BlcmF0b3I6IEhlcm1pdGlhbiBjb25qdWdhdGVcclxuICAgICAqL1xyXG4gICAgT3BlcmF0b3IucHJvdG90eXBlLmRhZyA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICB2YXIgZW50cmllcyA9IHRoaXMuZW50cmllcy5tYXAoZnVuY3Rpb24gKGVudHJ5KSB7IHJldHVybiBuZXcgRW50cnlfMS5PcGVyYXRvckVudHJ5KF9fc3ByZWFkQXJyYXlzKGVudHJ5LmNvb3JkSW4pLCBfX3NwcmVhZEFycmF5cyhlbnRyeS5jb29yZE91dCksIGVudHJ5LnZhbHVlLmNvbmooKSk7IH0pO1xyXG4gICAgICAgIHJldHVybiBuZXcgT3BlcmF0b3IoZW50cmllcywgdGhpcy5kaW1lbnNpb25zSW4sIHRoaXMuZGltZW5zaW9uc091dCk7XHJcbiAgICB9O1xyXG4gICAgLy8gT3V0ZXIgcHJvZHVjdCBvZiB2ZWN0b3JzXHJcbiAgICBPcGVyYXRvci5wcm90b3R5cGUub3V0ZXIgPSBmdW5jdGlvbiAobTIpIHtcclxuICAgICAgICB2YXIgbTEgPSB0aGlzO1xyXG4gICAgICAgIHZhciBkaW1lbnNpb25zT3V0ID0gbTEuZGltZW5zaW9uc091dC5jb25jYXQobTIuZGltZW5zaW9uc091dCk7XHJcbiAgICAgICAgdmFyIGRpbWVuc2lvbnNJbiA9IG0xLmRpbWVuc2lvbnNJbi5jb25jYXQobTIuZGltZW5zaW9uc0luKTtcclxuICAgICAgICB2YXIgZW50cmllcyA9IFtdO1xyXG4gICAgICAgIG0xLmVudHJpZXMuZm9yRWFjaChmdW5jdGlvbiAoZW50cnkxKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBtMi5lbnRyaWVzLmZvckVhY2goZnVuY3Rpb24gKGVudHJ5MikgeyByZXR1cm4gZW50cmllcy5wdXNoKGVudHJ5MS5vdXRlcihlbnRyeTIpKTsgfSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgLy8gbG9jYWwgaXNzdWVzIHdpdGggVHlwZVNjaXB0L25wbS9OVk0gbWFrZSBpdCBoYXJkZXJcclxuICAgICAgICAvLyBjb25zdCBlbnRyaWVzOiBPcGVyYXRvckVudHJ5W10gPSBtMS5lbnRyaWVzXHJcbiAgICAgICAgLy8gIC5mbGF0TWFwKChlbnRyeTE6IE9wZXJhdG9yRW50cnkpID0+XHJcbiAgICAgICAgLy8gICAgIChtMi5lbnRyaWVzKS5tYXAoKGVudHJ5MjogT3BlcmF0b3JFbnRyeSkgPT5cclxuICAgICAgICAvLyAgICAgICAgIGVudHJ5MS5vdXRlcihlbnRyeTIpXHJcbiAgICAgICAgLy8gICAgIClcclxuICAgICAgICAvLyApXHJcbiAgICAgICAgcmV0dXJuIG5ldyBPcGVyYXRvcihlbnRyaWVzLCBkaW1lbnNpb25zT3V0LCBkaW1lbnNpb25zSW4pO1xyXG4gICAgfTtcclxuICAgIE9wZXJhdG9yLnByb3RvdHlwZS5hZGQgPSBmdW5jdGlvbiAobTIpIHtcclxuICAgICAgICAvLyBOT1RFOiBtYXkgYmUgb3ZlcmVuZ2luZWVyZWQgZm9yIGFkZGluZyAyIHZlY3RvcnMgd2l0aCB0aGlzIG1hcC1yZWR1Y2UgYXBwcm9hY2hcclxuICAgICAgICB2YXIgbTEgPSB0aGlzO1xyXG4gICAgICAgIERpbWVuc2lvbl8xLmRlZmF1bHQuY2hlY2tEaW1lbnNpb25zKG0xLmRpbWVuc2lvbnNJbiwgbTIuZGltZW5zaW9uc0luKTtcclxuICAgICAgICBEaW1lbnNpb25fMS5kZWZhdWx0LmNoZWNrRGltZW5zaW9ucyhtMS5kaW1lbnNpb25zT3V0LCBtMi5kaW1lbnNpb25zT3V0KTtcclxuICAgICAgICB2YXIgZW50cmllcyA9IGxvZGFzaF8xLmRlZmF1bHQuY2hhaW4obTEuZW50cmllcy5jb25jYXQobTIuZW50cmllcykpXHJcbiAgICAgICAgICAgIC5ncm91cEJ5KGZ1bmN0aW9uIChlbnRyeSkgeyByZXR1cm4gZW50cnkuY29vcmRPdXQudG9TdHJpbmcoKSArIFwiLVwiICsgZW50cnkuY29vcmRJbi50b1N0cmluZygpICsgXCIgXCI7IH0pXHJcbiAgICAgICAgICAgIC52YWx1ZXMoKVxyXG4gICAgICAgICAgICAubWFwKGZ1bmN0aW9uIChncm91cGVkKSB7XHJcbiAgICAgICAgICAgIHZhciBjb29yZE91dCA9IF9fc3ByZWFkQXJyYXlzKGdyb3VwZWRbMF0uY29vcmRPdXQpO1xyXG4gICAgICAgICAgICB2YXIgY29vcmRJbiA9IF9fc3ByZWFkQXJyYXlzKGdyb3VwZWRbMF0uY29vcmRJbik7XHJcbiAgICAgICAgICAgIHZhciB2YWx1ZSA9IGdyb3VwZWQubWFwKGZ1bmN0aW9uIChlbnRyeSkgeyByZXR1cm4gZW50cnkudmFsdWU7IH0pLnJlZHVjZShmdW5jdGlvbiAoYSwgYikgeyByZXR1cm4gYS5hZGQoYik7IH0pO1xyXG4gICAgICAgICAgICByZXR1cm4gbmV3IEVudHJ5XzEuT3BlcmF0b3JFbnRyeShjb29yZE91dCwgY29vcmRJbiwgdmFsdWUpO1xyXG4gICAgICAgIH0pXHJcbiAgICAgICAgICAgIC52YWx1ZSgpO1xyXG4gICAgICAgIHJldHVybiBuZXcgT3BlcmF0b3IoZW50cmllcywgbTEuZGltZW5zaW9uc091dCwgbTEuZGltZW5zaW9uc0luKTtcclxuICAgIH07XHJcbiAgICBPcGVyYXRvci5wcm90b3R5cGUubXVsQ29uc3RhbnQgPSBmdW5jdGlvbiAoYykge1xyXG4gICAgICAgIHZhciBlbnRyaWVzID0gdGhpcy5lbnRyaWVzLm1hcChmdW5jdGlvbiAoZW50cnkpIHsgcmV0dXJuIG5ldyBFbnRyeV8xLk9wZXJhdG9yRW50cnkoZW50cnkuY29vcmRPdXQsIGVudHJ5LmNvb3JkSW4sIGVudHJ5LnZhbHVlLm11bChjKSk7IH0pO1xyXG4gICAgICAgIHJldHVybiBuZXcgT3BlcmF0b3IoZW50cmllcywgdGhpcy5kaW1lbnNpb25zT3V0LCB0aGlzLmRpbWVuc2lvbnNJbik7XHJcbiAgICB9O1xyXG4gICAgT3BlcmF0b3IucHJvdG90eXBlLnN1YiA9IGZ1bmN0aW9uIChtMikge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmFkZChtMi5tdWxDb25zdGFudChDb21wbGV4XzEuQ3goLTEpKSk7XHJcbiAgICB9O1xyXG4gICAgT3BlcmF0b3IucHJvdG90eXBlLm11bFZlYyA9IGZ1bmN0aW9uICh2KSB7XHJcbiAgICAgICAgdmFyIG0gPSB0aGlzO1xyXG4gICAgICAgIERpbWVuc2lvbl8xLmRlZmF1bHQuY2hlY2tEaW1lbnNpb25zKG0uZGltZW5zaW9uc0luLCB2LmRpbWVuc2lvbnMpO1xyXG4gICAgICAgIHZhciB2VmFsdWVNYXAgPSBuZXcgTWFwKCk7XHJcbiAgICAgICAgdi5jZWxscy5mb3JFYWNoKGZ1bmN0aW9uIChlbnRyeSkge1xyXG4gICAgICAgICAgICB2VmFsdWVNYXAuc2V0KGVudHJ5LmNvb3JkLnRvU3RyaW5nKCksIGVudHJ5LnZhbHVlKTtcclxuICAgICAgICB9KTtcclxuICAgICAgICB2YXIgZW50cmllcyA9IGxvZGFzaF8xLmRlZmF1bHQuY2hhaW4obS5lbnRyaWVzKVxyXG4gICAgICAgICAgICAuZ3JvdXBCeShmdW5jdGlvbiAoZW50cnkpIHsgcmV0dXJuIGVudHJ5LmNvb3JkT3V0LnRvU3RyaW5nKCk7IH0pXHJcbiAgICAgICAgICAgIC52YWx1ZXMoKVxyXG4gICAgICAgICAgICAubWFwKGZ1bmN0aW9uIChlbnRyaWVzKSB7XHJcbiAgICAgICAgICAgIHZhciBjb29yZE91dCA9IGVudHJpZXNbMF0uY29vcmRPdXQ7XHJcbiAgICAgICAgICAgIHZhciBzdW0gPSBlbnRyaWVzXHJcbiAgICAgICAgICAgICAgICAubWFwKGZ1bmN0aW9uIChlbnRyeSkge1xyXG4gICAgICAgICAgICAgICAgdmFyIGNvb3JkSW5TdHIgPSBlbnRyeS5jb29yZEluLnRvU3RyaW5nKCk7XHJcbiAgICAgICAgICAgICAgICB2YXIgdmFsID0gdlZhbHVlTWFwLmdldChjb29yZEluU3RyKSB8fCBDb21wbGV4XzEuQ3goMCk7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gZW50cnkudmFsdWUubXVsKHZhbCk7XHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgICAgICAucmVkdWNlKGZ1bmN0aW9uIChhLCBiKSB7IHJldHVybiBhLmFkZChiKTsgfSk7XHJcbiAgICAgICAgICAgIHJldHVybiBuZXcgRW50cnlfMS5WZWN0b3JFbnRyeShjb29yZE91dCwgc3VtKTtcclxuICAgICAgICB9KVxyXG4gICAgICAgICAgICAuZmlsdGVyKGZ1bmN0aW9uIChlbnRyeSkgeyByZXR1cm4gIWVudHJ5LnZhbHVlLmlzWmVybygpOyB9KVxyXG4gICAgICAgICAgICAudmFsdWUoKTtcclxuICAgICAgICByZXR1cm4gbmV3IFZlY3Rvcl8xLmRlZmF1bHQoZW50cmllcywgbS5kaW1lbnNpb25zT3V0KTtcclxuICAgIH07XHJcbiAgICBPcGVyYXRvci5wcm90b3R5cGUubXVsVmVjUGFydGlhbCA9IGZ1bmN0aW9uIChjb29yZEluZGljZXMsIHYpIHtcclxuICAgICAgICAvLyBmb3Igbm93LCB0aGUgaW5zaWRlIHBhcnQgaXMgbXVjaCBmcm9tIG11bFZlY1xyXG4gICAgICAgIHZhciBtID0gdGhpcztcclxuICAgICAgICAvLyB3ZSBjYW4gcmVsYXggdGhlIHNvcnRlZCBjb25zaWR0aW9uIGxhdGVyXHJcbiAgICAgICAgLy8gaXQgd2lsbCBpbnZvbHZlIHNvbWUgdHJhbnNwb3Nlc1xyXG4gICAgICAgIC8vIG9yIG1heWJlIHdlIGNhbiByZWxheCB0aGUgc29ydGVkIGNvbmRpdGlvbj9cclxuICAgICAgICBpZiAoIWxvZGFzaF8xLmRlZmF1bHQuY2hhaW4oY29vcmRJbmRpY2VzKVxyXG4gICAgICAgICAgICAuc29ydEJ5KClcclxuICAgICAgICAgICAgLnNvcnRlZFVuaXEoKVxyXG4gICAgICAgICAgICAuaXNFcXVhbChjb29yZEluZGljZXMpKSB7XHJcbiAgICAgICAgICAgIHRocm93IFwiRW50cmllcyBvZiBjb29yZEluZGljZXMgXCIgKyBjb29yZEluZGljZXMgKyBcIiBhcmUgbm90IHNvcnRlZCB1bmlxdWUuXCI7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIERpbWVuc2lvbl8xLmRlZmF1bHQuY2hlY2tEaW1lbnNpb25zKG0uZGltZW5zaW9uc0luLCBsb2Rhc2hfMS5kZWZhdWx0LmF0KHYuZGltZW5zaW9ucywgY29vcmRJbmRpY2VzKSk7XHJcbiAgICAgICAgdmFyIGNvbXBsZW1lbnRJbmRpY2VzID0gbG9kYXNoXzEuZGVmYXVsdC5yYW5nZSh2LmRpbWVuc2lvbnMubGVuZ3RoKS5maWx0ZXIoZnVuY3Rpb24gKGkpIHsgcmV0dXJuIGxvZGFzaF8xLmRlZmF1bHQuaW5jbHVkZXMoY29vcmRJbmRpY2VzLCBpKTsgfSk7XHJcbiAgICAgICAgLy8gaWYgbS5kaW1lbnNpb25zT3V0ICE9PSBtLmRpbWVuc2lvbnNJblxyXG4gICAgICAgIHZhciBuZXdEaW1lbnNpb25zID0gbG9kYXNoXzEuZGVmYXVsdC5jbG9uZURlZXAodi5kaW1lbnNpb25zKTtcclxuICAgICAgICBsb2Rhc2hfMS5kZWZhdWx0LnJhbmdlKGNvb3JkSW5kaWNlcy5sZW5ndGgpLmZvckVhY2goZnVuY3Rpb24gKGkpIHsgcmV0dXJuIChuZXdEaW1lbnNpb25zW2Nvb3JkSW5kaWNlc1tpXV0gPSBtLmRpbWVuc2lvbnNPdXRbaV0pOyB9KTtcclxuICAgICAgICB2YXIgbmV3RW50cmllcyA9IGxvZGFzaF8xLmRlZmF1bHQuY2hhaW4odi5jZWxscylcclxuICAgICAgICAgICAgLmdyb3VwQnkoZnVuY3Rpb24gKGVudHJ5KSB7IHJldHVybiBsb2Rhc2hfMS5kZWZhdWx0LmF0KGVudHJ5LmNvb3JkLCBjb21wbGVtZW50SW5kaWNlcyk7IH0pXHJcbiAgICAgICAgICAgIC52YWx1ZXMoKVxyXG4gICAgICAgICAgICAubWFwKGZ1bmN0aW9uICh2ZWNFbnRyaWVzKSB7XHJcbiAgICAgICAgICAgIHZhciB2VmFsdWVNYXAgPSBuZXcgTWFwKCk7XHJcbiAgICAgICAgICAgIHZlY0VudHJpZXMuZm9yRWFjaChmdW5jdGlvbiAoZW50cnkpIHtcclxuICAgICAgICAgICAgICAgIHZhciByZWR1Y2VkQ29vcmRzID0gbG9kYXNoXzEuZGVmYXVsdC5hdChlbnRyeS5jb29yZCwgY29vcmRJbmRpY2VzKTtcclxuICAgICAgICAgICAgICAgIHZWYWx1ZU1hcC5zZXQocmVkdWNlZENvb3Jkcy50b1N0cmluZygpLCBlbnRyeS52YWx1ZSk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICByZXR1cm4gbG9kYXNoXzEuZGVmYXVsdC5jaGFpbihtLmVudHJpZXMpXHJcbiAgICAgICAgICAgICAgICAuZ3JvdXBCeShmdW5jdGlvbiAoZW50cnkpIHsgcmV0dXJuIGVudHJ5LmNvb3JkT3V0LnRvU3RyaW5nKCk7IH0pXHJcbiAgICAgICAgICAgICAgICAudmFsdWVzKClcclxuICAgICAgICAgICAgICAgIC5tYXAoZnVuY3Rpb24gKG9wRW50cmllcykge1xyXG4gICAgICAgICAgICAgICAgLy8gd2UgbmVlZCB0byBjcmVhdGUgYSBmdWxsIG91dCBjb29yZFxyXG4gICAgICAgICAgICAgICAgLy8gbm93IGl0IGlzIGxpZ2h0bHkgaGFreVxyXG4gICAgICAgICAgICAgICAgdmFyIGNvb3JkT3V0UGFydCA9IG9wRW50cmllc1swXS5jb29yZE91dDtcclxuICAgICAgICAgICAgICAgIHZhciBjb29yZE91dCA9IF9fc3ByZWFkQXJyYXlzKHZlY0VudHJpZXNbMF0uY29vcmQpO1xyXG4gICAgICAgICAgICAgICAgbG9kYXNoXzEuZGVmYXVsdC5yYW5nZShjb29yZEluZGljZXMubGVuZ3RoKS5mb3JFYWNoKGZ1bmN0aW9uIChpKSB7IHJldHVybiAoY29vcmRPdXRbY29vcmRJbmRpY2VzW2ldXSA9IGNvb3JkT3V0UGFydFtpXSk7IH0pO1xyXG4gICAgICAgICAgICAgICAgdmFyIHN1bSA9IG9wRW50cmllc1xyXG4gICAgICAgICAgICAgICAgICAgIC5tYXAoZnVuY3Rpb24gKGVudHJ5KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIGNvb3JkSW5TdHIgPSBlbnRyeS5jb29yZEluLnRvU3RyaW5nKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIHZhbCA9IHZWYWx1ZU1hcC5nZXQoY29vcmRJblN0cikgfHwgQ29tcGxleF8xLkN4KDApO1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBlbnRyeS52YWx1ZS5tdWwodmFsKTtcclxuICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgICAgICAgICAgLnJlZHVjZShmdW5jdGlvbiAoYSwgYikgeyByZXR1cm4gYS5hZGQoYik7IH0pO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIG5ldyBFbnRyeV8xLlZlY3RvckVudHJ5KGNvb3JkT3V0LCBzdW0pO1xyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAgICAgLmZpbHRlcihmdW5jdGlvbiAoZW50cnkpIHsgcmV0dXJuICFlbnRyeS52YWx1ZS5pc1plcm8oKTsgfSlcclxuICAgICAgICAgICAgICAgIC52YWx1ZSgpO1xyXG4gICAgICAgIH0pXHJcbiAgICAgICAgICAgIC5mbGF0dGVuKClcclxuICAgICAgICAgICAgLnZhbHVlKCk7XHJcbiAgICAgICAgcmV0dXJuIG5ldyBWZWN0b3JfMS5kZWZhdWx0KG5ld0VudHJpZXMsIHYuZGltZW5zaW9ucyk7XHJcbiAgICB9O1xyXG4gICAgLy8gbXVsT3AobTI6IE9wZXJhdG9yKTogT3BlcmF0b3Ige1xyXG4gICAgLy8gICAgIGNvbnN0IG0xID0gdGhpc1xyXG4gICAgLy8gICAgIC8vIFRPRE86IGNoZWNrIGRpbWVuc2lvbnMgaGVyZVxyXG4gICAgLy8gICAgIGNvbnN0IHJlc3VsdCA9IF9cclxuICAgIC8vICAgICAgICAgLmNoYWluKHYxLmNlbGxzLmNvbmNhdCh2Mi5jZWxscykpXHJcbiAgICAvLyAgICAgICAgIC5ncm91cEJ5KChlbnRyeTogVmVjdG9yRW50cnkpID0+IGVudHJ5LmNvb3JkLnRvU3RyaW5nKCkpXHJcbiAgICAvLyAgICAgICAgIC52YWx1ZXMoKVxyXG4gICAgLy8gICAgICAgICAubWFwKChncm91cGVkOiBWZWN0b3JFbnRyeVtdKSA9PiB7XHJcbiAgICAvLyAgICAgICAgICAgICBpZiAoZ3JvdXBlZC5sZW5ndGggPT09IDIpIHtcclxuICAgIC8vICAgICAgICAgICAgICAgICByZXR1cm4gKGdyb3VwZWRbMF0udmFsdWUpLm11bChncm91cGVkWzFdLnZhbHVlKVxyXG4gICAgLy8gICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgIC8vICAgICAgICAgICAgICAgICByZXR1cm4gQ3goMCwgMClcclxuICAgIC8vICAgICAgICAgICAgIH1cclxuICAgIC8vICAgICAgICAgfSlcclxuICAgIC8vICAgICAgICAgLnJlZHVjZSgoYSwgYikgPT4gYS5hZGQoYikpXHJcbiAgICAvLyAgICAgICAgIC52YWx1ZSgpXHJcbiAgICAvLyAgICAgcmV0dXJuIHJlc3VsdFxyXG4gICAgLy8gfVxyXG4gICAgLy8gVE9ETzogRGVuc2UgbWF0cml4IHZpc3VhbGlzYXRpb25cclxuICAgIE9wZXJhdG9yLnByb3RvdHlwZS50b1N0cmluZyA9IGZ1bmN0aW9uIChjb21wbGV4Rm9ybWF0LCBwcmVjaXNpb24sIHNlcGFyYXRvcikge1xyXG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XHJcbiAgICAgICAgaWYgKGNvbXBsZXhGb3JtYXQgPT09IHZvaWQgMCkgeyBjb21wbGV4Rm9ybWF0ID0gXCJjYXJ0ZXNpYW5cIjsgfVxyXG4gICAgICAgIGlmIChwcmVjaXNpb24gPT09IHZvaWQgMCkgeyBwcmVjaXNpb24gPSAyOyB9XHJcbiAgICAgICAgaWYgKHNlcGFyYXRvciA9PT0gdm9pZCAwKSB7IHNlcGFyYXRvciA9IFwiICsgXCI7IH1cclxuICAgICAgICB2YXIgaW50cm9TdHIgPSBcIk9wZXJhdG9yIHdpdGggXCIgKyB0aGlzLmVudHJpZXMubGVuZ3RoICsgXCIgZW50aXJlcyBvZiBtYXggc2l6ZSBbW1wiICsgdGhpcy5zaXplT3V0ICsgXCJdLCBbXCIgKyB0aGlzLnNpemVJbiArIFwiXV0gd2l0aCBkaW1lbnNpb25zIFtbXCIgKyB0aGlzLm5hbWVzT3V0ICsgXCJdLCBbXCIgKyB0aGlzLm5hbWVzSW4gKyBcIl1dXCI7XHJcbiAgICAgICAgdmFyIHZhbHVlU3RyID0gdGhpcy5lbnRyaWVzXHJcbiAgICAgICAgICAgIC5tYXAoZnVuY3Rpb24gKGVudHJ5KSB7XHJcbiAgICAgICAgICAgIHZhciBjb29yZFN0ck91dCA9IGVudHJ5LmNvb3JkT3V0Lm1hcChmdW5jdGlvbiAoaSwgZGltKSB7IHJldHVybiBfdGhpcy5jb29yZE5hbWVzT3V0W2RpbV1baV07IH0pO1xyXG4gICAgICAgICAgICB2YXIgY29vcmRTdHJJbiA9IGVudHJ5LmNvb3JkSW4ubWFwKGZ1bmN0aW9uIChpLCBkaW0pIHsgcmV0dXJuIF90aGlzLmNvb3JkTmFtZXNJbltkaW1dW2ldOyB9KTtcclxuICAgICAgICAgICAgcmV0dXJuIGVudHJ5LnZhbHVlLnRvU3RyaW5nKGNvbXBsZXhGb3JtYXQsIHByZWNpc2lvbikgKyBcIiB8XCIgKyBjb29yZFN0ck91dCArIFwiXFx1MjdFOVxcdTI3RThcIiArIGNvb3JkU3RySW4gKyBcInxcIjtcclxuICAgICAgICB9KVxyXG4gICAgICAgICAgICAuam9pbihzZXBhcmF0b3IpO1xyXG4gICAgICAgIHJldHVybiBpbnRyb1N0ciArIFwiXFxuXCIgKyB2YWx1ZVN0ciArIFwiXFxuXCI7XHJcbiAgICB9O1xyXG4gICAgT3BlcmF0b3IuaWRlbnRpdHkgPSBmdW5jdGlvbiAoZGltZW5zaW9ucykge1xyXG4gICAgICAgIHZhciBzaXplcyA9IGRpbWVuc2lvbnMubWFwKGZ1bmN0aW9uIChkaW1lbnNpb24pIHsgcmV0dXJuIGRpbWVuc2lvbi5zaXplOyB9KTtcclxuICAgICAgICB2YXIgdG90YWxTaXplID0gc2l6ZXMucmVkdWNlKGZ1bmN0aW9uIChhLCBiKSB7IHJldHVybiBhICogYjsgfSk7XHJcbiAgICAgICAgdmFyIGVudHJpZXMgPSBsb2Rhc2hfMS5kZWZhdWx0LnJhbmdlKHRvdGFsU2l6ZSkubWFwKGZ1bmN0aW9uIChpbmRleCkge1xyXG4gICAgICAgICAgICByZXR1cm4gRW50cnlfMS5PcGVyYXRvckVudHJ5LmZyb21JbmRleEluZGV4VmFsdWUoaW5kZXgsIGluZGV4LCBzaXplcywgc2l6ZXMsIENvbXBsZXhfMS5DeCgxLCAwKSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgcmV0dXJuIG5ldyBPcGVyYXRvcihlbnRyaWVzLCBkaW1lbnNpb25zLCBkaW1lbnNpb25zKTtcclxuICAgIH07XHJcbiAgICAvLyBodHRwczovL2VuLndpa2lwZWRpYS5vcmcvd2lraS9TaGlmdF9tYXRyaXhcclxuICAgIE9wZXJhdG9yLnNoaWZ0ID0gZnVuY3Rpb24gKGRpbWVuc2lvbiwgc2hpZnQpIHtcclxuICAgICAgICB2YXIgc3RhcnQgPSBNYXRoLm1heCgwLCAtc2hpZnQpO1xyXG4gICAgICAgIHZhciBlbmQgPSBNYXRoLm1pbihkaW1lbnNpb24uc2l6ZSwgZGltZW5zaW9uLnNpemUgLSBzaGlmdCk7XHJcbiAgICAgICAgdmFyIGVudHJpZXMgPSBsb2Rhc2hfMS5kZWZhdWx0LnJhbmdlKHN0YXJ0LCBlbmQpLm1hcChmdW5jdGlvbiAoaW5kZXgpIHtcclxuICAgICAgICAgICAgcmV0dXJuIEVudHJ5XzEuT3BlcmF0b3JFbnRyeS5mcm9tSW5kZXhJbmRleFZhbHVlKGluZGV4ICsgc2hpZnQsIGluZGV4LCBbZGltZW5zaW9uLnNpemVdLCBbZGltZW5zaW9uLnNpemVdLCBDb21wbGV4XzEuQ3goMSwgMCkpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHJldHVybiBuZXcgT3BlcmF0b3IoZW50cmllcywgW2RpbWVuc2lvbl0sIFtkaW1lbnNpb25dKTtcclxuICAgIH07XHJcbiAgICBPcGVyYXRvci56ZXJvcyA9IGZ1bmN0aW9uIChkaW1lbnNpb25zT3V0LCBkaW1lbnNpb25zSW4pIHtcclxuICAgICAgICBpZiAoZGltZW5zaW9uc0luID09PSB2b2lkIDApIHsgZGltZW5zaW9uc0luID0gZGltZW5zaW9uc091dDsgfVxyXG4gICAgICAgIHJldHVybiBuZXcgT3BlcmF0b3IoW10sIGRpbWVuc2lvbnNPdXQsIGRpbWVuc2lvbnNJbik7XHJcbiAgICB9O1xyXG4gICAgLy8gTG9hZGluZyBmcm9tIGRlbnNlIGFycmF5IGxpc3Qgb2YgY2VsbHNcclxuICAgIE9wZXJhdG9yLmZyb21BcnJheSA9IGZ1bmN0aW9uIChkZW5zZUFycmF5LCBkaW1lbnNpb25zT3V0LCBkaW1lbnNpb25zSW4sIHJlbW92ZVplcm9zKSB7XHJcbiAgICAgICAgaWYgKGRpbWVuc2lvbnNJbiA9PT0gdm9pZCAwKSB7IGRpbWVuc2lvbnNJbiA9IGRpbWVuc2lvbnNPdXQ7IH1cclxuICAgICAgICBpZiAocmVtb3ZlWmVyb3MgPT09IHZvaWQgMCkgeyByZW1vdmVaZXJvcyA9IHRydWU7IH1cclxuICAgICAgICAvLyBHZXQgc2l6ZSB2ZWN0b3IgZnJvbSBkaW1lbnNpb25zXHJcbiAgICAgICAgdmFyIHNpemVzT3V0ID0gZGltZW5zaW9uc091dC5tYXAoZnVuY3Rpb24gKGRpbWVuc2lvbikgeyByZXR1cm4gZGltZW5zaW9uLnNpemU7IH0pO1xyXG4gICAgICAgIHZhciB0b3RhbFNpemVPdXQgPSBzaXplc091dC5yZWR1Y2UoZnVuY3Rpb24gKGEsIGIpIHsgcmV0dXJuIGEgKiBiOyB9KTtcclxuICAgICAgICB2YXIgc2l6ZXNJbiA9IGRpbWVuc2lvbnNJbi5tYXAoZnVuY3Rpb24gKGRpbWVuc2lvbikgeyByZXR1cm4gZGltZW5zaW9uLnNpemU7IH0pO1xyXG4gICAgICAgIHZhciB0b3RhbFNpemVJbiA9IHNpemVzSW4ucmVkdWNlKGZ1bmN0aW9uIChhLCBiKSB7IHJldHVybiBhICogYjsgfSk7XHJcbiAgICAgICAgdmFyIHJvd0xlbmd0aHMgPSBkZW5zZUFycmF5Lm1hcChmdW5jdGlvbiAocm93KSB7IHJldHVybiByb3cubGVuZ3RoOyB9KTtcclxuICAgICAgICBpZiAobG9kYXNoXzEuZGVmYXVsdC5taW4ocm93TGVuZ3RocykgIT09IGxvZGFzaF8xLmRlZmF1bHQubWF4KHJvd0xlbmd0aHMpKSB7XHJcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIklzIG5vdCBhIHJlY3Rhbmd1bGFyIGFycmF5LiBSb3cgc2l6ZXMgXCIgKyBsb2Rhc2hfMS5kZWZhdWx0Lm1pbihyb3dMZW5ndGhzKSArIFwiIHRvIFwiICsgbG9kYXNoXzEuZGVmYXVsdC5tYXgocm93TGVuZ3RocykgKyBcIi5cIik7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChkZW5zZUFycmF5Lmxlbmd0aCAhPT0gdG90YWxTaXplT3V0IHx8IGRlbnNlQXJyYXlbMF0ubGVuZ3RoICE9PSB0b3RhbFNpemVJbikge1xyXG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJEaW1lbnNpb24gaW5jb25zaXN0ZW5jeTogYXJyYXkgaXMgW1wiICsgZGVuc2VBcnJheS5sZW5ndGggKyBcIiwgXCIgKyBkZW5zZUFycmF5WzBdLmxlbmd0aCArIFwiXSBhbmQgZGltZW5zaW9ucyB0b3RhbCBzaXplcyBhcmUgW1wiICsgdG90YWxTaXplT3V0ICsgXCIsIFwiICsgdG90YWxTaXplSW4gKyBcIl1cIik7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHZhciBmbGF0bGlzdCA9IFtdO1xyXG4gICAgICAgIGRlbnNlQXJyYXkuZm9yRWFjaChmdW5jdGlvbiAocm93LCBpbmRleE91dCkge1xyXG4gICAgICAgICAgICByZXR1cm4gcm93LmZvckVhY2goZnVuY3Rpb24gKHZhbHVlLCBpbmRleEluKSB7IHJldHVybiBmbGF0bGlzdC5wdXNoKFtpbmRleE91dCwgaW5kZXhJbiwgdmFsdWVdKTsgfSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgLy8gQnJva2VuIFR5cGVTY3JpcHQgb24gbXkgY29tcHksIHNvXHJcbiAgICAgICAgLy8gY29uc3QgZW50cmllczogT3BlcmF0b3JFbnRyeVtdID0gZGVuc2VBcnJheVxyXG4gICAgICAgIC8vICAgICAuZmxhdE1hcCgocm93OiBDb21wbGV4W10sIGluZGV4T3V0OiBudW1iZXIpOiBbbnVtYmVyLCBudW1iZXIsIENvbXBsZXhdW10gPT5cclxuICAgICAgICAvLyAgICAgICAgIHJvdy5tYXAoKHZhbHVlOiBDb21wbGV4LCBpbmRleEluOiBudW1iZXIpOiBbbnVtYmVyLCBudW1iZXIsIENvbXBsZXhdID0+XHJcbiAgICAgICAgLy8gICAgICAgICAgICAgW2luZGV4T3V0LCBpbmRleEluLCB2YWx1ZV1cclxuICAgICAgICAvLyAgICAgICAgIClcclxuICAgICAgICAvLyAgICAgKVxyXG4gICAgICAgIHZhciBlbnRyaWVzID0gZmxhdGxpc3RcclxuICAgICAgICAgICAgLmZpbHRlcihmdW5jdGlvbiAoX2EpIHtcclxuICAgICAgICAgICAgdmFyIF9pbmRleE91dCA9IF9hWzBdLCBfaW5kZXhJbiA9IF9hWzFdLCB2YWx1ZSA9IF9hWzJdO1xyXG4gICAgICAgICAgICByZXR1cm4gIXJlbW92ZVplcm9zIHx8ICF2YWx1ZS5pc1plcm8oKTtcclxuICAgICAgICB9KVxyXG4gICAgICAgICAgICAubWFwKGZ1bmN0aW9uIChfYSkge1xyXG4gICAgICAgICAgICB2YXIgaW5kZXhPdXQgPSBfYVswXSwgaW5kZXhJbiA9IF9hWzFdLCB2YWx1ZSA9IF9hWzJdO1xyXG4gICAgICAgICAgICByZXR1cm4gRW50cnlfMS5PcGVyYXRvckVudHJ5LmZyb21JbmRleEluZGV4VmFsdWUoaW5kZXhPdXQsIGluZGV4SW4sIHNpemVzT3V0LCBzaXplc0luLCB2YWx1ZSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgcmV0dXJuIG5ldyBPcGVyYXRvcihlbnRyaWVzLCBkaW1lbnNpb25zT3V0LCBkaW1lbnNpb25zSW4pO1xyXG4gICAgfTtcclxuICAgIC8vIGEgb3BlcmF0b3Igd2l0aCBvbmx5IG9uZSAxIG9uIG9uZSBkaWFnb25hbCBlbGVtZW50LCByZXN0IHplcm9zXHJcbiAgICBPcGVyYXRvci5pbmRpY2F0b3IgPSBmdW5jdGlvbiAoZGltZW5zaW9ucywgY29vcmROYW1lcykge1xyXG4gICAgICAgIHZhciBjb29yZHMgPSBEaW1lbnNpb25fMS5kZWZhdWx0LnN0cmluZ1RvQ29vcmRJbmRpY2VzKGNvb3JkTmFtZXMsIGRpbWVuc2lvbnMpO1xyXG4gICAgICAgIHZhciBlbnRyaWVzID0gW25ldyBFbnRyeV8xLk9wZXJhdG9yRW50cnkoY29vcmRzLCBjb29yZHMsIENvbXBsZXhfMS5DeCgxKSldO1xyXG4gICAgICAgIHJldHVybiBuZXcgT3BlcmF0b3IoZW50cmllcywgZGltZW5zaW9ucywgZGltZW5zaW9ucyk7XHJcbiAgICB9O1xyXG4gICAgT3BlcmF0b3IuZnJvbVNwYXJzZUNvb3JkTmFtZXMgPSBmdW5jdGlvbiAoc3RyaW5nZWRFbnRyaWVzLCBkaW1lbnNpb25zT3V0LCBkaW1lbnNpb25zSW4pIHtcclxuICAgICAgICBpZiAoZGltZW5zaW9uc0luID09PSB2b2lkIDApIHsgZGltZW5zaW9uc0luID0gZGltZW5zaW9uc091dDsgfVxyXG4gICAgICAgIHZhciBlbnRyaWVzID0gc3RyaW5nZWRFbnRyaWVzLm1hcChmdW5jdGlvbiAoX2EpIHtcclxuICAgICAgICAgICAgdmFyIGNvb3JkTmFtZVN0ck91dCA9IF9hWzBdLCBjb29yZE5hbWVTdHJJbiA9IF9hWzFdLCB2YWx1ZSA9IF9hWzJdO1xyXG4gICAgICAgICAgICByZXR1cm4gbmV3IEVudHJ5XzEuT3BlcmF0b3JFbnRyeShEaW1lbnNpb25fMS5kZWZhdWx0LnN0cmluZ1RvQ29vcmRJbmRpY2VzKGNvb3JkTmFtZVN0ck91dCwgZGltZW5zaW9uc091dCksIERpbWVuc2lvbl8xLmRlZmF1bHQuc3RyaW5nVG9Db29yZEluZGljZXMoY29vcmROYW1lU3RySW4sIGRpbWVuc2lvbnNJbiksIHZhbHVlKTtcclxuICAgICAgICB9KTtcclxuICAgICAgICByZXR1cm4gbmV3IE9wZXJhdG9yKGVudHJpZXMsIGRpbWVuc2lvbnNPdXQsIGRpbWVuc2lvbnNJbik7XHJcbiAgICB9O1xyXG4gICAgLy8gb3V0ZXIgcHJvZHVjdCBmb3IgbW9yZVxyXG4gICAgT3BlcmF0b3Iub3V0ZXIgPSBmdW5jdGlvbiAob3BzKSB7XHJcbiAgICAgICAgcmV0dXJuIG9wcy5yZWR1Y2UoZnVuY3Rpb24gKGFjYywgeCkgeyByZXR1cm4gYWNjLm91dGVyKHgpOyB9KTtcclxuICAgIH07XHJcbiAgICAvLyAoY2FuIGJlIG9wdGltaXplZCBpZiBuZWVkZWQpXHJcbiAgICBPcGVyYXRvci5hZGQgPSBmdW5jdGlvbiAob3BzKSB7XHJcbiAgICAgICAgcmV0dXJuIG9wcy5yZWR1Y2UoZnVuY3Rpb24gKGFjYywgeCkgeyByZXR1cm4gYWNjLmFkZCh4KTsgfSk7XHJcbiAgICB9O1xyXG4gICAgcmV0dXJuIE9wZXJhdG9yO1xyXG59KCkpO1xyXG5leHBvcnRzLmRlZmF1bHQgPSBPcGVyYXRvcjtcclxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9T3BlcmF0b3IuanMubWFwIiwiaW1wb3J0IHsgUGFydGljbGVJbnRlcmZhY2UgfSBmcm9tIFwiLi9QYXJ0aWNsZVwiO1xyXG4vLyBQQVJUSUNMRSBDTEFTU1xyXG4vLyBEZXNjcmliZXMgYSB2ZWN0b3Igd2l0aCBhbiBvcmlnaW4sIGEgZGlyZWN0aW9uIGFuZCBhbiB1bml0IGFtcGxpdHVkZS5cclxuLy8gRklYTUU6IER1cGxpY2F0ZSBiZXR3ZWVuIHBhdGggYW5kIGNvb3JkXHJcbi8vIEZJWE1FOiBDbGFzcyBuZWVkcyByZXdvcmtcclxuLy8gUmV3b3JrIHRoZSBwYXRoXHJcbmltcG9ydCBDb29yZCBmcm9tIFwiLi9Db29yZFwiO1xyXG5pbXBvcnQgQ2VsbCBmcm9tIFwiLi9DZWxsXCI7XHJcbmltcG9ydCB7IHRvUGVyY2VudCB9IGZyb20gXCIuL0hlbHBlcnNcIjtcclxuaW1wb3J0IHsgQ29tcGxleCwgQ3ggfSBmcm9tIFwicXVhbnR1bS10ZW5zb3JzXCI7XHJcblxyXG5leHBvcnQgaW50ZXJmYWNlIFBhcnRpY2xlSW50ZXJmYWNlIHtcclxuICBjb29yZDogQ29vcmQ7XHJcbiAgZGlyZWN0aW9uOiBudW1iZXI7XHJcbiAgaW50ZW5zaXR5OiBudW1iZXI7XHJcbiAgcGhhc2U6IG51bWJlcjtcclxuICBhOiBDb21wbGV4O1xyXG4gIGI6IENvbXBsZXg7XHJcbn1cclxuXHJcbmV4cG9ydCBpbnRlcmZhY2UgUXBhcnRpY2xlIHtcclxuICB4OiBudW1iZXI7XHJcbiAgeTogbnVtYmVyO1xyXG4gIGRpcmVjdGlvbjogbnVtYmVyO1xyXG4gIGFyZTogbnVtYmVyO1xyXG4gIGFpbTogbnVtYmVyO1xyXG4gIGJyZTogbnVtYmVyO1xyXG4gIGJpbTogbnVtYmVyO1xyXG59XHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBQYXJ0aWNsZSBleHRlbmRzIENvb3JkIHtcclxuICBjb29yZDogQ29vcmQ7XHJcbiAgZGlyZWN0aW9uOiBudW1iZXI7XHJcbiAgaW50ZW5zaXR5OiBudW1iZXI7XHJcbiAgcGhhc2U6IG51bWJlcjtcclxuICBhOiBDb21wbGV4O1xyXG4gIGI6IENvbXBsZXg7XHJcbiAgcGF0aDogUGFydGljbGVJbnRlcmZhY2VbXTtcclxuXHJcbiAgY29uc3RydWN0b3IoXHJcbiAgICBjb29yZDogQ29vcmQsXHJcbiAgICBkaXJlY3Rpb246IG51bWJlcixcclxuICAgIGludGVuc2l0eSA9IDEsXHJcbiAgICBwaGFzZSA9IDAsXHJcbiAgICBhOiBDb21wbGV4ID0gQ3goMSksXHJcbiAgICBiOiBDb21wbGV4ID0gQ3goMCksXHJcbiAgICBwYXRoOiBQYXJ0aWNsZUludGVyZmFjZVtdID0gW1xyXG4gICAgICB7XHJcbiAgICAgICAgY29vcmQ6IGNvb3JkLFxyXG4gICAgICAgIGRpcmVjdGlvbjogZGlyZWN0aW9uLFxyXG4gICAgICAgIGludGVuc2l0eTogaW50ZW5zaXR5LFxyXG4gICAgICAgIHBoYXNlOiBwaGFzZSxcclxuICAgICAgICBhOiBhLFxyXG4gICAgICAgIGI6IGJcclxuICAgICAgfVxyXG4gICAgXVxyXG4gICkge1xyXG4gICAgc3VwZXIoY29vcmQueSwgY29vcmQueCk7XHJcbiAgICB0aGlzLmNvb3JkID0gY29vcmQ7XHJcbiAgICB0aGlzLmRpcmVjdGlvbiA9IGRpcmVjdGlvbjtcclxuICAgIHRoaXMuaW50ZW5zaXR5ID0gaW50ZW5zaXR5O1xyXG4gICAgdGhpcy5waGFzZSA9IHBoYXNlO1xyXG4gICAgdGhpcy5hID0gYTtcclxuICAgIHRoaXMuYiA9IGI7XHJcbiAgICB0aGlzLnBhdGggPSBwYXRoO1xyXG4gIH1cclxuXHJcbiAgLy8gT3JpZ2luIG9mIHRoZSBwYXJ0aWNsZVxyXG4gIGdldCBvcmlnaW4oKTogQ29vcmQge1xyXG4gICAgcmV0dXJuIHRoaXMucGF0aFswXS5jb29yZDtcclxuICB9XHJcblxyXG4gIC8vIENoZWNrIGlzIGEgcGFydGljbGUgaGFzIGFueSBpbnRlbnNpdHlcclxuICBnZXQgYWxpdmUoKTogYm9vbGVhbiB7XHJcbiAgICByZXR1cm4gdGhpcy5pbnRlbnNpdHkgPiAwO1xyXG4gIH1cclxuXHJcbiAgLy8gRGVlcCBjbG9uZSBvZiB0aGUgcGFydGljbGVcclxuICBnZXQgY2xvbmUoKTogUGFydGljbGUge1xyXG4gICAgcmV0dXJuIG5ldyBQYXJ0aWNsZSh0aGlzLmNvb3JkLCB0aGlzLmRpcmVjdGlvbiwgdGhpcy5pbnRlbnNpdHksIHRoaXMucGhhc2UpO1xyXG4gIH1cclxuXHJcbiAgLy8gVmVydGljYWwgb3IgaG9yaXpvbnRhbCBvcmllbnRhdGlvblxyXG4gIGdldCBpc1ZlcnRpY2FsKCk6IGJvb2xlYW4ge1xyXG4gICAgcmV0dXJuIHRoaXMuZGlyZWN0aW9uID09PSAwIHx8IHRoaXMuZGlyZWN0aW9uID09PSAxODA7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBDb21wbGV4IHNjYWxpbmdcclxuICAgKi9cclxuICBnZXQgb3BhY2l0eSgpOiBudW1iZXIge1xyXG4gICAgY29uc3Qgc2NhbGluZyA9IDAuNTtcclxuICAgIGNvbnN0IG9wYWNpdHkgPSBNYXRoLnBvdyh0aGlzLmEuYWJzMigpICsgdGhpcy5iLmFiczIoKSwgc2NhbGluZyk7XHJcbiAgICBpZiAob3BhY2l0eSA+IDEpIHtcclxuICAgICAgcmV0dXJuIDE7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICByZXR1cm4gb3BhY2l0eTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIC8vIENvbnZlcnQgcGF0aCB0byBwYXJ0aWNsZSBpbnN0YW5jZXNcclxuICBnZXQgcGF0aFBhcnRpY2xlKCk6IFBhcnRpY2xlW10ge1xyXG4gICAgY29uc3QgcmVzdWx0OiBQYXJ0aWNsZVtdID0gW107XHJcbiAgICB0aGlzLnBhdGguZm9yRWFjaChwYXJ0aWNsZUkgPT4ge1xyXG4gICAgICByZXN1bHQucHVzaChQYXJ0aWNsZS5pbXBvcnRQYXJ0aWNsZShwYXJ0aWNsZUkpKTtcclxuICAgIH0pO1xyXG4gICAgcmV0dXJuIHJlc3VsdDtcclxuICB9XHJcblxyXG4gIC8vIFBhcnRpY2xlIGlzIG9uIGEgc3BlY2lmaWMgY2VsbCBzaG9ydGhhbmRcclxuICBvbihjZWxsOiBDZWxsKTogYm9vbGVhbiB7XHJcbiAgICByZXR1cm4gdGhpcy5jb29yZC5lcXVhbChjZWxsLmNvb3JkKTtcclxuICB9XHJcblxyXG4gIC8vIFN0ZXBzL2Rpc3RhbmNlIHRvd2FyZHMgZXhpdGluZyB0aGUgZ3JpZFxyXG4gIHN0ZXBzVG9FeGl0KGNvbHM6IG51bWJlciwgcm93czogbnVtYmVyKTogbnVtYmVyIHtcclxuICAgIHN3aXRjaCAodGhpcy5kaXJlY3Rpb24gJSAzNjApIHtcclxuICAgICAgY2FzZSAwOiAvLyBUT1BcclxuICAgICAgICByZXR1cm4gdGhpcy55O1xyXG4gICAgICBjYXNlIDkwOiAvLyBSSUdIVFxyXG4gICAgICAgIHJldHVybiBjb2xzIC0gdGhpcy54IC0gMTtcclxuICAgICAgY2FzZSAxODA6IC8vIEJPVFRPTVxyXG4gICAgICAgIHJldHVybiByb3dzIC0gdGhpcy55IC0gMTtcclxuICAgICAgY2FzZSAyNzA6IC8vIExFRlRcclxuICAgICAgICByZXR1cm4gdGhpcy54O1xyXG4gICAgICBkZWZhdWx0OlxyXG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcIlNvbWV0aGluZyB3ZW50IHdyb25nIHdpdGggZGlyZWN0aW9ucy4uLlwiKTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIC8vIENvbXB1dGUgbmV4dCBzaW11bGF0aW9uIHN0ZXBcclxuICBuZXh0KHJlcGVhdCA9IDEpOiBQYXJ0aWNsZSB7XHJcbiAgICAvLyBNb3ZpbmcgQ1cgaW4gaW5jcmVtZW50IG9mIDkwwrBcclxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgcmVwZWF0OyBpKyspIHtcclxuICAgICAgc3dpdGNoICh0aGlzLmRpcmVjdGlvbiAlIDM2MCkge1xyXG4gICAgICAgIGNhc2UgMDpcclxuICAgICAgICAgIHRoaXMuY29vcmQgPSB0aGlzLmNvb3JkLnJpZ2h0O1xyXG4gICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgY2FzZSA5MDpcclxuICAgICAgICAgIHRoaXMuY29vcmQgPSB0aGlzLmNvb3JkLnRvcDtcclxuICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIGNhc2UgMTgwOlxyXG4gICAgICAgICAgdGhpcy5jb29yZCA9IHRoaXMuY29vcmQubGVmdDtcclxuICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIGNhc2UgMjcwOlxyXG4gICAgICAgICAgdGhpcy5jb29yZCA9IHRoaXMuY29vcmQuYm90dG9tO1xyXG4gICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgZGVmYXVsdDpcclxuICAgICAgICAgIHRocm93IEVycm9yKGBTb21ldGhpbmcgd2VudCB3cm9uZyB3aXRoIHBhcnRpY2xlcyBhbmQgZGlyZWN0aW9uLmApO1xyXG4gICAgICB9XHJcbiAgICAgIC8vIFVwZGF0ZSBjb29yZCB3aXRoIGxhdGVzdCBjb21wdXRlZCBwYXRoIGNvb3JkaW5hdGVzXHJcbiAgICAgIHRoaXMucGF0aC5wdXNoKHtcclxuICAgICAgICBjb29yZDogdGhpcy5jb29yZCxcclxuICAgICAgICBkaXJlY3Rpb246IHRoaXMuZGlyZWN0aW9uLFxyXG4gICAgICAgIGludGVuc2l0eTogdGhpcy5pbnRlbnNpdHksXHJcbiAgICAgICAgcGhhc2U6IHRoaXMucGhhc2UsXHJcbiAgICAgICAgYTogdGhpcy5hLFxyXG4gICAgICAgIGI6IHRoaXMuYlxyXG4gICAgICB9KTtcclxuICAgIH1cclxuICAgIHJldHVybiB0aGlzO1xyXG4gIH1cclxuXHJcbiAgLy8gRXhwb3J0IEpTT04gb2JqZWN0XHJcbiAgLy8gRklYTUU6IFJld29yayBleHRlbmRzIGFuZCBKU09OIGV4cG9ydFxyXG4gIGV4cG9ydFBhcnRpY2xlKCk6IFBhcnRpY2xlSW50ZXJmYWNlIHtcclxuICAgIHJldHVybiB7XHJcbiAgICAgIGNvb3JkOiB0aGlzLmNvb3JkLFxyXG4gICAgICBkaXJlY3Rpb246IHRoaXMuZGlyZWN0aW9uLFxyXG4gICAgICBpbnRlbnNpdHk6IHRoaXMuaW50ZW5zaXR5LFxyXG4gICAgICBwaGFzZTogdGhpcy5waGFzZSxcclxuICAgICAgYTogdGhpcy5hLFxyXG4gICAgICBiOiB0aGlzLmJcclxuICAgIH07XHJcbiAgfVxyXG5cclxuICB0b1N0cmluZygpOiBzdHJpbmcge1xyXG4gICAgcmV0dXJuIGBQYXJ0aWNsZSBAICR7dGhpcy5jb29yZC50b1N0cmluZygpfSBtb3ZpbmcgJHtcclxuICAgICAgdGhpcy5kaXJlY3Rpb25cclxuICAgIH3CsCB3aXRoICR7dG9QZXJjZW50KHRoaXMuaW50ZW5zaXR5KX0gaW50ZW5zaXR5IGFuZCBwb2xhcml6YXRpb24gfCBBOiR7XHJcbiAgICAgIHRoaXMuYS5yZVxyXG4gICAgfSArICR7dGhpcy5hLmltfWkgJiBCOiR7dGhpcy5iLnJlfSArICR7dGhpcy5iLmltfWlcXG5gO1xyXG4gIH1cclxuXHJcbiAgLy8gSW1wb3J0IEpTT04gb2JqZWN0XHJcbiAgc3RhdGljIGltcG9ydFBhcnRpY2xlKGpzb246IFBhcnRpY2xlSW50ZXJmYWNlKTogUGFydGljbGUge1xyXG4gICAgcmV0dXJuIG5ldyBQYXJ0aWNsZShcclxuICAgICAganNvbi5jb29yZCxcclxuICAgICAganNvbi5kaXJlY3Rpb24sXHJcbiAgICAgIGpzb24uaW50ZW5zaXR5LFxyXG4gICAgICBqc29uLnBoYXNlLFxyXG4gICAgICBqc29uLmEsXHJcbiAgICAgIGpzb24uYlxyXG4gICAgKTtcclxuICB9XHJcblxyXG4gIC8vIFVTZWQgZm9yIGRlYnVnZ2luZ1xyXG4gIHN0YXRpYyBtYW55VG9TdHJpbmcocGFydGljbGVzOiBQYXJ0aWNsZVtdKTogc3RyaW5nIHtcclxuICAgIGxldCByZXN1bHQgPSBcIlwiO1xyXG4gICAgcGFydGljbGVzLmZvckVhY2gocGFydGljbGUgPT4ge1xyXG4gICAgICByZXN1bHQgKz0gcGFydGljbGUudG9TdHJpbmcoKTtcclxuICAgIH0pO1xyXG4gICAgcmV0dXJuIHJlc3VsdDtcclxuICB9XHJcbn1cclxuIiwiaW1wb3J0IHsgQ29sb3IgfSBmcm9tIFwicm90LWpzXCI7XHJcblxyXG4vLyBDb252ZXJ0IGFuZ2xlcyB0byB1bmljb2RlIHN5bWJvbHNcclxuLy8gaHR0cHM6Ly9lbi53aWtpcGVkaWEub3JnL3dpa2kvVGVtcGxhdGU6VW5pY29kZV9jaGFydF9BcnJvd3NcclxuZXhwb3J0IGZ1bmN0aW9uIGFuZ2xlVG9TeW1ib2woYW5nbGU6IG51bWJlcik6IHN0cmluZyB7XHJcbiAgYW5nbGUgPSBhbmdsZSAlIDM2MDtcclxuICBzd2l0Y2ggKGFuZ2xlKSB7XHJcbiAgICBjYXNlIDA6XHJcbiAgICAgIHJldHVybiBcIuKGkVwiO1xyXG4gICAgY2FzZSA0NTpcclxuICAgICAgcmV0dXJuIFwi4oaXXCI7XHJcbiAgICBjYXNlIDkwOlxyXG4gICAgICByZXR1cm4gXCLihpJcIjtcclxuICAgIGNhc2UgMTM1OlxyXG4gICAgICByZXR1cm4gXCLihphcIjtcclxuICAgIGNhc2UgMTgwOlxyXG4gICAgICByZXR1cm4gXCLihpNcIjtcclxuICAgIGNhc2UgMjI1OlxyXG4gICAgICByZXR1cm4gXCLihplcIjtcclxuICAgIGNhc2UgMjcwOlxyXG4gICAgICByZXR1cm4gXCLihpBcIjtcclxuICAgIGNhc2UgMzE1OlxyXG4gICAgICByZXR1cm4gXCLihpZcIjtcclxuICAgIGRlZmF1bHQ6XHJcbiAgICAgIHRocm93IG5ldyBFcnJvcihcIlNvbWV0aGluZyBpcyB3cm9uZyB3aXRoIHByb3ZpZGVkIGFuZ2xlLlwiKTtcclxuICB9XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBzeW1ib2xUb0FuZ2xlKGRpcmVjdGlvbjogc3RyaW5nKTogbnVtYmVyIHtcclxuICBzd2l0Y2ggKGRpcmVjdGlvbikge1xyXG4gICAgY2FzZSBcIuKGkVwiOlxyXG4gICAgICByZXR1cm4gMDtcclxuICAgIGNhc2UgXCLihpdcIjpcclxuICAgICAgcmV0dXJuIDQ1O1xyXG4gICAgY2FzZSBcIuKGklwiOlxyXG4gICAgICByZXR1cm4gOTA7XHJcbiAgICBjYXNlIFwi4oaYXCI6XHJcbiAgICAgIHJldHVybiAxMzU7XHJcbiAgICBjYXNlIFwi4oaTXCI6XHJcbiAgICAgIHJldHVybiAxODA7XHJcbiAgICBjYXNlIFwi4oaZXCI6XHJcbiAgICAgIHJldHVybiAyMjU7XHJcbiAgICBjYXNlIFwi4oaQXCI6XHJcbiAgICAgIHJldHVybiAyNzA7XHJcbiAgICBjYXNlIFwi4oaWXCI6XHJcbiAgICAgIHJldHVybiAzMTU7XHJcbiAgICBkZWZhdWx0OlxyXG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCJTb21ldGhpbmcgaXMgd3Jvbmcgd2l0aCBwcm92aWRlZCBkaXJlY3Rpb24gc3RyaW5nLlwiKTtcclxuICB9XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBwYWRMZWZ0KFxyXG4gIHRleHQ6IHN0cmluZyxcclxuICBsZW5ndGg6IG51bWJlcixcclxuICBjaGFyYWN0ZXI/OiBzdHJpbmdcclxuKTogc3RyaW5nIHtcclxuICBjb25zdCBjaGFyID0gY2hhcmFjdGVyIHx8IFwiIFwiO1xyXG4gIHdoaWxlICh0ZXh0Lmxlbmd0aCA8IGxlbmd0aCkge1xyXG4gICAgdGV4dCA9IGNoYXIgKyB0ZXh0O1xyXG4gIH1cclxuICByZXR1cm4gdGV4dDtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIHBhZFJpZ2h0KFxyXG4gIHRleHQ6IHN0cmluZyxcclxuICBsZW5ndGg6IG51bWJlcixcclxuICBjaGFyYWN0ZXI/OiBzdHJpbmdcclxuKTogc3RyaW5nIHtcclxuICBjb25zdCBjaGFyID0gY2hhcmFjdGVyIHx8IFwiIFwiO1xyXG4gIHdoaWxlICh0ZXh0Lmxlbmd0aCA8IGxlbmd0aCkge1xyXG4gICAgdGV4dCArPSBjaGFyO1xyXG4gIH1cclxuICByZXR1cm4gdGV4dDtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIHRvUGVyY2VudCh2YWx1ZTogbnVtYmVyKTogc3RyaW5nIHtcclxuICByZXR1cm4gYCR7KHZhbHVlICogMTAwKS50b0ZpeGVkKDIpfSVgO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gaHNsMmhleHJnYihcclxuICBodWUgPSAwLjQ1LFxyXG4gIHNhdHVyYXRpb24gPSAwLFxyXG4gIGxpZ2h0bmVzcyA9IDAuNVxyXG4pOiBzdHJpbmcge1xyXG4gIGlmIChodWUgPj0gMSkge1xyXG4gICAgaHVlID0gMTtcclxuICB9XHJcbiAgaWYgKHNhdHVyYXRpb24gPj0gMSkge1xyXG4gICAgc2F0dXJhdGlvbiA9IDE7XHJcbiAgfVxyXG4gIGlmIChsaWdodG5lc3MgPj0gMSkge1xyXG4gICAgc2F0dXJhdGlvbiA9IDE7XHJcbiAgfVxyXG4gIGNvbnN0IGhzbCA9IENvbG9yLmhzbDJyZ2IoW2h1ZSwgc2F0dXJhdGlvbiwgbGlnaHRuZXNzXSk7XHJcbiAgcmV0dXJuIENvbG9yLnRvSGV4KGhzbCk7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBzY2FsZU9wYWNpdHkob3BhY2l0eTogbnVtYmVyKTogc3RyaW5nIHtcclxuICBpZiAob3BhY2l0eSA+PSAxKSB7XHJcbiAgICBvcGFjaXR5ID0gMTtcclxuICB9XHJcbiAgY29uc3QgaHNsID0gQ29sb3IuaHNsMnJnYihbMC4zMzMsIDAuMzMzLCBvcGFjaXR5XSk7XHJcbiAgcmV0dXJuIENvbG9yLnRvSGV4KGhzbCk7XHJcbn1cclxuXHJcbi8vIERpc3BsYXkgSGVscGVyc1xyXG5leHBvcnQgZnVuY3Rpb24gZGlzcGxheVRleHQoZWxlbWVudElkOiBzdHJpbmcsIHRleHQ6IHN0cmluZyk6IHZvaWQge1xyXG4gIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tbm9uLW51bGwtYXNzZXJ0aW9uXHJcbiAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoZWxlbWVudElkKSEudGV4dENvbnRlbnQgPSB0ZXh0O1xyXG59XHJcbiIsIlwidXNlIHN0cmljdFwiO1xyXG4vLyBWRUNUT1IgQ0xBU1NcclxuLy8gVGVuc29yLWF3YXJlIG5hbWVkIHNwYXJzZSBjb21wbGV4IHZlY3RvclxyXG52YXIgX19zcHJlYWRBcnJheXMgPSAodGhpcyAmJiB0aGlzLl9fc3ByZWFkQXJyYXlzKSB8fCBmdW5jdGlvbiAoKSB7XHJcbiAgICBmb3IgKHZhciBzID0gMCwgaSA9IDAsIGlsID0gYXJndW1lbnRzLmxlbmd0aDsgaSA8IGlsOyBpKyspIHMgKz0gYXJndW1lbnRzW2ldLmxlbmd0aDtcclxuICAgIGZvciAodmFyIHIgPSBBcnJheShzKSwgayA9IDAsIGkgPSAwOyBpIDwgaWw7IGkrKylcclxuICAgICAgICBmb3IgKHZhciBhID0gYXJndW1lbnRzW2ldLCBqID0gMCwgamwgPSBhLmxlbmd0aDsgaiA8IGpsOyBqKyssIGsrKylcclxuICAgICAgICAgICAgcltrXSA9IGFbal07XHJcbiAgICByZXR1cm4gcjtcclxufTtcclxudmFyIF9faW1wb3J0RGVmYXVsdCA9ICh0aGlzICYmIHRoaXMuX19pbXBvcnREZWZhdWx0KSB8fCBmdW5jdGlvbiAobW9kKSB7XHJcbiAgICByZXR1cm4gKG1vZCAmJiBtb2QuX19lc01vZHVsZSkgPyBtb2QgOiB7IFwiZGVmYXVsdFwiOiBtb2QgfTtcclxufTtcclxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xyXG4vLyBWRUNUT1IgQ0xBU1NcclxuLy8gYWRkXHJcbi8vIGRvdCBwcm9kdWN0XHJcbi8vIHBlcm11dGVcclxudmFyIENvbXBsZXhfMSA9IHJlcXVpcmUoXCIuL0NvbXBsZXhcIik7XHJcbnZhciBFbnRyeV8xID0gcmVxdWlyZShcIi4vRW50cnlcIik7XHJcbnZhciBEaW1lbnNpb25fMSA9IF9faW1wb3J0RGVmYXVsdChyZXF1aXJlKFwiLi9EaW1lbnNpb25cIikpO1xyXG52YXIgbG9kYXNoXzEgPSBfX2ltcG9ydERlZmF1bHQocmVxdWlyZShcImxvZGFzaFwiKSk7XHJcbnZhciBWZWN0b3IgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XHJcbiAgICAvLyBUT0RPOiBhc3N1bWUgdGhlIGNlbGxzIGFyZSBvcmRlcmVkXHJcbiAgICBmdW5jdGlvbiBWZWN0b3IoY2VsbHMsIGRpbWVuc2lvbnMpIHtcclxuICAgICAgICB0aGlzLmNlbGxzID0gY2VsbHM7XHJcbiAgICAgICAgdGhpcy5kaW1lbnNpb25zID0gZGltZW5zaW9ucztcclxuICAgIH1cclxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShWZWN0b3IucHJvdG90eXBlLCBcInNpemVcIiwge1xyXG4gICAgICAgIC8vIEdldHRlcnMgZm9yIGRpbWVuc2lvbnNcclxuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuZGltZW5zaW9ucy5tYXAoZnVuY3Rpb24gKGRpbWVuc2lvbikgeyByZXR1cm4gZGltZW5zaW9uLnNpemU7IH0pO1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcclxuICAgIH0pO1xyXG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFZlY3Rvci5wcm90b3R5cGUsIFwidG90YWxTaXplXCIsIHtcclxuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuc2l6ZS5yZWR1Y2UoZnVuY3Rpb24gKGEsIGIpIHsgcmV0dXJuIGEgKiBiOyB9KTtcclxuICAgICAgICB9LFxyXG4gICAgICAgIGVudW1lcmFibGU6IHRydWUsXHJcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXHJcbiAgICB9KTtcclxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShWZWN0b3IucHJvdG90eXBlLCBcIm5hbWVzXCIsIHtcclxuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuZGltZW5zaW9ucy5tYXAoZnVuY3Rpb24gKGRpbWVuc2lvbikgeyByZXR1cm4gZGltZW5zaW9uLm5hbWU7IH0pO1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcclxuICAgIH0pO1xyXG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFZlY3Rvci5wcm90b3R5cGUsIFwiY29vcmROYW1lc1wiLCB7XHJcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmRpbWVuc2lvbnMubWFwKGZ1bmN0aW9uIChkaW1lbnNpb24pIHsgcmV0dXJuIGRpbWVuc2lvbi5jb29yZE5hbWVzOyB9KTtcclxuICAgICAgICB9LFxyXG4gICAgICAgIGVudW1lcmFibGU6IHRydWUsXHJcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXHJcbiAgICB9KTtcclxuICAgIC8vIENvbmp1Z2F0ZVxyXG4gICAgVmVjdG9yLnByb3RvdHlwZS5jb25qID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHZhciBlbnRyaWVzID0gdGhpcy5jZWxscy5tYXAoZnVuY3Rpb24gKGNlbGwpIHsgcmV0dXJuIG5ldyBFbnRyeV8xLlZlY3RvckVudHJ5KF9fc3ByZWFkQXJyYXlzKGNlbGwuY29vcmQpLCBjZWxsLnZhbHVlLmNvbmooKSk7IH0pO1xyXG4gICAgICAgIHJldHVybiBuZXcgVmVjdG9yKGVudHJpZXMsIHRoaXMuZGltZW5zaW9ucyk7XHJcbiAgICB9O1xyXG4gICAgVmVjdG9yLnByb3RvdHlwZS5hZGQgPSBmdW5jdGlvbiAodjIpIHtcclxuICAgICAgICAvLyBOT1RFOiBtYXkgYmUgb3ZlcmVuZ2luZWVyZWQgZm9yIGFkZGluZyAyIHZlY3RvcnMgd2l0aCB0aGlzIG1hcC1yZWR1Y2UgYXBwcm9hY2hcclxuICAgICAgICB2YXIgdjEgPSB0aGlzO1xyXG4gICAgICAgIERpbWVuc2lvbl8xLmRlZmF1bHQuY2hlY2tEaW1lbnNpb25zKHYxLmRpbWVuc2lvbnMsIHYyLmRpbWVuc2lvbnMpO1xyXG4gICAgICAgIHZhciBlbnRyaWVzID0gbG9kYXNoXzEuZGVmYXVsdC5jaGFpbih2MS5jZWxscy5jb25jYXQodjIuY2VsbHMpKVxyXG4gICAgICAgICAgICAuZ3JvdXBCeShmdW5jdGlvbiAoZW50cnkpIHsgcmV0dXJuIGVudHJ5LmNvb3JkLnRvU3RyaW5nKCk7IH0pXHJcbiAgICAgICAgICAgIC52YWx1ZXMoKVxyXG4gICAgICAgICAgICAubWFwKGZ1bmN0aW9uIChncm91cGVkKSB7XHJcbiAgICAgICAgICAgIHZhciBjb29yZCA9IF9fc3ByZWFkQXJyYXlzKGdyb3VwZWRbMF0uY29vcmQpO1xyXG4gICAgICAgICAgICB2YXIgdmFsdWUgPSBncm91cGVkLm1hcChmdW5jdGlvbiAoZW50cnkpIHsgcmV0dXJuIGVudHJ5LnZhbHVlOyB9KS5yZWR1Y2UoZnVuY3Rpb24gKGEsIGIpIHsgcmV0dXJuIGEuYWRkKGIpOyB9KTtcclxuICAgICAgICAgICAgcmV0dXJuIG5ldyBFbnRyeV8xLlZlY3RvckVudHJ5KGNvb3JkLCB2YWx1ZSk7XHJcbiAgICAgICAgfSlcclxuICAgICAgICAgICAgLnZhbHVlKCk7XHJcbiAgICAgICAgcmV0dXJuIG5ldyBWZWN0b3IoZW50cmllcywgdjEuZGltZW5zaW9ucyk7XHJcbiAgICB9O1xyXG4gICAgVmVjdG9yLnByb3RvdHlwZS5tdWxDb25zdGFudCA9IGZ1bmN0aW9uIChjKSB7XHJcbiAgICAgICAgdmFyIGVudHJpZXMgPSB0aGlzLmNlbGxzLm1hcChmdW5jdGlvbiAoZW50cnkpIHsgcmV0dXJuIG5ldyBFbnRyeV8xLlZlY3RvckVudHJ5KGVudHJ5LmNvb3JkLCBlbnRyeS52YWx1ZS5tdWwoYykpOyB9KTtcclxuICAgICAgICByZXR1cm4gbmV3IFZlY3RvcihlbnRyaWVzLCB0aGlzLmRpbWVuc2lvbnMpO1xyXG4gICAgfTtcclxuICAgIFZlY3Rvci5wcm90b3R5cGUuc3ViID0gZnVuY3Rpb24gKHYyKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuYWRkKHYyLm11bENvbnN0YW50KENvbXBsZXhfMS5DeCgtMSkpKTtcclxuICAgIH07XHJcbiAgICBWZWN0b3IucHJvdG90eXBlLmRvdCA9IGZ1bmN0aW9uICh2Mikge1xyXG4gICAgICAgIHZhciB2MSA9IHRoaXM7XHJcbiAgICAgICAgRGltZW5zaW9uXzEuZGVmYXVsdC5jaGVja0RpbWVuc2lvbnModjEuZGltZW5zaW9ucywgdjIuZGltZW5zaW9ucyk7XHJcbiAgICAgICAgdmFyIHJlc3VsdCA9IGxvZGFzaF8xLmRlZmF1bHQuY2hhaW4odjEuY2VsbHMuY29uY2F0KHYyLmNlbGxzKSlcclxuICAgICAgICAgICAgLmdyb3VwQnkoZnVuY3Rpb24gKGVudHJ5KSB7IHJldHVybiBlbnRyeS5jb29yZC50b1N0cmluZygpOyB9KVxyXG4gICAgICAgICAgICAudmFsdWVzKClcclxuICAgICAgICAgICAgLm1hcChmdW5jdGlvbiAoZ3JvdXBlZCkge1xyXG4gICAgICAgICAgICBpZiAoZ3JvdXBlZC5sZW5ndGggPT09IDIpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBncm91cGVkWzBdLnZhbHVlLm11bChncm91cGVkWzFdLnZhbHVlKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBDb21wbGV4XzEuQ3goMCwgMCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KVxyXG4gICAgICAgICAgICAucmVkdWNlKGZ1bmN0aW9uIChhLCBiKSB7IHJldHVybiBhLmFkZChiKTsgfSlcclxuICAgICAgICAgICAgLnZhbHVlKCk7XHJcbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcclxuICAgIH07XHJcbiAgICAvLyBPdXRlciBwcm9kdWN0IG9mIHZlY3RvcnNcclxuICAgIFZlY3Rvci5wcm90b3R5cGUub3V0ZXIgPSBmdW5jdGlvbiAodjIpIHtcclxuICAgICAgICB2YXIgdjEgPSB0aGlzO1xyXG4gICAgICAgIHZhciBkaW1lbnNpb25zID0gdjEuZGltZW5zaW9ucy5jb25jYXQodjIuZGltZW5zaW9ucyk7XHJcbiAgICAgICAgdmFyIGNlbGxzID0gW107XHJcbiAgICAgICAgdjEuY2VsbHMuZm9yRWFjaChmdW5jdGlvbiAoY2VsbDEpIHsgcmV0dXJuIHYyLmNlbGxzLmZvckVhY2goZnVuY3Rpb24gKGNlbGwyKSB7IHJldHVybiBjZWxscy5wdXNoKGNlbGwxLm91dGVyKGNlbGwyKSk7IH0pOyB9KTtcclxuICAgICAgICByZXR1cm4gbmV3IFZlY3RvcihjZWxscywgZGltZW5zaW9ucyk7XHJcbiAgICB9O1xyXG4gICAgLy8gVE9ETzogRGVuc2UgbWF0cml4IHZpc3VhbGlzYXRpb25cclxuICAgIFZlY3Rvci5wcm90b3R5cGUudG9TdHJpbmcgPSBmdW5jdGlvbiAoY29tcGxleEZvcm1hdCwgcHJlY2lzaW9uLCBzZXBhcmF0b3IpIHtcclxuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xyXG4gICAgICAgIGlmIChjb21wbGV4Rm9ybWF0ID09PSB2b2lkIDApIHsgY29tcGxleEZvcm1hdCA9IFwiY2FydGVzaWFuXCI7IH1cclxuICAgICAgICBpZiAocHJlY2lzaW9uID09PSB2b2lkIDApIHsgcHJlY2lzaW9uID0gMjsgfVxyXG4gICAgICAgIGlmIChzZXBhcmF0b3IgPT09IHZvaWQgMCkgeyBzZXBhcmF0b3IgPSBcIiArIFwiOyB9XHJcbiAgICAgICAgdmFyIGludHJvU3RyID0gXCJWZWN0b3Igd2l0aCBcIiArIHRoaXMuY2VsbHMubGVuZ3RoICsgXCIgZW50cmllcyBvZiBtYXggc2l6ZSBbXCIgKyB0aGlzLnNpemUgKyBcIl0gd2l0aCBkaW1lbnNpb25zIFtcIiArIHRoaXMubmFtZXMgKyBcIl1cIjtcclxuICAgICAgICB2YXIgdmFsdWVTdHIgPSB0aGlzLmNlbGxzXHJcbiAgICAgICAgICAgIC5tYXAoZnVuY3Rpb24gKGNlbGwpIHtcclxuICAgICAgICAgICAgdmFyIGNvb3JkU3RyID0gY2VsbC5jb29yZC5tYXAoZnVuY3Rpb24gKGksIGRpbSkgeyByZXR1cm4gX3RoaXMuY29vcmROYW1lc1tkaW1dW2ldOyB9KTtcclxuICAgICAgICAgICAgcmV0dXJuIGNlbGwudmFsdWUudG9TdHJpbmcoY29tcGxleEZvcm1hdCwgcHJlY2lzaW9uKSArIFwiIHxcIiArIGNvb3JkU3RyICsgXCJcXHUyN0U5XCI7XHJcbiAgICAgICAgfSlcclxuICAgICAgICAgICAgLmpvaW4oc2VwYXJhdG9yKTtcclxuICAgICAgICByZXR1cm4gaW50cm9TdHIgKyBcIlxcblwiICsgdmFsdWVTdHIgKyBcIlxcblwiO1xyXG4gICAgfTtcclxuICAgIC8vIExvYWRpbmcgZnJvbSBkZW5zZSBhcnJheSBsaXN0IG9mIGNlbGxzXHJcbiAgICBWZWN0b3IuZnJvbUFycmF5ID0gZnVuY3Rpb24gKGRlbnNlQXJyYXksIGRpbWVuc2lvbnMsIHJlbW92ZVplcm9zKSB7XHJcbiAgICAgICAgaWYgKHJlbW92ZVplcm9zID09PSB2b2lkIDApIHsgcmVtb3ZlWmVyb3MgPSB0cnVlOyB9XHJcbiAgICAgICAgLy8gR2V0IHNpemUgdmVjdG9yIGZyb20gZGltZW5zaW9uc1xyXG4gICAgICAgIHZhciBzaXplcyA9IGRpbWVuc2lvbnMubWFwKGZ1bmN0aW9uIChkaW1lbnNpb24pIHsgcmV0dXJuIGRpbWVuc2lvbi5zaXplOyB9KTtcclxuICAgICAgICB2YXIgdG90YWxTaXplID0gc2l6ZXMucmVkdWNlKGZ1bmN0aW9uIChhLCBiKSB7IHJldHVybiBhICogYjsgfSk7XHJcbiAgICAgICAgaWYgKGRlbnNlQXJyYXkubGVuZ3RoICE9PSB0b3RhbFNpemUpIHtcclxuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiRGltZW5zaW9uIGluY29uc2lzdGVuY3k6IGNlbGwgY291bnQgXCIgKyBkZW5zZUFycmF5Lmxlbmd0aCArIFwiICE9IHRvdGFsOiBcIiArIHRvdGFsU2l6ZSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vIE1hcCB2YWx1ZXMgdG8gY2VsbHMgaW5kaWNlcyBpbiBhIGRlbnNlIHJlcHJlc2VudGF0aW9uXHJcbiAgICAgICAgdmFyIGNlbGxzID0gZGVuc2VBcnJheVxyXG4gICAgICAgICAgICAubWFwKGZ1bmN0aW9uICh2YWx1ZSwgaW5kZXgpIHsgcmV0dXJuIFtpbmRleCwgdmFsdWVdOyB9KVxyXG4gICAgICAgICAgICAuZmlsdGVyKGZ1bmN0aW9uIChfYSkge1xyXG4gICAgICAgICAgICB2YXIgX2luZGV4ID0gX2FbMF0sIHZhbHVlID0gX2FbMV07XHJcbiAgICAgICAgICAgIHJldHVybiAhcmVtb3ZlWmVyb3MgfHwgIXZhbHVlLmlzWmVybygpO1xyXG4gICAgICAgIH0pXHJcbiAgICAgICAgICAgIC5tYXAoZnVuY3Rpb24gKF9hKSB7XHJcbiAgICAgICAgICAgIHZhciBpbmRleCA9IF9hWzBdLCB2YWx1ZSA9IF9hWzFdO1xyXG4gICAgICAgICAgICByZXR1cm4gRW50cnlfMS5WZWN0b3JFbnRyeS5mcm9tSW5kZXhWYWx1ZShpbmRleCwgc2l6ZXMsIHZhbHVlKTtcclxuICAgICAgICB9KTtcclxuICAgICAgICByZXR1cm4gbmV3IFZlY3RvcihjZWxscywgZGltZW5zaW9ucyk7XHJcbiAgICB9O1xyXG4gICAgLy8gYSB2ZWN0b3Igd2l0aCBvbmx5IG9uZSAxLCByZXN0IHplcm9zXHJcbiAgICBWZWN0b3IuaW5kaWNhdG9yID0gZnVuY3Rpb24gKGRpbWVuc2lvbnMsIGNvb3JkTmFtZXMpIHtcclxuICAgICAgICB2YXIgY29vcmRzID0gRGltZW5zaW9uXzEuZGVmYXVsdC5zdHJpbmdUb0Nvb3JkSW5kaWNlcyhjb29yZE5hbWVzLCBkaW1lbnNpb25zKTtcclxuICAgICAgICB2YXIgY2VsbHMgPSBbbmV3IEVudHJ5XzEuVmVjdG9yRW50cnkoY29vcmRzLCBDb21wbGV4XzEuQ3goMSkpXTtcclxuICAgICAgICByZXR1cm4gbmV3IFZlY3RvcihjZWxscywgZGltZW5zaW9ucyk7XHJcbiAgICB9O1xyXG4gICAgVmVjdG9yLmZyb21TcGFyc2VDb29yZE5hbWVzID0gZnVuY3Rpb24gKHN0cmluZ2VkRW50cmllcywgZGltZW5zaW9ucykge1xyXG4gICAgICAgIHZhciBlbnRyaWVzID0gc3RyaW5nZWRFbnRyaWVzLm1hcChmdW5jdGlvbiAoX2EpIHtcclxuICAgICAgICAgICAgdmFyIGNvb3JkTmFtZVN0ciA9IF9hWzBdLCB2YWx1ZSA9IF9hWzFdO1xyXG4gICAgICAgICAgICByZXR1cm4gbmV3IEVudHJ5XzEuVmVjdG9yRW50cnkoRGltZW5zaW9uXzEuZGVmYXVsdC5zdHJpbmdUb0Nvb3JkSW5kaWNlcyhjb29yZE5hbWVTdHIsIGRpbWVuc2lvbnMpLCB2YWx1ZSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgcmV0dXJuIG5ldyBWZWN0b3IoZW50cmllcywgZGltZW5zaW9ucyk7XHJcbiAgICB9O1xyXG4gICAgLy8gb3V0ZXIgcHJvZHVjdCBmb3IgbW9yZVxyXG4gICAgVmVjdG9yLm91dGVyID0gZnVuY3Rpb24gKHZlY3RvcnMpIHtcclxuICAgICAgICByZXR1cm4gdmVjdG9ycy5yZWR1Y2UoZnVuY3Rpb24gKGFjYywgeCkgeyByZXR1cm4gYWNjLm91dGVyKHgpOyB9KTtcclxuICAgIH07XHJcbiAgICAvLyBhZGQgZm9yIG1vcmUgKGNhbiBiZSBvcHRpbWl6ZWQpXHJcbiAgICBWZWN0b3IuYWRkID0gZnVuY3Rpb24gKHZlY3RvcnMpIHtcclxuICAgICAgICByZXR1cm4gdmVjdG9ycy5yZWR1Y2UoZnVuY3Rpb24gKGFjYywgeCkgeyByZXR1cm4gYWNjLmFkZCh4KTsgfSk7XHJcbiAgICB9O1xyXG4gICAgcmV0dXJuIFZlY3RvcjtcclxufSgpKTtcclxuZXhwb3J0cy5kZWZhdWx0ID0gVmVjdG9yO1xyXG4vLyMgc291cmNlTWFwcGluZ1VSTD1WZWN0b3IuanMubWFwIiwiXCJ1c2Ugc3RyaWN0XCI7XHJcbi8vIFNQQVJTRSBNQVRSSVggQ0VMTFxyXG4vLyBDb250YWlucyB0aGUgcGF0aCB0byBhIGNlbGwgYW5kIGl0cyB2YWx1ZS5cclxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xyXG5mdW5jdGlvbiBDb29yZHNGcm9tSW5kZXgoaW5kZXgsIHNpemVzKSB7XHJcbiAgICAvLyBDb252ZXJ0IGluZGV4IHRvIGNvb3JkaW5hdGUgc3lzdGVtIGluIHRoZSBzaXplIGRpbWVuc2lvbnNcclxuICAgIC8vIFRPRE86IENoZWNrIHRoYXQgdmFsdWVzIGFyZSBnb29kXHJcbiAgICB2YXIgaSA9IGluZGV4O1xyXG4gICAgdmFyIGNvb3JkcyA9IHNpemVzLm1hcChmdW5jdGlvbiAoZGltU2l6ZSkge1xyXG4gICAgICAgIHZhciBjb29yZCA9IGkgJSBkaW1TaXplO1xyXG4gICAgICAgIGkgPSAoaSAtIGNvb3JkKSAvIGRpbVNpemU7XHJcbiAgICAgICAgcmV0dXJuIGNvb3JkO1xyXG4gICAgfSk7XHJcbiAgICByZXR1cm4gY29vcmRzO1xyXG59XHJcbmV4cG9ydHMuQ29vcmRzRnJvbUluZGV4ID0gQ29vcmRzRnJvbUluZGV4O1xyXG52YXIgVmVjdG9yRW50cnkgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XHJcbiAgICBmdW5jdGlvbiBWZWN0b3JFbnRyeShjb29yZCwgdmFsdWUpIHtcclxuICAgICAgICB0aGlzLmNvb3JkID0gY29vcmQ7XHJcbiAgICAgICAgdGhpcy52YWx1ZSA9IHZhbHVlO1xyXG4gICAgfVxyXG4gICAgLy8gQ29tcHV0ZSBvdXRlciBwcm9kdWN0IHdpdGggYW5vdGhlciBzcGFyc2UgY2VsbFxyXG4gICAgVmVjdG9yRW50cnkucHJvdG90eXBlLm91dGVyID0gZnVuY3Rpb24gKGUyKSB7XHJcbiAgICAgICAgdmFyIGUxID0gdGhpcztcclxuICAgICAgICByZXR1cm4gbmV3IFZlY3RvckVudHJ5KGUxLmNvb3JkLmNvbmNhdChlMi5jb29yZCksIGUxLnZhbHVlLm11bChlMi52YWx1ZSkpO1xyXG4gICAgfTtcclxuICAgIC8vIE92ZXJyaWRlIHRvU3RyaW5nKCkgbWV0aG9kaVxyXG4gICAgVmVjdG9yRW50cnkucHJvdG90eXBlLnRvU3RyaW5nID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHJldHVybiBcIlNwYXJzZSB2ZWN0b3IgZW50cnkgW1wiICsgdGhpcy5jb29yZC50b1N0cmluZygpICsgXCJdIGhhcyB2YWx1ZSBcIiArIHRoaXMudmFsdWUudG9TdHJpbmcoKTtcclxuICAgIH07XHJcbiAgICAvLyBHZW5lcmF0ZSBjb29yZGluYXRlcyBmcm9tIGRlbnNlIG1hdHJpeCBpbmRpY2VzIGFuZCBzaXplIG9mIHRob3NlIG1hdHJpY2VzXHJcbiAgICBWZWN0b3JFbnRyeS5mcm9tSW5kZXhWYWx1ZSA9IGZ1bmN0aW9uIChpbmRleCwgc2l6ZXMsIHZhbHVlKSB7XHJcbiAgICAgICAgLy8gQ29udmVydCBpbmRleCB0byBjb29yZGluYXRlIHN5c3RlbSBpbiB0aGUgc2l6ZSBkaW1lbnNpb25zXHJcbiAgICAgICAgdmFyIGNvb3JkcyA9IENvb3Jkc0Zyb21JbmRleChpbmRleCwgc2l6ZXMpO1xyXG4gICAgICAgIHJldHVybiBuZXcgVmVjdG9yRW50cnkoY29vcmRzLCB2YWx1ZSk7XHJcbiAgICB9O1xyXG4gICAgcmV0dXJuIFZlY3RvckVudHJ5O1xyXG59KCkpO1xyXG5leHBvcnRzLlZlY3RvckVudHJ5ID0gVmVjdG9yRW50cnk7XHJcbnZhciBPcGVyYXRvckVudHJ5ID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xyXG4gICAgZnVuY3Rpb24gT3BlcmF0b3JFbnRyeShjb29yZE91dCwgY29vcmRJbiwgdmFsdWUpIHtcclxuICAgICAgICB0aGlzLmNvb3JkT3V0ID0gY29vcmRPdXQ7XHJcbiAgICAgICAgdGhpcy5jb29yZEluID0gY29vcmRJbjtcclxuICAgICAgICB0aGlzLnZhbHVlID0gdmFsdWU7XHJcbiAgICB9XHJcbiAgICAvLyBDb21wdXRlIG91dGVyIHByb2R1Y3Qgd2l0aCBhbm90aGVyIHNwYXJzZSBjZWxsXHJcbiAgICBPcGVyYXRvckVudHJ5LnByb3RvdHlwZS5vdXRlciA9IGZ1bmN0aW9uIChlMikge1xyXG4gICAgICAgIHZhciBlMSA9IHRoaXM7XHJcbiAgICAgICAgcmV0dXJuIG5ldyBPcGVyYXRvckVudHJ5KGUxLmNvb3JkT3V0LmNvbmNhdChlMi5jb29yZE91dCksIGUxLmNvb3JkSW4uY29uY2F0KGUyLmNvb3JkSW4pLCBlMS52YWx1ZS5tdWwoZTIudmFsdWUpKTtcclxuICAgIH07XHJcbiAgICAvLyBPdmVycmlkZSB0b1N0cmluZygpIG1ldGhvZGlcclxuICAgIE9wZXJhdG9yRW50cnkucHJvdG90eXBlLnRvU3RyaW5nID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHJldHVybiBcIlNwYXJzZSBvcGVyYXRvciBlbnRyeSBbXCIgKyB0aGlzLmNvb3JkT3V0LnRvU3RyaW5nKCkgKyBcIiwgXCIgKyB0aGlzLmNvb3JkSW4udG9TdHJpbmcoKSArIFwiXSBoYXMgdmFsdWUgXCIgKyB0aGlzLnZhbHVlLnRvU3RyaW5nKCk7XHJcbiAgICB9O1xyXG4gICAgLy8gR2VuZXJhdGUgY29vcmRpbmF0ZXMgZnJvbSBkZW5zZSBtYXRyaXggaW5kaWNlcyBhbmQgc2l6ZSBvZiB0aG9zZSBtYXRyaWNlc1xyXG4gICAgT3BlcmF0b3JFbnRyeS5mcm9tSW5kZXhJbmRleFZhbHVlID0gZnVuY3Rpb24gKGluZGV4T3V0LCBpbmRleEluLCBzaXplc091dCwgc2l6ZXNJbiwgdmFsdWUpIHtcclxuICAgICAgICAvLyBDb252ZXJ0IGluZGV4IHRvIGNvb3JkaW5hdGUgc3lzdGVtIGluIHRoZSBzaXplIGRpbWVuc2lvbnNcclxuICAgICAgICB2YXIgY29vcmRPdXQgPSBDb29yZHNGcm9tSW5kZXgoaW5kZXhPdXQsIHNpemVzT3V0KTtcclxuICAgICAgICB2YXIgY29vcmRJbiA9IENvb3Jkc0Zyb21JbmRleChpbmRleEluLCBzaXplc0luKTtcclxuICAgICAgICByZXR1cm4gbmV3IE9wZXJhdG9yRW50cnkoY29vcmRPdXQsIGNvb3JkSW4sIHZhbHVlKTtcclxuICAgIH07XHJcbiAgICByZXR1cm4gT3BlcmF0b3JFbnRyeTtcclxufSgpKTtcclxuZXhwb3J0cy5PcGVyYXRvckVudHJ5ID0gT3BlcmF0b3JFbnRyeTtcclxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9RW50cnkuanMubWFwIiwiLyogZXNsaW50LWRpc2FibGUgQHR5cGVzY3JpcHQtZXNsaW50L25vLW5vbi1udWxsLWFzc2VydGlvbiAqL1xyXG4vLyBFTEVNRU5UIENMQVNTXHJcbi8vIEJhc2ljIGNsYXNzIHJlbGF0ZWQgdG8gZ2FtZSBlbGVtZW50c1xyXG4vLyBUT0RPOiBSZW1vdmUgZGlzcGxheSBsb2dpYyB0byBHbHlwaCBjbGFzc1xyXG5cclxuaW1wb3J0IHsganNvbkVsZW1lbnRzIH0gZnJvbSBcIi4uL2RhdGEvZWxlbWVudHNcIjtcclxuaW1wb3J0IEdseXBoIGZyb20gXCIuL0dseXBoXCI7XHJcbmltcG9ydCAqIGFzIHF0IGZyb20gXCJxdWFudHVtLXRlbnNvcnNcIjtcclxuLyoqXHJcbiAqXHJcbiAqL1xyXG5leHBvcnQgaW50ZXJmYWNlIEVsZW1lbnRJbnRlcmZhY2Uge1xyXG4gIGlkOiBudW1iZXI7XHJcbiAgbmFtZTogc3RyaW5nO1xyXG4gIGdyb3VwOiBzdHJpbmc7XHJcbiAgZGVzY3JpcHRpb246IHN0cmluZztcclxuICBhY3RpdmU6IGJvb2xlYW47XHJcbiAgYWJzb3JwdGlvbjogbnVtYmVyO1xyXG4gIHBoYXNlOiBudW1iZXI7XHJcbiAgYXNjaWk6IHN0cmluZ1tdO1xyXG4gIHRpbGVzOiBudW1iZXJbXVtdO1xyXG59XHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBFbGVtZW50IHtcclxuICBpZDogbnVtYmVyO1xyXG4gIG5hbWU6IHN0cmluZztcclxuICBncm91cDogc3RyaW5nO1xyXG4gIGRlc2NyaXB0aW9uOiBzdHJpbmc7XHJcbiAgYWN0aXZlOiBib29sZWFuO1xyXG4gIGFic29ycHRpb246IG51bWJlcjtcclxuICBwaGFzZTogbnVtYmVyO1xyXG4gIGFzY2lpOiBzdHJpbmdbXTtcclxuICB0aWxlczogbnVtYmVyW11bXTtcclxuICBnbHlwaDogR2x5cGg7XHJcblxyXG4gIGNvbnN0cnVjdG9yKFxyXG4gICAgaWQ6IG51bWJlcixcclxuICAgIG5hbWU6IHN0cmluZyxcclxuICAgIGdyb3VwID0gXCJcIixcclxuICAgIGRlc2NyaXB0aW9uID0gXCJcIixcclxuICAgIGFjdGl2ZSA9IGZhbHNlLFxyXG4gICAgYWJzb3JwdGlvbiA9IDAsXHJcbiAgICBwaGFzZSA9IDAsXHJcbiAgICBhc2NpaTogc3RyaW5nW10gPSBbXCIgXCIsIFwiIFwiLCBcIiBcIiwgXCIgXCIsIFwiIFwiLCBcIiBcIiwgXCIgXCIsIFwiIFwiXSxcclxuICAgIHRpbGVzOiBudW1iZXJbXVtdID0gW1xyXG4gICAgICBbMCwgMF0sXHJcbiAgICAgIFswLCAwXSxcclxuICAgICAgWzAsIDBdLFxyXG4gICAgICBbMCwgMF0sXHJcbiAgICAgIFswLCAwXSxcclxuICAgICAgWzAsIDBdLFxyXG4gICAgICBbMCwgMF0sXHJcbiAgICAgIFswLCAwXVxyXG4gICAgXSxcclxuICAgIGdseXBoOiBHbHlwaCA9IG5ldyBHbHlwaChcIiBcIiwgWzAsIDBdKVxyXG4gICkge1xyXG4gICAgdGhpcy5pZCA9IGlkO1xyXG4gICAgdGhpcy5uYW1lID0gbmFtZTtcclxuICAgIHRoaXMuZ3JvdXAgPSBncm91cDtcclxuICAgIHRoaXMuZGVzY3JpcHRpb24gPSBkZXNjcmlwdGlvbjtcclxuICAgIHRoaXMuYWN0aXZlID0gYWN0aXZlO1xyXG4gICAgdGhpcy5hYnNvcnB0aW9uID0gYWJzb3JwdGlvbjtcclxuICAgIHRoaXMucGhhc2UgPSBwaGFzZTtcclxuICAgIHRoaXMuYXNjaWkgPSBhc2NpaTtcclxuICAgIHRoaXMudGlsZXMgPSB0aWxlcztcclxuICAgIHRoaXMuZ2x5cGggPSBnbHlwaDtcclxuICB9XHJcblxyXG4gIHRyYW5zaXRpb24ocGFyYW06IG51bWJlcik6IHF0Lk9wZXJhdG9yIHtcclxuICAgIHN3aXRjaCAodGhpcy5uYW1lKSB7XHJcbiAgICAgIGNhc2UgXCJtaXJyb3JcIjpcclxuICAgICAgICByZXR1cm4gcXQubWlycm9yKHBhcmFtKTtcclxuICAgICAgY2FzZSBcImJlYW1zcGxpdHRlclwiOlxyXG4gICAgICAgIHJldHVybiBxdC5iZWFtU3BsaXR0ZXIocGFyYW0pO1xyXG4gICAgICBjYXNlIFwiZmlsdGVyXCI6XHJcbiAgICAgICAgcmV0dXJuIHF0LmF0dGVudWF0b3IoTWF0aC5TUVJUMV8yKTtcclxuICAgICAgY2FzZSBcInBoYXNlaW5jXCI6XHJcbiAgICAgICAgcmV0dXJuIHF0LnZhY3V1bUphcigpO1xyXG4gICAgICBjYXNlIFwicGhhc2VkZWNcIjpcclxuICAgICAgICByZXR1cm4gcXQuZ2xhc3NTbGFiKCk7XHJcbiAgICAgIGNhc2UgXCJkZXRlY3RvclwiOlxyXG4gICAgICAgIHJldHVybiBxdC5hdHRlbnVhdG9yKDApO1xyXG4gICAgICBjYXNlIFwic3VnYXJcIjpcclxuICAgICAgICByZXR1cm4gcXQuc3VnYXJTb2x1dGlvbigpO1xyXG4gICAgICBjYXNlIFwicG9sYXJzcGxpdHRlclwiOlxyXG4gICAgICAgIGlmIChwYXJhbSA9PT0gMCkge1xyXG4gICAgICAgICAgcmV0dXJuIHF0LnBvbGFyaXppbmdCZWFtc3BsaXR0ZXIoMTM1KTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgcmV0dXJuIHF0LnBvbGFyaXppbmdCZWFtc3BsaXR0ZXIoNDUpO1xyXG4gICAgICAgIH1cclxuICAgICAgY2FzZSBcIm1pbmVcIjpcclxuICAgICAgICByZXR1cm4gcXQuYXR0ZW51YXRvcigwKTtcclxuICAgICAgY2FzZSBcInJvY2tcIjpcclxuICAgICAgICByZXR1cm4gcXQuYXR0ZW51YXRvcigwKTtcclxuICAgICAgY2FzZSBcIndhbGxcIjpcclxuICAgICAgICByZXR1cm4gcXQuYXR0ZW51YXRvcigwKTtcclxuICAgICAgZGVmYXVsdDpcclxuICAgICAgICByZXR1cm4gcXQuYXR0ZW51YXRvcigwKTtcclxuICAgICAgLy8gdGhyb3cgRXJyb3IoXCJXcm9uZyBlbGVtZW50IG5hbWUuLi5cIik7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICAvLyBDb21wdXRlIHRoZSByb3RhdGlvbiBhbmdsZSBmcm9tIHRoZSBudW1iZXIgb2Ygc3ByaXRlc1xyXG4gIGdldCByb3RhdGlvbkFuZ2xlKCk6IG51bWJlciB7XHJcbiAgICByZXR1cm4gMzYwIC8gdGhpcy5hc2NpaS5sZW5ndGg7XHJcbiAgfVxyXG5cclxuICAvLyBPdmVycmlkZSBvZiB0b1N0cmluZygpIG1ldGhvZFxyXG4gIHRvU3RyaW5nKCk6IHN0cmluZyB7XHJcbiAgICByZXR1cm4gYCR7dGhpcy5uYW1lfSAoUGhhc2U6ICR7dGhpcy5waGFzZX0sIEFic29ycHRpb246ICR7dGhpcy5hYnNvcnB0aW9uICpcclxuICAgICAgMTAwfSUpYDtcclxuICB9XHJcblxyXG4gIC8vIEV4cG9ydCBKU09OXHJcbiAgZXhwb3J0RWxlbWVudCgpOiBFbGVtZW50SW50ZXJmYWNlIHtcclxuICAgIHJldHVybiB7XHJcbiAgICAgIGlkOiB0aGlzLmlkLFxyXG4gICAgICBuYW1lOiB0aGlzLm5hbWUsXHJcbiAgICAgIGdyb3VwOiB0aGlzLmdyb3VwLFxyXG4gICAgICBkZXNjcmlwdGlvbjogdGhpcy5kZXNjcmlwdGlvbixcclxuICAgICAgYWN0aXZlOiB0aGlzLmFjdGl2ZSxcclxuICAgICAgYWJzb3JwdGlvbjogdGhpcy5hYnNvcnB0aW9uLFxyXG4gICAgICBwaGFzZTogdGhpcy5waGFzZSxcclxuICAgICAgYXNjaWk6IHRoaXMuYXNjaWksXHJcbiAgICAgIHRpbGVzOiB0aGlzLnRpbGVzXHJcbiAgICB9O1xyXG4gIH1cclxuXHJcbiAgLy8gQ3JlYXRlIGVsZW1lbnQgZnJvbSBlbGVtZW50IGludGVyZmFjZVxyXG4gIHN0YXRpYyBpbXBvcnRFbGVtZW50KGpzb246IEVsZW1lbnRJbnRlcmZhY2UpOiBFbGVtZW50IHtcclxuICAgIHJldHVybiBuZXcgRWxlbWVudChcclxuICAgICAganNvbi5pZCxcclxuICAgICAganNvbi5uYW1lLFxyXG4gICAgICBqc29uLmdyb3VwLFxyXG4gICAgICBqc29uLmRlc2NyaXB0aW9uLFxyXG4gICAgICBqc29uLmFjdGl2ZSxcclxuICAgICAganNvbi5hYnNvcnB0aW9uLFxyXG4gICAgICBqc29uLnBoYXNlLFxyXG4gICAgICBqc29uLmFzY2lpLFxyXG4gICAgICBqc29uLnRpbGVzXHJcbiAgICApO1xyXG4gIH1cclxuXHJcbiAgLy8gU3RhdGljIEpTT04gbG9hZFxyXG4gIHN0YXRpYyBmcm9tTmFtZShuYW1lOiBzdHJpbmcpOiBFbGVtZW50IHtcclxuICAgIGNvbnN0IGVsZW1lbnQgPSBqc29uRWxlbWVudHMuZmluZChlbGVtID0+IHtcclxuICAgICAgcmV0dXJuIGVsZW0ubmFtZSA9PT0gbmFtZTtcclxuICAgIH0pO1xyXG4gICAgcmV0dXJuIEVsZW1lbnQuaW1wb3J0RWxlbWVudChlbGVtZW50ISk7XHJcbiAgfVxyXG59XHJcbiIsImltcG9ydCB7IEVsZW1lbnRJbnRlcmZhY2UgfSBmcm9tIFwiLi8uLi9zcmMvRWxlbWVudFwiO1xyXG5leHBvcnQgY29uc3QganNvbkdyb3VwczogeyBbc3ltYm9sOiBzdHJpbmddOiBzdHJpbmdbXSB9ID0ge1xyXG4gIEJhc2ljOiBbXCJ2b2lkXCIsIFwid2FsbFwiLCBcImdhdGVcIl0sXHJcbiAgRW1pdHRlcjogW1wibGFzZXJcIl0sXHJcbiAgRGlyZWN0aW9uOiBbXCJtaXJyb3JcIiwgXCJiZWFtc3BsaXR0ZXJcIiwgXCJjb2F0ZWRzcGxpdHRlclwiLCBcInBvbGFyc3BsaXR0ZXJcIl0sXHJcbiAgQWJzb3JwdGlvbjogW1wiZGV0ZWN0b3JcIiwgXCJtaW5lXCIsIFwicm9ja1wiLCBcIm9tbmlkZXRlY3RvclwiLCBcImZpbHRlclwiXSxcclxuICBQb2xhcml6YXRpb246IFtcImFic29yYi1wb2xhcml6ZXJcIiwgXCJ3YXZlcGxhdGVcIiwgXCJzdWdhclwiLCBcImZhcmFkYXlcIl0sXHJcbiAgUGhhc2U6IFtcInBoYXNlaW5jXCIsIFwicGhhc2VkZWNcIl1cclxufTtcclxuXHJcbi8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tdW51c2VkLXZhcnNcclxuZXhwb3J0IGNvbnN0IGpzb25FbGVtZW50czogRWxlbWVudEludGVyZmFjZVtdID0gW1xyXG4gIHtcclxuICAgIG5hbWU6IFwibGFzZXJcIixcclxuICAgIGdyb3VwOiBcIkVtaXR0ZXJcIixcclxuICAgIGRlc2NyaXB0aW9uOiBcIkFuIG9uLWRlbWFuZCBzaW5nbGUgcGhvdG9uIHNvdXJjZS5cIixcclxuICAgIGFjdGl2ZTogdHJ1ZSxcclxuICAgIGFic29ycHRpb246IDAsXHJcbiAgICBwaGFzZTogMCxcclxuICAgIGlkOiAwLFxyXG4gICAgYXNjaWk6IFtcIj5cIiwgXCJeXCIsIFwiPFwiLCBcInZcIl0sXHJcbiAgICB0aWxlczogW1swLCAwXSwgWzAsIDFdLCBbMCwgMl0sIFswLCAzXV1cclxuICB9LFxyXG4gIHtcclxuICAgIG5hbWU6IFwicm9ja1wiLFxyXG4gICAgZ3JvdXA6IFwiQWJzb3JwdGlvblwiLFxyXG4gICAgZGVzY3JpcHRpb246XHJcbiAgICAgIFwiRGFyayBhbmQgaW1tZXJzaXZlIGFzIHlvdXIgc3dlZXRoZWFydCdzIGRlcHRoIG9mIGV5ZXMuIEFic29yYnMgbGlnaHQuIEFuZCBpcyBzZW5zaXRpdmUuXCIsXHJcbiAgICBhY3RpdmU6IGZhbHNlLFxyXG4gICAgYWJzb3JwdGlvbjogMSxcclxuICAgIHBoYXNlOiAwLFxyXG4gICAgaWQ6IDEsXHJcbiAgICBhc2NpaTogW1wi4pmcXCJdLFxyXG4gICAgdGlsZXM6IFtbMSwgMF1dXHJcbiAgfSxcclxuICB7XHJcbiAgICBuYW1lOiBcImFic29yYi1wb2xhcml6ZXJcIixcclxuICAgIGdyb3VwOiBcIlBvbGFyaXphdGlvblwiLFxyXG4gICAgZGVzY3JpcHRpb246XHJcbiAgICAgIFwiQSBwb2xhcml6YXRpb24gZmlsdGVyIFdFLi4uQW5pc290cm9waWMgcG9seW1lciBzdHJhbmRzIGNhcHR1cmUgZWxlY3RyaWMgb3NjaWxsYXRpb25zIHBhcmFsbGVsIHRvIHRoZW0uIFVzZWQgaW4gcGhvdG9ncmFwaHkuXCIsXHJcbiAgICBhY3RpdmU6IGZhbHNlLFxyXG4gICAgYWJzb3JwdGlvbjogMCxcclxuICAgIHBoYXNlOiAwLFxyXG4gICAgaWQ6IDIsXHJcbiAgICBhc2NpaTogW1wi8J+holwiLCBcIvCfoaVcIiwgXCLwn6GhXCIsIFwi8J+hpFwiLCBcIvCfoaBcIiwgXCLwn6GnXCIsIFwi8J+ho1wiLCBcIvCfoaZcIl0sXHJcbiAgICB0aWxlczogW1syLCAwXSwgWzIsIDFdLCBbMiwgMl0sIFsyLCAzXSwgWzIsIDRdLCBbMiwgNV0sIFsyLCA2XSwgWzIsIDddXVxyXG4gIH0sXHJcbiAge1xyXG4gICAgbmFtZTogXCJ3YXZlcGxhdGVcIixcclxuICAgIGdyb3VwOiBcIlBvbGFyaXphdGlvblwiLFxyXG4gICAgZGVzY3JpcHRpb246XHJcbiAgICAgIFwiSXQgZGVsYXlzIG9uZSBwb2xhcml6YXRpb24gKHdpdGggZGFya2VyIGxpbmVzKSBieSDOuy80LiBXaGVuIGFwcGxpZWQgY29ycmVjdGx5LCBpdCBjYW4gY2hhbmdlIGxpbmVhciBwb2xhcml6YXRpb24gaW50byBjaXJjdWxhciwgYW5kIHZpY2UgdmVyc2EuXCIsXHJcbiAgICBhY3RpdmU6IGZhbHNlLFxyXG4gICAgYWJzb3JwdGlvbjogMCxcclxuICAgIHBoYXNlOiAwLFxyXG4gICAgaWQ6IDMsXHJcbiAgICBhc2NpaTogW1wi8J+hqlwiLCBcIvCfoa1cIiwgXCLwn6GpXCIsIFwi8J+hrFwiLCBcIvCfoahcIiwgXCLwn6GvXCIsIFwi8J+hq1wiLCBcIvCfoa5cIl0sXHJcbiAgICB0aWxlczogW1szLCAwXSwgWzMsIDFdLCBbMywgMl0sIFszLCAzXSwgWzMsIDRdLCBbMywgNV0sIFszLCA2XSwgWzMsIDddXVxyXG4gIH0sXHJcbiAge1xyXG4gICAgbmFtZTogXCJkZXRlY3RvclwiLFxyXG4gICAgZ3JvdXA6IFwiQWJzb3JwdGlvblwiLFxyXG4gICAgZGVzY3JpcHRpb246XHJcbiAgICAgIFwiRGV0ZWN0cyBhbmQgYW1wbGlmaWVzIGVsZWN0cmljIHNpZ25hbCBmcm9tIGVhY2ggc2luZ2xlIHBob3RvbiwgZnJvbSBhIHNpbmdsZSBkaXJlY3Rpb24uIFlvdXIgZ29hbCBpcyB0byBnZXQgcGhvdG9uIHRoZXJlIVwiLFxyXG4gICAgYWN0aXZlOiBmYWxzZSxcclxuICAgIGFic29ycHRpb246IDEsXHJcbiAgICBwaGFzZTogMCxcclxuICAgIGlkOiA0LFxyXG4gICAgYXNjaWk6IFtcIuKtslwiLCBcIuKtsVwiLCBcIuKtsFwiLCBcIuKts1wiXSxcclxuICAgIHRpbGVzOiBbWzQsIDBdLCBbNCwgMV0sIFs0LCAyXSwgWzQsIDNdXVxyXG4gIH0sXHJcbiAge1xyXG4gICAgbmFtZTogXCJvbW5pZGV0ZWN0b3JcIixcclxuICAgIGdyb3VwOiBcIkFic29ycHRpb25cIixcclxuICAgIGRlc2NyaXB0aW9uOlxyXG4gICAgICBcIkRldGVjdHMgYW5kIGFtcGxpZmllcyBlbGVjdHJpYyBzaWduYWwgZnJvbSBlYWNoIHNpbmdsZSBwaG90b24sIGZyb20gYWxsIGRpcmVjdGlvbnMuIFR5cGljYWxseSwgaXQgaXMgdGhlIGdvYWwgdG8gZ2V0IHRoZSBwaG90b24gaGVyZS5cIixcclxuICAgIGFjdGl2ZTogZmFsc2UsXHJcbiAgICBhYnNvcnB0aW9uOiAxLFxyXG4gICAgcGhhc2U6IDAsXHJcbiAgICBpZDogNyxcclxuICAgIGFzY2lpOiBbXCJPXCJdLFxyXG4gICAgdGlsZXM6IFtbNywgMF0sIFs3LCAxXSwgWzcsIDJdLCBbNywgM11dXHJcbiAgfSxcclxuICB7XHJcbiAgICBuYW1lOiBcInN1Z2FyXCIsXHJcbiAgICBncm91cDogXCJQb2xhcml6YXRpb25cIixcclxuICAgIGRlc2NyaXB0aW9uOlxyXG4gICAgICBcIlRhYmxlIHN1Z2FyIGlzIGEgY2hpcmFsIG1vbGVjdWxlIOKAkyBpdCBkb2VzIG5vdCBsb29rIHRoZSBzYW1lIGFzIGl0cyBtaXJyb3IgcmVmbGVjdGlvbi4gV2UgcHV0IGl0IGluIGFuIGFtb3VudCwgc28gaXQgcm90YXRlcyBwb2xhcml6YXRpb24gYnkgNDXCsC5cIixcclxuICAgIGFjdGl2ZTogZmFsc2UsXHJcbiAgICBhYnNvcnB0aW9uOiAwLFxyXG4gICAgcGhhc2U6IDAsXHJcbiAgICBpZDogOCxcclxuICAgIGFzY2lpOiBbXCJTXCJdLFxyXG4gICAgdGlsZXM6IFtbOCwgMF1dXHJcbiAgfSxcclxuICB7XHJcbiAgICBuYW1lOiBcImNvYXRlZHNwbGl0dGVyXCIsXHJcbiAgICBncm91cDogXCJEaXJlY3Rpb25cIixcclxuICAgIGRlc2NyaXB0aW9uOlxyXG4gICAgICBcIkEgdGhpbiBzbGFiIG9mIGdsYXNzIHdpdGggYSByZWZsZWN0aXZlIGxheWVyIC0gcmVmbGVjdGluZyBoYWxmIHRoZSBiZWFtIGFuZCB0cmFuc21pdHRpbmcgdGhlIG90aGVyIGhhbGYgb2YgaXQuXCIsXHJcbiAgICBhY3RpdmU6IGZhbHNlLFxyXG4gICAgYWJzb3JwdGlvbjogMCxcclxuICAgIHBoYXNlOiAwLFxyXG4gICAgaWQ6IDksXHJcbiAgICBhc2NpaTogW1wi4oeSXCIsIFwi4oeXXCIsIFwi4oeRXCIsIFwi4oeWXCIsIFwi4oeQXCIsIFwi4oeZXCIsIFwi4oeTXCIsIFwi4oeYXCJdLFxyXG4gICAgdGlsZXM6IFtbOSwgMF0sIFs5LCAxXSwgWzksIDJdLCBbOSwgM10sIFs5LCA0XSwgWzksIDVdLCBbOSwgNl0sIFs5LCA3XV1cclxuICB9LFxyXG4gIHtcclxuICAgIG5hbWU6IFwibWluZVwiLFxyXG4gICAgZ3JvdXA6IFwiQWJzb3JwdGlvblwiLFxyXG4gICAgZGVzY3JpcHRpb246XHJcbiAgICAgIFwiT25jZSBpdCBhYnNvcmJzIGEgc2luZ2xlIHBob3RvbiwgaXQgc2V0cyBvZmYuIE9sZCBmcmVuY2ggc3VibWFyaW5lIGNhcHRhaW5zIGNhbiBzb21ldGltZXMgZGlzYXJtIHRoZW0uXCIsXHJcbiAgICBhY3RpdmU6IGZhbHNlLFxyXG4gICAgYWJzb3JwdGlvbjogMSxcclxuICAgIHBoYXNlOiAwLFxyXG4gICAgaWQ6IDExLFxyXG4gICAgYXNjaWk6IFtcIiFcIl0sXHJcbiAgICB0aWxlczogW1sxMSwgMF1dXHJcbiAgfSxcclxuICB7XHJcbiAgICBuYW1lOiBcInBvbGFyc3BsaXR0ZXJcIixcclxuICAgIGdyb3VwOiBcIkRpcmVjdGlvblwiLFxyXG4gICAgZGVzY3JpcHRpb246XHJcbiAgICAgIFwiUmVmbGVjdHMgdmVydGljYWwgcG9sYXJpemF0aW9uICjihpUpLCB0cmFuc21pdHRzIGhvcml6b25hbCBwb2xhcml6YXRpb24gKOKGlCkuXCIsXHJcbiAgICBhY3RpdmU6IGZhbHNlLFxyXG4gICAgYWJzb3JwdGlvbjogMCxcclxuICAgIHBoYXNlOiAwLFxyXG4gICAgaWQ6IDEyLFxyXG4gICAgYXNjaWk6IFtcIuKsslwiLCBcIuKftFwiXSxcclxuICAgIHRpbGVzOiBbWzEyLCAwXSwgWzEyLCAxXV1cclxuICB9LFxyXG4gIHtcclxuICAgIG5hbWU6IFwibWlycm9yXCIsXHJcbiAgICBncm91cDogXCJEaXJlY3Rpb25cIixcclxuICAgIGRlc2NyaXB0aW9uOiBcIk1ldGFsbGljIG9yIGRpZWxlY3RyaWMgbWlycm9yLlwiLFxyXG4gICAgYWN0aXZlOiBmYWxzZSxcclxuICAgIGFic29ycHRpb246IDAsXHJcbiAgICBwaGFzZTogMCxcclxuICAgIGlkOiAxNCxcclxuICAgIGFzY2lpOiBbXCItXCIsIFwiL1wiLCBcInxcIiwgXCJcXFxcXCIsIFwiLVwiLCBcIi9cIiwgXCJ8XCIsIFwiXFxcXFwiXSxcclxuICAgIHRpbGVzOiBbXHJcbiAgICAgIFsxNCwgMF0sXHJcbiAgICAgIFsxNCwgMV0sXHJcbiAgICAgIFsxNCwgMl0sXHJcbiAgICAgIFsxNCwgM10sXHJcbiAgICAgIFsxNCwgNF0sXHJcbiAgICAgIFsxNCwgNV0sXHJcbiAgICAgIFsxNCwgNl0sXHJcbiAgICAgIFsxNCwgN11cclxuICAgIF1cclxuICB9LFxyXG4gIHtcclxuICAgIG5hbWU6IFwiYmVhbXNwbGl0dGVyXCIsXHJcbiAgICBncm91cDogXCJEaXJlY3Rpb25cIixcclxuICAgIGRlc2NyaXB0aW9uOlxyXG4gICAgICBcIkEgdGhpbiBzbGFiIG9mIGdsYXNzIHJlZmxlY3RpbmcgaGFsZiB0aGUgYmVhbSwgYW5kIHRyYW5zbWl0dGluZyBvdGhlciBoYWxmIG9mIGl0LlwiLFxyXG4gICAgYWN0aXZlOiBmYWxzZSxcclxuICAgIGFic29ycHRpb246IDAsXHJcbiAgICBwaGFzZTogMCxcclxuICAgIGlkOiAxNSxcclxuICAgIC8vIGFzY2lpOiBbXCLihpFcIiwgXCLihpdcIiwgXCLihpJcIiwgXCLihphcIiwgXCLihpNcIiwgXCLihplcIiwgXCLihpBcIiwgXCLihpZcIl0sXHJcbiAgICBhc2NpaTogW1wi4oaSXCIsIFwi4oaXXCIsIFwi4oaRXCIsIFwi4oaWXCIsIFwi4oaQXCIsIFwi4oaZXCIsIFwi4oaTXCIsIFwi4oaYXCJdLFxyXG4gICAgdGlsZXM6IFtcclxuICAgICAgWzE1LCAwXSxcclxuICAgICAgWzE1LCAxXSxcclxuICAgICAgWzE1LCAyXSxcclxuICAgICAgWzE1LCAzXSxcclxuICAgICAgWzE1LCA0XSxcclxuICAgICAgWzE1LCA1XSxcclxuICAgICAgWzE1LCA2XSxcclxuICAgICAgWzE1LCA3XVxyXG4gICAgXVxyXG4gIH0sXHJcbiAge1xyXG4gICAgbmFtZTogXCJwaGFzZWRlY1wiLFxyXG4gICAgZ3JvdXA6IFwiUGhhc2VcIixcclxuICAgIGRlc2NyaXB0aW9uOlxyXG4gICAgICBcIkhpZ2hlciByZWZyYWN0aXZlIGluZGV4IG1ha2VzIGxpZ2h0IHNsb3dlci4gV2Ugc2V0IGl0cyB0aGlja25lc3Mgc28gaXQgcmV0YXJkcyB0aGUgcGhhc2UgYnkgzrsvNC4gVXNlZnVsIGZvciBjaGFuZ2luZyBpbnRlcmZlcmVuY2UuXCIsXHJcbiAgICBhY3RpdmU6IGZhbHNlLFxyXG4gICAgYWJzb3JwdGlvbjogMCxcclxuICAgIHBoYXNlOiAtMC4yNSxcclxuICAgIGlkOiAxNixcclxuICAgIGFzY2lpOiBbXCLihpxcIl0sXHJcbiAgICB0aWxlczogW1sxNiwgMF1dXHJcbiAgfSxcclxuICB7XHJcbiAgICBuYW1lOiBcInBoYXNlaW5jXCIsXHJcbiAgICBncm91cDogXCJQaGFzZVwiLFxyXG4gICAgZGVzY3JpcHRpb246XHJcbiAgICAgIFwiRXZlbiBhaXIgcmV0YXJkcyBsaWdodCBhIGJpdC4gV2Ugc2V0IHRoZSB0aGlja25lc3Mgb2YgdmFjdXVtIHNvIGl0IGFkdmFuY2VzIHRoZSBwaGFzZSBieSDOuy80LiBVc2VmdWwgZm9yIGNoYW5naW5nIGludGVyZmVyZW5jZS5cIixcclxuICAgIGFjdGl2ZTogZmFsc2UsXHJcbiAgICBhYnNvcnB0aW9uOiAwLFxyXG4gICAgcGhhc2U6IDAuMjUsXHJcbiAgICBpZDogMTcsXHJcbiAgICBhc2NpaTogW1wi4oadXCJdLFxyXG4gICAgdGlsZXM6IFtbMTcsIDBdXVxyXG4gIH0sXHJcbiAge1xyXG4gICAgbmFtZTogXCJmaWx0ZXJcIixcclxuICAgIGdyb3VwOiBcIkFic29ycHRpb25cIixcclxuICAgIGRlc2NyaXB0aW9uOiBcIkZpbHRlciB3aXRoIDUwJSBhYnNvcnB0aW9uIHByb2JhYmlsaXR5LlwiLFxyXG4gICAgYWN0aXZlOiBmYWxzZSxcclxuICAgIGFic29ycHRpb246IDAuNSxcclxuICAgIHBoYXNlOiAwLFxyXG4gICAgaWQ6IDE4LFxyXG4gICAgYXNjaWk6IFtcIuKWkVwiXSxcclxuICAgIHRpbGVzOiBbWzE4LCAwXV1cclxuICB9LFxyXG4gIHtcclxuICAgIG5hbWU6IFwidm9pZFwiLFxyXG4gICAgZ3JvdXA6IFwiQmFzaWNcIixcclxuICAgIGRlc2NyaXB0aW9uOiBcIlRoZSB2b2lkLi4uXCIsXHJcbiAgICBhY3RpdmU6IGZhbHNlLFxyXG4gICAgYWJzb3JwdGlvbjogMCxcclxuICAgIHBoYXNlOiAwLFxyXG4gICAgaWQ6IDE5LFxyXG4gICAgYXNjaWk6IFtcIi5cIl0sXHJcbiAgICB0aWxlczogW1sxOSwgMF1dXHJcbiAgfSxcclxuICB7XHJcbiAgICBuYW1lOiBcIndhbGxcIixcclxuICAgIGdyb3VwOiBcIkJhc2ljXCIsXHJcbiAgICBkZXNjcmlwdGlvbjogXCJBIHN0YW5kYXJkIHdhbGwuXCIsXHJcbiAgICBhY3RpdmU6IGZhbHNlLFxyXG4gICAgYWJzb3JwdGlvbjogMSxcclxuICAgIHBoYXNlOiAwLFxyXG4gICAgaWQ6IDIwLFxyXG4gICAgYXNjaWk6IFtcIuKWk1wiXSxcclxuICAgIHRpbGVzOiBbWzIwLCAwXSwgWzIwLCAxXV1cclxuICB9LFxyXG4gIHtcclxuICAgIG5hbWU6IFwiZ2F0ZVwiLFxyXG4gICAgZ3JvdXA6IFwiQmFzaWNcIixcclxuICAgIGRlc2NyaXB0aW9uOiBcIkEgY29udHJvbGxlZCBnYXRlLlwiLFxyXG4gICAgYWN0aXZlOiBmYWxzZSxcclxuICAgIGFic29ycHRpb246IDEsXHJcbiAgICBwaGFzZTogMCxcclxuICAgIGlkOiAyMSxcclxuICAgIGFzY2lpOiBbXCJXXCIsIFwiTVwiXSxcclxuICAgIHRpbGVzOiBbWzIxLCAwXSwgWzIxLCAxXV1cclxuICB9LFxyXG4gIHtcclxuICAgIG5hbWU6IFwiZmFyYWRheVwiLFxyXG4gICAgZ3JvdXA6IFwiUG9sYXJpemF0aW9uXCIsXHJcbiAgICBkZXNjcmlwdGlvbjpcclxuICAgICAgXCJSb3RhdGVzIHBvbGFyaXphdGlvbiB3aXRoIG1hZ25ldGljIGZpZWxkIGJ5IDQ1wrAuIEhhcyBkaWZmZXJlbnQgc3ltbWV0cmllcyB0aGFuIFN1Z2FyIFNvbHV0aW9uLiBBIGJ1aWxkaW5nIGJsb2NrIGZvciBvcHRpY2FsIGRpb2Rlcy5cIixcclxuICAgIGFjdGl2ZTogZmFsc2UsXHJcbiAgICBhYnNvcnB0aW9uOiAwLFxyXG4gICAgcGhhc2U6IC0wLjI1LFxyXG4gICAgaWQ6IDMwLFxyXG4gICAgLy8gYXNjaWk6IFtcIvCfoLVcIiwgXCLwn6C2XCIsIFwi8J+gt1wiLCBcIvCfoLRcIl0sXHJcbiAgICBhc2NpaTogW1wi8J+gtlwiLCBcIvCfoLVcIiwgXCLwn6C0XCIsIFwi8J+gt1wiXSxcclxuICAgIHRpbGVzOiBbWzMwLCAwXSwgWzMwLCAxXSwgWzMwLCAyXSwgWzMwLCAzXV1cclxuICB9XHJcbl07XHJcbiIsIi8vIEdMWVBIIENMQVNTXHJcbi8vIFRoZSBnbHlwaCBjbGFzcyBpcyByZXNwb25zaWJsZSBmb3IgdGhlIGRpc3BsYXkgb2YgZ3JpZCB0aWxlc1xyXG5cclxuaW1wb3J0IHsganNvbkVsZW1lbnRzIH0gZnJvbSBcIi4uL2RhdGEvZWxlbWVudHNcIjtcclxuXHJcbmV4cG9ydCBpbnRlcmZhY2UgR2x5cGhJbnRlcmZhY2Uge1xyXG4gIGNoYXJhY3Rlcjogc3RyaW5nO1xyXG4gIGJhY2tncm91bmRDb2xvcjogc3RyaW5nO1xyXG4gIGZvcmVncm91bmRDb2xvcjogc3RyaW5nO1xyXG4gIHRpbGU6IFtudW1iZXIsIG51bWJlcl07XHJcbn1cclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEdseXBoIHtcclxuICBwdWJsaWMgY2hhcmFjdGVyOiBzdHJpbmc7XHJcbiAgcHVibGljIGJhY2tncm91bmRDb2xvcjogc3RyaW5nO1xyXG4gIHB1YmxpYyBmb3JlZ3JvdW5kQ29sb3I6IHN0cmluZztcclxuICBwdWJsaWMgdGlsZTogW251bWJlciwgbnVtYmVyXTtcclxuXHJcbiAgY29uc3RydWN0b3IoXHJcbiAgICBjaGFyYWN0ZXI6IHN0cmluZyxcclxuICAgIHRpbGU6IFtudW1iZXIsIG51bWJlcl0sXHJcbiAgICBiYWNrZ3JvdW5kQ29sb3IgPSBcImJsYWNrXCIsXHJcbiAgICBmb3JlZ3JvdW5kQ29sb3IgPSBcIndoaXRlXCJcclxuICApIHtcclxuICAgIHRoaXMuY2hhcmFjdGVyID0gY2hhcmFjdGVyO1xyXG4gICAgdGhpcy5iYWNrZ3JvdW5kQ29sb3IgPSBiYWNrZ3JvdW5kQ29sb3I7XHJcbiAgICB0aGlzLmZvcmVncm91bmRDb2xvciA9IGZvcmVncm91bmRDb2xvcjtcclxuICAgIHRoaXMudGlsZSA9IHRpbGU7XHJcbiAgfVxyXG5cclxuICAvLyBFeHBvcnQgZ2x5cGggdG8gb2JqXHJcbiAgZXhwb3J0R2x5cGgoKTogR2x5cGhJbnRlcmZhY2Uge1xyXG4gICAgcmV0dXJuIHtcclxuICAgICAgY2hhcmFjdGVyOiB0aGlzLmNoYXJhY3RlcixcclxuICAgICAgYmFja2dyb3VuZENvbG9yOiB0aGlzLmJhY2tncm91bmRDb2xvcixcclxuICAgICAgZm9yZWdyb3VuZENvbG9yOiB0aGlzLmZvcmVncm91bmRDb2xvcixcclxuICAgICAgdGlsZTogdGhpcy50aWxlXHJcbiAgICB9O1xyXG4gIH1cclxuXHJcbiAgLy8gSW1wb3J0IGdseXBoIGZyb20gb2JqXHJcbiAgc3RhdGljIGltcG9ydEdseXBoKGpzb246IEdseXBoSW50ZXJmYWNlKTogR2x5cGgge1xyXG4gICAgcmV0dXJuIG5ldyBHbHlwaChcclxuICAgICAganNvbi5jaGFyYWN0ZXIsXHJcbiAgICAgIGpzb24udGlsZSxcclxuICAgICAganNvbi5iYWNrZ3JvdW5kQ29sb3IsXHJcbiAgICAgIGpzb24uZm9yZWdyb3VuZENvbG9yXHJcbiAgICApO1xyXG4gIH1cclxuXHJcbiAgLy8gVXNlIHRoZSBlbGVtZW50IGlkIHRvIGdldCB0aGVpciByb3cgaW4gdGhlIHRpbGVtYXAgZmlsZSBtdWx0aXBsaWVkIGJ1IHRoZSB0aWxlIHNpemVcclxuICBzdGF0aWMgcHJvY2Vzc1RpbGVNYXAodGlsZXNpemUgPSA2NCk6IHsgW3N5bWJvbDogc3RyaW5nXTogW251bWJlciwgbnVtYmVyXSB9IHtcclxuICAgIGNvbnN0IHRpbGVNYXA6IHsgW3N5bWJvbDogc3RyaW5nXTogW251bWJlciwgbnVtYmVyXSB9ID0ge307XHJcblxyXG4gICAgLy8gRWxlbWVudCB0aWxlc1xyXG4gICAganNvbkVsZW1lbnRzLmZvckVhY2goZWxlbSA9PiB7XHJcbiAgICAgIGVsZW0udGlsZXMuZm9yRWFjaCgoX3RpbGUsIGluZGV4KSA9PiB7XHJcbiAgICAgICAgY29uc3QgeSA9IGVsZW0uaWQgKiB0aWxlc2l6ZTtcclxuICAgICAgICBjb25zdCB4ID0gaW5kZXggKiB0aWxlc2l6ZTtcclxuICAgICAgICB0aWxlTWFwW2VsZW0uYXNjaWlbaW5kZXhdXSA9IFt4LCB5XTtcclxuICAgICAgICAvLyBjb25zb2xlLmxvZyhgUHJvY2Vzc2luZyAke2VsZW0ubmFtZX06IFBvc2l0aW9uOiAke2VsZW0uYXNjaWlbaW5kZXhdfSAtIFtYOiR7eH0sIFk6JHt5fV1gKTtcclxuICAgICAgfSk7XHJcbiAgICB9KTtcclxuXHJcbiAgICAvLyBGb3VycmllciBDYXRcclxuICAgIHRpbGVNYXBbXCJAXCJdID0gWzAsIDI5ICogdGlsZXNpemVdO1xyXG4gICAgLy8gR2F0ZSBvcGVuIGhvcml6b250YWwgYW5kIHZlcnRpY2FsXHJcbiAgICB0aWxlTWFwW1wiSFwiXSA9IFswICogdGlsZXNpemUsIDIyICogdGlsZXNpemVdO1xyXG4gICAgdGlsZU1hcFtcIlZcIl0gPSBbMSAqIHRpbGVzaXplLCAyMiAqIHRpbGVzaXplXTtcclxuICAgIC8vIFBob3RvblxyXG4gICAgdGlsZU1hcFtcIlBcIl0gPSBbMCAqIHRpbGVzaXplLCAxMCAqIHRpbGVzaXplXTtcclxuICAgIHRpbGVNYXBbXCJkXCJdID0gWzEgKiB0aWxlc2l6ZSwgMTAgKiB0aWxlc2l6ZV07XHJcbiAgICAvLyBMYXNlciBkb3R0ZWQgbGluZXNcclxuICAgIHRpbGVNYXBbXCI4XCJdID0gWzAgKiB0aWxlc2l6ZSwgMjMgKiB0aWxlc2l6ZV07XHJcbiAgICB0aWxlTWFwW1wiNFwiXSA9IFsxICogdGlsZXNpemUsIDIzICogdGlsZXNpemVdO1xyXG5cclxuICAgIHJldHVybiB0aWxlTWFwO1xyXG4gIH1cclxufVxyXG4iLCJpbXBvcnQgQmFja2VuZCBmcm9tIFwiLi9iYWNrZW5kLmpzXCI7XG5leHBvcnQgZGVmYXVsdCBjbGFzcyBDYW52YXMgZXh0ZW5kcyBCYWNrZW5kIHtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgc3VwZXIoKTtcbiAgICAgICAgdGhpcy5fY3R4ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImNhbnZhc1wiKS5nZXRDb250ZXh0KFwiMmRcIik7XG4gICAgfVxuICAgIHNjaGVkdWxlKGNiKSB7IHJlcXVlc3RBbmltYXRpb25GcmFtZShjYik7IH1cbiAgICBnZXRDb250YWluZXIoKSB7IHJldHVybiB0aGlzLl9jdHguY2FudmFzOyB9XG4gICAgc2V0T3B0aW9ucyhvcHRzKSB7XG4gICAgICAgIHN1cGVyLnNldE9wdGlvbnMob3B0cyk7XG4gICAgICAgIGNvbnN0IHN0eWxlID0gKG9wdHMuZm9udFN0eWxlID8gYCR7b3B0cy5mb250U3R5bGV9IGAgOiBgYCk7XG4gICAgICAgIGNvbnN0IGZvbnQgPSBgJHtzdHlsZX0gJHtvcHRzLmZvbnRTaXplfXB4ICR7b3B0cy5mb250RmFtaWx5fWA7XG4gICAgICAgIHRoaXMuX2N0eC5mb250ID0gZm9udDtcbiAgICAgICAgdGhpcy5fdXBkYXRlU2l6ZSgpO1xuICAgICAgICB0aGlzLl9jdHguZm9udCA9IGZvbnQ7XG4gICAgICAgIHRoaXMuX2N0eC50ZXh0QWxpZ24gPSBcImNlbnRlclwiO1xuICAgICAgICB0aGlzLl9jdHgudGV4dEJhc2VsaW5lID0gXCJtaWRkbGVcIjtcbiAgICB9XG4gICAgY2xlYXIoKSB7XG4gICAgICAgIHRoaXMuX2N0eC5maWxsU3R5bGUgPSB0aGlzLl9vcHRpb25zLmJnO1xuICAgICAgICB0aGlzLl9jdHguZmlsbFJlY3QoMCwgMCwgdGhpcy5fY3R4LmNhbnZhcy53aWR0aCwgdGhpcy5fY3R4LmNhbnZhcy5oZWlnaHQpO1xuICAgIH1cbiAgICBldmVudFRvUG9zaXRpb24oeCwgeSkge1xuICAgICAgICBsZXQgY2FudmFzID0gdGhpcy5fY3R4LmNhbnZhcztcbiAgICAgICAgbGV0IHJlY3QgPSBjYW52YXMuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG4gICAgICAgIHggLT0gcmVjdC5sZWZ0O1xuICAgICAgICB5IC09IHJlY3QudG9wO1xuICAgICAgICB4ICo9IGNhbnZhcy53aWR0aCAvIHJlY3Qud2lkdGg7XG4gICAgICAgIHkgKj0gY2FudmFzLmhlaWdodCAvIHJlY3QuaGVpZ2h0O1xuICAgICAgICBpZiAoeCA8IDAgfHwgeSA8IDAgfHwgeCA+PSBjYW52YXMud2lkdGggfHwgeSA+PSBjYW52YXMuaGVpZ2h0KSB7XG4gICAgICAgICAgICByZXR1cm4gWy0xLCAtMV07XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMuX25vcm1hbGl6ZWRFdmVudFRvUG9zaXRpb24oeCwgeSk7XG4gICAgfVxufVxuIiwiaW1wb3J0IENhbnZhcyBmcm9tIFwiLi9jYW52YXMuanNcIjtcbmltcG9ydCB7IG1vZCB9IGZyb20gXCIuLi91dGlsLmpzXCI7XG4vKipcbiAqIEBjbGFzcyBIZXhhZ29uYWwgYmFja2VuZFxuICogQHByaXZhdGVcbiAqL1xuZXhwb3J0IGRlZmF1bHQgY2xhc3MgSGV4IGV4dGVuZHMgQ2FudmFzIHtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgc3VwZXIoKTtcbiAgICAgICAgdGhpcy5fc3BhY2luZ1ggPSAwO1xuICAgICAgICB0aGlzLl9zcGFjaW5nWSA9IDA7XG4gICAgICAgIHRoaXMuX2hleFNpemUgPSAwO1xuICAgIH1cbiAgICBkcmF3KGRhdGEsIGNsZWFyQmVmb3JlKSB7XG4gICAgICAgIGxldCBbeCwgeSwgY2gsIGZnLCBiZ10gPSBkYXRhO1xuICAgICAgICBsZXQgcHggPSBbXG4gICAgICAgICAgICAoeCArIDEpICogdGhpcy5fc3BhY2luZ1gsXG4gICAgICAgICAgICB5ICogdGhpcy5fc3BhY2luZ1kgKyB0aGlzLl9oZXhTaXplXG4gICAgICAgIF07XG4gICAgICAgIGlmICh0aGlzLl9vcHRpb25zLnRyYW5zcG9zZSkge1xuICAgICAgICAgICAgcHgucmV2ZXJzZSgpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChjbGVhckJlZm9yZSkge1xuICAgICAgICAgICAgdGhpcy5fY3R4LmZpbGxTdHlsZSA9IGJnO1xuICAgICAgICAgICAgdGhpcy5fZmlsbChweFswXSwgcHhbMV0pO1xuICAgICAgICB9XG4gICAgICAgIGlmICghY2gpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl9jdHguZmlsbFN0eWxlID0gZmc7XG4gICAgICAgIGxldCBjaGFycyA9IFtdLmNvbmNhdChjaCk7XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgY2hhcnMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIHRoaXMuX2N0eC5maWxsVGV4dChjaGFyc1tpXSwgcHhbMF0sIE1hdGguY2VpbChweFsxXSkpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGNvbXB1dGVTaXplKGF2YWlsV2lkdGgsIGF2YWlsSGVpZ2h0KSB7XG4gICAgICAgIGlmICh0aGlzLl9vcHRpb25zLnRyYW5zcG9zZSkge1xuICAgICAgICAgICAgYXZhaWxXaWR0aCArPSBhdmFpbEhlaWdodDtcbiAgICAgICAgICAgIGF2YWlsSGVpZ2h0ID0gYXZhaWxXaWR0aCAtIGF2YWlsSGVpZ2h0O1xuICAgICAgICAgICAgYXZhaWxXaWR0aCAtPSBhdmFpbEhlaWdodDtcbiAgICAgICAgfVxuICAgICAgICBsZXQgd2lkdGggPSBNYXRoLmZsb29yKGF2YWlsV2lkdGggLyB0aGlzLl9zcGFjaW5nWCkgLSAxO1xuICAgICAgICBsZXQgaGVpZ2h0ID0gTWF0aC5mbG9vcigoYXZhaWxIZWlnaHQgLSAyICogdGhpcy5faGV4U2l6ZSkgLyB0aGlzLl9zcGFjaW5nWSArIDEpO1xuICAgICAgICByZXR1cm4gW3dpZHRoLCBoZWlnaHRdO1xuICAgIH1cbiAgICBjb21wdXRlRm9udFNpemUoYXZhaWxXaWR0aCwgYXZhaWxIZWlnaHQpIHtcbiAgICAgICAgaWYgKHRoaXMuX29wdGlvbnMudHJhbnNwb3NlKSB7XG4gICAgICAgICAgICBhdmFpbFdpZHRoICs9IGF2YWlsSGVpZ2h0O1xuICAgICAgICAgICAgYXZhaWxIZWlnaHQgPSBhdmFpbFdpZHRoIC0gYXZhaWxIZWlnaHQ7XG4gICAgICAgICAgICBhdmFpbFdpZHRoIC09IGF2YWlsSGVpZ2h0O1xuICAgICAgICB9XG4gICAgICAgIGxldCBoZXhTaXplV2lkdGggPSAyICogYXZhaWxXaWR0aCAvICgodGhpcy5fb3B0aW9ucy53aWR0aCArIDEpICogTWF0aC5zcXJ0KDMpKSAtIDE7XG4gICAgICAgIGxldCBoZXhTaXplSGVpZ2h0ID0gYXZhaWxIZWlnaHQgLyAoMiArIDEuNSAqICh0aGlzLl9vcHRpb25zLmhlaWdodCAtIDEpKTtcbiAgICAgICAgbGV0IGhleFNpemUgPSBNYXRoLm1pbihoZXhTaXplV2lkdGgsIGhleFNpemVIZWlnaHQpO1xuICAgICAgICAvLyBjb21wdXRlIGNoYXIgcmF0aW9cbiAgICAgICAgbGV0IG9sZEZvbnQgPSB0aGlzLl9jdHguZm9udDtcbiAgICAgICAgdGhpcy5fY3R4LmZvbnQgPSBcIjEwMHB4IFwiICsgdGhpcy5fb3B0aW9ucy5mb250RmFtaWx5O1xuICAgICAgICBsZXQgd2lkdGggPSBNYXRoLmNlaWwodGhpcy5fY3R4Lm1lYXN1cmVUZXh0KFwiV1wiKS53aWR0aCk7XG4gICAgICAgIHRoaXMuX2N0eC5mb250ID0gb2xkRm9udDtcbiAgICAgICAgbGV0IHJhdGlvID0gd2lkdGggLyAxMDA7XG4gICAgICAgIGhleFNpemUgPSBNYXRoLmZsb29yKGhleFNpemUpICsgMTsgLy8gY2xvc2VzdCBsYXJnZXIgaGV4U2l6ZVxuICAgICAgICAvLyBGSVhNRSBjaGFyIHNpemUgY29tcHV0YXRpb24gZG9lcyBub3QgcmVzcGVjdCB0cmFuc3Bvc2VkIGhleGVzXG4gICAgICAgIGxldCBmb250U2l6ZSA9IDIgKiBoZXhTaXplIC8gKHRoaXMuX29wdGlvbnMuc3BhY2luZyAqICgxICsgcmF0aW8gLyBNYXRoLnNxcnQoMykpKTtcbiAgICAgICAgLy8gY2xvc2VzdCBzbWFsbGVyIGZvbnRTaXplXG4gICAgICAgIHJldHVybiBNYXRoLmNlaWwoZm9udFNpemUpIC0gMTtcbiAgICB9XG4gICAgX25vcm1hbGl6ZWRFdmVudFRvUG9zaXRpb24oeCwgeSkge1xuICAgICAgICBsZXQgbm9kZVNpemU7XG4gICAgICAgIGlmICh0aGlzLl9vcHRpb25zLnRyYW5zcG9zZSkge1xuICAgICAgICAgICAgeCArPSB5O1xuICAgICAgICAgICAgeSA9IHggLSB5O1xuICAgICAgICAgICAgeCAtPSB5O1xuICAgICAgICAgICAgbm9kZVNpemUgPSB0aGlzLl9jdHguY2FudmFzLndpZHRoO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgbm9kZVNpemUgPSB0aGlzLl9jdHguY2FudmFzLmhlaWdodDtcbiAgICAgICAgfVxuICAgICAgICBsZXQgc2l6ZSA9IG5vZGVTaXplIC8gdGhpcy5fb3B0aW9ucy5oZWlnaHQ7XG4gICAgICAgIHkgPSBNYXRoLmZsb29yKHkgLyBzaXplKTtcbiAgICAgICAgaWYgKG1vZCh5LCAyKSkgeyAvKiBvZGQgcm93ICovXG4gICAgICAgICAgICB4IC09IHRoaXMuX3NwYWNpbmdYO1xuICAgICAgICAgICAgeCA9IDEgKyAyICogTWF0aC5mbG9vcih4IC8gKDIgKiB0aGlzLl9zcGFjaW5nWCkpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgeCA9IDIgKiBNYXRoLmZsb29yKHggLyAoMiAqIHRoaXMuX3NwYWNpbmdYKSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIFt4LCB5XTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQXJndW1lbnRzIGFyZSBwaXhlbCB2YWx1ZXMuIElmIFwidHJhbnNwb3NlZFwiIG1vZGUgaXMgZW5hYmxlZCwgdGhlbiB0aGVzZSB0d28gYXJlIGFscmVhZHkgc3dhcHBlZC5cbiAgICAgKi9cbiAgICBfZmlsbChjeCwgY3kpIHtcbiAgICAgICAgbGV0IGEgPSB0aGlzLl9oZXhTaXplO1xuICAgICAgICBsZXQgYiA9IHRoaXMuX29wdGlvbnMuYm9yZGVyO1xuICAgICAgICBjb25zdCBjdHggPSB0aGlzLl9jdHg7XG4gICAgICAgIGN0eC5iZWdpblBhdGgoKTtcbiAgICAgICAgaWYgKHRoaXMuX29wdGlvbnMudHJhbnNwb3NlKSB7XG4gICAgICAgICAgICBjdHgubW92ZVRvKGN4IC0gYSArIGIsIGN5KTtcbiAgICAgICAgICAgIGN0eC5saW5lVG8oY3ggLSBhIC8gMiArIGIsIGN5ICsgdGhpcy5fc3BhY2luZ1ggLSBiKTtcbiAgICAgICAgICAgIGN0eC5saW5lVG8oY3ggKyBhIC8gMiAtIGIsIGN5ICsgdGhpcy5fc3BhY2luZ1ggLSBiKTtcbiAgICAgICAgICAgIGN0eC5saW5lVG8oY3ggKyBhIC0gYiwgY3kpO1xuICAgICAgICAgICAgY3R4LmxpbmVUbyhjeCArIGEgLyAyIC0gYiwgY3kgLSB0aGlzLl9zcGFjaW5nWCArIGIpO1xuICAgICAgICAgICAgY3R4LmxpbmVUbyhjeCAtIGEgLyAyICsgYiwgY3kgLSB0aGlzLl9zcGFjaW5nWCArIGIpO1xuICAgICAgICAgICAgY3R4LmxpbmVUbyhjeCAtIGEgKyBiLCBjeSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBjdHgubW92ZVRvKGN4LCBjeSAtIGEgKyBiKTtcbiAgICAgICAgICAgIGN0eC5saW5lVG8oY3ggKyB0aGlzLl9zcGFjaW5nWCAtIGIsIGN5IC0gYSAvIDIgKyBiKTtcbiAgICAgICAgICAgIGN0eC5saW5lVG8oY3ggKyB0aGlzLl9zcGFjaW5nWCAtIGIsIGN5ICsgYSAvIDIgLSBiKTtcbiAgICAgICAgICAgIGN0eC5saW5lVG8oY3gsIGN5ICsgYSAtIGIpO1xuICAgICAgICAgICAgY3R4LmxpbmVUbyhjeCAtIHRoaXMuX3NwYWNpbmdYICsgYiwgY3kgKyBhIC8gMiAtIGIpO1xuICAgICAgICAgICAgY3R4LmxpbmVUbyhjeCAtIHRoaXMuX3NwYWNpbmdYICsgYiwgY3kgLSBhIC8gMiArIGIpO1xuICAgICAgICAgICAgY3R4LmxpbmVUbyhjeCwgY3kgLSBhICsgYik7XG4gICAgICAgIH1cbiAgICAgICAgY3R4LmZpbGwoKTtcbiAgICB9XG4gICAgX3VwZGF0ZVNpemUoKSB7XG4gICAgICAgIGNvbnN0IG9wdHMgPSB0aGlzLl9vcHRpb25zO1xuICAgICAgICBjb25zdCBjaGFyV2lkdGggPSBNYXRoLmNlaWwodGhpcy5fY3R4Lm1lYXN1cmVUZXh0KFwiV1wiKS53aWR0aCk7XG4gICAgICAgIHRoaXMuX2hleFNpemUgPSBNYXRoLmZsb29yKG9wdHMuc3BhY2luZyAqIChvcHRzLmZvbnRTaXplICsgY2hhcldpZHRoIC8gTWF0aC5zcXJ0KDMpKSAvIDIpO1xuICAgICAgICB0aGlzLl9zcGFjaW5nWCA9IHRoaXMuX2hleFNpemUgKiBNYXRoLnNxcnQoMykgLyAyO1xuICAgICAgICB0aGlzLl9zcGFjaW5nWSA9IHRoaXMuX2hleFNpemUgKiAxLjU7XG4gICAgICAgIGxldCB4cHJvcDtcbiAgICAgICAgbGV0IHlwcm9wO1xuICAgICAgICBpZiAob3B0cy50cmFuc3Bvc2UpIHtcbiAgICAgICAgICAgIHhwcm9wID0gXCJoZWlnaHRcIjtcbiAgICAgICAgICAgIHlwcm9wID0gXCJ3aWR0aFwiO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgeHByb3AgPSBcIndpZHRoXCI7XG4gICAgICAgICAgICB5cHJvcCA9IFwiaGVpZ2h0XCI7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fY3R4LmNhbnZhc1t4cHJvcF0gPSBNYXRoLmNlaWwoKG9wdHMud2lkdGggKyAxKSAqIHRoaXMuX3NwYWNpbmdYKTtcbiAgICAgICAgdGhpcy5fY3R4LmNhbnZhc1t5cHJvcF0gPSBNYXRoLmNlaWwoKG9wdHMuaGVpZ2h0IC0gMSkgKiB0aGlzLl9zcGFjaW5nWSArIDIgKiB0aGlzLl9oZXhTaXplKTtcbiAgICB9XG59XG4iLCJpbXBvcnQgQ2FudmFzIGZyb20gXCIuL2NhbnZhcy5qc1wiO1xuLyoqXG4gKiBAY2xhc3MgUmVjdGFuZ3VsYXIgYmFja2VuZFxuICogQHByaXZhdGVcbiAqL1xuZXhwb3J0IGRlZmF1bHQgY2xhc3MgUmVjdCBleHRlbmRzIENhbnZhcyB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHN1cGVyKCk7XG4gICAgICAgIHRoaXMuX3NwYWNpbmdYID0gMDtcbiAgICAgICAgdGhpcy5fc3BhY2luZ1kgPSAwO1xuICAgICAgICB0aGlzLl9jYW52YXNDYWNoZSA9IHt9O1xuICAgIH1cbiAgICBzZXRPcHRpb25zKG9wdGlvbnMpIHtcbiAgICAgICAgc3VwZXIuc2V0T3B0aW9ucyhvcHRpb25zKTtcbiAgICAgICAgdGhpcy5fY2FudmFzQ2FjaGUgPSB7fTtcbiAgICB9XG4gICAgZHJhdyhkYXRhLCBjbGVhckJlZm9yZSkge1xuICAgICAgICBpZiAoUmVjdC5jYWNoZSkge1xuICAgICAgICAgICAgdGhpcy5fZHJhd1dpdGhDYWNoZShkYXRhKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuX2RyYXdOb0NhY2hlKGRhdGEsIGNsZWFyQmVmb3JlKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBfZHJhd1dpdGhDYWNoZShkYXRhKSB7XG4gICAgICAgIGxldCBbeCwgeSwgY2gsIGZnLCBiZ10gPSBkYXRhO1xuICAgICAgICBsZXQgaGFzaCA9IFwiXCIgKyBjaCArIGZnICsgYmc7XG4gICAgICAgIGxldCBjYW52YXM7XG4gICAgICAgIGlmIChoYXNoIGluIHRoaXMuX2NhbnZhc0NhY2hlKSB7XG4gICAgICAgICAgICBjYW52YXMgPSB0aGlzLl9jYW52YXNDYWNoZVtoYXNoXTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGxldCBiID0gdGhpcy5fb3B0aW9ucy5ib3JkZXI7XG4gICAgICAgICAgICBjYW52YXMgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiY2FudmFzXCIpO1xuICAgICAgICAgICAgbGV0IGN0eCA9IGNhbnZhcy5nZXRDb250ZXh0KFwiMmRcIik7XG4gICAgICAgICAgICBjYW52YXMud2lkdGggPSB0aGlzLl9zcGFjaW5nWDtcbiAgICAgICAgICAgIGNhbnZhcy5oZWlnaHQgPSB0aGlzLl9zcGFjaW5nWTtcbiAgICAgICAgICAgIGN0eC5maWxsU3R5bGUgPSBiZztcbiAgICAgICAgICAgIGN0eC5maWxsUmVjdChiLCBiLCBjYW52YXMud2lkdGggLSBiLCBjYW52YXMuaGVpZ2h0IC0gYik7XG4gICAgICAgICAgICBpZiAoY2gpIHtcbiAgICAgICAgICAgICAgICBjdHguZmlsbFN0eWxlID0gZmc7XG4gICAgICAgICAgICAgICAgY3R4LmZvbnQgPSB0aGlzLl9jdHguZm9udDtcbiAgICAgICAgICAgICAgICBjdHgudGV4dEFsaWduID0gXCJjZW50ZXJcIjtcbiAgICAgICAgICAgICAgICBjdHgudGV4dEJhc2VsaW5lID0gXCJtaWRkbGVcIjtcbiAgICAgICAgICAgICAgICBsZXQgY2hhcnMgPSBbXS5jb25jYXQoY2gpO1xuICAgICAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgY2hhcnMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICAgICAgY3R4LmZpbGxUZXh0KGNoYXJzW2ldLCB0aGlzLl9zcGFjaW5nWCAvIDIsIE1hdGguY2VpbCh0aGlzLl9zcGFjaW5nWSAvIDIpKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLl9jYW52YXNDYWNoZVtoYXNoXSA9IGNhbnZhcztcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl9jdHguZHJhd0ltYWdlKGNhbnZhcywgeCAqIHRoaXMuX3NwYWNpbmdYLCB5ICogdGhpcy5fc3BhY2luZ1kpO1xuICAgIH1cbiAgICBfZHJhd05vQ2FjaGUoZGF0YSwgY2xlYXJCZWZvcmUpIHtcbiAgICAgICAgbGV0IFt4LCB5LCBjaCwgZmcsIGJnXSA9IGRhdGE7XG4gICAgICAgIGlmIChjbGVhckJlZm9yZSkge1xuICAgICAgICAgICAgbGV0IGIgPSB0aGlzLl9vcHRpb25zLmJvcmRlcjtcbiAgICAgICAgICAgIHRoaXMuX2N0eC5maWxsU3R5bGUgPSBiZztcbiAgICAgICAgICAgIHRoaXMuX2N0eC5maWxsUmVjdCh4ICogdGhpcy5fc3BhY2luZ1ggKyBiLCB5ICogdGhpcy5fc3BhY2luZ1kgKyBiLCB0aGlzLl9zcGFjaW5nWCAtIGIsIHRoaXMuX3NwYWNpbmdZIC0gYik7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFjaCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuX2N0eC5maWxsU3R5bGUgPSBmZztcbiAgICAgICAgbGV0IGNoYXJzID0gW10uY29uY2F0KGNoKTtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBjaGFycy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgdGhpcy5fY3R4LmZpbGxUZXh0KGNoYXJzW2ldLCAoeCArIDAuNSkgKiB0aGlzLl9zcGFjaW5nWCwgTWF0aC5jZWlsKCh5ICsgMC41KSAqIHRoaXMuX3NwYWNpbmdZKSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgY29tcHV0ZVNpemUoYXZhaWxXaWR0aCwgYXZhaWxIZWlnaHQpIHtcbiAgICAgICAgbGV0IHdpZHRoID0gTWF0aC5mbG9vcihhdmFpbFdpZHRoIC8gdGhpcy5fc3BhY2luZ1gpO1xuICAgICAgICBsZXQgaGVpZ2h0ID0gTWF0aC5mbG9vcihhdmFpbEhlaWdodCAvIHRoaXMuX3NwYWNpbmdZKTtcbiAgICAgICAgcmV0dXJuIFt3aWR0aCwgaGVpZ2h0XTtcbiAgICB9XG4gICAgY29tcHV0ZUZvbnRTaXplKGF2YWlsV2lkdGgsIGF2YWlsSGVpZ2h0KSB7XG4gICAgICAgIGxldCBib3hXaWR0aCA9IE1hdGguZmxvb3IoYXZhaWxXaWR0aCAvIHRoaXMuX29wdGlvbnMud2lkdGgpO1xuICAgICAgICBsZXQgYm94SGVpZ2h0ID0gTWF0aC5mbG9vcihhdmFpbEhlaWdodCAvIHRoaXMuX29wdGlvbnMuaGVpZ2h0KTtcbiAgICAgICAgLyogY29tcHV0ZSBjaGFyIHJhdGlvICovXG4gICAgICAgIGxldCBvbGRGb250ID0gdGhpcy5fY3R4LmZvbnQ7XG4gICAgICAgIHRoaXMuX2N0eC5mb250ID0gXCIxMDBweCBcIiArIHRoaXMuX29wdGlvbnMuZm9udEZhbWlseTtcbiAgICAgICAgbGV0IHdpZHRoID0gTWF0aC5jZWlsKHRoaXMuX2N0eC5tZWFzdXJlVGV4dChcIldcIikud2lkdGgpO1xuICAgICAgICB0aGlzLl9jdHguZm9udCA9IG9sZEZvbnQ7XG4gICAgICAgIGxldCByYXRpbyA9IHdpZHRoIC8gMTAwO1xuICAgICAgICBsZXQgd2lkdGhGcmFjdGlvbiA9IHJhdGlvICogYm94SGVpZ2h0IC8gYm94V2lkdGg7XG4gICAgICAgIGlmICh3aWR0aEZyYWN0aW9uID4gMSkgeyAvKiB0b28gd2lkZSB3aXRoIGN1cnJlbnQgYXNwZWN0IHJhdGlvICovXG4gICAgICAgICAgICBib3hIZWlnaHQgPSBNYXRoLmZsb29yKGJveEhlaWdodCAvIHdpZHRoRnJhY3Rpb24pO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBNYXRoLmZsb29yKGJveEhlaWdodCAvIHRoaXMuX29wdGlvbnMuc3BhY2luZyk7XG4gICAgfVxuICAgIF9ub3JtYWxpemVkRXZlbnRUb1Bvc2l0aW9uKHgsIHkpIHtcbiAgICAgICAgcmV0dXJuIFtNYXRoLmZsb29yKHggLyB0aGlzLl9zcGFjaW5nWCksIE1hdGguZmxvb3IoeSAvIHRoaXMuX3NwYWNpbmdZKV07XG4gICAgfVxuICAgIF91cGRhdGVTaXplKCkge1xuICAgICAgICBjb25zdCBvcHRzID0gdGhpcy5fb3B0aW9ucztcbiAgICAgICAgY29uc3QgY2hhcldpZHRoID0gTWF0aC5jZWlsKHRoaXMuX2N0eC5tZWFzdXJlVGV4dChcIldcIikud2lkdGgpO1xuICAgICAgICB0aGlzLl9zcGFjaW5nWCA9IE1hdGguY2VpbChvcHRzLnNwYWNpbmcgKiBjaGFyV2lkdGgpO1xuICAgICAgICB0aGlzLl9zcGFjaW5nWSA9IE1hdGguY2VpbChvcHRzLnNwYWNpbmcgKiBvcHRzLmZvbnRTaXplKTtcbiAgICAgICAgaWYgKG9wdHMuZm9yY2VTcXVhcmVSYXRpbykge1xuICAgICAgICAgICAgdGhpcy5fc3BhY2luZ1ggPSB0aGlzLl9zcGFjaW5nWSA9IE1hdGgubWF4KHRoaXMuX3NwYWNpbmdYLCB0aGlzLl9zcGFjaW5nWSk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fY3R4LmNhbnZhcy53aWR0aCA9IG9wdHMud2lkdGggKiB0aGlzLl9zcGFjaW5nWDtcbiAgICAgICAgdGhpcy5fY3R4LmNhbnZhcy5oZWlnaHQgPSBvcHRzLmhlaWdodCAqIHRoaXMuX3NwYWNpbmdZO1xuICAgIH1cbn1cblJlY3QuY2FjaGUgPSBmYWxzZTtcbiIsImltcG9ydCBDYW52YXMgZnJvbSBcIi4vY2FudmFzLmpzXCI7XG4vKipcbiAqIEBjbGFzcyBUaWxlIGJhY2tlbmRcbiAqIEBwcml2YXRlXG4gKi9cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFRpbGUgZXh0ZW5kcyBDYW52YXMge1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICBzdXBlcigpO1xuICAgICAgICB0aGlzLl9jb2xvckNhbnZhcyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJjYW52YXNcIik7XG4gICAgfVxuICAgIGRyYXcoZGF0YSwgY2xlYXJCZWZvcmUpIHtcbiAgICAgICAgbGV0IFt4LCB5LCBjaCwgZmcsIGJnXSA9IGRhdGE7XG4gICAgICAgIGxldCB0aWxlV2lkdGggPSB0aGlzLl9vcHRpb25zLnRpbGVXaWR0aDtcbiAgICAgICAgbGV0IHRpbGVIZWlnaHQgPSB0aGlzLl9vcHRpb25zLnRpbGVIZWlnaHQ7XG4gICAgICAgIGlmIChjbGVhckJlZm9yZSkge1xuICAgICAgICAgICAgaWYgKHRoaXMuX29wdGlvbnMudGlsZUNvbG9yaXplKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fY3R4LmNsZWFyUmVjdCh4ICogdGlsZVdpZHRoLCB5ICogdGlsZUhlaWdodCwgdGlsZVdpZHRoLCB0aWxlSGVpZ2h0KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHRoaXMuX2N0eC5maWxsU3R5bGUgPSBiZztcbiAgICAgICAgICAgICAgICB0aGlzLl9jdHguZmlsbFJlY3QoeCAqIHRpbGVXaWR0aCwgeSAqIHRpbGVIZWlnaHQsIHRpbGVXaWR0aCwgdGlsZUhlaWdodCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFjaCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGxldCBjaGFycyA9IFtdLmNvbmNhdChjaCk7XG4gICAgICAgIGxldCBmZ3MgPSBbXS5jb25jYXQoZmcpO1xuICAgICAgICBsZXQgYmdzID0gW10uY29uY2F0KGJnKTtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBjaGFycy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgbGV0IHRpbGUgPSB0aGlzLl9vcHRpb25zLnRpbGVNYXBbY2hhcnNbaV1dO1xuICAgICAgICAgICAgaWYgKCF0aWxlKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBDaGFyIFwiJHtjaGFyc1tpXX1cIiBub3QgZm91bmQgaW4gdGlsZU1hcGApO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHRoaXMuX29wdGlvbnMudGlsZUNvbG9yaXplKSB7IC8vIGFwcGx5IGNvbG9yaXphdGlvblxuICAgICAgICAgICAgICAgIGxldCBjYW52YXMgPSB0aGlzLl9jb2xvckNhbnZhcztcbiAgICAgICAgICAgICAgICBsZXQgY29udGV4dCA9IGNhbnZhcy5nZXRDb250ZXh0KFwiMmRcIik7XG4gICAgICAgICAgICAgICAgY29udGV4dC5nbG9iYWxDb21wb3NpdGVPcGVyYXRpb24gPSBcInNvdXJjZS1vdmVyXCI7XG4gICAgICAgICAgICAgICAgY29udGV4dC5jbGVhclJlY3QoMCwgMCwgdGlsZVdpZHRoLCB0aWxlSGVpZ2h0KTtcbiAgICAgICAgICAgICAgICBsZXQgZmcgPSBmZ3NbaV07XG4gICAgICAgICAgICAgICAgbGV0IGJnID0gYmdzW2ldO1xuICAgICAgICAgICAgICAgIGNvbnRleHQuZHJhd0ltYWdlKHRoaXMuX29wdGlvbnMudGlsZVNldCwgdGlsZVswXSwgdGlsZVsxXSwgdGlsZVdpZHRoLCB0aWxlSGVpZ2h0LCAwLCAwLCB0aWxlV2lkdGgsIHRpbGVIZWlnaHQpO1xuICAgICAgICAgICAgICAgIGlmIChmZyAhPSBcInRyYW5zcGFyZW50XCIpIHtcbiAgICAgICAgICAgICAgICAgICAgY29udGV4dC5maWxsU3R5bGUgPSBmZztcbiAgICAgICAgICAgICAgICAgICAgY29udGV4dC5nbG9iYWxDb21wb3NpdGVPcGVyYXRpb24gPSBcInNvdXJjZS1hdG9wXCI7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRleHQuZmlsbFJlY3QoMCwgMCwgdGlsZVdpZHRoLCB0aWxlSGVpZ2h0KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKGJnICE9IFwidHJhbnNwYXJlbnRcIikge1xuICAgICAgICAgICAgICAgICAgICBjb250ZXh0LmZpbGxTdHlsZSA9IGJnO1xuICAgICAgICAgICAgICAgICAgICBjb250ZXh0Lmdsb2JhbENvbXBvc2l0ZU9wZXJhdGlvbiA9IFwiZGVzdGluYXRpb24tb3ZlclwiO1xuICAgICAgICAgICAgICAgICAgICBjb250ZXh0LmZpbGxSZWN0KDAsIDAsIHRpbGVXaWR0aCwgdGlsZUhlaWdodCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHRoaXMuX2N0eC5kcmF3SW1hZ2UoY2FudmFzLCB4ICogdGlsZVdpZHRoLCB5ICogdGlsZUhlaWdodCwgdGlsZVdpZHRoLCB0aWxlSGVpZ2h0KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgeyAvLyBubyBjb2xvcml6aW5nLCBlYXN5XG4gICAgICAgICAgICAgICAgdGhpcy5fY3R4LmRyYXdJbWFnZSh0aGlzLl9vcHRpb25zLnRpbGVTZXQsIHRpbGVbMF0sIHRpbGVbMV0sIHRpbGVXaWR0aCwgdGlsZUhlaWdodCwgeCAqIHRpbGVXaWR0aCwgeSAqIHRpbGVIZWlnaHQsIHRpbGVXaWR0aCwgdGlsZUhlaWdodCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgY29tcHV0ZVNpemUoYXZhaWxXaWR0aCwgYXZhaWxIZWlnaHQpIHtcbiAgICAgICAgbGV0IHdpZHRoID0gTWF0aC5mbG9vcihhdmFpbFdpZHRoIC8gdGhpcy5fb3B0aW9ucy50aWxlV2lkdGgpO1xuICAgICAgICBsZXQgaGVpZ2h0ID0gTWF0aC5mbG9vcihhdmFpbEhlaWdodCAvIHRoaXMuX29wdGlvbnMudGlsZUhlaWdodCk7XG4gICAgICAgIHJldHVybiBbd2lkdGgsIGhlaWdodF07XG4gICAgfVxuICAgIGNvbXB1dGVGb250U2l6ZSgpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiVGlsZSBiYWNrZW5kIGRvZXMgbm90IHVuZGVyc3RhbmQgZm9udCBzaXplXCIpO1xuICAgIH1cbiAgICBfbm9ybWFsaXplZEV2ZW50VG9Qb3NpdGlvbih4LCB5KSB7XG4gICAgICAgIHJldHVybiBbTWF0aC5mbG9vcih4IC8gdGhpcy5fb3B0aW9ucy50aWxlV2lkdGgpLCBNYXRoLmZsb29yKHkgLyB0aGlzLl9vcHRpb25zLnRpbGVIZWlnaHQpXTtcbiAgICB9XG4gICAgX3VwZGF0ZVNpemUoKSB7XG4gICAgICAgIGNvbnN0IG9wdHMgPSB0aGlzLl9vcHRpb25zO1xuICAgICAgICB0aGlzLl9jdHguY2FudmFzLndpZHRoID0gb3B0cy53aWR0aCAqIG9wdHMudGlsZVdpZHRoO1xuICAgICAgICB0aGlzLl9jdHguY2FudmFzLmhlaWdodCA9IG9wdHMuaGVpZ2h0ICogb3B0cy50aWxlSGVpZ2h0O1xuICAgICAgICB0aGlzLl9jb2xvckNhbnZhcy53aWR0aCA9IG9wdHMudGlsZVdpZHRoO1xuICAgICAgICB0aGlzLl9jb2xvckNhbnZhcy5oZWlnaHQgPSBvcHRzLnRpbGVIZWlnaHQ7XG4gICAgfVxufVxuIiwiaW1wb3J0IEJhY2tlbmQgZnJvbSBcIi4vYmFja2VuZC5qc1wiO1xuaW1wb3J0ICogYXMgQ29sb3IgZnJvbSBcIi4uL2NvbG9yLmpzXCI7XG4vKipcbiAqIEBjbGFzcyBUaWxlIGJhY2tlbmRcbiAqIEBwcml2YXRlXG4gKi9cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFRpbGVHTCBleHRlbmRzIEJhY2tlbmQge1xuICAgIHN0YXRpYyBpc1N1cHBvcnRlZCgpIHtcbiAgICAgICAgcmV0dXJuICEhZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImNhbnZhc1wiKS5nZXRDb250ZXh0KFwid2ViZ2wyXCIsIHsgcHJlc2VydmVEcmF3aW5nQnVmZmVyOiB0cnVlIH0pO1xuICAgIH1cbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgc3VwZXIoKTtcbiAgICAgICAgdGhpcy5fdW5pZm9ybXMgPSB7fTtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIHRoaXMuX2dsID0gdGhpcy5faW5pdFdlYkdMKCk7XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgIGFsZXJ0KGUubWVzc2FnZSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgc2NoZWR1bGUoY2IpIHsgcmVxdWVzdEFuaW1hdGlvbkZyYW1lKGNiKTsgfVxuICAgIGdldENvbnRhaW5lcigpIHsgcmV0dXJuIHRoaXMuX2dsLmNhbnZhczsgfVxuICAgIHNldE9wdGlvbnMob3B0cykge1xuICAgICAgICBzdXBlci5zZXRPcHRpb25zKG9wdHMpO1xuICAgICAgICB0aGlzLl91cGRhdGVTaXplKCk7XG4gICAgICAgIGxldCB0aWxlU2V0ID0gdGhpcy5fb3B0aW9ucy50aWxlU2V0O1xuICAgICAgICBpZiAodGlsZVNldCAmJiBcImNvbXBsZXRlXCIgaW4gdGlsZVNldCAmJiAhdGlsZVNldC5jb21wbGV0ZSkge1xuICAgICAgICAgICAgdGlsZVNldC5hZGRFdmVudExpc3RlbmVyKFwibG9hZFwiLCAoKSA9PiB0aGlzLl91cGRhdGVUZXh0dXJlKHRpbGVTZXQpKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuX3VwZGF0ZVRleHR1cmUodGlsZVNldCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZHJhdyhkYXRhLCBjbGVhckJlZm9yZSkge1xuICAgICAgICBjb25zdCBnbCA9IHRoaXMuX2dsO1xuICAgICAgICBjb25zdCBvcHRzID0gdGhpcy5fb3B0aW9ucztcbiAgICAgICAgbGV0IFt4LCB5LCBjaCwgZmcsIGJnXSA9IGRhdGE7XG4gICAgICAgIGxldCBzY2lzc29yWSA9IGdsLmNhbnZhcy5oZWlnaHQgLSAoeSArIDEpICogb3B0cy50aWxlSGVpZ2h0O1xuICAgICAgICBnbC5zY2lzc29yKHggKiBvcHRzLnRpbGVXaWR0aCwgc2Npc3NvclksIG9wdHMudGlsZVdpZHRoLCBvcHRzLnRpbGVIZWlnaHQpO1xuICAgICAgICBpZiAoY2xlYXJCZWZvcmUpIHtcbiAgICAgICAgICAgIGlmIChvcHRzLnRpbGVDb2xvcml6ZSkge1xuICAgICAgICAgICAgICAgIGdsLmNsZWFyQ29sb3IoMCwgMCwgMCwgMCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBnbC5jbGVhckNvbG9yKC4uLnBhcnNlQ29sb3IoYmcpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGdsLmNsZWFyKGdsLkNPTE9SX0JVRkZFUl9CSVQpO1xuICAgICAgICB9XG4gICAgICAgIGlmICghY2gpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBsZXQgY2hhcnMgPSBbXS5jb25jYXQoY2gpO1xuICAgICAgICBsZXQgYmdzID0gW10uY29uY2F0KGJnKTtcbiAgICAgICAgbGV0IGZncyA9IFtdLmNvbmNhdChmZyk7XG4gICAgICAgIGdsLnVuaWZvcm0yZnYodGhpcy5fdW5pZm9ybXNbXCJ0YXJnZXRQb3NSZWxcIl0sIFt4LCB5XSk7XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgY2hhcnMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGxldCB0aWxlID0gdGhpcy5fb3B0aW9ucy50aWxlTWFwW2NoYXJzW2ldXTtcbiAgICAgICAgICAgIGlmICghdGlsZSkge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgQ2hhciBcIiR7Y2hhcnNbaV19XCIgbm90IGZvdW5kIGluIHRpbGVNYXBgKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGdsLnVuaWZvcm0xZih0aGlzLl91bmlmb3Jtc1tcImNvbG9yaXplXCJdLCBvcHRzLnRpbGVDb2xvcml6ZSA/IDEgOiAwKTtcbiAgICAgICAgICAgIGdsLnVuaWZvcm0yZnYodGhpcy5fdW5pZm9ybXNbXCJ0aWxlc2V0UG9zQWJzXCJdLCB0aWxlKTtcbiAgICAgICAgICAgIGlmIChvcHRzLnRpbGVDb2xvcml6ZSkge1xuICAgICAgICAgICAgICAgIGdsLnVuaWZvcm00ZnYodGhpcy5fdW5pZm9ybXNbXCJ0aW50XCJdLCBwYXJzZUNvbG9yKGZnc1tpXSkpO1xuICAgICAgICAgICAgICAgIGdsLnVuaWZvcm00ZnYodGhpcy5fdW5pZm9ybXNbXCJiZ1wiXSwgcGFyc2VDb2xvcihiZ3NbaV0pKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGdsLmRyYXdBcnJheXMoZ2wuVFJJQU5HTEVfU1RSSVAsIDAsIDQpO1xuICAgICAgICB9XG4gICAgICAgIC8qXG4gICAgICAgIFxuICAgICAgICBcbiAgICAgICAgICAgICAgICBmb3IgKGxldCBpPTA7aTxjaGFycy5sZW5ndGg7aSsrKSB7XG4gICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5fb3B0aW9ucy50aWxlQ29sb3JpemUpIHsgLy8gYXBwbHkgY29sb3JpemF0aW9uXG4gICAgICAgICAgICAgICAgICAgICAgICBsZXQgY2FudmFzID0gdGhpcy5fY29sb3JDYW52YXM7XG4gICAgICAgICAgICAgICAgICAgICAgICBsZXQgY29udGV4dCA9IGNhbnZhcy5nZXRDb250ZXh0KFwiMmRcIikgYXMgQ2FudmFzUmVuZGVyaW5nQ29udGV4dDJEO1xuICAgICAgICAgICAgICAgICAgICAgICAgY29udGV4dC5nbG9iYWxDb21wb3NpdGVPcGVyYXRpb24gPSBcInNvdXJjZS1vdmVyXCI7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb250ZXh0LmNsZWFyUmVjdCgwLCAwLCB0aWxlV2lkdGgsIHRpbGVIZWlnaHQpO1xuICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgICAgIGxldCBmZyA9IGZnc1tpXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGxldCBiZyA9IGJnc1tpXTtcbiAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgICAgICBjb250ZXh0LmRyYXdJbWFnZShcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9vcHRpb25zLnRpbGVTZXQhLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRpbGVbMF0sIHRpbGVbMV0sIHRpbGVXaWR0aCwgdGlsZUhlaWdodCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAwLCAwLCB0aWxlV2lkdGgsIHRpbGVIZWlnaHRcbiAgICAgICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgIFxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGZnICE9IFwidHJhbnNwYXJlbnRcIikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRleHQuZmlsbFN0eWxlID0gZmc7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udGV4dC5nbG9iYWxDb21wb3NpdGVPcGVyYXRpb24gPSBcInNvdXJjZS1hdG9wXCI7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udGV4dC5maWxsUmVjdCgwLCAwLCB0aWxlV2lkdGgsIHRpbGVIZWlnaHQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChiZyAhPSBcInRyYW5zcGFyZW50XCIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250ZXh0LmZpbGxTdHlsZSA9IGJnO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRleHQuZ2xvYmFsQ29tcG9zaXRlT3BlcmF0aW9uID0gXCJkZXN0aW5hdGlvbi1vdmVyXCI7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udGV4dC5maWxsUmVjdCgwLCAwLCB0aWxlV2lkdGgsIHRpbGVIZWlnaHQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX2N0eC5kcmF3SW1hZ2UoY2FudmFzLCB4KnRpbGVXaWR0aCwgeSp0aWxlSGVpZ2h0LCB0aWxlV2lkdGgsIHRpbGVIZWlnaHQpO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2UgeyAvLyBubyBjb2xvcml6aW5nLCBlYXN5XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9jdHguZHJhd0ltYWdlKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX29wdGlvbnMudGlsZVNldCEsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGlsZVswXSwgdGlsZVsxXSwgdGlsZVdpZHRoLCB0aWxlSGVpZ2h0LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHgqdGlsZVdpZHRoLCB5KnRpbGVIZWlnaHQsIHRpbGVXaWR0aCwgdGlsZUhlaWdodFxuICAgICAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgXG4gICAgICAgICovXG4gICAgfVxuICAgIGNsZWFyKCkge1xuICAgICAgICBjb25zdCBnbCA9IHRoaXMuX2dsO1xuICAgICAgICBnbC5jbGVhckNvbG9yKC4uLnBhcnNlQ29sb3IodGhpcy5fb3B0aW9ucy5iZykpO1xuICAgICAgICBnbC5zY2lzc29yKDAsIDAsIGdsLmNhbnZhcy53aWR0aCwgZ2wuY2FudmFzLmhlaWdodCk7XG4gICAgICAgIGdsLmNsZWFyKGdsLkNPTE9SX0JVRkZFUl9CSVQpO1xuICAgIH1cbiAgICBjb21wdXRlU2l6ZShhdmFpbFdpZHRoLCBhdmFpbEhlaWdodCkge1xuICAgICAgICBsZXQgd2lkdGggPSBNYXRoLmZsb29yKGF2YWlsV2lkdGggLyB0aGlzLl9vcHRpb25zLnRpbGVXaWR0aCk7XG4gICAgICAgIGxldCBoZWlnaHQgPSBNYXRoLmZsb29yKGF2YWlsSGVpZ2h0IC8gdGhpcy5fb3B0aW9ucy50aWxlSGVpZ2h0KTtcbiAgICAgICAgcmV0dXJuIFt3aWR0aCwgaGVpZ2h0XTtcbiAgICB9XG4gICAgY29tcHV0ZUZvbnRTaXplKCkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJUaWxlIGJhY2tlbmQgZG9lcyBub3QgdW5kZXJzdGFuZCBmb250IHNpemVcIik7XG4gICAgfVxuICAgIGV2ZW50VG9Qb3NpdGlvbih4LCB5KSB7XG4gICAgICAgIGxldCBjYW52YXMgPSB0aGlzLl9nbC5jYW52YXM7XG4gICAgICAgIGxldCByZWN0ID0gY2FudmFzLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICAgICAgICB4IC09IHJlY3QubGVmdDtcbiAgICAgICAgeSAtPSByZWN0LnRvcDtcbiAgICAgICAgeCAqPSBjYW52YXMud2lkdGggLyByZWN0LndpZHRoO1xuICAgICAgICB5ICo9IGNhbnZhcy5oZWlnaHQgLyByZWN0LmhlaWdodDtcbiAgICAgICAgaWYgKHggPCAwIHx8IHkgPCAwIHx8IHggPj0gY2FudmFzLndpZHRoIHx8IHkgPj0gY2FudmFzLmhlaWdodCkge1xuICAgICAgICAgICAgcmV0dXJuIFstMSwgLTFdO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLl9ub3JtYWxpemVkRXZlbnRUb1Bvc2l0aW9uKHgsIHkpO1xuICAgIH1cbiAgICBfaW5pdFdlYkdMKCkge1xuICAgICAgICBsZXQgZ2wgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiY2FudmFzXCIpLmdldENvbnRleHQoXCJ3ZWJnbDJcIiwgeyBwcmVzZXJ2ZURyYXdpbmdCdWZmZXI6IHRydWUgfSk7XG4gICAgICAgIHdpbmRvdy5nbCA9IGdsO1xuICAgICAgICBsZXQgcHJvZ3JhbSA9IGNyZWF0ZVByb2dyYW0oZ2wsIFZTLCBGUyk7XG4gICAgICAgIGdsLnVzZVByb2dyYW0ocHJvZ3JhbSk7XG4gICAgICAgIGNyZWF0ZVF1YWQoZ2wpO1xuICAgICAgICBVTklGT1JNUy5mb3JFYWNoKG5hbWUgPT4gdGhpcy5fdW5pZm9ybXNbbmFtZV0gPSBnbC5nZXRVbmlmb3JtTG9jYXRpb24ocHJvZ3JhbSwgbmFtZSkpO1xuICAgICAgICB0aGlzLl9wcm9ncmFtID0gcHJvZ3JhbTtcbiAgICAgICAgZ2wuZW5hYmxlKGdsLkJMRU5EKTtcbiAgICAgICAgZ2wuYmxlbmRGdW5jU2VwYXJhdGUoZ2wuU1JDX0FMUEhBLCBnbC5PTkVfTUlOVVNfU1JDX0FMUEhBLCBnbC5PTkUsIGdsLk9ORV9NSU5VU19TUkNfQUxQSEEpO1xuICAgICAgICBnbC5lbmFibGUoZ2wuU0NJU1NPUl9URVNUKTtcbiAgICAgICAgcmV0dXJuIGdsO1xuICAgIH1cbiAgICBfbm9ybWFsaXplZEV2ZW50VG9Qb3NpdGlvbih4LCB5KSB7XG4gICAgICAgIHJldHVybiBbTWF0aC5mbG9vcih4IC8gdGhpcy5fb3B0aW9ucy50aWxlV2lkdGgpLCBNYXRoLmZsb29yKHkgLyB0aGlzLl9vcHRpb25zLnRpbGVIZWlnaHQpXTtcbiAgICB9XG4gICAgX3VwZGF0ZVNpemUoKSB7XG4gICAgICAgIGNvbnN0IGdsID0gdGhpcy5fZ2w7XG4gICAgICAgIGNvbnN0IG9wdHMgPSB0aGlzLl9vcHRpb25zO1xuICAgICAgICBjb25zdCBjYW52YXNTaXplID0gW29wdHMud2lkdGggKiBvcHRzLnRpbGVXaWR0aCwgb3B0cy5oZWlnaHQgKiBvcHRzLnRpbGVIZWlnaHRdO1xuICAgICAgICBnbC5jYW52YXMud2lkdGggPSBjYW52YXNTaXplWzBdO1xuICAgICAgICBnbC5jYW52YXMuaGVpZ2h0ID0gY2FudmFzU2l6ZVsxXTtcbiAgICAgICAgZ2wudmlld3BvcnQoMCwgMCwgY2FudmFzU2l6ZVswXSwgY2FudmFzU2l6ZVsxXSk7XG4gICAgICAgIGdsLnVuaWZvcm0yZnYodGhpcy5fdW5pZm9ybXNbXCJ0aWxlU2l6ZVwiXSwgW29wdHMudGlsZVdpZHRoLCBvcHRzLnRpbGVIZWlnaHRdKTtcbiAgICAgICAgZ2wudW5pZm9ybTJmdih0aGlzLl91bmlmb3Jtc1tcInRhcmdldFNpemVcIl0sIGNhbnZhc1NpemUpO1xuICAgIH1cbiAgICBfdXBkYXRlVGV4dHVyZSh0aWxlU2V0KSB7XG4gICAgICAgIGNyZWF0ZVRleHR1cmUodGhpcy5fZ2wsIHRpbGVTZXQpO1xuICAgIH1cbn1cbmNvbnN0IFVOSUZPUk1TID0gW1widGFyZ2V0UG9zUmVsXCIsIFwidGlsZXNldFBvc0Fic1wiLCBcInRpbGVTaXplXCIsIFwidGFyZ2V0U2l6ZVwiLCBcImNvbG9yaXplXCIsIFwiYmdcIiwgXCJ0aW50XCJdO1xuY29uc3QgVlMgPSBgXG4jdmVyc2lvbiAzMDAgZXNcblxuaW4gdmVjMiB0aWxlUG9zUmVsO1xub3V0IHZlYzIgdGlsZXNldFBvc1B4O1xuXG51bmlmb3JtIHZlYzIgdGlsZXNldFBvc0FicztcbnVuaWZvcm0gdmVjMiB0aWxlU2l6ZTtcbnVuaWZvcm0gdmVjMiB0YXJnZXRTaXplO1xudW5pZm9ybSB2ZWMyIHRhcmdldFBvc1JlbDtcblxudm9pZCBtYWluKCkge1xuXHR2ZWMyIHRhcmdldFBvc1B4ID0gKHRhcmdldFBvc1JlbCArIHRpbGVQb3NSZWwpICogdGlsZVNpemU7XG5cdHZlYzIgdGFyZ2V0UG9zTmRjID0gKCh0YXJnZXRQb3NQeCAvIHRhcmdldFNpemUpLTAuNSkqMi4wO1xuXHR0YXJnZXRQb3NOZGMueSAqPSAtMS4wO1xuXG5cdGdsX1Bvc2l0aW9uID0gdmVjNCh0YXJnZXRQb3NOZGMsIDAuMCwgMS4wKTtcblx0dGlsZXNldFBvc1B4ID0gdGlsZXNldFBvc0FicyArIHRpbGVQb3NSZWwgKiB0aWxlU2l6ZTtcbn1gLnRyaW0oKTtcbmNvbnN0IEZTID0gYFxuI3ZlcnNpb24gMzAwIGVzXG5wcmVjaXNpb24gaGlnaHAgZmxvYXQ7XG5cbmluIHZlYzIgdGlsZXNldFBvc1B4O1xub3V0IHZlYzQgZnJhZ0NvbG9yO1xudW5pZm9ybSBzYW1wbGVyMkQgaW1hZ2U7XG51bmlmb3JtIGJvb2wgY29sb3JpemU7XG51bmlmb3JtIHZlYzQgYmc7XG51bmlmb3JtIHZlYzQgdGludDtcblxudm9pZCBtYWluKCkge1xuXHRmcmFnQ29sb3IgPSB2ZWM0KDAsIDAsIDAsIDEpO1xuXG5cdHZlYzQgdGV4ZWwgPSB0ZXhlbEZldGNoKGltYWdlLCBpdmVjMih0aWxlc2V0UG9zUHgpLCAwKTtcblxuXHRpZiAoY29sb3JpemUpIHtcblx0XHR0ZXhlbC5yZ2IgPSB0aW50LmEgKiB0aW50LnJnYiArICgxLjAtdGludC5hKSAqIHRleGVsLnJnYjtcblx0XHRmcmFnQ29sb3IucmdiID0gdGV4ZWwuYSp0ZXhlbC5yZ2IgKyAoMS4wLXRleGVsLmEpKmJnLnJnYjtcblx0XHRmcmFnQ29sb3IuYSA9IHRleGVsLmEgKyAoMS4wLXRleGVsLmEpKmJnLmE7XG5cdH0gZWxzZSB7XG5cdFx0ZnJhZ0NvbG9yID0gdGV4ZWw7XG5cdH1cbn1gLnRyaW0oKTtcbmZ1bmN0aW9uIGNyZWF0ZVByb2dyYW0oZ2wsIHZzcywgZnNzKSB7XG4gICAgY29uc3QgdnMgPSBnbC5jcmVhdGVTaGFkZXIoZ2wuVkVSVEVYX1NIQURFUik7XG4gICAgZ2wuc2hhZGVyU291cmNlKHZzLCB2c3MpO1xuICAgIGdsLmNvbXBpbGVTaGFkZXIodnMpO1xuICAgIGlmICghZ2wuZ2V0U2hhZGVyUGFyYW1ldGVyKHZzLCBnbC5DT01QSUxFX1NUQVRVUykpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKGdsLmdldFNoYWRlckluZm9Mb2codnMpIHx8IFwiXCIpO1xuICAgIH1cbiAgICBjb25zdCBmcyA9IGdsLmNyZWF0ZVNoYWRlcihnbC5GUkFHTUVOVF9TSEFERVIpO1xuICAgIGdsLnNoYWRlclNvdXJjZShmcywgZnNzKTtcbiAgICBnbC5jb21waWxlU2hhZGVyKGZzKTtcbiAgICBpZiAoIWdsLmdldFNoYWRlclBhcmFtZXRlcihmcywgZ2wuQ09NUElMRV9TVEFUVVMpKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihnbC5nZXRTaGFkZXJJbmZvTG9nKGZzKSB8fCBcIlwiKTtcbiAgICB9XG4gICAgY29uc3QgcCA9IGdsLmNyZWF0ZVByb2dyYW0oKTtcbiAgICBnbC5hdHRhY2hTaGFkZXIocCwgdnMpO1xuICAgIGdsLmF0dGFjaFNoYWRlcihwLCBmcyk7XG4gICAgZ2wubGlua1Byb2dyYW0ocCk7XG4gICAgaWYgKCFnbC5nZXRQcm9ncmFtUGFyYW1ldGVyKHAsIGdsLkxJTktfU1RBVFVTKSkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoZ2wuZ2V0UHJvZ3JhbUluZm9Mb2cocCkgfHwgXCJcIik7XG4gICAgfVxuICAgIHJldHVybiBwO1xufVxuZnVuY3Rpb24gY3JlYXRlUXVhZChnbCkge1xuICAgIGNvbnN0IHBvcyA9IG5ldyBGbG9hdDMyQXJyYXkoWzAsIDAsIDEsIDAsIDAsIDEsIDEsIDFdKTtcbiAgICBjb25zdCBidWYgPSBnbC5jcmVhdGVCdWZmZXIoKTtcbiAgICBnbC5iaW5kQnVmZmVyKGdsLkFSUkFZX0JVRkZFUiwgYnVmKTtcbiAgICBnbC5idWZmZXJEYXRhKGdsLkFSUkFZX0JVRkZFUiwgcG9zLCBnbC5TVEFUSUNfRFJBVyk7XG4gICAgZ2wuZW5hYmxlVmVydGV4QXR0cmliQXJyYXkoMCk7XG4gICAgZ2wudmVydGV4QXR0cmliUG9pbnRlcigwLCAyLCBnbC5GTE9BVCwgZmFsc2UsIDAsIDApO1xufVxuZnVuY3Rpb24gY3JlYXRlVGV4dHVyZShnbCwgZGF0YSkge1xuICAgIGxldCB0ID0gZ2wuY3JlYXRlVGV4dHVyZSgpO1xuICAgIGdsLmJpbmRUZXh0dXJlKGdsLlRFWFRVUkVfMkQsIHQpO1xuICAgIGdsLnRleFBhcmFtZXRlcmkoZ2wuVEVYVFVSRV8yRCwgZ2wuVEVYVFVSRV9NQUdfRklMVEVSLCBnbC5ORUFSRVNUKTtcbiAgICBnbC50ZXhQYXJhbWV0ZXJpKGdsLlRFWFRVUkVfMkQsIGdsLlRFWFRVUkVfTUlOX0ZJTFRFUiwgZ2wuTkVBUkVTVCk7XG4gICAgZ2wudGV4UGFyYW1ldGVyaShnbC5URVhUVVJFXzJELCBnbC5URVhUVVJFX1dSQVBfUywgZ2wuUkVQRUFUKTtcbiAgICBnbC50ZXhQYXJhbWV0ZXJpKGdsLlRFWFRVUkVfMkQsIGdsLlRFWFRVUkVfV1JBUF9ULCBnbC5SRVBFQVQpO1xuICAgIGdsLnBpeGVsU3RvcmVpKGdsLlVOUEFDS19GTElQX1lfV0VCR0wsIDApO1xuICAgIGdsLnRleEltYWdlMkQoZ2wuVEVYVFVSRV8yRCwgMCwgZ2wuUkdCQSwgZ2wuUkdCQSwgZ2wuVU5TSUdORURfQllURSwgZGF0YSk7XG4gICAgcmV0dXJuIHQ7XG59XG5sZXQgY29sb3JDYWNoZSA9IHt9O1xuZnVuY3Rpb24gcGFyc2VDb2xvcihjb2xvcikge1xuICAgIGlmICghKGNvbG9yIGluIGNvbG9yQ2FjaGUpKSB7XG4gICAgICAgIGxldCBwYXJzZWQ7XG4gICAgICAgIGlmIChjb2xvciA9PSBcInRyYW5zcGFyZW50XCIpIHtcbiAgICAgICAgICAgIHBhcnNlZCA9IFswLCAwLCAwLCAwXTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChjb2xvci5pbmRleE9mKFwicmdiYVwiKSA+IC0xKSB7XG4gICAgICAgICAgICBwYXJzZWQgPSAoY29sb3IubWF0Y2goL1tcXGQuXSsvZykgfHwgW10pLm1hcChOdW1iZXIpO1xuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCAzOyBpKyspIHtcbiAgICAgICAgICAgICAgICBwYXJzZWRbaV0gPSBwYXJzZWRbaV0gLyAyNTU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBwYXJzZWQgPSBDb2xvci5mcm9tU3RyaW5nKGNvbG9yKS5tYXAoJCA9PiAkIC8gMjU1KTtcbiAgICAgICAgICAgIHBhcnNlZC5wdXNoKDEpO1xuICAgICAgICB9XG4gICAgICAgIGNvbG9yQ2FjaGVbY29sb3JdID0gcGFyc2VkO1xuICAgIH1cbiAgICByZXR1cm4gY29sb3JDYWNoZVtjb2xvcl07XG59XG4iLCIvKipcbiAqIEBuYW1lc3BhY2VcbiAqIENvbnRhaW5zIHRleHQgdG9rZW5pemF0aW9uIGFuZCBicmVha2luZyByb3V0aW5lc1xuICovXG5jb25zdCBSRV9DT0xPUlMgPSAvJShbYmNdKXsoW159XSopfS9nO1xuLy8gdG9rZW4gdHlwZXNcbmV4cG9ydCBjb25zdCBUWVBFX1RFWFQgPSAwO1xuZXhwb3J0IGNvbnN0IFRZUEVfTkVXTElORSA9IDE7XG5leHBvcnQgY29uc3QgVFlQRV9GRyA9IDI7XG5leHBvcnQgY29uc3QgVFlQRV9CRyA9IDM7XG4vKipcbiAqIE1lYXN1cmUgc2l6ZSBvZiBhIHJlc3VsdGluZyB0ZXh0IGJsb2NrXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBtZWFzdXJlKHN0ciwgbWF4V2lkdGgpIHtcbiAgICBsZXQgcmVzdWx0ID0geyB3aWR0aDogMCwgaGVpZ2h0OiAxIH07XG4gICAgbGV0IHRva2VucyA9IHRva2VuaXplKHN0ciwgbWF4V2lkdGgpO1xuICAgIGxldCBsaW5lV2lkdGggPSAwO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdG9rZW5zLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGxldCB0b2tlbiA9IHRva2Vuc1tpXTtcbiAgICAgICAgc3dpdGNoICh0b2tlbi50eXBlKSB7XG4gICAgICAgICAgICBjYXNlIFRZUEVfVEVYVDpcbiAgICAgICAgICAgICAgICBsaW5lV2lkdGggKz0gdG9rZW4udmFsdWUubGVuZ3RoO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBUWVBFX05FV0xJTkU6XG4gICAgICAgICAgICAgICAgcmVzdWx0LmhlaWdodCsrO1xuICAgICAgICAgICAgICAgIHJlc3VsdC53aWR0aCA9IE1hdGgubWF4KHJlc3VsdC53aWR0aCwgbGluZVdpZHRoKTtcbiAgICAgICAgICAgICAgICBsaW5lV2lkdGggPSAwO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJlc3VsdC53aWR0aCA9IE1hdGgubWF4KHJlc3VsdC53aWR0aCwgbGluZVdpZHRoKTtcbiAgICByZXR1cm4gcmVzdWx0O1xufVxuLyoqXG4gKiBDb252ZXJ0IHN0cmluZyB0byBhIHNlcmllcyBvZiBhIGZvcm1hdHRpbmcgY29tbWFuZHNcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHRva2VuaXplKHN0ciwgbWF4V2lkdGgpIHtcbiAgICBsZXQgcmVzdWx0ID0gW107XG4gICAgLyogZmlyc3QgdG9rZW5pemF0aW9uIHBhc3MgLSBzcGxpdCB0ZXh0cyBhbmQgY29sb3IgZm9ybWF0dGluZyBjb21tYW5kcyAqL1xuICAgIGxldCBvZmZzZXQgPSAwO1xuICAgIHN0ci5yZXBsYWNlKFJFX0NPTE9SUywgZnVuY3Rpb24gKG1hdGNoLCB0eXBlLCBuYW1lLCBpbmRleCkge1xuICAgICAgICAvKiBzdHJpbmcgYmVmb3JlICovXG4gICAgICAgIGxldCBwYXJ0ID0gc3RyLnN1YnN0cmluZyhvZmZzZXQsIGluZGV4KTtcbiAgICAgICAgaWYgKHBhcnQubGVuZ3RoKSB7XG4gICAgICAgICAgICByZXN1bHQucHVzaCh7XG4gICAgICAgICAgICAgICAgdHlwZTogVFlQRV9URVhULFxuICAgICAgICAgICAgICAgIHZhbHVlOiBwYXJ0XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICAvKiBjb2xvciBjb21tYW5kICovXG4gICAgICAgIHJlc3VsdC5wdXNoKHtcbiAgICAgICAgICAgIHR5cGU6ICh0eXBlID09IFwiY1wiID8gVFlQRV9GRyA6IFRZUEVfQkcpLFxuICAgICAgICAgICAgdmFsdWU6IG5hbWUudHJpbSgpXG4gICAgICAgIH0pO1xuICAgICAgICBvZmZzZXQgPSBpbmRleCArIG1hdGNoLmxlbmd0aDtcbiAgICAgICAgcmV0dXJuIFwiXCI7XG4gICAgfSk7XG4gICAgLyogbGFzdCByZW1haW5pbmcgcGFydCAqL1xuICAgIGxldCBwYXJ0ID0gc3RyLnN1YnN0cmluZyhvZmZzZXQpO1xuICAgIGlmIChwYXJ0Lmxlbmd0aCkge1xuICAgICAgICByZXN1bHQucHVzaCh7XG4gICAgICAgICAgICB0eXBlOiBUWVBFX1RFWFQsXG4gICAgICAgICAgICB2YWx1ZTogcGFydFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgcmV0dXJuIGJyZWFrTGluZXMocmVzdWx0LCBtYXhXaWR0aCk7XG59XG4vKiBpbnNlcnQgbGluZSBicmVha3MgaW50byBmaXJzdC1wYXNzIHRva2VuaXplZCBkYXRhICovXG5mdW5jdGlvbiBicmVha0xpbmVzKHRva2VucywgbWF4V2lkdGgpIHtcbiAgICBpZiAoIW1heFdpZHRoKSB7XG4gICAgICAgIG1heFdpZHRoID0gSW5maW5pdHk7XG4gICAgfVxuICAgIGxldCBpID0gMDtcbiAgICBsZXQgbGluZUxlbmd0aCA9IDA7XG4gICAgbGV0IGxhc3RUb2tlbldpdGhTcGFjZSA9IC0xO1xuICAgIHdoaWxlIChpIDwgdG9rZW5zLmxlbmd0aCkgeyAvKiB0YWtlIGFsbCB0ZXh0IHRva2VucywgcmVtb3ZlIHNwYWNlLCBhcHBseSBsaW5lYnJlYWtzICovXG4gICAgICAgIGxldCB0b2tlbiA9IHRva2Vuc1tpXTtcbiAgICAgICAgaWYgKHRva2VuLnR5cGUgPT0gVFlQRV9ORVdMSU5FKSB7IC8qIHJlc2V0ICovXG4gICAgICAgICAgICBsaW5lTGVuZ3RoID0gMDtcbiAgICAgICAgICAgIGxhc3RUb2tlbldpdGhTcGFjZSA9IC0xO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0b2tlbi50eXBlICE9IFRZUEVfVEVYVCkgeyAvKiBza2lwIG5vbi10ZXh0IHRva2VucyAqL1xuICAgICAgICAgICAgaSsrO1xuICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cbiAgICAgICAgLyogcmVtb3ZlIHNwYWNlcyBhdCB0aGUgYmVnaW5uaW5nIG9mIGxpbmUgKi9cbiAgICAgICAgd2hpbGUgKGxpbmVMZW5ndGggPT0gMCAmJiB0b2tlbi52YWx1ZS5jaGFyQXQoMCkgPT0gXCIgXCIpIHtcbiAgICAgICAgICAgIHRva2VuLnZhbHVlID0gdG9rZW4udmFsdWUuc3Vic3RyaW5nKDEpO1xuICAgICAgICB9XG4gICAgICAgIC8qIGZvcmNlZCBuZXdsaW5lPyBpbnNlcnQgdHdvIG5ldyB0b2tlbnMgYWZ0ZXIgdGhpcyBvbmUgKi9cbiAgICAgICAgbGV0IGluZGV4ID0gdG9rZW4udmFsdWUuaW5kZXhPZihcIlxcblwiKTtcbiAgICAgICAgaWYgKGluZGV4ICE9IC0xKSB7XG4gICAgICAgICAgICB0b2tlbi52YWx1ZSA9IGJyZWFrSW5zaWRlVG9rZW4odG9rZW5zLCBpLCBpbmRleCwgdHJ1ZSk7XG4gICAgICAgICAgICAvKiBpZiB0aGVyZSBhcmUgc3BhY2VzIGF0IHRoZSBlbmQsIHdlIG11c3QgcmVtb3ZlIHRoZW0gKHdlIGRvIG5vdCB3YW50IHRoZSBsaW5lIHRvbyBsb25nKSAqL1xuICAgICAgICAgICAgbGV0IGFyciA9IHRva2VuLnZhbHVlLnNwbGl0KFwiXCIpO1xuICAgICAgICAgICAgd2hpbGUgKGFyci5sZW5ndGggJiYgYXJyW2Fyci5sZW5ndGggLSAxXSA9PSBcIiBcIikge1xuICAgICAgICAgICAgICAgIGFyci5wb3AoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRva2VuLnZhbHVlID0gYXJyLmpvaW4oXCJcIik7XG4gICAgICAgIH1cbiAgICAgICAgLyogdG9rZW4gZGVnZW5lcmF0ZWQ/ICovXG4gICAgICAgIGlmICghdG9rZW4udmFsdWUubGVuZ3RoKSB7XG4gICAgICAgICAgICB0b2tlbnMuc3BsaWNlKGksIDEpO1xuICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGxpbmVMZW5ndGggKyB0b2tlbi52YWx1ZS5sZW5ndGggPiBtYXhXaWR0aCkgeyAvKiBsaW5lIHRvbyBsb25nLCBmaW5kIGEgc3VpdGFibGUgYnJlYWtpbmcgc3BvdCAqL1xuICAgICAgICAgICAgLyogaXMgaXQgcG9zc2libGUgdG8gYnJlYWsgd2l0aGluIHRoaXMgdG9rZW4/ICovXG4gICAgICAgICAgICBsZXQgaW5kZXggPSAtMTtcbiAgICAgICAgICAgIHdoaWxlICgxKSB7XG4gICAgICAgICAgICAgICAgbGV0IG5leHRJbmRleCA9IHRva2VuLnZhbHVlLmluZGV4T2YoXCIgXCIsIGluZGV4ICsgMSk7XG4gICAgICAgICAgICAgICAgaWYgKG5leHRJbmRleCA9PSAtMSkge1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKGxpbmVMZW5ndGggKyBuZXh0SW5kZXggPiBtYXhXaWR0aCkge1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaW5kZXggPSBuZXh0SW5kZXg7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoaW5kZXggIT0gLTEpIHsgLyogYnJlYWsgYXQgc3BhY2Ugd2l0aGluIHRoaXMgb25lICovXG4gICAgICAgICAgICAgICAgdG9rZW4udmFsdWUgPSBicmVha0luc2lkZVRva2VuKHRva2VucywgaSwgaW5kZXgsIHRydWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAobGFzdFRva2VuV2l0aFNwYWNlICE9IC0xKSB7IC8qIGlzIHRoZXJlIGEgcHJldmlvdXMgdG9rZW4gd2hlcmUgYSBicmVhayBjYW4gb2NjdXI/ICovXG4gICAgICAgICAgICAgICAgbGV0IHRva2VuID0gdG9rZW5zW2xhc3RUb2tlbldpdGhTcGFjZV07XG4gICAgICAgICAgICAgICAgbGV0IGJyZWFrSW5kZXggPSB0b2tlbi52YWx1ZS5sYXN0SW5kZXhPZihcIiBcIik7XG4gICAgICAgICAgICAgICAgdG9rZW4udmFsdWUgPSBicmVha0luc2lkZVRva2VuKHRva2VucywgbGFzdFRva2VuV2l0aFNwYWNlLCBicmVha0luZGV4LCB0cnVlKTtcbiAgICAgICAgICAgICAgICBpID0gbGFzdFRva2VuV2l0aFNwYWNlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7IC8qIGZvcmNlIGJyZWFrIGluIHRoaXMgdG9rZW4gKi9cbiAgICAgICAgICAgICAgICB0b2tlbi52YWx1ZSA9IGJyZWFrSW5zaWRlVG9rZW4odG9rZW5zLCBpLCBtYXhXaWR0aCAtIGxpbmVMZW5ndGgsIGZhbHNlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIHsgLyogbGluZSBub3QgbG9uZywgY29udGludWUgKi9cbiAgICAgICAgICAgIGxpbmVMZW5ndGggKz0gdG9rZW4udmFsdWUubGVuZ3RoO1xuICAgICAgICAgICAgaWYgKHRva2VuLnZhbHVlLmluZGV4T2YoXCIgXCIpICE9IC0xKSB7XG4gICAgICAgICAgICAgICAgbGFzdFRva2VuV2l0aFNwYWNlID0gaTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpKys7IC8qIGFkdmFuY2UgdG8gbmV4dCB0b2tlbiAqL1xuICAgIH1cbiAgICB0b2tlbnMucHVzaCh7IHR5cGU6IFRZUEVfTkVXTElORSB9KTsgLyogaW5zZXJ0IGZha2UgbmV3bGluZSB0byBmaXggdGhlIGxhc3QgdGV4dCBsaW5lICovXG4gICAgLyogcmVtb3ZlIHRyYWlsaW5nIHNwYWNlIGZyb20gdGV4dCB0b2tlbnMgYmVmb3JlIG5ld2xpbmVzICovXG4gICAgbGV0IGxhc3RUZXh0VG9rZW4gPSBudWxsO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdG9rZW5zLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGxldCB0b2tlbiA9IHRva2Vuc1tpXTtcbiAgICAgICAgc3dpdGNoICh0b2tlbi50eXBlKSB7XG4gICAgICAgICAgICBjYXNlIFRZUEVfVEVYVDpcbiAgICAgICAgICAgICAgICBsYXN0VGV4dFRva2VuID0gdG9rZW47XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIFRZUEVfTkVXTElORTpcbiAgICAgICAgICAgICAgICBpZiAobGFzdFRleHRUb2tlbikgeyAvKiByZW1vdmUgdHJhaWxpbmcgc3BhY2UgKi9cbiAgICAgICAgICAgICAgICAgICAgbGV0IGFyciA9IGxhc3RUZXh0VG9rZW4udmFsdWUuc3BsaXQoXCJcIik7XG4gICAgICAgICAgICAgICAgICAgIHdoaWxlIChhcnIubGVuZ3RoICYmIGFyclthcnIubGVuZ3RoIC0gMV0gPT0gXCIgXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGFyci5wb3AoKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBsYXN0VGV4dFRva2VuLnZhbHVlID0gYXJyLmpvaW4oXCJcIik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGxhc3RUZXh0VG9rZW4gPSBudWxsO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgfVxuICAgIHRva2Vucy5wb3AoKTsgLyogcmVtb3ZlIGZha2UgdG9rZW4gKi9cbiAgICByZXR1cm4gdG9rZW5zO1xufVxuLyoqXG4gKiBDcmVhdGUgbmV3IHRva2VucyBhbmQgaW5zZXJ0IHRoZW0gaW50byB0aGUgc3RyZWFtXG4gKiBAcGFyYW0ge29iamVjdFtdfSB0b2tlbnNcbiAqIEBwYXJhbSB7aW50fSB0b2tlbkluZGV4IFRva2VuIGJlaW5nIHByb2Nlc3NlZFxuICogQHBhcmFtIHtpbnR9IGJyZWFrSW5kZXggSW5kZXggd2l0aGluIGN1cnJlbnQgdG9rZW4ncyB2YWx1ZVxuICogQHBhcmFtIHtib29sfSByZW1vdmVCcmVha0NoYXIgRG8gd2Ugd2FudCB0byByZW1vdmUgdGhlIGJyZWFraW5nIGNoYXJhY3Rlcj9cbiAqIEByZXR1cm5zIHtzdHJpbmd9IHJlbWFpbmluZyB1bmJyb2tlbiB0b2tlbiB2YWx1ZVxuICovXG5mdW5jdGlvbiBicmVha0luc2lkZVRva2VuKHRva2VucywgdG9rZW5JbmRleCwgYnJlYWtJbmRleCwgcmVtb3ZlQnJlYWtDaGFyKSB7XG4gICAgbGV0IG5ld0JyZWFrVG9rZW4gPSB7XG4gICAgICAgIHR5cGU6IFRZUEVfTkVXTElORVxuICAgIH07XG4gICAgbGV0IG5ld1RleHRUb2tlbiA9IHtcbiAgICAgICAgdHlwZTogVFlQRV9URVhULFxuICAgICAgICB2YWx1ZTogdG9rZW5zW3Rva2VuSW5kZXhdLnZhbHVlLnN1YnN0cmluZyhicmVha0luZGV4ICsgKHJlbW92ZUJyZWFrQ2hhciA/IDEgOiAwKSlcbiAgICB9O1xuICAgIHRva2Vucy5zcGxpY2UodG9rZW5JbmRleCArIDEsIDAsIG5ld0JyZWFrVG9rZW4sIG5ld1RleHRUb2tlbik7XG4gICAgcmV0dXJuIHRva2Vuc1t0b2tlbkluZGV4XS52YWx1ZS5zdWJzdHJpbmcoMCwgYnJlYWtJbmRleCk7XG59XG4iLCIvKiogRGVmYXVsdCB3aXRoIGZvciBkaXNwbGF5IGFuZCBtYXAgZ2VuZXJhdG9ycyAqL1xuZXhwb3J0IGxldCBERUZBVUxUX1dJRFRIID0gODA7XG4vKiogRGVmYXVsdCBoZWlnaHQgZm9yIGRpc3BsYXkgYW5kIG1hcCBnZW5lcmF0b3JzICovXG5leHBvcnQgbGV0IERFRkFVTFRfSEVJR0hUID0gMjU7XG5leHBvcnQgY29uc3QgRElSUyA9IHtcbiAgICA0OiBbWzAsIC0xXSwgWzEsIDBdLCBbMCwgMV0sIFstMSwgMF1dLFxuICAgIDg6IFtbMCwgLTFdLCBbMSwgLTFdLCBbMSwgMF0sIFsxLCAxXSwgWzAsIDFdLCBbLTEsIDFdLCBbLTEsIDBdLCBbLTEsIC0xXV0sXG4gICAgNjogW1stMSwgLTFdLCBbMSwgLTFdLCBbMiwgMF0sIFsxLCAxXSwgWy0xLCAxXSwgWy0yLCAwXV1cbn07XG5leHBvcnQgY29uc3QgS0VZUyA9IHtcbiAgICAvKiogQ2FuY2VsIGtleS4gKi9cbiAgICBWS19DQU5DRUw6IDMsXG4gICAgLyoqIEhlbHAga2V5LiAqL1xuICAgIFZLX0hFTFA6IDYsXG4gICAgLyoqIEJhY2tzcGFjZSBrZXkuICovXG4gICAgVktfQkFDS19TUEFDRTogOCxcbiAgICAvKiogVGFiIGtleS4gKi9cbiAgICBWS19UQUI6IDksXG4gICAgLyoqIDUga2V5IG9uIE51bXBhZCB3aGVuIE51bUxvY2sgaXMgdW5sb2NrZWQuIE9yIG9uIE1hYywgY2xlYXIga2V5IHdoaWNoIGlzIHBvc2l0aW9uZWQgYXQgTnVtTG9jayBrZXkuICovXG4gICAgVktfQ0xFQVI6IDEyLFxuICAgIC8qKiBSZXR1cm4vZW50ZXIga2V5IG9uIHRoZSBtYWluIGtleWJvYXJkLiAqL1xuICAgIFZLX1JFVFVSTjogMTMsXG4gICAgLyoqIFJlc2VydmVkLCBidXQgbm90IHVzZWQuICovXG4gICAgVktfRU5URVI6IDE0LFxuICAgIC8qKiBTaGlmdCBrZXkuICovXG4gICAgVktfU0hJRlQ6IDE2LFxuICAgIC8qKiBDb250cm9sIGtleS4gKi9cbiAgICBWS19DT05UUk9MOiAxNyxcbiAgICAvKiogQWx0IChPcHRpb24gb24gTWFjKSBrZXkuICovXG4gICAgVktfQUxUOiAxOCxcbiAgICAvKiogUGF1c2Uga2V5LiAqL1xuICAgIFZLX1BBVVNFOiAxOSxcbiAgICAvKiogQ2FwcyBsb2NrLiAqL1xuICAgIFZLX0NBUFNfTE9DSzogMjAsXG4gICAgLyoqIEVzY2FwZSBrZXkuICovXG4gICAgVktfRVNDQVBFOiAyNyxcbiAgICAvKiogU3BhY2UgYmFyLiAqL1xuICAgIFZLX1NQQUNFOiAzMixcbiAgICAvKiogUGFnZSBVcCBrZXkuICovXG4gICAgVktfUEFHRV9VUDogMzMsXG4gICAgLyoqIFBhZ2UgRG93biBrZXkuICovXG4gICAgVktfUEFHRV9ET1dOOiAzNCxcbiAgICAvKiogRW5kIGtleS4gKi9cbiAgICBWS19FTkQ6IDM1LFxuICAgIC8qKiBIb21lIGtleS4gKi9cbiAgICBWS19IT01FOiAzNixcbiAgICAvKiogTGVmdCBhcnJvdy4gKi9cbiAgICBWS19MRUZUOiAzNyxcbiAgICAvKiogVXAgYXJyb3cuICovXG4gICAgVktfVVA6IDM4LFxuICAgIC8qKiBSaWdodCBhcnJvdy4gKi9cbiAgICBWS19SSUdIVDogMzksXG4gICAgLyoqIERvd24gYXJyb3cuICovXG4gICAgVktfRE9XTjogNDAsXG4gICAgLyoqIFByaW50IFNjcmVlbiBrZXkuICovXG4gICAgVktfUFJJTlRTQ1JFRU46IDQ0LFxuICAgIC8qKiBJbnMoZXJ0KSBrZXkuICovXG4gICAgVktfSU5TRVJUOiA0NSxcbiAgICAvKiogRGVsKGV0ZSkga2V5LiAqL1xuICAgIFZLX0RFTEVURTogNDYsXG4gICAgLyoqKi9cbiAgICBWS18wOiA0OCxcbiAgICAvKioqL1xuICAgIFZLXzE6IDQ5LFxuICAgIC8qKiovXG4gICAgVktfMjogNTAsXG4gICAgLyoqKi9cbiAgICBWS18zOiA1MSxcbiAgICAvKioqL1xuICAgIFZLXzQ6IDUyLFxuICAgIC8qKiovXG4gICAgVktfNTogNTMsXG4gICAgLyoqKi9cbiAgICBWS182OiA1NCxcbiAgICAvKioqL1xuICAgIFZLXzc6IDU1LFxuICAgIC8qKiovXG4gICAgVktfODogNTYsXG4gICAgLyoqKi9cbiAgICBWS185OiA1NyxcbiAgICAvKiogQ29sb24gKDopIGtleS4gUmVxdWlyZXMgR2Vja28gMTUuMCAqL1xuICAgIFZLX0NPTE9OOiA1OCxcbiAgICAvKiogU2VtaWNvbG9uICg7KSBrZXkuICovXG4gICAgVktfU0VNSUNPTE9OOiA1OSxcbiAgICAvKiogTGVzcy10aGFuICg8KSBrZXkuIFJlcXVpcmVzIEdlY2tvIDE1LjAgKi9cbiAgICBWS19MRVNTX1RIQU46IDYwLFxuICAgIC8qKiBFcXVhbHMgKD0pIGtleS4gKi9cbiAgICBWS19FUVVBTFM6IDYxLFxuICAgIC8qKiBHcmVhdGVyLXRoYW4gKD4pIGtleS4gUmVxdWlyZXMgR2Vja28gMTUuMCAqL1xuICAgIFZLX0dSRUFURVJfVEhBTjogNjIsXG4gICAgLyoqIFF1ZXN0aW9uIG1hcmsgKD8pIGtleS4gUmVxdWlyZXMgR2Vja28gMTUuMCAqL1xuICAgIFZLX1FVRVNUSU9OX01BUks6IDYzLFxuICAgIC8qKiBBdG1hcmsgKEApIGtleS4gUmVxdWlyZXMgR2Vja28gMTUuMCAqL1xuICAgIFZLX0FUOiA2NCxcbiAgICAvKioqL1xuICAgIFZLX0E6IDY1LFxuICAgIC8qKiovXG4gICAgVktfQjogNjYsXG4gICAgLyoqKi9cbiAgICBWS19DOiA2NyxcbiAgICAvKioqL1xuICAgIFZLX0Q6IDY4LFxuICAgIC8qKiovXG4gICAgVktfRTogNjksXG4gICAgLyoqKi9cbiAgICBWS19GOiA3MCxcbiAgICAvKioqL1xuICAgIFZLX0c6IDcxLFxuICAgIC8qKiovXG4gICAgVktfSDogNzIsXG4gICAgLyoqKi9cbiAgICBWS19JOiA3MyxcbiAgICAvKioqL1xuICAgIFZLX0o6IDc0LFxuICAgIC8qKiovXG4gICAgVktfSzogNzUsXG4gICAgLyoqKi9cbiAgICBWS19MOiA3NixcbiAgICAvKioqL1xuICAgIFZLX006IDc3LFxuICAgIC8qKiovXG4gICAgVktfTjogNzgsXG4gICAgLyoqKi9cbiAgICBWS19POiA3OSxcbiAgICAvKioqL1xuICAgIFZLX1A6IDgwLFxuICAgIC8qKiovXG4gICAgVktfUTogODEsXG4gICAgLyoqKi9cbiAgICBWS19SOiA4MixcbiAgICAvKioqL1xuICAgIFZLX1M6IDgzLFxuICAgIC8qKiovXG4gICAgVktfVDogODQsXG4gICAgLyoqKi9cbiAgICBWS19VOiA4NSxcbiAgICAvKioqL1xuICAgIFZLX1Y6IDg2LFxuICAgIC8qKiovXG4gICAgVktfVzogODcsXG4gICAgLyoqKi9cbiAgICBWS19YOiA4OCxcbiAgICAvKioqL1xuICAgIFZLX1k6IDg5LFxuICAgIC8qKiovXG4gICAgVktfWjogOTAsXG4gICAgLyoqKi9cbiAgICBWS19DT05URVhUX01FTlU6IDkzLFxuICAgIC8qKiAwIG9uIHRoZSBudW1lcmljIGtleXBhZC4gKi9cbiAgICBWS19OVU1QQUQwOiA5NixcbiAgICAvKiogMSBvbiB0aGUgbnVtZXJpYyBrZXlwYWQuICovXG4gICAgVktfTlVNUEFEMTogOTcsXG4gICAgLyoqIDIgb24gdGhlIG51bWVyaWMga2V5cGFkLiAqL1xuICAgIFZLX05VTVBBRDI6IDk4LFxuICAgIC8qKiAzIG9uIHRoZSBudW1lcmljIGtleXBhZC4gKi9cbiAgICBWS19OVU1QQUQzOiA5OSxcbiAgICAvKiogNCBvbiB0aGUgbnVtZXJpYyBrZXlwYWQuICovXG4gICAgVktfTlVNUEFENDogMTAwLFxuICAgIC8qKiA1IG9uIHRoZSBudW1lcmljIGtleXBhZC4gKi9cbiAgICBWS19OVU1QQUQ1OiAxMDEsXG4gICAgLyoqIDYgb24gdGhlIG51bWVyaWMga2V5cGFkLiAqL1xuICAgIFZLX05VTVBBRDY6IDEwMixcbiAgICAvKiogNyBvbiB0aGUgbnVtZXJpYyBrZXlwYWQuICovXG4gICAgVktfTlVNUEFENzogMTAzLFxuICAgIC8qKiA4IG9uIHRoZSBudW1lcmljIGtleXBhZC4gKi9cbiAgICBWS19OVU1QQUQ4OiAxMDQsXG4gICAgLyoqIDkgb24gdGhlIG51bWVyaWMga2V5cGFkLiAqL1xuICAgIFZLX05VTVBBRDk6IDEwNSxcbiAgICAvKiogKiBvbiB0aGUgbnVtZXJpYyBrZXlwYWQuICovXG4gICAgVktfTVVMVElQTFk6IDEwNixcbiAgICAvKiogKyBvbiB0aGUgbnVtZXJpYyBrZXlwYWQuICovXG4gICAgVktfQUREOiAxMDcsXG4gICAgLyoqKi9cbiAgICBWS19TRVBBUkFUT1I6IDEwOCxcbiAgICAvKiogLSBvbiB0aGUgbnVtZXJpYyBrZXlwYWQuICovXG4gICAgVktfU1VCVFJBQ1Q6IDEwOSxcbiAgICAvKiogRGVjaW1hbCBwb2ludCBvbiB0aGUgbnVtZXJpYyBrZXlwYWQuICovXG4gICAgVktfREVDSU1BTDogMTEwLFxuICAgIC8qKiAvIG9uIHRoZSBudW1lcmljIGtleXBhZC4gKi9cbiAgICBWS19ESVZJREU6IDExMSxcbiAgICAvKiogRjEga2V5LiAqL1xuICAgIFZLX0YxOiAxMTIsXG4gICAgLyoqIEYyIGtleS4gKi9cbiAgICBWS19GMjogMTEzLFxuICAgIC8qKiBGMyBrZXkuICovXG4gICAgVktfRjM6IDExNCxcbiAgICAvKiogRjQga2V5LiAqL1xuICAgIFZLX0Y0OiAxMTUsXG4gICAgLyoqIEY1IGtleS4gKi9cbiAgICBWS19GNTogMTE2LFxuICAgIC8qKiBGNiBrZXkuICovXG4gICAgVktfRjY6IDExNyxcbiAgICAvKiogRjcga2V5LiAqL1xuICAgIFZLX0Y3OiAxMTgsXG4gICAgLyoqIEY4IGtleS4gKi9cbiAgICBWS19GODogMTE5LFxuICAgIC8qKiBGOSBrZXkuICovXG4gICAgVktfRjk6IDEyMCxcbiAgICAvKiogRjEwIGtleS4gKi9cbiAgICBWS19GMTA6IDEyMSxcbiAgICAvKiogRjExIGtleS4gKi9cbiAgICBWS19GMTE6IDEyMixcbiAgICAvKiogRjEyIGtleS4gKi9cbiAgICBWS19GMTI6IDEyMyxcbiAgICAvKiogRjEzIGtleS4gKi9cbiAgICBWS19GMTM6IDEyNCxcbiAgICAvKiogRjE0IGtleS4gKi9cbiAgICBWS19GMTQ6IDEyNSxcbiAgICAvKiogRjE1IGtleS4gKi9cbiAgICBWS19GMTU6IDEyNixcbiAgICAvKiogRjE2IGtleS4gKi9cbiAgICBWS19GMTY6IDEyNyxcbiAgICAvKiogRjE3IGtleS4gKi9cbiAgICBWS19GMTc6IDEyOCxcbiAgICAvKiogRjE4IGtleS4gKi9cbiAgICBWS19GMTg6IDEyOSxcbiAgICAvKiogRjE5IGtleS4gKi9cbiAgICBWS19GMTk6IDEzMCxcbiAgICAvKiogRjIwIGtleS4gKi9cbiAgICBWS19GMjA6IDEzMSxcbiAgICAvKiogRjIxIGtleS4gKi9cbiAgICBWS19GMjE6IDEzMixcbiAgICAvKiogRjIyIGtleS4gKi9cbiAgICBWS19GMjI6IDEzMyxcbiAgICAvKiogRjIzIGtleS4gKi9cbiAgICBWS19GMjM6IDEzNCxcbiAgICAvKiogRjI0IGtleS4gKi9cbiAgICBWS19GMjQ6IDEzNSxcbiAgICAvKiogTnVtIExvY2sga2V5LiAqL1xuICAgIFZLX05VTV9MT0NLOiAxNDQsXG4gICAgLyoqIFNjcm9sbCBMb2NrIGtleS4gKi9cbiAgICBWS19TQ1JPTExfTE9DSzogMTQ1LFxuICAgIC8qKiBDaXJjdW1mbGV4ICheKSBrZXkuIFJlcXVpcmVzIEdlY2tvIDE1LjAgKi9cbiAgICBWS19DSVJDVU1GTEVYOiAxNjAsXG4gICAgLyoqIEV4Y2xhbWF0aW9uICghKSBrZXkuIFJlcXVpcmVzIEdlY2tvIDE1LjAgKi9cbiAgICBWS19FWENMQU1BVElPTjogMTYxLFxuICAgIC8qKiBEb3VibGUgcXVvdGUgKCkga2V5LiBSZXF1aXJlcyBHZWNrbyAxNS4wICovXG4gICAgVktfRE9VQkxFX1FVT1RFOiAxNjIsXG4gICAgLyoqIEhhc2ggKCMpIGtleS4gUmVxdWlyZXMgR2Vja28gMTUuMCAqL1xuICAgIFZLX0hBU0g6IDE2MyxcbiAgICAvKiogRG9sbGFyIHNpZ24gKCQpIGtleS4gUmVxdWlyZXMgR2Vja28gMTUuMCAqL1xuICAgIFZLX0RPTExBUjogMTY0LFxuICAgIC8qKiBQZXJjZW50ICglKSBrZXkuIFJlcXVpcmVzIEdlY2tvIDE1LjAgKi9cbiAgICBWS19QRVJDRU5UOiAxNjUsXG4gICAgLyoqIEFtcGVyc2FuZCAoJikga2V5LiBSZXF1aXJlcyBHZWNrbyAxNS4wICovXG4gICAgVktfQU1QRVJTQU5EOiAxNjYsXG4gICAgLyoqIFVuZGVyc2NvcmUgKF8pIGtleS4gUmVxdWlyZXMgR2Vja28gMTUuMCAqL1xuICAgIFZLX1VOREVSU0NPUkU6IDE2NyxcbiAgICAvKiogT3BlbiBwYXJlbnRoZXNpcyAoKCkga2V5LiBSZXF1aXJlcyBHZWNrbyAxNS4wICovXG4gICAgVktfT1BFTl9QQVJFTjogMTY4LFxuICAgIC8qKiBDbG9zZSBwYXJlbnRoZXNpcyAoKSkga2V5LiBSZXF1aXJlcyBHZWNrbyAxNS4wICovXG4gICAgVktfQ0xPU0VfUEFSRU46IDE2OSxcbiAgICAvKiBBc3RlcmlzayAoKikga2V5LiBSZXF1aXJlcyBHZWNrbyAxNS4wICovXG4gICAgVktfQVNURVJJU0s6IDE3MCxcbiAgICAvKiogUGx1cyAoKykga2V5LiBSZXF1aXJlcyBHZWNrbyAxNS4wICovXG4gICAgVktfUExVUzogMTcxLFxuICAgIC8qKiBQaXBlICh8KSBrZXkuIFJlcXVpcmVzIEdlY2tvIDE1LjAgKi9cbiAgICBWS19QSVBFOiAxNzIsXG4gICAgLyoqIEh5cGhlbi1VUy9kb2NzL01pbnVzICgtKSBrZXkuIFJlcXVpcmVzIEdlY2tvIDE1LjAgKi9cbiAgICBWS19IWVBIRU5fTUlOVVM6IDE3MyxcbiAgICAvKiogT3BlbiBjdXJseSBicmFja2V0ICh7KSBrZXkuIFJlcXVpcmVzIEdlY2tvIDE1LjAgKi9cbiAgICBWS19PUEVOX0NVUkxZX0JSQUNLRVQ6IDE3NCxcbiAgICAvKiogQ2xvc2UgY3VybHkgYnJhY2tldCAofSkga2V5LiBSZXF1aXJlcyBHZWNrbyAxNS4wICovXG4gICAgVktfQ0xPU0VfQ1VSTFlfQlJBQ0tFVDogMTc1LFxuICAgIC8qKiBUaWxkZSAofikga2V5LiBSZXF1aXJlcyBHZWNrbyAxNS4wICovXG4gICAgVktfVElMREU6IDE3NixcbiAgICAvKiogQ29tbWEgKCwpIGtleS4gKi9cbiAgICBWS19DT01NQTogMTg4LFxuICAgIC8qKiBQZXJpb2QgKC4pIGtleS4gKi9cbiAgICBWS19QRVJJT0Q6IDE5MCxcbiAgICAvKiogU2xhc2ggKC8pIGtleS4gKi9cbiAgICBWS19TTEFTSDogMTkxLFxuICAgIC8qKiBCYWNrIHRpY2sgKGApIGtleS4gKi9cbiAgICBWS19CQUNLX1FVT1RFOiAxOTIsXG4gICAgLyoqIE9wZW4gc3F1YXJlIGJyYWNrZXQgKFspIGtleS4gKi9cbiAgICBWS19PUEVOX0JSQUNLRVQ6IDIxOSxcbiAgICAvKiogQmFjayBzbGFzaCAoXFwpIGtleS4gKi9cbiAgICBWS19CQUNLX1NMQVNIOiAyMjAsXG4gICAgLyoqIENsb3NlIHNxdWFyZSBicmFja2V0IChdKSBrZXkuICovXG4gICAgVktfQ0xPU0VfQlJBQ0tFVDogMjIxLFxuICAgIC8qKiBRdW90ZSAoJycnKSBrZXkuICovXG4gICAgVktfUVVPVEU6IDIyMixcbiAgICAvKiogTWV0YSBrZXkgb24gTGludXgsIENvbW1hbmQga2V5IG9uIE1hYy4gKi9cbiAgICBWS19NRVRBOiAyMjQsXG4gICAgLyoqIEFsdEdyIGtleSBvbiBMaW51eC4gUmVxdWlyZXMgR2Vja28gMTUuMCAqL1xuICAgIFZLX0FMVEdSOiAyMjUsXG4gICAgLyoqIFdpbmRvd3MgbG9nbyBrZXkgb24gV2luZG93cy4gT3IgU3VwZXIgb3IgSHlwZXIga2V5IG9uIExpbnV4LiBSZXF1aXJlcyBHZWNrbyAxNS4wICovXG4gICAgVktfV0lOOiA5MSxcbiAgICAvKiogTGludXggc3VwcG9ydCBmb3IgdGhpcyBrZXljb2RlIHdhcyBhZGRlZCBpbiBHZWNrbyA0LjAuICovXG4gICAgVktfS0FOQTogMjEsXG4gICAgLyoqIExpbnV4IHN1cHBvcnQgZm9yIHRoaXMga2V5Y29kZSB3YXMgYWRkZWQgaW4gR2Vja28gNC4wLiAqL1xuICAgIFZLX0hBTkdVTDogMjEsXG4gICAgLyoqIOiLseaVsCBrZXkgb24gSmFwYW5lc2UgTWFjIGtleWJvYXJkLiBSZXF1aXJlcyBHZWNrbyAxNS4wICovXG4gICAgVktfRUlTVTogMjIsXG4gICAgLyoqIExpbnV4IHN1cHBvcnQgZm9yIHRoaXMga2V5Y29kZSB3YXMgYWRkZWQgaW4gR2Vja28gNC4wLiAqL1xuICAgIFZLX0pVTkpBOiAyMyxcbiAgICAvKiogTGludXggc3VwcG9ydCBmb3IgdGhpcyBrZXljb2RlIHdhcyBhZGRlZCBpbiBHZWNrbyA0LjAuICovXG4gICAgVktfRklOQUw6IDI0LFxuICAgIC8qKiBMaW51eCBzdXBwb3J0IGZvciB0aGlzIGtleWNvZGUgd2FzIGFkZGVkIGluIEdlY2tvIDQuMC4gKi9cbiAgICBWS19IQU5KQTogMjUsXG4gICAgLyoqIExpbnV4IHN1cHBvcnQgZm9yIHRoaXMga2V5Y29kZSB3YXMgYWRkZWQgaW4gR2Vja28gNC4wLiAqL1xuICAgIFZLX0tBTkpJOiAyNSxcbiAgICAvKiogTGludXggc3VwcG9ydCBmb3IgdGhpcyBrZXljb2RlIHdhcyBhZGRlZCBpbiBHZWNrbyA0LjAuICovXG4gICAgVktfQ09OVkVSVDogMjgsXG4gICAgLyoqIExpbnV4IHN1cHBvcnQgZm9yIHRoaXMga2V5Y29kZSB3YXMgYWRkZWQgaW4gR2Vja28gNC4wLiAqL1xuICAgIFZLX05PTkNPTlZFUlQ6IDI5LFxuICAgIC8qKiBMaW51eCBzdXBwb3J0IGZvciB0aGlzIGtleWNvZGUgd2FzIGFkZGVkIGluIEdlY2tvIDQuMC4gKi9cbiAgICBWS19BQ0NFUFQ6IDMwLFxuICAgIC8qKiBMaW51eCBzdXBwb3J0IGZvciB0aGlzIGtleWNvZGUgd2FzIGFkZGVkIGluIEdlY2tvIDQuMC4gKi9cbiAgICBWS19NT0RFQ0hBTkdFOiAzMSxcbiAgICAvKiogTGludXggc3VwcG9ydCBmb3IgdGhpcyBrZXljb2RlIHdhcyBhZGRlZCBpbiBHZWNrbyA0LjAuICovXG4gICAgVktfU0VMRUNUOiA0MSxcbiAgICAvKiogTGludXggc3VwcG9ydCBmb3IgdGhpcyBrZXljb2RlIHdhcyBhZGRlZCBpbiBHZWNrbyA0LjAuICovXG4gICAgVktfUFJJTlQ6IDQyLFxuICAgIC8qKiBMaW51eCBzdXBwb3J0IGZvciB0aGlzIGtleWNvZGUgd2FzIGFkZGVkIGluIEdlY2tvIDQuMC4gKi9cbiAgICBWS19FWEVDVVRFOiA0MyxcbiAgICAvKiogTGludXggc3VwcG9ydCBmb3IgdGhpcyBrZXljb2RlIHdhcyBhZGRlZCBpbiBHZWNrbyA0LjAuXHQgKi9cbiAgICBWS19TTEVFUDogOTVcbn07XG4iLCJpbXBvcnQgSGV4IGZyb20gXCIuL2hleC5qc1wiO1xuaW1wb3J0IFJlY3QgZnJvbSBcIi4vcmVjdC5qc1wiO1xuaW1wb3J0IFRpbGUgZnJvbSBcIi4vdGlsZS5qc1wiO1xuaW1wb3J0IFRpbGVHTCBmcm9tIFwiLi90aWxlLWdsLmpzXCI7XG5pbXBvcnQgVGVybSBmcm9tIFwiLi90ZXJtLmpzXCI7XG5pbXBvcnQgKiBhcyBUZXh0IGZyb20gXCIuLi90ZXh0LmpzXCI7XG5pbXBvcnQgeyBERUZBVUxUX1dJRFRILCBERUZBVUxUX0hFSUdIVCB9IGZyb20gXCIuLi9jb25zdGFudHMuanNcIjtcbmNvbnN0IEJBQ0tFTkRTID0ge1xuICAgIFwiaGV4XCI6IEhleCxcbiAgICBcInJlY3RcIjogUmVjdCxcbiAgICBcInRpbGVcIjogVGlsZSxcbiAgICBcInRpbGUtZ2xcIjogVGlsZUdMLFxuICAgIFwidGVybVwiOiBUZXJtXG59O1xuY29uc3QgREVGQVVMVF9PUFRJT05TID0ge1xuICAgIHdpZHRoOiBERUZBVUxUX1dJRFRILFxuICAgIGhlaWdodDogREVGQVVMVF9IRUlHSFQsXG4gICAgdHJhbnNwb3NlOiBmYWxzZSxcbiAgICBsYXlvdXQ6IFwicmVjdFwiLFxuICAgIGZvbnRTaXplOiAxNSxcbiAgICBzcGFjaW5nOiAxLFxuICAgIGJvcmRlcjogMCxcbiAgICBmb3JjZVNxdWFyZVJhdGlvOiBmYWxzZSxcbiAgICBmb250RmFtaWx5OiBcIm1vbm9zcGFjZVwiLFxuICAgIGZvbnRTdHlsZTogXCJcIixcbiAgICBmZzogXCIjY2NjXCIsXG4gICAgYmc6IFwiIzAwMFwiLFxuICAgIHRpbGVXaWR0aDogMzIsXG4gICAgdGlsZUhlaWdodDogMzIsXG4gICAgdGlsZU1hcDoge30sXG4gICAgdGlsZVNldDogbnVsbCxcbiAgICB0aWxlQ29sb3JpemU6IGZhbHNlXG59O1xuLyoqXG4gKiBAY2xhc3MgVmlzdWFsIG1hcCBkaXNwbGF5XG4gKi9cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIERpc3BsYXkge1xuICAgIGNvbnN0cnVjdG9yKG9wdGlvbnMgPSB7fSkge1xuICAgICAgICB0aGlzLl9kYXRhID0ge307XG4gICAgICAgIHRoaXMuX2RpcnR5ID0gZmFsc2U7IC8vIGZhbHNlID0gbm90aGluZywgdHJ1ZSA9IGFsbCwgb2JqZWN0ID0gZGlydHkgY2VsbHNcbiAgICAgICAgdGhpcy5fb3B0aW9ucyA9IHt9O1xuICAgICAgICBvcHRpb25zID0gT2JqZWN0LmFzc2lnbih7fSwgREVGQVVMVF9PUFRJT05TLCBvcHRpb25zKTtcbiAgICAgICAgdGhpcy5zZXRPcHRpb25zKG9wdGlvbnMpO1xuICAgICAgICB0aGlzLkRFQlVHID0gdGhpcy5ERUJVRy5iaW5kKHRoaXMpO1xuICAgICAgICB0aGlzLl90aWNrID0gdGhpcy5fdGljay5iaW5kKHRoaXMpO1xuICAgICAgICB0aGlzLl9iYWNrZW5kLnNjaGVkdWxlKHRoaXMuX3RpY2spO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBEZWJ1ZyBoZWxwZXIsIGlkZWFsIGFzIGEgbWFwIGdlbmVyYXRvciBjYWxsYmFjay4gQWx3YXlzIGJvdW5kIHRvIHRoaXMuXG4gICAgICogQHBhcmFtIHtpbnR9IHhcbiAgICAgKiBAcGFyYW0ge2ludH0geVxuICAgICAqIEBwYXJhbSB7aW50fSB3aGF0XG4gICAgICovXG4gICAgREVCVUcoeCwgeSwgd2hhdCkge1xuICAgICAgICBsZXQgY29sb3JzID0gW3RoaXMuX29wdGlvbnMuYmcsIHRoaXMuX29wdGlvbnMuZmddO1xuICAgICAgICB0aGlzLmRyYXcoeCwgeSwgbnVsbCwgbnVsbCwgY29sb3JzW3doYXQgJSBjb2xvcnMubGVuZ3RoXSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENsZWFyIHRoZSB3aG9sZSBkaXNwbGF5IChjb3ZlciBpdCB3aXRoIGJhY2tncm91bmQgY29sb3IpXG4gICAgICovXG4gICAgY2xlYXIoKSB7XG4gICAgICAgIHRoaXMuX2RhdGEgPSB7fTtcbiAgICAgICAgdGhpcy5fZGlydHkgPSB0cnVlO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBAc2VlIFJPVC5EaXNwbGF5XG4gICAgICovXG4gICAgc2V0T3B0aW9ucyhvcHRpb25zKSB7XG4gICAgICAgIE9iamVjdC5hc3NpZ24odGhpcy5fb3B0aW9ucywgb3B0aW9ucyk7XG4gICAgICAgIGlmIChvcHRpb25zLndpZHRoIHx8IG9wdGlvbnMuaGVpZ2h0IHx8IG9wdGlvbnMuZm9udFNpemUgfHwgb3B0aW9ucy5mb250RmFtaWx5IHx8IG9wdGlvbnMuc3BhY2luZyB8fCBvcHRpb25zLmxheW91dCkge1xuICAgICAgICAgICAgaWYgKG9wdGlvbnMubGF5b3V0KSB7XG4gICAgICAgICAgICAgICAgbGV0IGN0b3IgPSBCQUNLRU5EU1tvcHRpb25zLmxheW91dF07XG4gICAgICAgICAgICAgICAgdGhpcy5fYmFja2VuZCA9IG5ldyBjdG9yKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLl9iYWNrZW5kLnNldE9wdGlvbnModGhpcy5fb3B0aW9ucyk7XG4gICAgICAgICAgICB0aGlzLl9kaXJ0eSA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJldHVybnMgY3VycmVudGx5IHNldCBvcHRpb25zXG4gICAgICovXG4gICAgZ2V0T3B0aW9ucygpIHsgcmV0dXJuIHRoaXMuX29wdGlvbnM7IH1cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIHRoZSBET00gbm9kZSBvZiB0aGlzIGRpc3BsYXlcbiAgICAgKi9cbiAgICBnZXRDb250YWluZXIoKSB7IHJldHVybiB0aGlzLl9iYWNrZW5kLmdldENvbnRhaW5lcigpOyB9XG4gICAgLyoqXG4gICAgICogQ29tcHV0ZSB0aGUgbWF4aW11bSB3aWR0aC9oZWlnaHQgdG8gZml0IGludG8gYSBzZXQgb2YgZ2l2ZW4gY29uc3RyYWludHNcbiAgICAgKiBAcGFyYW0ge2ludH0gYXZhaWxXaWR0aCBNYXhpbXVtIGFsbG93ZWQgcGl4ZWwgd2lkdGhcbiAgICAgKiBAcGFyYW0ge2ludH0gYXZhaWxIZWlnaHQgTWF4aW11bSBhbGxvd2VkIHBpeGVsIGhlaWdodFxuICAgICAqIEByZXR1cm5zIHtpbnRbMl19IGNlbGxXaWR0aCxjZWxsSGVpZ2h0XG4gICAgICovXG4gICAgY29tcHV0ZVNpemUoYXZhaWxXaWR0aCwgYXZhaWxIZWlnaHQpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2JhY2tlbmQuY29tcHV0ZVNpemUoYXZhaWxXaWR0aCwgYXZhaWxIZWlnaHQpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBDb21wdXRlIHRoZSBtYXhpbXVtIGZvbnQgc2l6ZSB0byBmaXQgaW50byBhIHNldCBvZiBnaXZlbiBjb25zdHJhaW50c1xuICAgICAqIEBwYXJhbSB7aW50fSBhdmFpbFdpZHRoIE1heGltdW0gYWxsb3dlZCBwaXhlbCB3aWR0aFxuICAgICAqIEBwYXJhbSB7aW50fSBhdmFpbEhlaWdodCBNYXhpbXVtIGFsbG93ZWQgcGl4ZWwgaGVpZ2h0XG4gICAgICogQHJldHVybnMge2ludH0gZm9udFNpemVcbiAgICAgKi9cbiAgICBjb21wdXRlRm9udFNpemUoYXZhaWxXaWR0aCwgYXZhaWxIZWlnaHQpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2JhY2tlbmQuY29tcHV0ZUZvbnRTaXplKGF2YWlsV2lkdGgsIGF2YWlsSGVpZ2h0KTtcbiAgICB9XG4gICAgY29tcHV0ZVRpbGVTaXplKGF2YWlsV2lkdGgsIGF2YWlsSGVpZ2h0KSB7XG4gICAgICAgIGxldCB3aWR0aCA9IE1hdGguZmxvb3IoYXZhaWxXaWR0aCAvIHRoaXMuX29wdGlvbnMud2lkdGgpO1xuICAgICAgICBsZXQgaGVpZ2h0ID0gTWF0aC5mbG9vcihhdmFpbEhlaWdodCAvIHRoaXMuX29wdGlvbnMuaGVpZ2h0KTtcbiAgICAgICAgcmV0dXJuIFt3aWR0aCwgaGVpZ2h0XTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQ29udmVydCBhIERPTSBldmVudCAobW91c2Ugb3IgdG91Y2gpIHRvIG1hcCBjb29yZGluYXRlcy4gVXNlcyBmaXJzdCB0b3VjaCBmb3IgbXVsdGktdG91Y2guXG4gICAgICogQHBhcmFtIHtFdmVudH0gZSBldmVudFxuICAgICAqIEByZXR1cm5zIHtpbnRbMl19IC0xIGZvciB2YWx1ZXMgb3V0c2lkZSBvZiB0aGUgY2FudmFzXG4gICAgICovXG4gICAgZXZlbnRUb1Bvc2l0aW9uKGUpIHtcbiAgICAgICAgbGV0IHgsIHk7XG4gICAgICAgIGlmIChcInRvdWNoZXNcIiBpbiBlKSB7XG4gICAgICAgICAgICB4ID0gZS50b3VjaGVzWzBdLmNsaWVudFg7XG4gICAgICAgICAgICB5ID0gZS50b3VjaGVzWzBdLmNsaWVudFk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB4ID0gZS5jbGllbnRYO1xuICAgICAgICAgICAgeSA9IGUuY2xpZW50WTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcy5fYmFja2VuZC5ldmVudFRvUG9zaXRpb24oeCwgeSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7aW50fSB4XG4gICAgICogQHBhcmFtIHtpbnR9IHlcbiAgICAgKiBAcGFyYW0ge3N0cmluZyB8fCBzdHJpbmdbXX0gY2ggT25lIG9yIG1vcmUgY2hhcnMgKHdpbGwgYmUgb3ZlcmxhcHBpbmcgdGhlbXNlbHZlcylcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW2ZnXSBmb3JlZ3JvdW5kIGNvbG9yXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFtiZ10gYmFja2dyb3VuZCBjb2xvclxuICAgICAqL1xuICAgIGRyYXcoeCwgeSwgY2gsIGZnLCBiZykge1xuICAgICAgICBpZiAoIWZnKSB7XG4gICAgICAgICAgICBmZyA9IHRoaXMuX29wdGlvbnMuZmc7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFiZykge1xuICAgICAgICAgICAgYmcgPSB0aGlzLl9vcHRpb25zLmJnO1xuICAgICAgICB9XG4gICAgICAgIGxldCBrZXkgPSBgJHt4fSwke3l9YDtcbiAgICAgICAgdGhpcy5fZGF0YVtrZXldID0gW3gsIHksIGNoLCBmZywgYmddO1xuICAgICAgICBpZiAodGhpcy5fZGlydHkgPT09IHRydWUpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfSAvLyB3aWxsIGFscmVhZHkgcmVkcmF3IGV2ZXJ5dGhpbmcgXG4gICAgICAgIGlmICghdGhpcy5fZGlydHkpIHtcbiAgICAgICAgICAgIHRoaXMuX2RpcnR5ID0ge307XG4gICAgICAgIH0gLy8gZmlyc3QhXG4gICAgICAgIHRoaXMuX2RpcnR5W2tleV0gPSB0cnVlO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBEcmF3cyBhIHRleHQgYXQgZ2l2ZW4gcG9zaXRpb24uIE9wdGlvbmFsbHkgd3JhcHMgYXQgYSBtYXhpbXVtIGxlbmd0aC4gQ3VycmVudGx5IGRvZXMgbm90IHdvcmsgd2l0aCBoZXggbGF5b3V0LlxuICAgICAqIEBwYXJhbSB7aW50fSB4XG4gICAgICogQHBhcmFtIHtpbnR9IHlcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gdGV4dCBNYXkgY29udGFpbiBjb2xvci9iYWNrZ3JvdW5kIGZvcm1hdCBzcGVjaWZpZXJzLCAlY3tuYW1lfS8lYntuYW1lfSwgYm90aCBvcHRpb25hbC4gJWN7fS8lYnt9IHJlc2V0cyB0byBkZWZhdWx0LlxuICAgICAqIEBwYXJhbSB7aW50fSBbbWF4V2lkdGhdIHdyYXAgYXQgd2hhdCB3aWR0aD9cbiAgICAgKiBAcmV0dXJucyB7aW50fSBsaW5lcyBkcmF3blxuICAgICAqL1xuICAgIGRyYXdUZXh0KHgsIHksIHRleHQsIG1heFdpZHRoKSB7XG4gICAgICAgIGxldCBmZyA9IG51bGw7XG4gICAgICAgIGxldCBiZyA9IG51bGw7XG4gICAgICAgIGxldCBjeCA9IHg7XG4gICAgICAgIGxldCBjeSA9IHk7XG4gICAgICAgIGxldCBsaW5lcyA9IDE7XG4gICAgICAgIGlmICghbWF4V2lkdGgpIHtcbiAgICAgICAgICAgIG1heFdpZHRoID0gdGhpcy5fb3B0aW9ucy53aWR0aCAtIHg7XG4gICAgICAgIH1cbiAgICAgICAgbGV0IHRva2VucyA9IFRleHQudG9rZW5pemUodGV4dCwgbWF4V2lkdGgpO1xuICAgICAgICB3aGlsZSAodG9rZW5zLmxlbmd0aCkgeyAvLyBpbnRlcnByZXQgdG9rZW5pemVkIG9wY29kZSBzdHJlYW1cbiAgICAgICAgICAgIGxldCB0b2tlbiA9IHRva2Vucy5zaGlmdCgpO1xuICAgICAgICAgICAgc3dpdGNoICh0b2tlbi50eXBlKSB7XG4gICAgICAgICAgICAgICAgY2FzZSBUZXh0LlRZUEVfVEVYVDpcbiAgICAgICAgICAgICAgICAgICAgbGV0IGlzU3BhY2UgPSBmYWxzZSwgaXNQcmV2U3BhY2UgPSBmYWxzZSwgaXNGdWxsV2lkdGggPSBmYWxzZSwgaXNQcmV2RnVsbFdpZHRoID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdG9rZW4udmFsdWUubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGxldCBjYyA9IHRva2VuLnZhbHVlLmNoYXJDb2RlQXQoaSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBsZXQgYyA9IHRva2VuLnZhbHVlLmNoYXJBdChpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIEFzc2lnbiB0byBgdHJ1ZWAgd2hlbiB0aGUgY3VycmVudCBjaGFyIGlzIGZ1bGwtd2lkdGguXG4gICAgICAgICAgICAgICAgICAgICAgICBpc0Z1bGxXaWR0aCA9IChjYyA+IDB4ZmYwMCAmJiBjYyA8IDB4ZmY2MSkgfHwgKGNjID4gMHhmZmRjICYmIGNjIDwgMHhmZmU4KSB8fCBjYyA+IDB4ZmZlZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIEN1cnJlbnQgY2hhciBpcyBzcGFjZSwgd2hhdGV2ZXIgZnVsbC13aWR0aCBvciBoYWxmLXdpZHRoIGJvdGggYXJlIE9LLlxuICAgICAgICAgICAgICAgICAgICAgICAgaXNTcGFjZSA9IChjLmNoYXJDb2RlQXQoMCkgPT0gMHgyMCB8fCBjLmNoYXJDb2RlQXQoMCkgPT0gMHgzMDAwKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIFRoZSBwcmV2aW91cyBjaGFyIGlzIGZ1bGwtd2lkdGggYW5kXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBjdXJyZW50IGNoYXIgaXMgbmV0aGVyIGhhbGYtd2lkdGggbm9yIGEgc3BhY2UuXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoaXNQcmV2RnVsbFdpZHRoICYmICFpc0Z1bGxXaWR0aCAmJiAhaXNTcGFjZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN4Kys7XG4gICAgICAgICAgICAgICAgICAgICAgICB9IC8vIGFkZCBhbiBleHRyYSBwb3NpdGlvblxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gVGhlIGN1cnJlbnQgY2hhciBpcyBmdWxsLXdpZHRoIGFuZFxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gdGhlIHByZXZpb3VzIGNoYXIgaXMgbm90IGEgc3BhY2UuXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoaXNGdWxsV2lkdGggJiYgIWlzUHJldlNwYWNlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY3grKztcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gLy8gYWRkIGFuIGV4dHJhIHBvc2l0aW9uXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmRyYXcoY3grKywgY3ksIGMsIGZnLCBiZyk7XG4gICAgICAgICAgICAgICAgICAgICAgICBpc1ByZXZTcGFjZSA9IGlzU3BhY2U7XG4gICAgICAgICAgICAgICAgICAgICAgICBpc1ByZXZGdWxsV2lkdGggPSBpc0Z1bGxXaWR0aDtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIFRleHQuVFlQRV9GRzpcbiAgICAgICAgICAgICAgICAgICAgZmcgPSB0b2tlbi52YWx1ZSB8fCBudWxsO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIFRleHQuVFlQRV9CRzpcbiAgICAgICAgICAgICAgICAgICAgYmcgPSB0b2tlbi52YWx1ZSB8fCBudWxsO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIFRleHQuVFlQRV9ORVdMSU5FOlxuICAgICAgICAgICAgICAgICAgICBjeCA9IHg7XG4gICAgICAgICAgICAgICAgICAgIGN5Kys7XG4gICAgICAgICAgICAgICAgICAgIGxpbmVzKys7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBsaW5lcztcbiAgICB9XG4gICAgLyoqXG4gICAgICogVGltZXIgdGljazogdXBkYXRlIGRpcnR5IHBhcnRzXG4gICAgICovXG4gICAgX3RpY2soKSB7XG4gICAgICAgIHRoaXMuX2JhY2tlbmQuc2NoZWR1bGUodGhpcy5fdGljayk7XG4gICAgICAgIGlmICghdGhpcy5fZGlydHkpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5fZGlydHkgPT09IHRydWUpIHsgLy8gZHJhdyBhbGxcbiAgICAgICAgICAgIHRoaXMuX2JhY2tlbmQuY2xlYXIoKTtcbiAgICAgICAgICAgIGZvciAobGV0IGlkIGluIHRoaXMuX2RhdGEpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9kcmF3KGlkLCBmYWxzZSk7XG4gICAgICAgICAgICB9IC8vIHJlZHJhdyBjYWNoZWQgZGF0YSBcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHsgLy8gZHJhdyBvbmx5IGRpcnR5IFxuICAgICAgICAgICAgZm9yIChsZXQga2V5IGluIHRoaXMuX2RpcnR5KSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fZHJhdyhrZXksIHRydWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHRoaXMuX2RpcnR5ID0gZmFsc2U7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgV2hhdCB0byBkcmF3XG4gICAgICogQHBhcmFtIHtib29sfSBjbGVhckJlZm9yZSBJcyBpdCBuZWNlc3NhcnkgdG8gY2xlYW4gYmVmb3JlP1xuICAgICAqL1xuICAgIF9kcmF3KGtleSwgY2xlYXJCZWZvcmUpIHtcbiAgICAgICAgbGV0IGRhdGEgPSB0aGlzLl9kYXRhW2tleV07XG4gICAgICAgIGlmIChkYXRhWzRdICE9IHRoaXMuX29wdGlvbnMuYmcpIHtcbiAgICAgICAgICAgIGNsZWFyQmVmb3JlID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl9iYWNrZW5kLmRyYXcoZGF0YSwgY2xlYXJCZWZvcmUpO1xuICAgIH1cbn1cbkRpc3BsYXkuUmVjdCA9IFJlY3Q7XG5EaXNwbGF5LkhleCA9IEhleDtcbkRpc3BsYXkuVGlsZSA9IFRpbGU7XG5EaXNwbGF5LlRpbGVHTCA9IFRpbGVHTDtcbkRpc3BsYXkuVGVybSA9IFRlcm07XG4iLCJpbXBvcnQgUk5HIGZyb20gXCIuL3JuZy5qc1wiO1xuLyoqXG4gKiBAY2xhc3MgKE1hcmtvdiBwcm9jZXNzKS1iYXNlZCBzdHJpbmcgZ2VuZXJhdG9yLlxuICogQ29waWVkIGZyb20gYSA8YSBocmVmPVwiaHR0cDovL3d3dy5yb2d1ZWJhc2luLnJvZ3VlbGlrZWRldmVsb3BtZW50Lm9yZy9pbmRleC5waHA/dGl0bGU9TmFtZXNfZnJvbV9hX2hpZ2hfb3JkZXJfTWFya292X1Byb2Nlc3NfYW5kX2Ffc2ltcGxpZmllZF9LYXR6X2JhY2stb2ZmX3NjaGVtZVwiPlJvZ3VlQmFzaW4gYXJ0aWNsZTwvYT4uXG4gKiBPZmZlcnMgY29uZmlndXJhYmxlIG9yZGVyIGFuZCBwcmlvci5cbiAqL1xuZXhwb3J0IGRlZmF1bHQgY2xhc3MgU3RyaW5nR2VuZXJhdG9yIHtcbiAgICBjb25zdHJ1Y3RvcihvcHRpb25zKSB7XG4gICAgICAgIHRoaXMuX29wdGlvbnMgPSB7XG4gICAgICAgICAgICB3b3JkczogZmFsc2UsXG4gICAgICAgICAgICBvcmRlcjogMyxcbiAgICAgICAgICAgIHByaW9yOiAwLjAwMVxuICAgICAgICB9O1xuICAgICAgICBPYmplY3QuYXNzaWduKHRoaXMuX29wdGlvbnMsIG9wdGlvbnMpO1xuICAgICAgICB0aGlzLl9ib3VuZGFyeSA9IFN0cmluZy5mcm9tQ2hhckNvZGUoMCk7XG4gICAgICAgIHRoaXMuX3N1ZmZpeCA9IHRoaXMuX2JvdW5kYXJ5O1xuICAgICAgICB0aGlzLl9wcmVmaXggPSBbXTtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLl9vcHRpb25zLm9yZGVyOyBpKyspIHtcbiAgICAgICAgICAgIHRoaXMuX3ByZWZpeC5wdXNoKHRoaXMuX2JvdW5kYXJ5KTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl9wcmlvclZhbHVlcyA9IHt9O1xuICAgICAgICB0aGlzLl9wcmlvclZhbHVlc1t0aGlzLl9ib3VuZGFyeV0gPSB0aGlzLl9vcHRpb25zLnByaW9yO1xuICAgICAgICB0aGlzLl9kYXRhID0ge307XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJlbW92ZSBhbGwgbGVhcm5pbmcgZGF0YVxuICAgICAqL1xuICAgIGNsZWFyKCkge1xuICAgICAgICB0aGlzLl9kYXRhID0ge307XG4gICAgICAgIHRoaXMuX3ByaW9yVmFsdWVzID0ge307XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEByZXR1cm5zIHtzdHJpbmd9IEdlbmVyYXRlZCBzdHJpbmdcbiAgICAgKi9cbiAgICBnZW5lcmF0ZSgpIHtcbiAgICAgICAgbGV0IHJlc3VsdCA9IFt0aGlzLl9zYW1wbGUodGhpcy5fcHJlZml4KV07XG4gICAgICAgIHdoaWxlIChyZXN1bHRbcmVzdWx0Lmxlbmd0aCAtIDFdICE9IHRoaXMuX2JvdW5kYXJ5KSB7XG4gICAgICAgICAgICByZXN1bHQucHVzaCh0aGlzLl9zYW1wbGUocmVzdWx0KSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMuX2pvaW4ocmVzdWx0LnNsaWNlKDAsIC0xKSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIE9ic2VydmUgKGxlYXJuKSBhIHN0cmluZyBmcm9tIGEgdHJhaW5pbmcgc2V0XG4gICAgICovXG4gICAgb2JzZXJ2ZShzdHJpbmcpIHtcbiAgICAgICAgbGV0IHRva2VucyA9IHRoaXMuX3NwbGl0KHN0cmluZyk7XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdG9rZW5zLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICB0aGlzLl9wcmlvclZhbHVlc1t0b2tlbnNbaV1dID0gdGhpcy5fb3B0aW9ucy5wcmlvcjtcbiAgICAgICAgfVxuICAgICAgICB0b2tlbnMgPSB0aGlzLl9wcmVmaXguY29uY2F0KHRva2VucykuY29uY2F0KHRoaXMuX3N1ZmZpeCk7IC8qIGFkZCBib3VuZGFyeSBzeW1ib2xzICovXG4gICAgICAgIGZvciAobGV0IGkgPSB0aGlzLl9vcHRpb25zLm9yZGVyOyBpIDwgdG9rZW5zLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBsZXQgY29udGV4dCA9IHRva2Vucy5zbGljZShpIC0gdGhpcy5fb3B0aW9ucy5vcmRlciwgaSk7XG4gICAgICAgICAgICBsZXQgZXZlbnQgPSB0b2tlbnNbaV07XG4gICAgICAgICAgICBmb3IgKGxldCBqID0gMDsgaiA8IGNvbnRleHQubGVuZ3RoOyBqKyspIHtcbiAgICAgICAgICAgICAgICBsZXQgc3ViY29udGV4dCA9IGNvbnRleHQuc2xpY2Uoaik7XG4gICAgICAgICAgICAgICAgdGhpcy5fb2JzZXJ2ZUV2ZW50KHN1YmNvbnRleHQsIGV2ZW50KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICBnZXRTdGF0cygpIHtcbiAgICAgICAgbGV0IHBhcnRzID0gW107XG4gICAgICAgIGxldCBwcmlvckNvdW50ID0gT2JqZWN0LmtleXModGhpcy5fcHJpb3JWYWx1ZXMpLmxlbmd0aDtcbiAgICAgICAgcHJpb3JDb3VudC0tOyAvLyBib3VuZGFyeVxuICAgICAgICBwYXJ0cy5wdXNoKFwiZGlzdGluY3Qgc2FtcGxlczogXCIgKyBwcmlvckNvdW50KTtcbiAgICAgICAgbGV0IGRhdGFDb3VudCA9IE9iamVjdC5rZXlzKHRoaXMuX2RhdGEpLmxlbmd0aDtcbiAgICAgICAgbGV0IGV2ZW50Q291bnQgPSAwO1xuICAgICAgICBmb3IgKGxldCBwIGluIHRoaXMuX2RhdGEpIHtcbiAgICAgICAgICAgIGV2ZW50Q291bnQgKz0gT2JqZWN0LmtleXModGhpcy5fZGF0YVtwXSkubGVuZ3RoO1xuICAgICAgICB9XG4gICAgICAgIHBhcnRzLnB1c2goXCJkaWN0aW9uYXJ5IHNpemUgKGNvbnRleHRzKTogXCIgKyBkYXRhQ291bnQpO1xuICAgICAgICBwYXJ0cy5wdXNoKFwiZGljdGlvbmFyeSBzaXplIChldmVudHMpOiBcIiArIGV2ZW50Q291bnQpO1xuICAgICAgICByZXR1cm4gcGFydHMuam9pbihcIiwgXCIpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge3N0cmluZ31cbiAgICAgKiBAcmV0dXJucyB7c3RyaW5nW119XG4gICAgICovXG4gICAgX3NwbGl0KHN0cikge1xuICAgICAgICByZXR1cm4gc3RyLnNwbGl0KHRoaXMuX29wdGlvbnMud29yZHMgPyAvXFxzKy8gOiBcIlwiKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtzdHJpbmdbXX1cbiAgICAgKiBAcmV0dXJucyB7c3RyaW5nfVxuICAgICAqL1xuICAgIF9qb2luKGFycikge1xuICAgICAgICByZXR1cm4gYXJyLmpvaW4odGhpcy5fb3B0aW9ucy53b3JkcyA/IFwiIFwiIDogXCJcIik7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7c3RyaW5nW119IGNvbnRleHRcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gZXZlbnRcbiAgICAgKi9cbiAgICBfb2JzZXJ2ZUV2ZW50KGNvbnRleHQsIGV2ZW50KSB7XG4gICAgICAgIGxldCBrZXkgPSB0aGlzLl9qb2luKGNvbnRleHQpO1xuICAgICAgICBpZiAoIShrZXkgaW4gdGhpcy5fZGF0YSkpIHtcbiAgICAgICAgICAgIHRoaXMuX2RhdGFba2V5XSA9IHt9O1xuICAgICAgICB9XG4gICAgICAgIGxldCBkYXRhID0gdGhpcy5fZGF0YVtrZXldO1xuICAgICAgICBpZiAoIShldmVudCBpbiBkYXRhKSkge1xuICAgICAgICAgICAgZGF0YVtldmVudF0gPSAwO1xuICAgICAgICB9XG4gICAgICAgIGRhdGFbZXZlbnRdKys7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7c3RyaW5nW119XG4gICAgICogQHJldHVybnMge3N0cmluZ31cbiAgICAgKi9cbiAgICBfc2FtcGxlKGNvbnRleHQpIHtcbiAgICAgICAgY29udGV4dCA9IHRoaXMuX2JhY2tvZmYoY29udGV4dCk7XG4gICAgICAgIGxldCBrZXkgPSB0aGlzLl9qb2luKGNvbnRleHQpO1xuICAgICAgICBsZXQgZGF0YSA9IHRoaXMuX2RhdGFba2V5XTtcbiAgICAgICAgbGV0IGF2YWlsYWJsZSA9IHt9O1xuICAgICAgICBpZiAodGhpcy5fb3B0aW9ucy5wcmlvcikge1xuICAgICAgICAgICAgZm9yIChsZXQgZXZlbnQgaW4gdGhpcy5fcHJpb3JWYWx1ZXMpIHtcbiAgICAgICAgICAgICAgICBhdmFpbGFibGVbZXZlbnRdID0gdGhpcy5fcHJpb3JWYWx1ZXNbZXZlbnRdO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZm9yIChsZXQgZXZlbnQgaW4gZGF0YSkge1xuICAgICAgICAgICAgICAgIGF2YWlsYWJsZVtldmVudF0gKz0gZGF0YVtldmVudF07XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBhdmFpbGFibGUgPSBkYXRhO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBSTkcuZ2V0V2VpZ2h0ZWRWYWx1ZShhdmFpbGFibGUpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge3N0cmluZ1tdfVxuICAgICAqIEByZXR1cm5zIHtzdHJpbmdbXX1cbiAgICAgKi9cbiAgICBfYmFja29mZihjb250ZXh0KSB7XG4gICAgICAgIGlmIChjb250ZXh0Lmxlbmd0aCA+IHRoaXMuX29wdGlvbnMub3JkZXIpIHtcbiAgICAgICAgICAgIGNvbnRleHQgPSBjb250ZXh0LnNsaWNlKC10aGlzLl9vcHRpb25zLm9yZGVyKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChjb250ZXh0Lmxlbmd0aCA8IHRoaXMuX29wdGlvbnMub3JkZXIpIHtcbiAgICAgICAgICAgIGNvbnRleHQgPSB0aGlzLl9wcmVmaXguc2xpY2UoMCwgdGhpcy5fb3B0aW9ucy5vcmRlciAtIGNvbnRleHQubGVuZ3RoKS5jb25jYXQoY29udGV4dCk7XG4gICAgICAgIH1cbiAgICAgICAgd2hpbGUgKCEodGhpcy5fam9pbihjb250ZXh0KSBpbiB0aGlzLl9kYXRhKSAmJiBjb250ZXh0Lmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIGNvbnRleHQgPSBjb250ZXh0LnNsaWNlKDEpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBjb250ZXh0O1xuICAgIH1cbn1cbiIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIEV2ZW50UXVldWUge1xuICAgIC8qKlxuICAgICAqIEBjbGFzcyBHZW5lcmljIGV2ZW50IHF1ZXVlOiBzdG9yZXMgZXZlbnRzIGFuZCByZXRyaWV2ZXMgdGhlbSBiYXNlZCBvbiB0aGVpciB0aW1lXG4gICAgICovXG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHRoaXMuX3RpbWUgPSAwO1xuICAgICAgICB0aGlzLl9ldmVudHMgPSBbXTtcbiAgICAgICAgdGhpcy5fZXZlbnRUaW1lcyA9IFtdO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBAcmV0dXJucyB7bnVtYmVyfSBFbGFwc2VkIHRpbWVcbiAgICAgKi9cbiAgICBnZXRUaW1lKCkgeyByZXR1cm4gdGhpcy5fdGltZTsgfVxuICAgIC8qKlxuICAgICAqIENsZWFyIGFsbCBzY2hlZHVsZWQgZXZlbnRzXG4gICAgICovXG4gICAgY2xlYXIoKSB7XG4gICAgICAgIHRoaXMuX2V2ZW50cyA9IFtdO1xuICAgICAgICB0aGlzLl9ldmVudFRpbWVzID0gW107XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBAcGFyYW0gez99IGV2ZW50XG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHRpbWVcbiAgICAgKi9cbiAgICBhZGQoZXZlbnQsIHRpbWUpIHtcbiAgICAgICAgbGV0IGluZGV4ID0gdGhpcy5fZXZlbnRzLmxlbmd0aDtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLl9ldmVudFRpbWVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5fZXZlbnRUaW1lc1tpXSA+IHRpbWUpIHtcbiAgICAgICAgICAgICAgICBpbmRleCA9IGk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fZXZlbnRzLnNwbGljZShpbmRleCwgMCwgZXZlbnQpO1xuICAgICAgICB0aGlzLl9ldmVudFRpbWVzLnNwbGljZShpbmRleCwgMCwgdGltZSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIExvY2F0ZXMgdGhlIG5lYXJlc3QgZXZlbnQsIGFkdmFuY2VzIHRpbWUgaWYgbmVjZXNzYXJ5LiBSZXR1cm5zIHRoYXQgZXZlbnQgYW5kIHJlbW92ZXMgaXQgZnJvbSB0aGUgcXVldWUuXG4gICAgICogQHJldHVybnMgez8gfHwgbnVsbH0gVGhlIGV2ZW50IHByZXZpb3VzbHkgYWRkZWQgYnkgYWRkRXZlbnQsIG51bGwgaWYgbm8gZXZlbnQgYXZhaWxhYmxlXG4gICAgICovXG4gICAgZ2V0KCkge1xuICAgICAgICBpZiAoIXRoaXMuX2V2ZW50cy5sZW5ndGgpIHtcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICB9XG4gICAgICAgIGxldCB0aW1lID0gdGhpcy5fZXZlbnRUaW1lcy5zcGxpY2UoMCwgMSlbMF07XG4gICAgICAgIGlmICh0aW1lID4gMCkgeyAvKiBhZHZhbmNlICovXG4gICAgICAgICAgICB0aGlzLl90aW1lICs9IHRpbWU7XG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMuX2V2ZW50VGltZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9ldmVudFRpbWVzW2ldIC09IHRpbWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMuX2V2ZW50cy5zcGxpY2UoMCwgMSlbMF07XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEdldCB0aGUgdGltZSBhc3NvY2lhdGVkIHdpdGggdGhlIGdpdmVuIGV2ZW50XG4gICAgICogQHBhcmFtIHs/fSBldmVudFxuICAgICAqIEByZXR1cm5zIHtudW1iZXJ9IHRpbWVcbiAgICAgKi9cbiAgICBnZXRFdmVudFRpbWUoZXZlbnQpIHtcbiAgICAgICAgbGV0IGluZGV4ID0gdGhpcy5fZXZlbnRzLmluZGV4T2YoZXZlbnQpO1xuICAgICAgICBpZiAoaW5kZXggPT0gLTEpIHtcbiAgICAgICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMuX2V2ZW50VGltZXNbaW5kZXhdO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBSZW1vdmUgYW4gZXZlbnQgZnJvbSB0aGUgcXVldWVcbiAgICAgKiBAcGFyYW0gez99IGV2ZW50XG4gICAgICogQHJldHVybnMge2Jvb2x9IHN1Y2Nlc3M/XG4gICAgICovXG4gICAgcmVtb3ZlKGV2ZW50KSB7XG4gICAgICAgIGxldCBpbmRleCA9IHRoaXMuX2V2ZW50cy5pbmRleE9mKGV2ZW50KTtcbiAgICAgICAgaWYgKGluZGV4ID09IC0xKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fcmVtb3ZlKGluZGV4KTtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIDtcbiAgICAvKipcbiAgICAgKiBSZW1vdmUgYW4gZXZlbnQgZnJvbSB0aGUgcXVldWVcbiAgICAgKiBAcGFyYW0ge2ludH0gaW5kZXhcbiAgICAgKi9cbiAgICBfcmVtb3ZlKGluZGV4KSB7XG4gICAgICAgIHRoaXMuX2V2ZW50cy5zcGxpY2UoaW5kZXgsIDEpO1xuICAgICAgICB0aGlzLl9ldmVudFRpbWVzLnNwbGljZShpbmRleCwgMSk7XG4gICAgfVxuICAgIDtcbn1cbiIsImltcG9ydCBFdmVudFF1ZXVlIGZyb20gXCIuLi9ldmVudHF1ZXVlLmpzXCI7XG5leHBvcnQgZGVmYXVsdCBjbGFzcyBTY2hlZHVsZXIge1xuICAgIC8qKlxuICAgICAqIEBjbGFzcyBBYnN0cmFjdCBzY2hlZHVsZXJcbiAgICAgKi9cbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgdGhpcy5fcXVldWUgPSBuZXcgRXZlbnRRdWV1ZSgpO1xuICAgICAgICB0aGlzLl9yZXBlYXQgPSBbXTtcbiAgICAgICAgdGhpcy5fY3VycmVudCA9IG51bGw7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEBzZWUgUk9ULkV2ZW50UXVldWUjZ2V0VGltZVxuICAgICAqL1xuICAgIGdldFRpbWUoKSB7IHJldHVybiB0aGlzLl9xdWV1ZS5nZXRUaW1lKCk7IH1cbiAgICAvKipcbiAgICAgKiBAcGFyYW0gez99IGl0ZW1cbiAgICAgKiBAcGFyYW0ge2Jvb2x9IHJlcGVhdFxuICAgICAqL1xuICAgIGFkZChpdGVtLCByZXBlYXQpIHtcbiAgICAgICAgaWYgKHJlcGVhdCkge1xuICAgICAgICAgICAgdGhpcy5fcmVwZWF0LnB1c2goaXRlbSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEdldCB0aGUgdGltZSB0aGUgZ2l2ZW4gaXRlbSBpcyBzY2hlZHVsZWQgZm9yXG4gICAgICogQHBhcmFtIHs/fSBpdGVtXG4gICAgICogQHJldHVybnMge251bWJlcn0gdGltZVxuICAgICAqL1xuICAgIGdldFRpbWVPZihpdGVtKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9xdWV1ZS5nZXRFdmVudFRpbWUoaXRlbSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENsZWFyIGFsbCBpdGVtc1xuICAgICAqL1xuICAgIGNsZWFyKCkge1xuICAgICAgICB0aGlzLl9xdWV1ZS5jbGVhcigpO1xuICAgICAgICB0aGlzLl9yZXBlYXQgPSBbXTtcbiAgICAgICAgdGhpcy5fY3VycmVudCA9IG51bGw7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBSZW1vdmUgYSBwcmV2aW91c2x5IGFkZGVkIGl0ZW1cbiAgICAgKiBAcGFyYW0gez99IGl0ZW1cbiAgICAgKiBAcmV0dXJucyB7Ym9vbH0gc3VjY2Vzc2Z1bD9cbiAgICAgKi9cbiAgICByZW1vdmUoaXRlbSkge1xuICAgICAgICBsZXQgcmVzdWx0ID0gdGhpcy5fcXVldWUucmVtb3ZlKGl0ZW0pO1xuICAgICAgICBsZXQgaW5kZXggPSB0aGlzLl9yZXBlYXQuaW5kZXhPZihpdGVtKTtcbiAgICAgICAgaWYgKGluZGV4ICE9IC0xKSB7XG4gICAgICAgICAgICB0aGlzLl9yZXBlYXQuc3BsaWNlKGluZGV4LCAxKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5fY3VycmVudCA9PSBpdGVtKSB7XG4gICAgICAgICAgICB0aGlzLl9jdXJyZW50ID0gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBTY2hlZHVsZSBuZXh0IGl0ZW1cbiAgICAgKiBAcmV0dXJucyB7P31cbiAgICAgKi9cbiAgICBuZXh0KCkge1xuICAgICAgICB0aGlzLl9jdXJyZW50ID0gdGhpcy5fcXVldWUuZ2V0KCk7XG4gICAgICAgIHJldHVybiB0aGlzLl9jdXJyZW50O1xuICAgIH1cbn1cbiIsImltcG9ydCBTaW1wbGUgZnJvbSBcIi4vc2ltcGxlLmpzXCI7XG5pbXBvcnQgU3BlZWQgZnJvbSBcIi4vc3BlZWQuanNcIjtcbmltcG9ydCBBY3Rpb24gZnJvbSBcIi4vYWN0aW9uLmpzXCI7XG5leHBvcnQgZGVmYXVsdCB7IFNpbXBsZSwgU3BlZWQsIEFjdGlvbiB9O1xuIiwiaW1wb3J0IFNjaGVkdWxlciBmcm9tIFwiLi9zY2hlZHVsZXIuanNcIjtcbi8qKlxuICogQGNsYXNzIFNpbXBsZSBmYWlyIHNjaGVkdWxlciAocm91bmQtcm9iaW4gc3R5bGUpXG4gKi9cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFNpbXBsZSBleHRlbmRzIFNjaGVkdWxlciB7XG4gICAgYWRkKGl0ZW0sIHJlcGVhdCkge1xuICAgICAgICB0aGlzLl9xdWV1ZS5hZGQoaXRlbSwgMCk7XG4gICAgICAgIHJldHVybiBzdXBlci5hZGQoaXRlbSwgcmVwZWF0KTtcbiAgICB9XG4gICAgbmV4dCgpIHtcbiAgICAgICAgaWYgKHRoaXMuX2N1cnJlbnQgIT09IG51bGwgJiYgdGhpcy5fcmVwZWF0LmluZGV4T2YodGhpcy5fY3VycmVudCkgIT0gLTEpIHtcbiAgICAgICAgICAgIHRoaXMuX3F1ZXVlLmFkZCh0aGlzLl9jdXJyZW50LCAwKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gc3VwZXIubmV4dCgpO1xuICAgIH1cbn1cbiIsImltcG9ydCBTY2hlZHVsZXIgZnJvbSBcIi4vc2NoZWR1bGVyLmpzXCI7XG4vKipcbiAqIEBjbGFzcyBTcGVlZC1iYXNlZCBzY2hlZHVsZXJcbiAqL1xuZXhwb3J0IGRlZmF1bHQgY2xhc3MgU3BlZWQgZXh0ZW5kcyBTY2hlZHVsZXIge1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7b2JqZWN0fSBpdGVtIGFueXRoaW5nIHdpdGggXCJnZXRTcGVlZFwiIG1ldGhvZFxuICAgICAqIEBwYXJhbSB7Ym9vbH0gcmVwZWF0XG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFt0aW1lPTEvaXRlbS5nZXRTcGVlZCgpXVxuICAgICAqIEBzZWUgUk9ULlNjaGVkdWxlciNhZGRcbiAgICAgKi9cbiAgICBhZGQoaXRlbSwgcmVwZWF0LCB0aW1lKSB7XG4gICAgICAgIHRoaXMuX3F1ZXVlLmFkZChpdGVtLCB0aW1lICE9PSB1bmRlZmluZWQgPyB0aW1lIDogMSAvIGl0ZW0uZ2V0U3BlZWQoKSk7XG4gICAgICAgIHJldHVybiBzdXBlci5hZGQoaXRlbSwgcmVwZWF0KTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQHNlZSBST1QuU2NoZWR1bGVyI25leHRcbiAgICAgKi9cbiAgICBuZXh0KCkge1xuICAgICAgICBpZiAodGhpcy5fY3VycmVudCAmJiB0aGlzLl9yZXBlYXQuaW5kZXhPZih0aGlzLl9jdXJyZW50KSAhPSAtMSkge1xuICAgICAgICAgICAgdGhpcy5fcXVldWUuYWRkKHRoaXMuX2N1cnJlbnQsIDEgLyB0aGlzLl9jdXJyZW50LmdldFNwZWVkKCkpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBzdXBlci5uZXh0KCk7XG4gICAgfVxufVxuIiwiaW1wb3J0IFNjaGVkdWxlciBmcm9tIFwiLi9zY2hlZHVsZXIuanNcIjtcbi8qKlxuICogQGNsYXNzIEFjdGlvbi1iYXNlZCBzY2hlZHVsZXJcbiAqIEBhdWdtZW50cyBST1QuU2NoZWR1bGVyXG4gKi9cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEFjdGlvbiBleHRlbmRzIFNjaGVkdWxlciB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHN1cGVyKCk7XG4gICAgICAgIHRoaXMuX2RlZmF1bHREdXJhdGlvbiA9IDE7IC8qIGZvciBuZXdseSBhZGRlZCAqL1xuICAgICAgICB0aGlzLl9kdXJhdGlvbiA9IHRoaXMuX2RlZmF1bHREdXJhdGlvbjsgLyogZm9yIHRoaXMuX2N1cnJlbnQgKi9cbiAgICB9XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtvYmplY3R9IGl0ZW1cbiAgICAgKiBAcGFyYW0ge2Jvb2x9IHJlcGVhdFxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbdGltZT0xXVxuICAgICAqIEBzZWUgUk9ULlNjaGVkdWxlciNhZGRcbiAgICAgKi9cbiAgICBhZGQoaXRlbSwgcmVwZWF0LCB0aW1lKSB7XG4gICAgICAgIHRoaXMuX3F1ZXVlLmFkZChpdGVtLCB0aW1lIHx8IHRoaXMuX2RlZmF1bHREdXJhdGlvbik7XG4gICAgICAgIHJldHVybiBzdXBlci5hZGQoaXRlbSwgcmVwZWF0KTtcbiAgICB9XG4gICAgY2xlYXIoKSB7XG4gICAgICAgIHRoaXMuX2R1cmF0aW9uID0gdGhpcy5fZGVmYXVsdER1cmF0aW9uO1xuICAgICAgICByZXR1cm4gc3VwZXIuY2xlYXIoKTtcbiAgICB9XG4gICAgcmVtb3ZlKGl0ZW0pIHtcbiAgICAgICAgaWYgKGl0ZW0gPT0gdGhpcy5fY3VycmVudCkge1xuICAgICAgICAgICAgdGhpcy5fZHVyYXRpb24gPSB0aGlzLl9kZWZhdWx0RHVyYXRpb247XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHN1cGVyLnJlbW92ZShpdGVtKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQHNlZSBST1QuU2NoZWR1bGVyI25leHRcbiAgICAgKi9cbiAgICBuZXh0KCkge1xuICAgICAgICBpZiAodGhpcy5fY3VycmVudCAhPT0gbnVsbCAmJiB0aGlzLl9yZXBlYXQuaW5kZXhPZih0aGlzLl9jdXJyZW50KSAhPSAtMSkge1xuICAgICAgICAgICAgdGhpcy5fcXVldWUuYWRkKHRoaXMuX2N1cnJlbnQsIHRoaXMuX2R1cmF0aW9uIHx8IHRoaXMuX2RlZmF1bHREdXJhdGlvbik7XG4gICAgICAgICAgICB0aGlzLl9kdXJhdGlvbiA9IHRoaXMuX2RlZmF1bHREdXJhdGlvbjtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gc3VwZXIubmV4dCgpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBTZXQgZHVyYXRpb24gZm9yIHRoZSBhY3RpdmUgaXRlbVxuICAgICAqL1xuICAgIHNldER1cmF0aW9uKHRpbWUpIHtcbiAgICAgICAgaWYgKHRoaXMuX2N1cnJlbnQpIHtcbiAgICAgICAgICAgIHRoaXMuX2R1cmF0aW9uID0gdGltZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG59XG4iLCJpbXBvcnQgeyBESVJTIH0gZnJvbSBcIi4uL2NvbnN0YW50cy5qc1wiO1xuO1xuO1xuZXhwb3J0IGRlZmF1bHQgY2xhc3MgRk9WIHtcbiAgICAvKipcbiAgICAgKiBAY2xhc3MgQWJzdHJhY3QgRk9WIGFsZ29yaXRobVxuICAgICAqIEBwYXJhbSB7ZnVuY3Rpb259IGxpZ2h0UGFzc2VzQ2FsbGJhY2sgRG9lcyB0aGUgbGlnaHQgcGFzcyB0aHJvdWdoIHgseT9cbiAgICAgKiBAcGFyYW0ge29iamVjdH0gW29wdGlvbnNdXG4gICAgICogQHBhcmFtIHtpbnR9IFtvcHRpb25zLnRvcG9sb2d5PThdIDQvNi84XG4gICAgICovXG4gICAgY29uc3RydWN0b3IobGlnaHRQYXNzZXNDYWxsYmFjaywgb3B0aW9ucyA9IHt9KSB7XG4gICAgICAgIHRoaXMuX2xpZ2h0UGFzc2VzID0gbGlnaHRQYXNzZXNDYWxsYmFjaztcbiAgICAgICAgdGhpcy5fb3B0aW9ucyA9IE9iamVjdC5hc3NpZ24oeyB0b3BvbG9neTogOCB9LCBvcHRpb25zKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogUmV0dXJuIGFsbCBuZWlnaGJvcnMgaW4gYSBjb25jZW50cmljIHJpbmdcbiAgICAgKiBAcGFyYW0ge2ludH0gY3ggY2VudGVyLXhcbiAgICAgKiBAcGFyYW0ge2ludH0gY3kgY2VudGVyLXlcbiAgICAgKiBAcGFyYW0ge2ludH0gciByYW5nZVxuICAgICAqL1xuICAgIF9nZXRDaXJjbGUoY3gsIGN5LCByKSB7XG4gICAgICAgIGxldCByZXN1bHQgPSBbXTtcbiAgICAgICAgbGV0IGRpcnMsIGNvdW50RmFjdG9yLCBzdGFydE9mZnNldDtcbiAgICAgICAgc3dpdGNoICh0aGlzLl9vcHRpb25zLnRvcG9sb2d5KSB7XG4gICAgICAgICAgICBjYXNlIDQ6XG4gICAgICAgICAgICAgICAgY291bnRGYWN0b3IgPSAxO1xuICAgICAgICAgICAgICAgIHN0YXJ0T2Zmc2V0ID0gWzAsIDFdO1xuICAgICAgICAgICAgICAgIGRpcnMgPSBbXG4gICAgICAgICAgICAgICAgICAgIERJUlNbOF1bN10sXG4gICAgICAgICAgICAgICAgICAgIERJUlNbOF1bMV0sXG4gICAgICAgICAgICAgICAgICAgIERJUlNbOF1bM10sXG4gICAgICAgICAgICAgICAgICAgIERJUlNbOF1bNV1cbiAgICAgICAgICAgICAgICBdO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSA2OlxuICAgICAgICAgICAgICAgIGRpcnMgPSBESVJTWzZdO1xuICAgICAgICAgICAgICAgIGNvdW50RmFjdG9yID0gMTtcbiAgICAgICAgICAgICAgICBzdGFydE9mZnNldCA9IFstMSwgMV07XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIDg6XG4gICAgICAgICAgICAgICAgZGlycyA9IERJUlNbNF07XG4gICAgICAgICAgICAgICAgY291bnRGYWN0b3IgPSAyO1xuICAgICAgICAgICAgICAgIHN0YXJ0T2Zmc2V0ID0gWy0xLCAxXTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiSW5jb3JyZWN0IHRvcG9sb2d5IGZvciBGT1YgY29tcHV0YXRpb25cIik7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgICAgLyogc3RhcnRpbmcgbmVpZ2hib3IgKi9cbiAgICAgICAgbGV0IHggPSBjeCArIHN0YXJ0T2Zmc2V0WzBdICogcjtcbiAgICAgICAgbGV0IHkgPSBjeSArIHN0YXJ0T2Zmc2V0WzFdICogcjtcbiAgICAgICAgLyogY2lyY2xlICovXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgZGlycy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgZm9yIChsZXQgaiA9IDA7IGogPCByICogY291bnRGYWN0b3I7IGorKykge1xuICAgICAgICAgICAgICAgIHJlc3VsdC5wdXNoKFt4LCB5XSk7XG4gICAgICAgICAgICAgICAgeCArPSBkaXJzW2ldWzBdO1xuICAgICAgICAgICAgICAgIHkgKz0gZGlyc1tpXVsxXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cbn1cbiIsImltcG9ydCBGT1YgZnJvbSBcIi4vZm92LmpzXCI7XG4vKiogT2N0YW50cyB1c2VkIGZvciB0cmFuc2xhdGluZyByZWN1cnNpdmUgc2hhZG93Y2FzdGluZyBvZmZzZXRzICovXG5jb25zdCBPQ1RBTlRTID0gW1xuICAgIFstMSwgMCwgMCwgMV0sXG4gICAgWzAsIC0xLCAxLCAwXSxcbiAgICBbMCwgLTEsIC0xLCAwXSxcbiAgICBbLTEsIDAsIDAsIC0xXSxcbiAgICBbMSwgMCwgMCwgLTFdLFxuICAgIFswLCAxLCAtMSwgMF0sXG4gICAgWzAsIDEsIDEsIDBdLFxuICAgIFsxLCAwLCAwLCAxXVxuXTtcbi8qKlxuICogQGNsYXNzIFJlY3Vyc2l2ZSBzaGFkb3djYXN0aW5nIGFsZ29yaXRobVxuICogQ3VycmVudGx5IG9ubHkgc3VwcG9ydHMgNC84IHRvcG9sb2dpZXMsIG5vdCBoZXhhZ29uYWwuXG4gKiBCYXNlZCBvbiBQZXRlciBIYXJraW5zJyBpbXBsZW1lbnRhdGlvbiBvZiBCasO2cm4gQmVyZ3N0csO2bSdzIGFsZ29yaXRobSBkZXNjcmliZWQgaGVyZTogaHR0cDovL3d3dy5yb2d1ZWJhc2luLmNvbS9pbmRleC5waHA/dGl0bGU9Rk9WX3VzaW5nX3JlY3Vyc2l2ZV9zaGFkb3djYXN0aW5nXG4gKiBAYXVnbWVudHMgUk9ULkZPVlxuICovXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBSZWN1cnNpdmVTaGFkb3djYXN0aW5nIGV4dGVuZHMgRk9WIHtcbiAgICAvKipcbiAgICAgKiBDb21wdXRlIHZpc2liaWxpdHkgZm9yIGEgMzYwLWRlZ3JlZSBjaXJjbGVcbiAgICAgKiBAcGFyYW0ge2ludH0geFxuICAgICAqIEBwYXJhbSB7aW50fSB5XG4gICAgICogQHBhcmFtIHtpbnR9IFIgTWF4aW11bSB2aXNpYmlsaXR5IHJhZGl1c1xuICAgICAqIEBwYXJhbSB7ZnVuY3Rpb259IGNhbGxiYWNrXG4gICAgICovXG4gICAgY29tcHV0ZSh4LCB5LCBSLCBjYWxsYmFjaykge1xuICAgICAgICAvL1lvdSBjYW4gYWx3YXlzIHNlZSB5b3VyIG93biB0aWxlXG4gICAgICAgIGNhbGxiYWNrKHgsIHksIDAsIDEpO1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IE9DVEFOVFMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIHRoaXMuX3JlbmRlck9jdGFudCh4LCB5LCBPQ1RBTlRTW2ldLCBSLCBjYWxsYmFjayk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLyoqXG4gICAgICogQ29tcHV0ZSB2aXNpYmlsaXR5IGZvciBhIDE4MC1kZWdyZWUgYXJjXG4gICAgICogQHBhcmFtIHtpbnR9IHhcbiAgICAgKiBAcGFyYW0ge2ludH0geVxuICAgICAqIEBwYXJhbSB7aW50fSBSIE1heGltdW0gdmlzaWJpbGl0eSByYWRpdXNcbiAgICAgKiBAcGFyYW0ge2ludH0gZGlyIERpcmVjdGlvbiB0byBsb29rIGluIChleHByZXNzZWQgaW4gYSBST1QuRElSUyB2YWx1ZSk7XG4gICAgICogQHBhcmFtIHtmdW5jdGlvbn0gY2FsbGJhY2tcbiAgICAgKi9cbiAgICBjb21wdXRlMTgwKHgsIHksIFIsIGRpciwgY2FsbGJhY2spIHtcbiAgICAgICAgLy9Zb3UgY2FuIGFsd2F5cyBzZWUgeW91ciBvd24gdGlsZVxuICAgICAgICBjYWxsYmFjayh4LCB5LCAwLCAxKTtcbiAgICAgICAgbGV0IHByZXZpb3VzT2N0YW50ID0gKGRpciAtIDEgKyA4KSAlIDg7IC8vTmVlZCB0byByZXRyaWV2ZSB0aGUgcHJldmlvdXMgb2N0YW50IHRvIHJlbmRlciBhIGZ1bGwgMTgwIGRlZ3JlZXNcbiAgICAgICAgbGV0IG5leHRQcmV2aW91c09jdGFudCA9IChkaXIgLSAyICsgOCkgJSA4OyAvL05lZWQgdG8gcmV0cmlldmUgdGhlIHByZXZpb3VzIHR3byBvY3RhbnRzIHRvIHJlbmRlciBhIGZ1bGwgMTgwIGRlZ3JlZXNcbiAgICAgICAgbGV0IG5leHRPY3RhbnQgPSAoZGlyICsgMSArIDgpICUgODsgLy9OZWVkIHRvIGdyYWIgdG8gbmV4dCBvY3RhbnQgdG8gcmVuZGVyIGEgZnVsbCAxODAgZGVncmVlc1xuICAgICAgICB0aGlzLl9yZW5kZXJPY3RhbnQoeCwgeSwgT0NUQU5UU1tuZXh0UHJldmlvdXNPY3RhbnRdLCBSLCBjYWxsYmFjayk7XG4gICAgICAgIHRoaXMuX3JlbmRlck9jdGFudCh4LCB5LCBPQ1RBTlRTW3ByZXZpb3VzT2N0YW50XSwgUiwgY2FsbGJhY2spO1xuICAgICAgICB0aGlzLl9yZW5kZXJPY3RhbnQoeCwgeSwgT0NUQU5UU1tkaXJdLCBSLCBjYWxsYmFjayk7XG4gICAgICAgIHRoaXMuX3JlbmRlck9jdGFudCh4LCB5LCBPQ1RBTlRTW25leHRPY3RhbnRdLCBSLCBjYWxsYmFjayk7XG4gICAgfVxuICAgIDtcbiAgICAvKipcbiAgICAgKiBDb21wdXRlIHZpc2liaWxpdHkgZm9yIGEgOTAtZGVncmVlIGFyY1xuICAgICAqIEBwYXJhbSB7aW50fSB4XG4gICAgICogQHBhcmFtIHtpbnR9IHlcbiAgICAgKiBAcGFyYW0ge2ludH0gUiBNYXhpbXVtIHZpc2liaWxpdHkgcmFkaXVzXG4gICAgICogQHBhcmFtIHtpbnR9IGRpciBEaXJlY3Rpb24gdG8gbG9vayBpbiAoZXhwcmVzc2VkIGluIGEgUk9ULkRJUlMgdmFsdWUpO1xuICAgICAqIEBwYXJhbSB7ZnVuY3Rpb259IGNhbGxiYWNrXG4gICAgICovXG4gICAgY29tcHV0ZTkwKHgsIHksIFIsIGRpciwgY2FsbGJhY2spIHtcbiAgICAgICAgLy9Zb3UgY2FuIGFsd2F5cyBzZWUgeW91ciBvd24gdGlsZVxuICAgICAgICBjYWxsYmFjayh4LCB5LCAwLCAxKTtcbiAgICAgICAgbGV0IHByZXZpb3VzT2N0YW50ID0gKGRpciAtIDEgKyA4KSAlIDg7IC8vTmVlZCB0byByZXRyaWV2ZSB0aGUgcHJldmlvdXMgb2N0YW50IHRvIHJlbmRlciBhIGZ1bGwgOTAgZGVncmVlc1xuICAgICAgICB0aGlzLl9yZW5kZXJPY3RhbnQoeCwgeSwgT0NUQU5UU1tkaXJdLCBSLCBjYWxsYmFjayk7XG4gICAgICAgIHRoaXMuX3JlbmRlck9jdGFudCh4LCB5LCBPQ1RBTlRTW3ByZXZpb3VzT2N0YW50XSwgUiwgY2FsbGJhY2spO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBSZW5kZXIgb25lIG9jdGFudCAoNDUtZGVncmVlIGFyYykgb2YgdGhlIHZpZXdzaGVkXG4gICAgICogQHBhcmFtIHtpbnR9IHhcbiAgICAgKiBAcGFyYW0ge2ludH0geVxuICAgICAqIEBwYXJhbSB7aW50fSBvY3RhbnQgT2N0YW50IHRvIGJlIHJlbmRlcmVkXG4gICAgICogQHBhcmFtIHtpbnR9IFIgTWF4aW11bSB2aXNpYmlsaXR5IHJhZGl1c1xuICAgICAqIEBwYXJhbSB7ZnVuY3Rpb259IGNhbGxiYWNrXG4gICAgICovXG4gICAgX3JlbmRlck9jdGFudCh4LCB5LCBvY3RhbnQsIFIsIGNhbGxiYWNrKSB7XG4gICAgICAgIC8vUmFkaXVzIGluY3JlbWVudGVkIGJ5IDEgdG8gcHJvdmlkZSBzYW1lIGNvdmVyYWdlIGFyZWEgYXMgb3RoZXIgc2hhZG93Y2FzdGluZyByYWRpdXNlc1xuICAgICAgICB0aGlzLl9jYXN0VmlzaWJpbGl0eSh4LCB5LCAxLCAxLjAsIDAuMCwgUiArIDEsIG9jdGFudFswXSwgb2N0YW50WzFdLCBvY3RhbnRbMl0sIG9jdGFudFszXSwgY2FsbGJhY2spO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBBY3R1YWxseSBjYWxjdWxhdGVzIHRoZSB2aXNpYmlsaXR5XG4gICAgICogQHBhcmFtIHtpbnR9IHN0YXJ0WCBUaGUgc3RhcnRpbmcgWCBjb29yZGluYXRlXG4gICAgICogQHBhcmFtIHtpbnR9IHN0YXJ0WSBUaGUgc3RhcnRpbmcgWSBjb29yZGluYXRlXG4gICAgICogQHBhcmFtIHtpbnR9IHJvdyBUaGUgcm93IHRvIHJlbmRlclxuICAgICAqIEBwYXJhbSB7ZmxvYXR9IHZpc1Nsb3BlU3RhcnQgVGhlIHNsb3BlIHRvIHN0YXJ0IGF0XG4gICAgICogQHBhcmFtIHtmbG9hdH0gdmlzU2xvcGVFbmQgVGhlIHNsb3BlIHRvIGVuZCBhdFxuICAgICAqIEBwYXJhbSB7aW50fSByYWRpdXMgVGhlIHJhZGl1cyB0byByZWFjaCBvdXQgdG9cbiAgICAgKiBAcGFyYW0ge2ludH0geHhcbiAgICAgKiBAcGFyYW0ge2ludH0geHlcbiAgICAgKiBAcGFyYW0ge2ludH0geXhcbiAgICAgKiBAcGFyYW0ge2ludH0geXlcbiAgICAgKiBAcGFyYW0ge2Z1bmN0aW9ufSBjYWxsYmFjayBUaGUgY2FsbGJhY2sgdG8gdXNlIHdoZW4gd2UgaGl0IGEgYmxvY2sgdGhhdCBpcyB2aXNpYmxlXG4gICAgICovXG4gICAgX2Nhc3RWaXNpYmlsaXR5KHN0YXJ0WCwgc3RhcnRZLCByb3csIHZpc1Nsb3BlU3RhcnQsIHZpc1Nsb3BlRW5kLCByYWRpdXMsIHh4LCB4eSwgeXgsIHl5LCBjYWxsYmFjaykge1xuICAgICAgICBpZiAodmlzU2xvcGVTdGFydCA8IHZpc1Nsb3BlRW5kKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgZm9yIChsZXQgaSA9IHJvdzsgaSA8PSByYWRpdXM7IGkrKykge1xuICAgICAgICAgICAgbGV0IGR4ID0gLWkgLSAxO1xuICAgICAgICAgICAgbGV0IGR5ID0gLWk7XG4gICAgICAgICAgICBsZXQgYmxvY2tlZCA9IGZhbHNlO1xuICAgICAgICAgICAgbGV0IG5ld1N0YXJ0ID0gMDtcbiAgICAgICAgICAgIC8vJ1JvdycgY291bGQgYmUgY29sdW1uLCBuYW1lcyBoZXJlIGFzc3VtZSBvY3RhbnQgMCBhbmQgd291bGQgYmUgZmxpcHBlZCBmb3IgaGFsZiB0aGUgb2N0YW50c1xuICAgICAgICAgICAgd2hpbGUgKGR4IDw9IDApIHtcbiAgICAgICAgICAgICAgICBkeCArPSAxO1xuICAgICAgICAgICAgICAgIC8vVHJhbnNsYXRlIGZyb20gcmVsYXRpdmUgY29vcmRpbmF0ZXMgdG8gbWFwIGNvb3JkaW5hdGVzXG4gICAgICAgICAgICAgICAgbGV0IG1hcFggPSBzdGFydFggKyBkeCAqIHh4ICsgZHkgKiB4eTtcbiAgICAgICAgICAgICAgICBsZXQgbWFwWSA9IHN0YXJ0WSArIGR4ICogeXggKyBkeSAqIHl5O1xuICAgICAgICAgICAgICAgIC8vUmFuZ2Ugb2YgdGhlIHJvd1xuICAgICAgICAgICAgICAgIGxldCBzbG9wZVN0YXJ0ID0gKGR4IC0gMC41KSAvIChkeSArIDAuNSk7XG4gICAgICAgICAgICAgICAgbGV0IHNsb3BlRW5kID0gKGR4ICsgMC41KSAvIChkeSAtIDAuNSk7XG4gICAgICAgICAgICAgICAgLy9JZ25vcmUgaWYgbm90IHlldCBhdCBsZWZ0IGVkZ2Ugb2YgT2N0YW50XG4gICAgICAgICAgICAgICAgaWYgKHNsb3BlRW5kID4gdmlzU2xvcGVTdGFydCkge1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgLy9Eb25lIGlmIHBhc3QgcmlnaHQgZWRnZVxuICAgICAgICAgICAgICAgIGlmIChzbG9wZVN0YXJ0IDwgdmlzU2xvcGVFbmQpIHtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIC8vSWYgaXQncyBpbiByYW5nZSwgaXQncyB2aXNpYmxlXG4gICAgICAgICAgICAgICAgaWYgKChkeCAqIGR4ICsgZHkgKiBkeSkgPCAocmFkaXVzICogcmFkaXVzKSkge1xuICAgICAgICAgICAgICAgICAgICBjYWxsYmFjayhtYXBYLCBtYXBZLCBpLCAxKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKCFibG9ja2VkKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vSWYgdGlsZSBpcyBhIGJsb2NraW5nIHRpbGUsIGNhc3QgYXJvdW5kIGl0XG4gICAgICAgICAgICAgICAgICAgIGlmICghdGhpcy5fbGlnaHRQYXNzZXMobWFwWCwgbWFwWSkgJiYgaSA8IHJhZGl1cykge1xuICAgICAgICAgICAgICAgICAgICAgICAgYmxvY2tlZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9jYXN0VmlzaWJpbGl0eShzdGFydFgsIHN0YXJ0WSwgaSArIDEsIHZpc1Nsb3BlU3RhcnQsIHNsb3BlU3RhcnQsIHJhZGl1cywgeHgsIHh5LCB5eCwgeXksIGNhbGxiYWNrKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIG5ld1N0YXJ0ID0gc2xvcGVFbmQ7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIC8vS2VlcCBuYXJyb3dpbmcgaWYgc2Nhbm5pbmcgYWNyb3NzIGEgYmxvY2tcbiAgICAgICAgICAgICAgICAgICAgaWYgKCF0aGlzLl9saWdodFBhc3NlcyhtYXBYLCBtYXBZKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgbmV3U3RhcnQgPSBzbG9wZUVuZDtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIC8vQmxvY2sgaGFzIGVuZGVkXG4gICAgICAgICAgICAgICAgICAgIGJsb2NrZWQgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgdmlzU2xvcGVTdGFydCA9IG5ld1N0YXJ0O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChibG9ja2VkKSB7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG59XG4iLCJpbXBvcnQgRGlzY3JldGVTaGFkb3djYXN0aW5nIGZyb20gXCIuL2Rpc2NyZXRlLXNoYWRvd2Nhc3RpbmcuanNcIjtcbmltcG9ydCBQcmVjaXNlU2hhZG93Y2FzdGluZyBmcm9tIFwiLi9wcmVjaXNlLXNoYWRvd2Nhc3RpbmcuanNcIjtcbmltcG9ydCBSZWN1cnNpdmVTaGFkb3djYXN0aW5nIGZyb20gXCIuL3JlY3Vyc2l2ZS1zaGFkb3djYXN0aW5nLmpzXCI7XG5leHBvcnQgZGVmYXVsdCB7IERpc2NyZXRlU2hhZG93Y2FzdGluZywgUHJlY2lzZVNoYWRvd2Nhc3RpbmcsIFJlY3Vyc2l2ZVNoYWRvd2Nhc3RpbmcgfTtcbiIsImltcG9ydCBGT1YgZnJvbSBcIi4vZm92LmpzXCI7XG4vKipcbiAqIEBjbGFzcyBEaXNjcmV0ZSBzaGFkb3djYXN0aW5nIGFsZ29yaXRobS4gT2Jzb2xldGVkIGJ5IFByZWNpc2Ugc2hhZG93Y2FzdGluZy5cbiAqIEBhdWdtZW50cyBST1QuRk9WXG4gKi9cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIERpc2NyZXRlU2hhZG93Y2FzdGluZyBleHRlbmRzIEZPViB7XG4gICAgY29tcHV0ZSh4LCB5LCBSLCBjYWxsYmFjaykge1xuICAgICAgICAvKiB0aGlzIHBsYWNlIGlzIGFsd2F5cyB2aXNpYmxlICovXG4gICAgICAgIGNhbGxiYWNrKHgsIHksIDAsIDEpO1xuICAgICAgICAvKiBzdGFuZGluZyBpbiBhIGRhcmsgcGxhY2UuIEZJWE1FIGlzIHRoaXMgYSBnb29kIGlkZWE/ICAqL1xuICAgICAgICBpZiAoIXRoaXMuX2xpZ2h0UGFzc2VzKHgsIHkpKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgLyogc3RhcnQgYW5kIGVuZCBhbmdsZXMgKi9cbiAgICAgICAgbGV0IERBVEEgPSBbXTtcbiAgICAgICAgbGV0IEEsIEIsIGN4LCBjeSwgYmxvY2tzO1xuICAgICAgICAvKiBhbmFseXplIHN1cnJvdW5kaW5nIGNlbGxzIGluIGNvbmNlbnRyaWMgcmluZ3MsIHN0YXJ0aW5nIGZyb20gdGhlIGNlbnRlciAqL1xuICAgICAgICBmb3IgKGxldCByID0gMTsgciA8PSBSOyByKyspIHtcbiAgICAgICAgICAgIGxldCBuZWlnaGJvcnMgPSB0aGlzLl9nZXRDaXJjbGUoeCwgeSwgcik7XG4gICAgICAgICAgICBsZXQgYW5nbGUgPSAzNjAgLyBuZWlnaGJvcnMubGVuZ3RoO1xuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBuZWlnaGJvcnMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICBjeCA9IG5laWdoYm9yc1tpXVswXTtcbiAgICAgICAgICAgICAgICBjeSA9IG5laWdoYm9yc1tpXVsxXTtcbiAgICAgICAgICAgICAgICBBID0gYW5nbGUgKiAoaSAtIDAuNSk7XG4gICAgICAgICAgICAgICAgQiA9IEEgKyBhbmdsZTtcbiAgICAgICAgICAgICAgICBibG9ja3MgPSAhdGhpcy5fbGlnaHRQYXNzZXMoY3gsIGN5KTtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5fdmlzaWJsZUNvb3JkcyhNYXRoLmZsb29yKEEpLCBNYXRoLmNlaWwoQiksIGJsb2NrcywgREFUQSkpIHtcbiAgICAgICAgICAgICAgICAgICAgY2FsbGJhY2soY3gsIGN5LCByLCAxKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKERBVEEubGVuZ3RoID09IDIgJiYgREFUQVswXSA9PSAwICYmIERBVEFbMV0gPT0gMzYwKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9IC8qIGN1dG9mZj8gKi9cbiAgICAgICAgICAgIH0gLyogZm9yIGFsbCBjZWxscyBpbiB0aGlzIHJpbmcgKi9cbiAgICAgICAgfSAvKiBmb3IgYWxsIHJpbmdzICovXG4gICAgfVxuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7aW50fSBBIHN0YXJ0IGFuZ2xlXG4gICAgICogQHBhcmFtIHtpbnR9IEIgZW5kIGFuZ2xlXG4gICAgICogQHBhcmFtIHtib29sfSBibG9ja3MgRG9lcyBjdXJyZW50IGNlbGwgYmxvY2sgdmlzaWJpbGl0eT9cbiAgICAgKiBAcGFyYW0ge2ludFtdW119IERBVEEgc2hhZG93ZWQgYW5nbGUgcGFpcnNcbiAgICAgKi9cbiAgICBfdmlzaWJsZUNvb3JkcyhBLCBCLCBibG9ja3MsIERBVEEpIHtcbiAgICAgICAgaWYgKEEgPCAwKSB7XG4gICAgICAgICAgICBsZXQgdjEgPSB0aGlzLl92aXNpYmxlQ29vcmRzKDAsIEIsIGJsb2NrcywgREFUQSk7XG4gICAgICAgICAgICBsZXQgdjIgPSB0aGlzLl92aXNpYmxlQ29vcmRzKDM2MCArIEEsIDM2MCwgYmxvY2tzLCBEQVRBKTtcbiAgICAgICAgICAgIHJldHVybiB2MSB8fCB2MjtcbiAgICAgICAgfVxuICAgICAgICBsZXQgaW5kZXggPSAwO1xuICAgICAgICB3aGlsZSAoaW5kZXggPCBEQVRBLmxlbmd0aCAmJiBEQVRBW2luZGV4XSA8IEEpIHtcbiAgICAgICAgICAgIGluZGV4Kys7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGluZGV4ID09IERBVEEubGVuZ3RoKSB7IC8qIGNvbXBsZXRlbHkgbmV3IHNoYWRvdyAqL1xuICAgICAgICAgICAgaWYgKGJsb2Nrcykge1xuICAgICAgICAgICAgICAgIERBVEEucHVzaChBLCBCKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIGxldCBjb3VudCA9IDA7XG4gICAgICAgIGlmIChpbmRleCAlIDIpIHsgLyogdGhpcyBzaGFkb3cgc3RhcnRzIGluIGFuIGV4aXN0aW5nIHNoYWRvdywgb3Igd2l0aGluIGl0cyBlbmRpbmcgYm91bmRhcnkgKi9cbiAgICAgICAgICAgIHdoaWxlIChpbmRleCA8IERBVEEubGVuZ3RoICYmIERBVEFbaW5kZXhdIDwgQikge1xuICAgICAgICAgICAgICAgIGluZGV4Kys7XG4gICAgICAgICAgICAgICAgY291bnQrKztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChjb3VudCA9PSAwKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGJsb2Nrcykge1xuICAgICAgICAgICAgICAgIGlmIChjb3VudCAlIDIpIHtcbiAgICAgICAgICAgICAgICAgICAgREFUQS5zcGxpY2UoaW5kZXggLSBjb3VudCwgY291bnQsIEIpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgREFUQS5zcGxpY2UoaW5kZXggLSBjb3VudCwgY291bnQpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgeyAvKiB0aGlzIHNoYWRvdyBzdGFydHMgb3V0c2lkZSBhbiBleGlzdGluZyBzaGFkb3csIG9yIHdpdGhpbiBhIHN0YXJ0aW5nIGJvdW5kYXJ5ICovXG4gICAgICAgICAgICB3aGlsZSAoaW5kZXggPCBEQVRBLmxlbmd0aCAmJiBEQVRBW2luZGV4XSA8IEIpIHtcbiAgICAgICAgICAgICAgICBpbmRleCsrO1xuICAgICAgICAgICAgICAgIGNvdW50Kys7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvKiB2aXNpYmxlIHdoZW4gb3V0c2lkZSBhbiBleGlzdGluZyBzaGFkb3csIG9yIHdoZW4gb3ZlcmxhcHBpbmcgKi9cbiAgICAgICAgICAgIGlmIChBID09IERBVEFbaW5kZXggLSBjb3VudF0gJiYgY291bnQgPT0gMSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChibG9ja3MpIHtcbiAgICAgICAgICAgICAgICBpZiAoY291bnQgJSAyKSB7XG4gICAgICAgICAgICAgICAgICAgIERBVEEuc3BsaWNlKGluZGV4IC0gY291bnQsIGNvdW50LCBBKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIERBVEEuc3BsaWNlKGluZGV4IC0gY291bnQsIGNvdW50LCBBLCBCKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgIH1cbn1cbiIsImltcG9ydCBGT1YgZnJvbSBcIi4vZm92LmpzXCI7XG4vKipcbiAqIEBjbGFzcyBQcmVjaXNlIHNoYWRvd2Nhc3RpbmcgYWxnb3JpdGhtXG4gKiBAYXVnbWVudHMgUk9ULkZPVlxuICovXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBQcmVjaXNlU2hhZG93Y2FzdGluZyBleHRlbmRzIEZPViB7XG4gICAgY29tcHV0ZSh4LCB5LCBSLCBjYWxsYmFjaykge1xuICAgICAgICAvKiB0aGlzIHBsYWNlIGlzIGFsd2F5cyB2aXNpYmxlICovXG4gICAgICAgIGNhbGxiYWNrKHgsIHksIDAsIDEpO1xuICAgICAgICAvKiBzdGFuZGluZyBpbiBhIGRhcmsgcGxhY2UuIEZJWE1FIGlzIHRoaXMgYSBnb29kIGlkZWE/ICAqL1xuICAgICAgICBpZiAoIXRoaXMuX2xpZ2h0UGFzc2VzKHgsIHkpKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgLyogbGlzdCBvZiBhbGwgc2hhZG93cyAqL1xuICAgICAgICBsZXQgU0hBRE9XUyA9IFtdO1xuICAgICAgICBsZXQgY3gsIGN5LCBibG9ja3MsIEExLCBBMiwgdmlzaWJpbGl0eTtcbiAgICAgICAgLyogYW5hbHl6ZSBzdXJyb3VuZGluZyBjZWxscyBpbiBjb25jZW50cmljIHJpbmdzLCBzdGFydGluZyBmcm9tIHRoZSBjZW50ZXIgKi9cbiAgICAgICAgZm9yIChsZXQgciA9IDE7IHIgPD0gUjsgcisrKSB7XG4gICAgICAgICAgICBsZXQgbmVpZ2hib3JzID0gdGhpcy5fZ2V0Q2lyY2xlKHgsIHksIHIpO1xuICAgICAgICAgICAgbGV0IG5laWdoYm9yQ291bnQgPSBuZWlnaGJvcnMubGVuZ3RoO1xuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBuZWlnaGJvckNvdW50OyBpKyspIHtcbiAgICAgICAgICAgICAgICBjeCA9IG5laWdoYm9yc1tpXVswXTtcbiAgICAgICAgICAgICAgICBjeSA9IG5laWdoYm9yc1tpXVsxXTtcbiAgICAgICAgICAgICAgICAvKiBzaGlmdCBoYWxmLWFuLWFuZ2xlIGJhY2t3YXJkcyB0byBtYWludGFpbiBjb25zaXN0ZW5jeSBvZiAwLXRoIGNlbGxzICovXG4gICAgICAgICAgICAgICAgQTEgPSBbaSA/IDIgKiBpIC0gMSA6IDIgKiBuZWlnaGJvckNvdW50IC0gMSwgMiAqIG5laWdoYm9yQ291bnRdO1xuICAgICAgICAgICAgICAgIEEyID0gWzIgKiBpICsgMSwgMiAqIG5laWdoYm9yQ291bnRdO1xuICAgICAgICAgICAgICAgIGJsb2NrcyA9ICF0aGlzLl9saWdodFBhc3NlcyhjeCwgY3kpO1xuICAgICAgICAgICAgICAgIHZpc2liaWxpdHkgPSB0aGlzLl9jaGVja1Zpc2liaWxpdHkoQTEsIEEyLCBibG9ja3MsIFNIQURPV1MpO1xuICAgICAgICAgICAgICAgIGlmICh2aXNpYmlsaXR5KSB7XG4gICAgICAgICAgICAgICAgICAgIGNhbGxiYWNrKGN4LCBjeSwgciwgdmlzaWJpbGl0eSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChTSEFET1dTLmxlbmd0aCA9PSAyICYmIFNIQURPV1NbMF1bMF0gPT0gMCAmJiBTSEFET1dTWzFdWzBdID09IFNIQURPV1NbMV1bMV0pIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH0gLyogY3V0b2ZmPyAqL1xuICAgICAgICAgICAgfSAvKiBmb3IgYWxsIGNlbGxzIGluIHRoaXMgcmluZyAqL1xuICAgICAgICB9IC8qIGZvciBhbGwgcmluZ3MgKi9cbiAgICB9XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtpbnRbMl19IEExIGFyYyBzdGFydFxuICAgICAqIEBwYXJhbSB7aW50WzJdfSBBMiBhcmMgZW5kXG4gICAgICogQHBhcmFtIHtib29sfSBibG9ja3MgRG9lcyBjdXJyZW50IGFyYyBibG9jayB2aXNpYmlsaXR5P1xuICAgICAqIEBwYXJhbSB7aW50W11bXX0gU0hBRE9XUyBsaXN0IG9mIGFjdGl2ZSBzaGFkb3dzXG4gICAgICovXG4gICAgX2NoZWNrVmlzaWJpbGl0eShBMSwgQTIsIGJsb2NrcywgU0hBRE9XUykge1xuICAgICAgICBpZiAoQTFbMF0gPiBBMlswXSkgeyAvKiBzcGxpdCBpbnRvIHR3byBzdWItYXJjcyAqL1xuICAgICAgICAgICAgbGV0IHYxID0gdGhpcy5fY2hlY2tWaXNpYmlsaXR5KEExLCBbQTFbMV0sIEExWzFdXSwgYmxvY2tzLCBTSEFET1dTKTtcbiAgICAgICAgICAgIGxldCB2MiA9IHRoaXMuX2NoZWNrVmlzaWJpbGl0eShbMCwgMV0sIEEyLCBibG9ja3MsIFNIQURPV1MpO1xuICAgICAgICAgICAgcmV0dXJuICh2MSArIHYyKSAvIDI7XG4gICAgICAgIH1cbiAgICAgICAgLyogaW5kZXgxOiBmaXJzdCBzaGFkb3cgPj0gQTEgKi9cbiAgICAgICAgbGV0IGluZGV4MSA9IDAsIGVkZ2UxID0gZmFsc2U7XG4gICAgICAgIHdoaWxlIChpbmRleDEgPCBTSEFET1dTLmxlbmd0aCkge1xuICAgICAgICAgICAgbGV0IG9sZCA9IFNIQURPV1NbaW5kZXgxXTtcbiAgICAgICAgICAgIGxldCBkaWZmID0gb2xkWzBdICogQTFbMV0gLSBBMVswXSAqIG9sZFsxXTtcbiAgICAgICAgICAgIGlmIChkaWZmID49IDApIHsgLyogb2xkID49IEExICovXG4gICAgICAgICAgICAgICAgaWYgKGRpZmYgPT0gMCAmJiAhKGluZGV4MSAlIDIpKSB7XG4gICAgICAgICAgICAgICAgICAgIGVkZ2UxID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpbmRleDErKztcbiAgICAgICAgfVxuICAgICAgICAvKiBpbmRleDI6IGxhc3Qgc2hhZG93IDw9IEEyICovXG4gICAgICAgIGxldCBpbmRleDIgPSBTSEFET1dTLmxlbmd0aCwgZWRnZTIgPSBmYWxzZTtcbiAgICAgICAgd2hpbGUgKGluZGV4Mi0tKSB7XG4gICAgICAgICAgICBsZXQgb2xkID0gU0hBRE9XU1tpbmRleDJdO1xuICAgICAgICAgICAgbGV0IGRpZmYgPSBBMlswXSAqIG9sZFsxXSAtIG9sZFswXSAqIEEyWzFdO1xuICAgICAgICAgICAgaWYgKGRpZmYgPj0gMCkgeyAvKiBvbGQgPD0gQTIgKi9cbiAgICAgICAgICAgICAgICBpZiAoZGlmZiA9PSAwICYmIChpbmRleDIgJSAyKSkge1xuICAgICAgICAgICAgICAgICAgICBlZGdlMiA9IHRydWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGxldCB2aXNpYmxlID0gdHJ1ZTtcbiAgICAgICAgaWYgKGluZGV4MSA9PSBpbmRleDIgJiYgKGVkZ2UxIHx8IGVkZ2UyKSkgeyAvKiBzdWJzZXQgb2YgZXhpc3Rpbmcgc2hhZG93LCBvbmUgb2YgdGhlIGVkZ2VzIG1hdGNoICovXG4gICAgICAgICAgICB2aXNpYmxlID0gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoZWRnZTEgJiYgZWRnZTIgJiYgaW5kZXgxICsgMSA9PSBpbmRleDIgJiYgKGluZGV4MiAlIDIpKSB7IC8qIGNvbXBsZXRlbHkgZXF1aXZhbGVudCB3aXRoIGV4aXN0aW5nIHNoYWRvdyAqL1xuICAgICAgICAgICAgdmlzaWJsZSA9IGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGluZGV4MSA+IGluZGV4MiAmJiAoaW5kZXgxICUgMikpIHsgLyogc3Vic2V0IG9mIGV4aXN0aW5nIHNoYWRvdywgbm90IHRvdWNoaW5nICovXG4gICAgICAgICAgICB2aXNpYmxlID0gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCF2aXNpYmxlKSB7XG4gICAgICAgICAgICByZXR1cm4gMDtcbiAgICAgICAgfSAvKiBmYXN0IGNhc2U6IG5vdCB2aXNpYmxlICovXG4gICAgICAgIGxldCB2aXNpYmxlTGVuZ3RoO1xuICAgICAgICAvKiBjb21wdXRlIHRoZSBsZW5ndGggb2YgdmlzaWJsZSBhcmMsIGFkanVzdCBsaXN0IG9mIHNoYWRvd3MgKGlmIGJsb2NraW5nKSAqL1xuICAgICAgICBsZXQgcmVtb3ZlID0gaW5kZXgyIC0gaW5kZXgxICsgMTtcbiAgICAgICAgaWYgKHJlbW92ZSAlIDIpIHtcbiAgICAgICAgICAgIGlmIChpbmRleDEgJSAyKSB7IC8qIGZpcnN0IGVkZ2Ugd2l0aGluIGV4aXN0aW5nIHNoYWRvdywgc2Vjb25kIG91dHNpZGUgKi9cbiAgICAgICAgICAgICAgICBsZXQgUCA9IFNIQURPV1NbaW5kZXgxXTtcbiAgICAgICAgICAgICAgICB2aXNpYmxlTGVuZ3RoID0gKEEyWzBdICogUFsxXSAtIFBbMF0gKiBBMlsxXSkgLyAoUFsxXSAqIEEyWzFdKTtcbiAgICAgICAgICAgICAgICBpZiAoYmxvY2tzKSB7XG4gICAgICAgICAgICAgICAgICAgIFNIQURPV1Muc3BsaWNlKGluZGV4MSwgcmVtb3ZlLCBBMik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7IC8qIHNlY29uZCBlZGdlIHdpdGhpbiBleGlzdGluZyBzaGFkb3csIGZpcnN0IG91dHNpZGUgKi9cbiAgICAgICAgICAgICAgICBsZXQgUCA9IFNIQURPV1NbaW5kZXgyXTtcbiAgICAgICAgICAgICAgICB2aXNpYmxlTGVuZ3RoID0gKFBbMF0gKiBBMVsxXSAtIEExWzBdICogUFsxXSkgLyAoQTFbMV0gKiBQWzFdKTtcbiAgICAgICAgICAgICAgICBpZiAoYmxvY2tzKSB7XG4gICAgICAgICAgICAgICAgICAgIFNIQURPV1Muc3BsaWNlKGluZGV4MSwgcmVtb3ZlLCBBMSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgaWYgKGluZGV4MSAlIDIpIHsgLyogYm90aCBlZGdlcyB3aXRoaW4gZXhpc3Rpbmcgc2hhZG93cyAqL1xuICAgICAgICAgICAgICAgIGxldCBQMSA9IFNIQURPV1NbaW5kZXgxXTtcbiAgICAgICAgICAgICAgICBsZXQgUDIgPSBTSEFET1dTW2luZGV4Ml07XG4gICAgICAgICAgICAgICAgdmlzaWJsZUxlbmd0aCA9IChQMlswXSAqIFAxWzFdIC0gUDFbMF0gKiBQMlsxXSkgLyAoUDFbMV0gKiBQMlsxXSk7XG4gICAgICAgICAgICAgICAgaWYgKGJsb2Nrcykge1xuICAgICAgICAgICAgICAgICAgICBTSEFET1dTLnNwbGljZShpbmRleDEsIHJlbW92ZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7IC8qIGJvdGggZWRnZXMgb3V0c2lkZSBleGlzdGluZyBzaGFkb3dzICovXG4gICAgICAgICAgICAgICAgaWYgKGJsb2Nrcykge1xuICAgICAgICAgICAgICAgICAgICBTSEFET1dTLnNwbGljZShpbmRleDEsIHJlbW92ZSwgQTEsIEEyKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIDE7IC8qIHdob2xlIGFyYyB2aXNpYmxlISAqL1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGxldCBhcmNMZW5ndGggPSAoQTJbMF0gKiBBMVsxXSAtIEExWzBdICogQTJbMV0pIC8gKEExWzFdICogQTJbMV0pO1xuICAgICAgICByZXR1cm4gdmlzaWJsZUxlbmd0aCAvIGFyY0xlbmd0aDtcbiAgICB9XG59XG4iLCJpbXBvcnQgeyBERUZBVUxUX1dJRFRILCBERUZBVUxUX0hFSUdIVCB9IGZyb20gXCIuLi9jb25zdGFudHMuanNcIjtcbjtcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIE1hcCB7XG4gICAgLyoqXG4gICAgICogQGNsYXNzIEJhc2UgbWFwIGdlbmVyYXRvclxuICAgICAqIEBwYXJhbSB7aW50fSBbd2lkdGg9Uk9ULkRFRkFVTFRfV0lEVEhdXG4gICAgICogQHBhcmFtIHtpbnR9IFtoZWlnaHQ9Uk9ULkRFRkFVTFRfSEVJR0hUXVxuICAgICAqL1xuICAgIGNvbnN0cnVjdG9yKHdpZHRoID0gREVGQVVMVF9XSURUSCwgaGVpZ2h0ID0gREVGQVVMVF9IRUlHSFQpIHtcbiAgICAgICAgdGhpcy5fd2lkdGggPSB3aWR0aDtcbiAgICAgICAgdGhpcy5faGVpZ2h0ID0gaGVpZ2h0O1xuICAgIH1cbiAgICA7XG4gICAgX2ZpbGxNYXAodmFsdWUpIHtcbiAgICAgICAgbGV0IG1hcCA9IFtdO1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMuX3dpZHRoOyBpKyspIHtcbiAgICAgICAgICAgIG1hcC5wdXNoKFtdKTtcbiAgICAgICAgICAgIGZvciAobGV0IGogPSAwOyBqIDwgdGhpcy5faGVpZ2h0OyBqKyspIHtcbiAgICAgICAgICAgICAgICBtYXBbaV0ucHVzaCh2YWx1ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG1hcDtcbiAgICB9XG59XG4iLCJpbXBvcnQgTWFwIGZyb20gXCIuL21hcC5qc1wiO1xuLyoqXG4gKiBAY2xhc3MgRHVuZ2VvbiBtYXA6IGhhcyByb29tcyBhbmQgY29ycmlkb3JzXG4gKiBAYXVnbWVudHMgUk9ULk1hcFxuICovXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBEdW5nZW9uIGV4dGVuZHMgTWFwIHtcbiAgICBjb25zdHJ1Y3Rvcih3aWR0aCwgaGVpZ2h0KSB7XG4gICAgICAgIHN1cGVyKHdpZHRoLCBoZWlnaHQpO1xuICAgICAgICB0aGlzLl9yb29tcyA9IFtdO1xuICAgICAgICB0aGlzLl9jb3JyaWRvcnMgPSBbXTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogR2V0IGFsbCBnZW5lcmF0ZWQgcm9vbXNcbiAgICAgKiBAcmV0dXJucyB7Uk9ULk1hcC5GZWF0dXJlLlJvb21bXX1cbiAgICAgKi9cbiAgICBnZXRSb29tcygpIHsgcmV0dXJuIHRoaXMuX3Jvb21zOyB9XG4gICAgLyoqXG4gICAgICogR2V0IGFsbCBnZW5lcmF0ZWQgY29ycmlkb3JzXG4gICAgICogQHJldHVybnMge1JPVC5NYXAuRmVhdHVyZS5Db3JyaWRvcltdfVxuICAgICAqL1xuICAgIGdldENvcnJpZG9ycygpIHsgcmV0dXJuIHRoaXMuX2NvcnJpZG9yczsgfVxufVxuIiwiaW1wb3J0IFJORyBmcm9tIFwiLi4vcm5nLmpzXCI7XG47XG4vKipcbiAqIEBjbGFzcyBEdW5nZW9uIGZlYXR1cmU7IGhhcyBvd24gLmNyZWF0ZSgpIG1ldGhvZFxuICovXG5jbGFzcyBGZWF0dXJlIHtcbn1cbi8qKlxuICogQGNsYXNzIFJvb21cbiAqIEBhdWdtZW50cyBST1QuTWFwLkZlYXR1cmVcbiAqIEBwYXJhbSB7aW50fSB4MVxuICogQHBhcmFtIHtpbnR9IHkxXG4gKiBAcGFyYW0ge2ludH0geDJcbiAqIEBwYXJhbSB7aW50fSB5MlxuICogQHBhcmFtIHtpbnR9IFtkb29yWF1cbiAqIEBwYXJhbSB7aW50fSBbZG9vclldXG4gKi9cbmV4cG9ydCBjbGFzcyBSb29tIGV4dGVuZHMgRmVhdHVyZSB7XG4gICAgY29uc3RydWN0b3IoeDEsIHkxLCB4MiwgeTIsIGRvb3JYLCBkb29yWSkge1xuICAgICAgICBzdXBlcigpO1xuICAgICAgICB0aGlzLl94MSA9IHgxO1xuICAgICAgICB0aGlzLl95MSA9IHkxO1xuICAgICAgICB0aGlzLl94MiA9IHgyO1xuICAgICAgICB0aGlzLl95MiA9IHkyO1xuICAgICAgICB0aGlzLl9kb29ycyA9IHt9O1xuICAgICAgICBpZiAoZG9vclggIT09IHVuZGVmaW5lZCAmJiBkb29yWSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB0aGlzLmFkZERvb3IoZG9vclgsIGRvb3JZKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICA7XG4gICAgLyoqXG4gICAgICogUm9vbSBvZiByYW5kb20gc2l6ZSwgd2l0aCBhIGdpdmVuIGRvb3JzIGFuZCBkaXJlY3Rpb25cbiAgICAgKi9cbiAgICBzdGF0aWMgY3JlYXRlUmFuZG9tQXQoeCwgeSwgZHgsIGR5LCBvcHRpb25zKSB7XG4gICAgICAgIGxldCBtaW4gPSBvcHRpb25zLnJvb21XaWR0aFswXTtcbiAgICAgICAgbGV0IG1heCA9IG9wdGlvbnMucm9vbVdpZHRoWzFdO1xuICAgICAgICBsZXQgd2lkdGggPSBSTkcuZ2V0VW5pZm9ybUludChtaW4sIG1heCk7XG4gICAgICAgIG1pbiA9IG9wdGlvbnMucm9vbUhlaWdodFswXTtcbiAgICAgICAgbWF4ID0gb3B0aW9ucy5yb29tSGVpZ2h0WzFdO1xuICAgICAgICBsZXQgaGVpZ2h0ID0gUk5HLmdldFVuaWZvcm1JbnQobWluLCBtYXgpO1xuICAgICAgICBpZiAoZHggPT0gMSkgeyAvKiB0byB0aGUgcmlnaHQgKi9cbiAgICAgICAgICAgIGxldCB5MiA9IHkgLSBNYXRoLmZsb29yKFJORy5nZXRVbmlmb3JtKCkgKiBoZWlnaHQpO1xuICAgICAgICAgICAgcmV0dXJuIG5ldyB0aGlzKHggKyAxLCB5MiwgeCArIHdpZHRoLCB5MiArIGhlaWdodCAtIDEsIHgsIHkpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChkeCA9PSAtMSkgeyAvKiB0byB0aGUgbGVmdCAqL1xuICAgICAgICAgICAgbGV0IHkyID0geSAtIE1hdGguZmxvb3IoUk5HLmdldFVuaWZvcm0oKSAqIGhlaWdodCk7XG4gICAgICAgICAgICByZXR1cm4gbmV3IHRoaXMoeCAtIHdpZHRoLCB5MiwgeCAtIDEsIHkyICsgaGVpZ2h0IC0gMSwgeCwgeSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGR5ID09IDEpIHsgLyogdG8gdGhlIGJvdHRvbSAqL1xuICAgICAgICAgICAgbGV0IHgyID0geCAtIE1hdGguZmxvb3IoUk5HLmdldFVuaWZvcm0oKSAqIHdpZHRoKTtcbiAgICAgICAgICAgIHJldHVybiBuZXcgdGhpcyh4MiwgeSArIDEsIHgyICsgd2lkdGggLSAxLCB5ICsgaGVpZ2h0LCB4LCB5KTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoZHkgPT0gLTEpIHsgLyogdG8gdGhlIHRvcCAqL1xuICAgICAgICAgICAgbGV0IHgyID0geCAtIE1hdGguZmxvb3IoUk5HLmdldFVuaWZvcm0oKSAqIHdpZHRoKTtcbiAgICAgICAgICAgIHJldHVybiBuZXcgdGhpcyh4MiwgeSAtIGhlaWdodCwgeDIgKyB3aWR0aCAtIDEsIHkgLSAxLCB4LCB5KTtcbiAgICAgICAgfVxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJkeCBvciBkeSBtdXN0IGJlIDEgb3IgLTFcIik7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJvb20gb2YgcmFuZG9tIHNpemUsIHBvc2l0aW9uZWQgYXJvdW5kIGNlbnRlciBjb29yZHNcbiAgICAgKi9cbiAgICBzdGF0aWMgY3JlYXRlUmFuZG9tQ2VudGVyKGN4LCBjeSwgb3B0aW9ucykge1xuICAgICAgICBsZXQgbWluID0gb3B0aW9ucy5yb29tV2lkdGhbMF07XG4gICAgICAgIGxldCBtYXggPSBvcHRpb25zLnJvb21XaWR0aFsxXTtcbiAgICAgICAgbGV0IHdpZHRoID0gUk5HLmdldFVuaWZvcm1JbnQobWluLCBtYXgpO1xuICAgICAgICBtaW4gPSBvcHRpb25zLnJvb21IZWlnaHRbMF07XG4gICAgICAgIG1heCA9IG9wdGlvbnMucm9vbUhlaWdodFsxXTtcbiAgICAgICAgbGV0IGhlaWdodCA9IFJORy5nZXRVbmlmb3JtSW50KG1pbiwgbWF4KTtcbiAgICAgICAgbGV0IHgxID0gY3ggLSBNYXRoLmZsb29yKFJORy5nZXRVbmlmb3JtKCkgKiB3aWR0aCk7XG4gICAgICAgIGxldCB5MSA9IGN5IC0gTWF0aC5mbG9vcihSTkcuZ2V0VW5pZm9ybSgpICogaGVpZ2h0KTtcbiAgICAgICAgbGV0IHgyID0geDEgKyB3aWR0aCAtIDE7XG4gICAgICAgIGxldCB5MiA9IHkxICsgaGVpZ2h0IC0gMTtcbiAgICAgICAgcmV0dXJuIG5ldyB0aGlzKHgxLCB5MSwgeDIsIHkyKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogUm9vbSBvZiByYW5kb20gc2l6ZSB3aXRoaW4gYSBnaXZlbiBkaW1lbnNpb25zXG4gICAgICovXG4gICAgc3RhdGljIGNyZWF0ZVJhbmRvbShhdmFpbFdpZHRoLCBhdmFpbEhlaWdodCwgb3B0aW9ucykge1xuICAgICAgICBsZXQgbWluID0gb3B0aW9ucy5yb29tV2lkdGhbMF07XG4gICAgICAgIGxldCBtYXggPSBvcHRpb25zLnJvb21XaWR0aFsxXTtcbiAgICAgICAgbGV0IHdpZHRoID0gUk5HLmdldFVuaWZvcm1JbnQobWluLCBtYXgpO1xuICAgICAgICBtaW4gPSBvcHRpb25zLnJvb21IZWlnaHRbMF07XG4gICAgICAgIG1heCA9IG9wdGlvbnMucm9vbUhlaWdodFsxXTtcbiAgICAgICAgbGV0IGhlaWdodCA9IFJORy5nZXRVbmlmb3JtSW50KG1pbiwgbWF4KTtcbiAgICAgICAgbGV0IGxlZnQgPSBhdmFpbFdpZHRoIC0gd2lkdGggLSAxO1xuICAgICAgICBsZXQgdG9wID0gYXZhaWxIZWlnaHQgLSBoZWlnaHQgLSAxO1xuICAgICAgICBsZXQgeDEgPSAxICsgTWF0aC5mbG9vcihSTkcuZ2V0VW5pZm9ybSgpICogbGVmdCk7XG4gICAgICAgIGxldCB5MSA9IDEgKyBNYXRoLmZsb29yKFJORy5nZXRVbmlmb3JtKCkgKiB0b3ApO1xuICAgICAgICBsZXQgeDIgPSB4MSArIHdpZHRoIC0gMTtcbiAgICAgICAgbGV0IHkyID0geTEgKyBoZWlnaHQgLSAxO1xuICAgICAgICByZXR1cm4gbmV3IHRoaXMoeDEsIHkxLCB4MiwgeTIpO1xuICAgIH1cbiAgICBhZGREb29yKHgsIHkpIHtcbiAgICAgICAgdGhpcy5fZG9vcnNbeCArIFwiLFwiICsgeV0gPSAxO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtmdW5jdGlvbn1cbiAgICAgKi9cbiAgICBnZXREb29ycyhjYikge1xuICAgICAgICBmb3IgKGxldCBrZXkgaW4gdGhpcy5fZG9vcnMpIHtcbiAgICAgICAgICAgIGxldCBwYXJ0cyA9IGtleS5zcGxpdChcIixcIik7XG4gICAgICAgICAgICBjYihwYXJzZUludChwYXJ0c1swXSksIHBhcnNlSW50KHBhcnRzWzFdKSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICAgIGNsZWFyRG9vcnMoKSB7XG4gICAgICAgIHRoaXMuX2Rvb3JzID0ge307XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICBhZGREb29ycyhpc1dhbGxDYWxsYmFjaykge1xuICAgICAgICBsZXQgbGVmdCA9IHRoaXMuX3gxIC0gMTtcbiAgICAgICAgbGV0IHJpZ2h0ID0gdGhpcy5feDIgKyAxO1xuICAgICAgICBsZXQgdG9wID0gdGhpcy5feTEgLSAxO1xuICAgICAgICBsZXQgYm90dG9tID0gdGhpcy5feTIgKyAxO1xuICAgICAgICBmb3IgKGxldCB4ID0gbGVmdDsgeCA8PSByaWdodDsgeCsrKSB7XG4gICAgICAgICAgICBmb3IgKGxldCB5ID0gdG9wOyB5IDw9IGJvdHRvbTsgeSsrKSB7XG4gICAgICAgICAgICAgICAgaWYgKHggIT0gbGVmdCAmJiB4ICE9IHJpZ2h0ICYmIHkgIT0gdG9wICYmIHkgIT0gYm90dG9tKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoaXNXYWxsQ2FsbGJhY2soeCwgeSkpIHtcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHRoaXMuYWRkRG9vcih4LCB5KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgZGVidWcoKSB7XG4gICAgICAgIGNvbnNvbGUubG9nKFwicm9vbVwiLCB0aGlzLl94MSwgdGhpcy5feTEsIHRoaXMuX3gyLCB0aGlzLl95Mik7XG4gICAgfVxuICAgIGlzVmFsaWQoaXNXYWxsQ2FsbGJhY2ssIGNhbkJlRHVnQ2FsbGJhY2spIHtcbiAgICAgICAgbGV0IGxlZnQgPSB0aGlzLl94MSAtIDE7XG4gICAgICAgIGxldCByaWdodCA9IHRoaXMuX3gyICsgMTtcbiAgICAgICAgbGV0IHRvcCA9IHRoaXMuX3kxIC0gMTtcbiAgICAgICAgbGV0IGJvdHRvbSA9IHRoaXMuX3kyICsgMTtcbiAgICAgICAgZm9yIChsZXQgeCA9IGxlZnQ7IHggPD0gcmlnaHQ7IHgrKykge1xuICAgICAgICAgICAgZm9yIChsZXQgeSA9IHRvcDsgeSA8PSBib3R0b207IHkrKykge1xuICAgICAgICAgICAgICAgIGlmICh4ID09IGxlZnQgfHwgeCA9PSByaWdodCB8fCB5ID09IHRvcCB8fCB5ID09IGJvdHRvbSkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoIWlzV2FsbENhbGxiYWNrKHgsIHkpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICghY2FuQmVEdWdDYWxsYmFjayh4LCB5KSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge2Z1bmN0aW9ufSBkaWdDYWxsYmFjayBEaWcgY2FsbGJhY2sgd2l0aCBhIHNpZ25hdHVyZSAoeCwgeSwgdmFsdWUpLiBWYWx1ZXM6IDAgPSBlbXB0eSwgMSA9IHdhbGwsIDIgPSBkb29yLiBNdWx0aXBsZSBkb29ycyBhcmUgYWxsb3dlZC5cbiAgICAgKi9cbiAgICBjcmVhdGUoZGlnQ2FsbGJhY2spIHtcbiAgICAgICAgbGV0IGxlZnQgPSB0aGlzLl94MSAtIDE7XG4gICAgICAgIGxldCByaWdodCA9IHRoaXMuX3gyICsgMTtcbiAgICAgICAgbGV0IHRvcCA9IHRoaXMuX3kxIC0gMTtcbiAgICAgICAgbGV0IGJvdHRvbSA9IHRoaXMuX3kyICsgMTtcbiAgICAgICAgbGV0IHZhbHVlID0gMDtcbiAgICAgICAgZm9yIChsZXQgeCA9IGxlZnQ7IHggPD0gcmlnaHQ7IHgrKykge1xuICAgICAgICAgICAgZm9yIChsZXQgeSA9IHRvcDsgeSA8PSBib3R0b207IHkrKykge1xuICAgICAgICAgICAgICAgIGlmICh4ICsgXCIsXCIgKyB5IGluIHRoaXMuX2Rvb3JzKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhbHVlID0gMjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSBpZiAoeCA9PSBsZWZ0IHx8IHggPT0gcmlnaHQgfHwgeSA9PSB0b3AgfHwgeSA9PSBib3R0b20pIHtcbiAgICAgICAgICAgICAgICAgICAgdmFsdWUgPSAxO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgdmFsdWUgPSAwO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBkaWdDYWxsYmFjayh4LCB5LCB2YWx1ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgZ2V0Q2VudGVyKCkge1xuICAgICAgICByZXR1cm4gW01hdGgucm91bmQoKHRoaXMuX3gxICsgdGhpcy5feDIpIC8gMiksIE1hdGgucm91bmQoKHRoaXMuX3kxICsgdGhpcy5feTIpIC8gMildO1xuICAgIH1cbiAgICBnZXRMZWZ0KCkgeyByZXR1cm4gdGhpcy5feDE7IH1cbiAgICBnZXRSaWdodCgpIHsgcmV0dXJuIHRoaXMuX3gyOyB9XG4gICAgZ2V0VG9wKCkgeyByZXR1cm4gdGhpcy5feTE7IH1cbiAgICBnZXRCb3R0b20oKSB7IHJldHVybiB0aGlzLl95MjsgfVxufVxuLyoqXG4gKiBAY2xhc3MgQ29ycmlkb3JcbiAqIEBhdWdtZW50cyBST1QuTWFwLkZlYXR1cmVcbiAqIEBwYXJhbSB7aW50fSBzdGFydFhcbiAqIEBwYXJhbSB7aW50fSBzdGFydFlcbiAqIEBwYXJhbSB7aW50fSBlbmRYXG4gKiBAcGFyYW0ge2ludH0gZW5kWVxuICovXG5leHBvcnQgY2xhc3MgQ29ycmlkb3IgZXh0ZW5kcyBGZWF0dXJlIHtcbiAgICBjb25zdHJ1Y3RvcihzdGFydFgsIHN0YXJ0WSwgZW5kWCwgZW5kWSkge1xuICAgICAgICBzdXBlcigpO1xuICAgICAgICB0aGlzLl9zdGFydFggPSBzdGFydFg7XG4gICAgICAgIHRoaXMuX3N0YXJ0WSA9IHN0YXJ0WTtcbiAgICAgICAgdGhpcy5fZW5kWCA9IGVuZFg7XG4gICAgICAgIHRoaXMuX2VuZFkgPSBlbmRZO1xuICAgICAgICB0aGlzLl9lbmRzV2l0aEFXYWxsID0gdHJ1ZTtcbiAgICB9XG4gICAgc3RhdGljIGNyZWF0ZVJhbmRvbUF0KHgsIHksIGR4LCBkeSwgb3B0aW9ucykge1xuICAgICAgICBsZXQgbWluID0gb3B0aW9ucy5jb3JyaWRvckxlbmd0aFswXTtcbiAgICAgICAgbGV0IG1heCA9IG9wdGlvbnMuY29ycmlkb3JMZW5ndGhbMV07XG4gICAgICAgIGxldCBsZW5ndGggPSBSTkcuZ2V0VW5pZm9ybUludChtaW4sIG1heCk7XG4gICAgICAgIHJldHVybiBuZXcgdGhpcyh4LCB5LCB4ICsgZHggKiBsZW5ndGgsIHkgKyBkeSAqIGxlbmd0aCk7XG4gICAgfVxuICAgIGRlYnVnKCkge1xuICAgICAgICBjb25zb2xlLmxvZyhcImNvcnJpZG9yXCIsIHRoaXMuX3N0YXJ0WCwgdGhpcy5fc3RhcnRZLCB0aGlzLl9lbmRYLCB0aGlzLl9lbmRZKTtcbiAgICB9XG4gICAgaXNWYWxpZChpc1dhbGxDYWxsYmFjaywgY2FuQmVEdWdDYWxsYmFjaykge1xuICAgICAgICBsZXQgc3ggPSB0aGlzLl9zdGFydFg7XG4gICAgICAgIGxldCBzeSA9IHRoaXMuX3N0YXJ0WTtcbiAgICAgICAgbGV0IGR4ID0gdGhpcy5fZW5kWCAtIHN4O1xuICAgICAgICBsZXQgZHkgPSB0aGlzLl9lbmRZIC0gc3k7XG4gICAgICAgIGxldCBsZW5ndGggPSAxICsgTWF0aC5tYXgoTWF0aC5hYnMoZHgpLCBNYXRoLmFicyhkeSkpO1xuICAgICAgICBpZiAoZHgpIHtcbiAgICAgICAgICAgIGR4ID0gZHggLyBNYXRoLmFicyhkeCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGR5KSB7XG4gICAgICAgICAgICBkeSA9IGR5IC8gTWF0aC5hYnMoZHkpO1xuICAgICAgICB9XG4gICAgICAgIGxldCBueCA9IGR5O1xuICAgICAgICBsZXQgbnkgPSAtZHg7XG4gICAgICAgIGxldCBvayA9IHRydWU7XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGxldCB4ID0gc3ggKyBpICogZHg7XG4gICAgICAgICAgICBsZXQgeSA9IHN5ICsgaSAqIGR5O1xuICAgICAgICAgICAgaWYgKCFjYW5CZUR1Z0NhbGxiYWNrKHgsIHkpKSB7XG4gICAgICAgICAgICAgICAgb2sgPSBmYWxzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICghaXNXYWxsQ2FsbGJhY2soeCArIG54LCB5ICsgbnkpKSB7XG4gICAgICAgICAgICAgICAgb2sgPSBmYWxzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICghaXNXYWxsQ2FsbGJhY2soeCAtIG54LCB5IC0gbnkpKSB7XG4gICAgICAgICAgICAgICAgb2sgPSBmYWxzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICghb2spIHtcbiAgICAgICAgICAgICAgICBsZW5ndGggPSBpO1xuICAgICAgICAgICAgICAgIHRoaXMuX2VuZFggPSB4IC0gZHg7XG4gICAgICAgICAgICAgICAgdGhpcy5fZW5kWSA9IHkgLSBkeTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICAvKipcbiAgICAgICAgICogSWYgdGhlIGxlbmd0aCBkZWdlbmVyYXRlZCwgdGhpcyBjb3JyaWRvciBtaWdodCBiZSBpbnZhbGlkXG4gICAgICAgICAqL1xuICAgICAgICAvKiBub3Qgc3VwcG9ydGVkICovXG4gICAgICAgIGlmIChsZW5ndGggPT0gMCkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIC8qIGxlbmd0aCAxIGFsbG93ZWQgb25seSBpZiB0aGUgbmV4dCBzcGFjZSBpcyBlbXB0eSAqL1xuICAgICAgICBpZiAobGVuZ3RoID09IDEgJiYgaXNXYWxsQ2FsbGJhY2sodGhpcy5fZW5kWCArIGR4LCB0aGlzLl9lbmRZICsgZHkpKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFdlIGRvIG5vdCB3YW50IHRoZSBjb3JyaWRvciB0byBjcmFzaCBpbnRvIGEgY29ybmVyIG9mIGEgcm9vbTtcbiAgICAgICAgICogaWYgYW55IG9mIHRoZSBlbmRpbmcgY29ybmVycyBpcyBlbXB0eSwgdGhlIE4rMXRoIGNlbGwgb2YgdGhpcyBjb3JyaWRvciBtdXN0IGJlIGVtcHR5IHRvby5cbiAgICAgICAgICpcbiAgICAgICAgICogU2l0dWF0aW9uOlxuICAgICAgICAgKiAjIyMjIyMjMVxuICAgICAgICAgKiAuLi4uLi4uP1xuICAgICAgICAgKiAjIyMjIyMjMlxuICAgICAgICAgKlxuICAgICAgICAgKiBUaGUgY29ycmlkb3Igd2FzIGR1ZyBmcm9tIGxlZnQgdG8gcmlnaHQuXG4gICAgICAgICAqIDEsIDIgLSBwcm9ibGVtYXRpYyBjb3JuZXJzLCA/ID0gTisxdGggY2VsbCAobm90IGR1ZylcbiAgICAgICAgICovXG4gICAgICAgIGxldCBmaXJzdENvcm5lckJhZCA9ICFpc1dhbGxDYWxsYmFjayh0aGlzLl9lbmRYICsgZHggKyBueCwgdGhpcy5fZW5kWSArIGR5ICsgbnkpO1xuICAgICAgICBsZXQgc2Vjb25kQ29ybmVyQmFkID0gIWlzV2FsbENhbGxiYWNrKHRoaXMuX2VuZFggKyBkeCAtIG54LCB0aGlzLl9lbmRZICsgZHkgLSBueSk7XG4gICAgICAgIHRoaXMuX2VuZHNXaXRoQVdhbGwgPSBpc1dhbGxDYWxsYmFjayh0aGlzLl9lbmRYICsgZHgsIHRoaXMuX2VuZFkgKyBkeSk7XG4gICAgICAgIGlmICgoZmlyc3RDb3JuZXJCYWQgfHwgc2Vjb25kQ29ybmVyQmFkKSAmJiB0aGlzLl9lbmRzV2l0aEFXYWxsKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7ZnVuY3Rpb259IGRpZ0NhbGxiYWNrIERpZyBjYWxsYmFjayB3aXRoIGEgc2lnbmF0dXJlICh4LCB5LCB2YWx1ZSkuIFZhbHVlczogMCA9IGVtcHR5LlxuICAgICAqL1xuICAgIGNyZWF0ZShkaWdDYWxsYmFjaykge1xuICAgICAgICBsZXQgc3ggPSB0aGlzLl9zdGFydFg7XG4gICAgICAgIGxldCBzeSA9IHRoaXMuX3N0YXJ0WTtcbiAgICAgICAgbGV0IGR4ID0gdGhpcy5fZW5kWCAtIHN4O1xuICAgICAgICBsZXQgZHkgPSB0aGlzLl9lbmRZIC0gc3k7XG4gICAgICAgIGxldCBsZW5ndGggPSAxICsgTWF0aC5tYXgoTWF0aC5hYnMoZHgpLCBNYXRoLmFicyhkeSkpO1xuICAgICAgICBpZiAoZHgpIHtcbiAgICAgICAgICAgIGR4ID0gZHggLyBNYXRoLmFicyhkeCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGR5KSB7XG4gICAgICAgICAgICBkeSA9IGR5IC8gTWF0aC5hYnMoZHkpO1xuICAgICAgICB9XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGxldCB4ID0gc3ggKyBpICogZHg7XG4gICAgICAgICAgICBsZXQgeSA9IHN5ICsgaSAqIGR5O1xuICAgICAgICAgICAgZGlnQ2FsbGJhY2soeCwgeSwgMCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIGNyZWF0ZVByaW9yaXR5V2FsbHMocHJpb3JpdHlXYWxsQ2FsbGJhY2spIHtcbiAgICAgICAgaWYgKCF0aGlzLl9lbmRzV2l0aEFXYWxsKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgbGV0IHN4ID0gdGhpcy5fc3RhcnRYO1xuICAgICAgICBsZXQgc3kgPSB0aGlzLl9zdGFydFk7XG4gICAgICAgIGxldCBkeCA9IHRoaXMuX2VuZFggLSBzeDtcbiAgICAgICAgbGV0IGR5ID0gdGhpcy5fZW5kWSAtIHN5O1xuICAgICAgICBpZiAoZHgpIHtcbiAgICAgICAgICAgIGR4ID0gZHggLyBNYXRoLmFicyhkeCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGR5KSB7XG4gICAgICAgICAgICBkeSA9IGR5IC8gTWF0aC5hYnMoZHkpO1xuICAgICAgICB9XG4gICAgICAgIGxldCBueCA9IGR5O1xuICAgICAgICBsZXQgbnkgPSAtZHg7XG4gICAgICAgIHByaW9yaXR5V2FsbENhbGxiYWNrKHRoaXMuX2VuZFggKyBkeCwgdGhpcy5fZW5kWSArIGR5KTtcbiAgICAgICAgcHJpb3JpdHlXYWxsQ2FsbGJhY2sodGhpcy5fZW5kWCArIG54LCB0aGlzLl9lbmRZICsgbnkpO1xuICAgICAgICBwcmlvcml0eVdhbGxDYWxsYmFjayh0aGlzLl9lbmRYIC0gbngsIHRoaXMuX2VuZFkgLSBueSk7XG4gICAgfVxufVxuIiwiaW1wb3J0IER1bmdlb24gZnJvbSBcIi4vZHVuZ2Vvbi5qc1wiO1xuaW1wb3J0IHsgUm9vbSwgQ29ycmlkb3IgfSBmcm9tIFwiLi9mZWF0dXJlcy5qc1wiO1xuaW1wb3J0IFJORyBmcm9tIFwiLi4vcm5nLmpzXCI7XG5pbXBvcnQgeyBESVJTIH0gZnJvbSBcIi4uL2NvbnN0YW50cy5qc1wiO1xuY29uc3QgRkVBVFVSRVMgPSB7XG4gICAgXCJyb29tXCI6IFJvb20sXG4gICAgXCJjb3JyaWRvclwiOiBDb3JyaWRvclxufTtcbi8qKlxuICogUmFuZG9tIGR1bmdlb24gZ2VuZXJhdG9yIHVzaW5nIGh1bWFuLWxpa2UgZGlnZ2luZyBwYXR0ZXJucy5cbiAqIEhlYXZpbHkgYmFzZWQgb24gTWlrZSBBbmRlcnNvbidzIGlkZWFzIGZyb20gdGhlIFwiVHlyYW50XCIgYWxnbywgbWVudGlvbmVkIGF0XG4gKiBodHRwOi8vd3d3LnJvZ3VlYmFzaW4ucm9ndWVsaWtlZGV2ZWxvcG1lbnQub3JnL2luZGV4LnBocD90aXRsZT1EdW5nZW9uLUJ1aWxkaW5nX0FsZ29yaXRobS5cbiAqL1xuZXhwb3J0IGRlZmF1bHQgY2xhc3MgRGlnZ2VyIGV4dGVuZHMgRHVuZ2VvbiB7XG4gICAgY29uc3RydWN0b3Iod2lkdGgsIGhlaWdodCwgb3B0aW9ucyA9IHt9KSB7XG4gICAgICAgIHN1cGVyKHdpZHRoLCBoZWlnaHQpO1xuICAgICAgICB0aGlzLl9vcHRpb25zID0gT2JqZWN0LmFzc2lnbih7XG4gICAgICAgICAgICByb29tV2lkdGg6IFszLCA5XSxcbiAgICAgICAgICAgIHJvb21IZWlnaHQ6IFszLCA1XSxcbiAgICAgICAgICAgIGNvcnJpZG9yTGVuZ3RoOiBbMywgMTBdLFxuICAgICAgICAgICAgZHVnUGVyY2VudGFnZTogMC4yLFxuICAgICAgICAgICAgdGltZUxpbWl0OiAxMDAwIC8qIHdlIHN0b3AgYWZ0ZXIgdGhpcyBtdWNoIHRpbWUgaGFzIHBhc3NlZCAobXNlYykgKi9cbiAgICAgICAgfSwgb3B0aW9ucyk7XG4gICAgICAgIHRoaXMuX2ZlYXR1cmVzID0ge1xuICAgICAgICAgICAgXCJyb29tXCI6IDQsXG4gICAgICAgICAgICBcImNvcnJpZG9yXCI6IDRcbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy5fbWFwID0gW107XG4gICAgICAgIHRoaXMuX2ZlYXR1cmVBdHRlbXB0cyA9IDIwOyAvKiBob3cgbWFueSB0aW1lcyBkbyB3ZSB0cnkgdG8gY3JlYXRlIGEgZmVhdHVyZSBvbiBhIHN1aXRhYmxlIHdhbGwgKi9cbiAgICAgICAgdGhpcy5fd2FsbHMgPSB7fTsgLyogdGhlc2UgYXJlIGF2YWlsYWJsZSBmb3IgZGlnZ2luZyAqL1xuICAgICAgICB0aGlzLl9kdWcgPSAwO1xuICAgICAgICB0aGlzLl9kaWdDYWxsYmFjayA9IHRoaXMuX2RpZ0NhbGxiYWNrLmJpbmQodGhpcyk7XG4gICAgICAgIHRoaXMuX2NhbkJlRHVnQ2FsbGJhY2sgPSB0aGlzLl9jYW5CZUR1Z0NhbGxiYWNrLmJpbmQodGhpcyk7XG4gICAgICAgIHRoaXMuX2lzV2FsbENhbGxiYWNrID0gdGhpcy5faXNXYWxsQ2FsbGJhY2suYmluZCh0aGlzKTtcbiAgICAgICAgdGhpcy5fcHJpb3JpdHlXYWxsQ2FsbGJhY2sgPSB0aGlzLl9wcmlvcml0eVdhbGxDYWxsYmFjay5iaW5kKHRoaXMpO1xuICAgIH1cbiAgICBjcmVhdGUoY2FsbGJhY2spIHtcbiAgICAgICAgdGhpcy5fcm9vbXMgPSBbXTtcbiAgICAgICAgdGhpcy5fY29ycmlkb3JzID0gW107XG4gICAgICAgIHRoaXMuX21hcCA9IHRoaXMuX2ZpbGxNYXAoMSk7XG4gICAgICAgIHRoaXMuX3dhbGxzID0ge307XG4gICAgICAgIHRoaXMuX2R1ZyA9IDA7XG4gICAgICAgIGxldCBhcmVhID0gKHRoaXMuX3dpZHRoIC0gMikgKiAodGhpcy5faGVpZ2h0IC0gMik7XG4gICAgICAgIHRoaXMuX2ZpcnN0Um9vbSgpO1xuICAgICAgICBsZXQgdDEgPSBEYXRlLm5vdygpO1xuICAgICAgICBsZXQgcHJpb3JpdHlXYWxscztcbiAgICAgICAgZG8ge1xuICAgICAgICAgICAgcHJpb3JpdHlXYWxscyA9IDA7XG4gICAgICAgICAgICBsZXQgdDIgPSBEYXRlLm5vdygpO1xuICAgICAgICAgICAgaWYgKHQyIC0gdDEgPiB0aGlzLl9vcHRpb25zLnRpbWVMaW1pdCkge1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLyogZmluZCBhIGdvb2Qgd2FsbCAqL1xuICAgICAgICAgICAgbGV0IHdhbGwgPSB0aGlzLl9maW5kV2FsbCgpO1xuICAgICAgICAgICAgaWYgKCF3YWxsKSB7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9IC8qIG5vIG1vcmUgd2FsbHMgKi9cbiAgICAgICAgICAgIGxldCBwYXJ0cyA9IHdhbGwuc3BsaXQoXCIsXCIpO1xuICAgICAgICAgICAgbGV0IHggPSBwYXJzZUludChwYXJ0c1swXSk7XG4gICAgICAgICAgICBsZXQgeSA9IHBhcnNlSW50KHBhcnRzWzFdKTtcbiAgICAgICAgICAgIGxldCBkaXIgPSB0aGlzLl9nZXREaWdnaW5nRGlyZWN0aW9uKHgsIHkpO1xuICAgICAgICAgICAgaWYgKCFkaXIpIHtcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH0gLyogdGhpcyB3YWxsIGlzIG5vdCBzdWl0YWJsZSAqL1xuICAgICAgICAgICAgLy9cdFx0Y29uc29sZS5sb2coXCJ3YWxsXCIsIHgsIHkpO1xuICAgICAgICAgICAgLyogdHJ5IGFkZGluZyBhIGZlYXR1cmUgKi9cbiAgICAgICAgICAgIGxldCBmZWF0dXJlQXR0ZW1wdHMgPSAwO1xuICAgICAgICAgICAgZG8ge1xuICAgICAgICAgICAgICAgIGZlYXR1cmVBdHRlbXB0cysrO1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLl90cnlGZWF0dXJlKHgsIHksIGRpclswXSwgZGlyWzFdKSkgeyAvKiBmZWF0dXJlIGFkZGVkICovXG4gICAgICAgICAgICAgICAgICAgIC8vaWYgKHRoaXMuX3Jvb21zLmxlbmd0aCArIHRoaXMuX2NvcnJpZG9ycy5sZW5ndGggPT0gMikgeyB0aGlzLl9yb29tc1swXS5hZGREb29yKHgsIHkpOyB9IC8qIGZpcnN0IHJvb20gb2ZpY2lhbGx5IGhhcyBkb29ycyAqL1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9yZW1vdmVTdXJyb3VuZGluZ1dhbGxzKHgsIHkpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9yZW1vdmVTdXJyb3VuZGluZ1dhbGxzKHggLSBkaXJbMF0sIHkgLSBkaXJbMV0pO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IHdoaWxlIChmZWF0dXJlQXR0ZW1wdHMgPCB0aGlzLl9mZWF0dXJlQXR0ZW1wdHMpO1xuICAgICAgICAgICAgZm9yIChsZXQgaWQgaW4gdGhpcy5fd2FsbHMpIHtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5fd2FsbHNbaWRdID4gMSkge1xuICAgICAgICAgICAgICAgICAgICBwcmlvcml0eVdhbGxzKys7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9IHdoaWxlICh0aGlzLl9kdWcgLyBhcmVhIDwgdGhpcy5fb3B0aW9ucy5kdWdQZXJjZW50YWdlIHx8IHByaW9yaXR5V2FsbHMpOyAvKiBmaXhtZSBudW1iZXIgb2YgcHJpb3JpdHkgd2FsbHMgKi9cbiAgICAgICAgdGhpcy5fYWRkRG9vcnMoKTtcbiAgICAgICAgaWYgKGNhbGxiYWNrKSB7XG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMuX3dpZHRoOyBpKyspIHtcbiAgICAgICAgICAgICAgICBmb3IgKGxldCBqID0gMDsgaiA8IHRoaXMuX2hlaWdodDsgaisrKSB7XG4gICAgICAgICAgICAgICAgICAgIGNhbGxiYWNrKGksIGosIHRoaXMuX21hcFtpXVtqXSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHRoaXMuX3dhbGxzID0ge307XG4gICAgICAgIHRoaXMuX21hcCA9IFtdO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgX2RpZ0NhbGxiYWNrKHgsIHksIHZhbHVlKSB7XG4gICAgICAgIGlmICh2YWx1ZSA9PSAwIHx8IHZhbHVlID09IDIpIHsgLyogZW1wdHkgKi9cbiAgICAgICAgICAgIHRoaXMuX21hcFt4XVt5XSA9IDA7XG4gICAgICAgICAgICB0aGlzLl9kdWcrKztcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHsgLyogd2FsbCAqL1xuICAgICAgICAgICAgdGhpcy5fd2FsbHNbeCArIFwiLFwiICsgeV0gPSAxO1xuICAgICAgICB9XG4gICAgfVxuICAgIF9pc1dhbGxDYWxsYmFjayh4LCB5KSB7XG4gICAgICAgIGlmICh4IDwgMCB8fCB5IDwgMCB8fCB4ID49IHRoaXMuX3dpZHRoIHx8IHkgPj0gdGhpcy5faGVpZ2h0KSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuICh0aGlzLl9tYXBbeF1beV0gPT0gMSk7XG4gICAgfVxuICAgIF9jYW5CZUR1Z0NhbGxiYWNrKHgsIHkpIHtcbiAgICAgICAgaWYgKHggPCAxIHx8IHkgPCAxIHx8IHggKyAxID49IHRoaXMuX3dpZHRoIHx8IHkgKyAxID49IHRoaXMuX2hlaWdodCkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiAodGhpcy5fbWFwW3hdW3ldID09IDEpO1xuICAgIH1cbiAgICBfcHJpb3JpdHlXYWxsQ2FsbGJhY2soeCwgeSkgeyB0aGlzLl93YWxsc1t4ICsgXCIsXCIgKyB5XSA9IDI7IH1cbiAgICA7XG4gICAgX2ZpcnN0Um9vbSgpIHtcbiAgICAgICAgbGV0IGN4ID0gTWF0aC5mbG9vcih0aGlzLl93aWR0aCAvIDIpO1xuICAgICAgICBsZXQgY3kgPSBNYXRoLmZsb29yKHRoaXMuX2hlaWdodCAvIDIpO1xuICAgICAgICBsZXQgcm9vbSA9IFJvb20uY3JlYXRlUmFuZG9tQ2VudGVyKGN4LCBjeSwgdGhpcy5fb3B0aW9ucyk7XG4gICAgICAgIHRoaXMuX3Jvb21zLnB1c2gocm9vbSk7XG4gICAgICAgIHJvb20uY3JlYXRlKHRoaXMuX2RpZ0NhbGxiYWNrKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogR2V0IGEgc3VpdGFibGUgd2FsbFxuICAgICAqL1xuICAgIF9maW5kV2FsbCgpIHtcbiAgICAgICAgbGV0IHByaW8xID0gW107XG4gICAgICAgIGxldCBwcmlvMiA9IFtdO1xuICAgICAgICBmb3IgKGxldCBpZCBpbiB0aGlzLl93YWxscykge1xuICAgICAgICAgICAgbGV0IHByaW8gPSB0aGlzLl93YWxsc1tpZF07XG4gICAgICAgICAgICBpZiAocHJpbyA9PSAyKSB7XG4gICAgICAgICAgICAgICAgcHJpbzIucHVzaChpZCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBwcmlvMS5wdXNoKGlkKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBsZXQgYXJyID0gKHByaW8yLmxlbmd0aCA/IHByaW8yIDogcHJpbzEpO1xuICAgICAgICBpZiAoIWFyci5sZW5ndGgpIHtcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICB9IC8qIG5vIHdhbGxzIDovICovXG4gICAgICAgIGxldCBpZCA9IFJORy5nZXRJdGVtKGFyci5zb3J0KCkpOyAvLyBzb3J0IHRvIG1ha2UgdGhlIG9yZGVyIGRldGVybWluaXN0aWNcbiAgICAgICAgZGVsZXRlIHRoaXMuX3dhbGxzW2lkXTtcbiAgICAgICAgcmV0dXJuIGlkO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBUcmllcyBhZGRpbmcgYSBmZWF0dXJlXG4gICAgICogQHJldHVybnMge2Jvb2x9IHdhcyB0aGlzIGEgc3VjY2Vzc2Z1bCB0cnk/XG4gICAgICovXG4gICAgX3RyeUZlYXR1cmUoeCwgeSwgZHgsIGR5KSB7XG4gICAgICAgIGxldCBmZWF0dXJlTmFtZSA9IFJORy5nZXRXZWlnaHRlZFZhbHVlKHRoaXMuX2ZlYXR1cmVzKTtcbiAgICAgICAgbGV0IGN0b3IgPSBGRUFUVVJFU1tmZWF0dXJlTmFtZV07XG4gICAgICAgIGxldCBmZWF0dXJlID0gY3Rvci5jcmVhdGVSYW5kb21BdCh4LCB5LCBkeCwgZHksIHRoaXMuX29wdGlvbnMpO1xuICAgICAgICBpZiAoIWZlYXR1cmUuaXNWYWxpZCh0aGlzLl9pc1dhbGxDYWxsYmFjaywgdGhpcy5fY2FuQmVEdWdDYWxsYmFjaykpIHtcbiAgICAgICAgICAgIC8vXHRcdGNvbnNvbGUubG9nKFwibm90IHZhbGlkXCIpO1xuICAgICAgICAgICAgLy9cdFx0ZmVhdHVyZS5kZWJ1ZygpO1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIGZlYXR1cmUuY3JlYXRlKHRoaXMuX2RpZ0NhbGxiYWNrKTtcbiAgICAgICAgLy9cdGZlYXR1cmUuZGVidWcoKTtcbiAgICAgICAgaWYgKGZlYXR1cmUgaW5zdGFuY2VvZiBSb29tKSB7XG4gICAgICAgICAgICB0aGlzLl9yb29tcy5wdXNoKGZlYXR1cmUpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChmZWF0dXJlIGluc3RhbmNlb2YgQ29ycmlkb3IpIHtcbiAgICAgICAgICAgIGZlYXR1cmUuY3JlYXRlUHJpb3JpdHlXYWxscyh0aGlzLl9wcmlvcml0eVdhbGxDYWxsYmFjayk7XG4gICAgICAgICAgICB0aGlzLl9jb3JyaWRvcnMucHVzaChmZWF0dXJlKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgX3JlbW92ZVN1cnJvdW5kaW5nV2FsbHMoY3gsIGN5KSB7XG4gICAgICAgIGxldCBkZWx0YXMgPSBESVJTWzRdO1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGRlbHRhcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgbGV0IGRlbHRhID0gZGVsdGFzW2ldO1xuICAgICAgICAgICAgbGV0IHggPSBjeCArIGRlbHRhWzBdO1xuICAgICAgICAgICAgbGV0IHkgPSBjeSArIGRlbHRhWzFdO1xuICAgICAgICAgICAgZGVsZXRlIHRoaXMuX3dhbGxzW3ggKyBcIixcIiArIHldO1xuICAgICAgICAgICAgeCA9IGN4ICsgMiAqIGRlbHRhWzBdO1xuICAgICAgICAgICAgeSA9IGN5ICsgMiAqIGRlbHRhWzFdO1xuICAgICAgICAgICAgZGVsZXRlIHRoaXMuX3dhbGxzW3ggKyBcIixcIiArIHldO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJldHVybnMgdmVjdG9yIGluIFwiZGlnZ2luZ1wiIGRpcmVjdGlvbiwgb3IgZmFsc2UsIGlmIHRoaXMgZG9lcyBub3QgZXhpc3QgKG9yIGlzIG5vdCB1bmlxdWUpXG4gICAgICovXG4gICAgX2dldERpZ2dpbmdEaXJlY3Rpb24oY3gsIGN5KSB7XG4gICAgICAgIGlmIChjeCA8PSAwIHx8IGN5IDw9IDAgfHwgY3ggPj0gdGhpcy5fd2lkdGggLSAxIHx8IGN5ID49IHRoaXMuX2hlaWdodCAtIDEpIHtcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICB9XG4gICAgICAgIGxldCByZXN1bHQgPSBudWxsO1xuICAgICAgICBsZXQgZGVsdGFzID0gRElSU1s0XTtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBkZWx0YXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGxldCBkZWx0YSA9IGRlbHRhc1tpXTtcbiAgICAgICAgICAgIGxldCB4ID0gY3ggKyBkZWx0YVswXTtcbiAgICAgICAgICAgIGxldCB5ID0gY3kgKyBkZWx0YVsxXTtcbiAgICAgICAgICAgIGlmICghdGhpcy5fbWFwW3hdW3ldKSB7IC8qIHRoZXJlIGFscmVhZHkgaXMgYW5vdGhlciBlbXB0eSBuZWlnaGJvciEgKi9cbiAgICAgICAgICAgICAgICBpZiAocmVzdWx0KSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXN1bHQgPSBkZWx0YTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICAvKiBubyBlbXB0eSBuZWlnaGJvciAqL1xuICAgICAgICBpZiAoIXJlc3VsdCkge1xuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIFstcmVzdWx0WzBdLCAtcmVzdWx0WzFdXTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogRmluZCBlbXB0eSBzcGFjZXMgc3Vycm91bmRpbmcgcm9vbXMsIGFuZCBhcHBseSBkb29ycy5cbiAgICAgKi9cbiAgICBfYWRkRG9vcnMoKSB7XG4gICAgICAgIGxldCBkYXRhID0gdGhpcy5fbWFwO1xuICAgICAgICBmdW5jdGlvbiBpc1dhbGxDYWxsYmFjayh4LCB5KSB7XG4gICAgICAgICAgICByZXR1cm4gKGRhdGFbeF1beV0gPT0gMSk7XG4gICAgICAgIH1cbiAgICAgICAgO1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMuX3Jvb21zLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBsZXQgcm9vbSA9IHRoaXMuX3Jvb21zW2ldO1xuICAgICAgICAgICAgcm9vbS5jbGVhckRvb3JzKCk7XG4gICAgICAgICAgICByb29tLmFkZERvb3JzKGlzV2FsbENhbGxiYWNrKTtcbiAgICAgICAgfVxuICAgIH1cbn1cbiIsImltcG9ydCBNYXAgZnJvbSBcIi4vbWFwLmpzXCI7XG5pbXBvcnQgUk5HIGZyb20gXCIuLi9ybmcuanNcIjtcbi8qKlxuICogSm9pbiBsaXN0cyB3aXRoIFwiaVwiIGFuZCBcImkrMVwiXG4gKi9cbmZ1bmN0aW9uIGFkZFRvTGlzdChpLCBMLCBSKSB7XG4gICAgUltMW2kgKyAxXV0gPSBSW2ldO1xuICAgIExbUltpXV0gPSBMW2kgKyAxXTtcbiAgICBSW2ldID0gaSArIDE7XG4gICAgTFtpICsgMV0gPSBpO1xufVxuLyoqXG4gKiBSZW1vdmUgXCJpXCIgZnJvbSBpdHMgbGlzdFxuICovXG5mdW5jdGlvbiByZW1vdmVGcm9tTGlzdChpLCBMLCBSKSB7XG4gICAgUltMW2ldXSA9IFJbaV07XG4gICAgTFtSW2ldXSA9IExbaV07XG4gICAgUltpXSA9IGk7XG4gICAgTFtpXSA9IGk7XG59XG4vKipcbiAqIE1hemUgZ2VuZXJhdG9yIC0gRWxsZXIncyBhbGdvcml0aG1cbiAqIFNlZSBodHRwOi8vaG9tZXBhZ2VzLmN3aS5ubC9+dHJvbXAvbWF6ZS5odG1sIGZvciBleHBsYW5hdGlvblxuICovXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBFbGxlck1hemUgZXh0ZW5kcyBNYXAge1xuICAgIGNyZWF0ZShjYWxsYmFjaykge1xuICAgICAgICBsZXQgbWFwID0gdGhpcy5fZmlsbE1hcCgxKTtcbiAgICAgICAgbGV0IHcgPSBNYXRoLmNlaWwoKHRoaXMuX3dpZHRoIC0gMikgLyAyKTtcbiAgICAgICAgbGV0IHJhbmQgPSA5IC8gMjQ7XG4gICAgICAgIGxldCBMID0gW107XG4gICAgICAgIGxldCBSID0gW107XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdzsgaSsrKSB7XG4gICAgICAgICAgICBMLnB1c2goaSk7XG4gICAgICAgICAgICBSLnB1c2goaSk7XG4gICAgICAgIH1cbiAgICAgICAgTC5wdXNoKHcgLSAxKTsgLyogZmFrZSBzdG9wLWJsb2NrIGF0IHRoZSByaWdodCBzaWRlICovXG4gICAgICAgIGxldCBqO1xuICAgICAgICBmb3IgKGogPSAxOyBqICsgMyA8IHRoaXMuX2hlaWdodDsgaiArPSAyKSB7XG4gICAgICAgICAgICAvKiBvbmUgcm93ICovXG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHc7IGkrKykge1xuICAgICAgICAgICAgICAgIC8qIGNlbGwgY29vcmRzICh3aWxsIGJlIGFsd2F5cyBlbXB0eSkgKi9cbiAgICAgICAgICAgICAgICBsZXQgeCA9IDIgKiBpICsgMTtcbiAgICAgICAgICAgICAgICBsZXQgeSA9IGo7XG4gICAgICAgICAgICAgICAgbWFwW3hdW3ldID0gMDtcbiAgICAgICAgICAgICAgICAvKiByaWdodCBjb25uZWN0aW9uICovXG4gICAgICAgICAgICAgICAgaWYgKGkgIT0gTFtpICsgMV0gJiYgUk5HLmdldFVuaWZvcm0oKSA+IHJhbmQpIHtcbiAgICAgICAgICAgICAgICAgICAgYWRkVG9MaXN0KGksIEwsIFIpO1xuICAgICAgICAgICAgICAgICAgICBtYXBbeCArIDFdW3ldID0gMDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgLyogYm90dG9tIGNvbm5lY3Rpb24gKi9cbiAgICAgICAgICAgICAgICBpZiAoaSAhPSBMW2ldICYmIFJORy5nZXRVbmlmb3JtKCkgPiByYW5kKSB7XG4gICAgICAgICAgICAgICAgICAgIC8qIHJlbW92ZSBjb25uZWN0aW9uICovXG4gICAgICAgICAgICAgICAgICAgIHJlbW92ZUZyb21MaXN0KGksIEwsIFIpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgLyogY3JlYXRlIGNvbm5lY3Rpb24gKi9cbiAgICAgICAgICAgICAgICAgICAgbWFwW3hdW3kgKyAxXSA9IDA7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIC8qIGxhc3Qgcm93ICovXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdzsgaSsrKSB7XG4gICAgICAgICAgICAvKiBjZWxsIGNvb3JkcyAod2lsbCBiZSBhbHdheXMgZW1wdHkpICovXG4gICAgICAgICAgICBsZXQgeCA9IDIgKiBpICsgMTtcbiAgICAgICAgICAgIGxldCB5ID0gajtcbiAgICAgICAgICAgIG1hcFt4XVt5XSA9IDA7XG4gICAgICAgICAgICAvKiByaWdodCBjb25uZWN0aW9uICovXG4gICAgICAgICAgICBpZiAoaSAhPSBMW2kgKyAxXSAmJiAoaSA9PSBMW2ldIHx8IFJORy5nZXRVbmlmb3JtKCkgPiByYW5kKSkge1xuICAgICAgICAgICAgICAgIC8qIGRpZyByaWdodCBhbHNvIGlmIHRoZSBjZWxsIGlzIHNlcGFyYXRlZCwgc28gaXQgZ2V0cyBjb25uZWN0ZWQgdG8gdGhlIHJlc3Qgb2YgbWF6ZSAqL1xuICAgICAgICAgICAgICAgIGFkZFRvTGlzdChpLCBMLCBSKTtcbiAgICAgICAgICAgICAgICBtYXBbeCArIDFdW3ldID0gMDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJlbW92ZUZyb21MaXN0KGksIEwsIFIpO1xuICAgICAgICB9XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5fd2lkdGg7IGkrKykge1xuICAgICAgICAgICAgZm9yIChsZXQgaiA9IDA7IGogPCB0aGlzLl9oZWlnaHQ7IGorKykge1xuICAgICAgICAgICAgICAgIGNhbGxiYWNrKGksIGosIG1hcFtpXVtqXSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxufVxuIiwiaW1wb3J0IEFyZW5hIGZyb20gXCIuL2FyZW5hLmpzXCI7XG5pbXBvcnQgVW5pZm9ybSBmcm9tIFwiLi91bmlmb3JtLmpzXCI7XG5pbXBvcnQgQ2VsbHVsYXIgZnJvbSBcIi4vY2VsbHVsYXIuanNcIjtcbmltcG9ydCBEaWdnZXIgZnJvbSBcIi4vZGlnZ2VyLmpzXCI7XG5pbXBvcnQgRWxsZXJNYXplIGZyb20gXCIuL2VsbGVybWF6ZS5qc1wiO1xuaW1wb3J0IERpdmlkZWRNYXplIGZyb20gXCIuL2RpdmlkZWRtYXplLmpzXCI7XG5pbXBvcnQgSWNleU1hemUgZnJvbSBcIi4vaWNleW1hemUuanNcIjtcbmltcG9ydCBSb2d1ZSBmcm9tIFwiLi9yb2d1ZS5qc1wiO1xuZXhwb3J0IGRlZmF1bHQgeyBBcmVuYSwgVW5pZm9ybSwgQ2VsbHVsYXIsIERpZ2dlciwgRWxsZXJNYXplLCBEaXZpZGVkTWF6ZSwgSWNleU1hemUsIFJvZ3VlIH07XG4iLCJpbXBvcnQgTWFwIGZyb20gXCIuL21hcC5qc1wiO1xuLyoqXG4gKiBAY2xhc3MgU2ltcGxlIGVtcHR5IHJlY3Rhbmd1bGFyIHJvb21cbiAqIEBhdWdtZW50cyBST1QuTWFwXG4gKi9cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEFyZW5hIGV4dGVuZHMgTWFwIHtcbiAgICBjcmVhdGUoY2FsbGJhY2spIHtcbiAgICAgICAgbGV0IHcgPSB0aGlzLl93aWR0aCAtIDE7XG4gICAgICAgIGxldCBoID0gdGhpcy5faGVpZ2h0IC0gMTtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPD0gdzsgaSsrKSB7XG4gICAgICAgICAgICBmb3IgKGxldCBqID0gMDsgaiA8PSBoOyBqKyspIHtcbiAgICAgICAgICAgICAgICBsZXQgZW1wdHkgPSAoaSAmJiBqICYmIGkgPCB3ICYmIGogPCBoKTtcbiAgICAgICAgICAgICAgICBjYWxsYmFjayhpLCBqLCBlbXB0eSA/IDAgOiAxKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG59XG4iLCJpbXBvcnQgRHVuZ2VvbiBmcm9tIFwiLi9kdW5nZW9uLmpzXCI7XG5pbXBvcnQgeyBSb29tLCBDb3JyaWRvciB9IGZyb20gXCIuL2ZlYXR1cmVzLmpzXCI7XG5pbXBvcnQgUk5HIGZyb20gXCIuLi9ybmcuanNcIjtcbjtcbi8qKlxuICogQGNsYXNzIER1bmdlb24gZ2VuZXJhdG9yIHdoaWNoIHRyaWVzIHRvIGZpbGwgdGhlIHNwYWNlIGV2ZW5seS4gR2VuZXJhdGVzIGluZGVwZW5kZW50IHJvb21zIGFuZCB0cmllcyB0byBjb25uZWN0IHRoZW0uXG4gKiBAYXVnbWVudHMgUk9ULk1hcC5EdW5nZW9uXG4gKi9cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFVuaWZvcm0gZXh0ZW5kcyBEdW5nZW9uIHtcbiAgICBjb25zdHJ1Y3Rvcih3aWR0aCwgaGVpZ2h0LCBvcHRpb25zKSB7XG4gICAgICAgIHN1cGVyKHdpZHRoLCBoZWlnaHQpO1xuICAgICAgICB0aGlzLl9vcHRpb25zID0ge1xuICAgICAgICAgICAgcm9vbVdpZHRoOiBbMywgOV0sXG4gICAgICAgICAgICByb29tSGVpZ2h0OiBbMywgNV0sXG4gICAgICAgICAgICByb29tRHVnUGVyY2VudGFnZTogMC4xLFxuICAgICAgICAgICAgdGltZUxpbWl0OiAxMDAwIC8qIHdlIHN0b3AgYWZ0ZXIgdGhpcyBtdWNoIHRpbWUgaGFzIHBhc3NlZCAobXNlYykgKi9cbiAgICAgICAgfTtcbiAgICAgICAgT2JqZWN0LmFzc2lnbih0aGlzLl9vcHRpb25zLCBvcHRpb25zKTtcbiAgICAgICAgdGhpcy5fbWFwID0gW107XG4gICAgICAgIHRoaXMuX2R1ZyA9IDA7XG4gICAgICAgIHRoaXMuX3Jvb21BdHRlbXB0cyA9IDIwOyAvKiBuZXcgcm9vbSBpcyBjcmVhdGVkIE4tdGltZXMgdW50aWwgaXMgY29uc2lkZXJlZCBhcyBpbXBvc3NpYmxlIHRvIGdlbmVyYXRlICovXG4gICAgICAgIHRoaXMuX2NvcnJpZG9yQXR0ZW1wdHMgPSAyMDsgLyogY29ycmlkb3JzIGFyZSB0cmllZCBOLXRpbWVzIHVudGlsIHRoZSBsZXZlbCBpcyBjb25zaWRlcmVkIGFzIGltcG9zc2libGUgdG8gY29ubmVjdCAqL1xuICAgICAgICB0aGlzLl9jb25uZWN0ZWQgPSBbXTsgLyogbGlzdCBvZiBhbHJlYWR5IGNvbm5lY3RlZCByb29tcyAqL1xuICAgICAgICB0aGlzLl91bmNvbm5lY3RlZCA9IFtdOyAvKiBsaXN0IG9mIHJlbWFpbmluZyB1bmNvbm5lY3RlZCByb29tcyAqL1xuICAgICAgICB0aGlzLl9kaWdDYWxsYmFjayA9IHRoaXMuX2RpZ0NhbGxiYWNrLmJpbmQodGhpcyk7XG4gICAgICAgIHRoaXMuX2NhbkJlRHVnQ2FsbGJhY2sgPSB0aGlzLl9jYW5CZUR1Z0NhbGxiYWNrLmJpbmQodGhpcyk7XG4gICAgICAgIHRoaXMuX2lzV2FsbENhbGxiYWNrID0gdGhpcy5faXNXYWxsQ2FsbGJhY2suYmluZCh0aGlzKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQ3JlYXRlIGEgbWFwLiBJZiB0aGUgdGltZSBsaW1pdCBoYXMgYmVlbiBoaXQsIHJldHVybnMgbnVsbC5cbiAgICAgKiBAc2VlIFJPVC5NYXAjY3JlYXRlXG4gICAgICovXG4gICAgY3JlYXRlKGNhbGxiYWNrKSB7XG4gICAgICAgIGxldCB0MSA9IERhdGUubm93KCk7XG4gICAgICAgIHdoaWxlICgxKSB7XG4gICAgICAgICAgICBsZXQgdDIgPSBEYXRlLm5vdygpO1xuICAgICAgICAgICAgaWYgKHQyIC0gdDEgPiB0aGlzLl9vcHRpb25zLnRpbWVMaW1pdCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICAgICAgfSAvKiB0aW1lIGxpbWl0ISAqL1xuICAgICAgICAgICAgdGhpcy5fbWFwID0gdGhpcy5fZmlsbE1hcCgxKTtcbiAgICAgICAgICAgIHRoaXMuX2R1ZyA9IDA7XG4gICAgICAgICAgICB0aGlzLl9yb29tcyA9IFtdO1xuICAgICAgICAgICAgdGhpcy5fdW5jb25uZWN0ZWQgPSBbXTtcbiAgICAgICAgICAgIHRoaXMuX2dlbmVyYXRlUm9vbXMoKTtcbiAgICAgICAgICAgIGlmICh0aGlzLl9yb29tcy5sZW5ndGggPCAyKSB7XG4gICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAodGhpcy5fZ2VuZXJhdGVDb3JyaWRvcnMoKSkge1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmIChjYWxsYmFjaykge1xuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLl93aWR0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgZm9yIChsZXQgaiA9IDA7IGogPCB0aGlzLl9oZWlnaHQ7IGorKykge1xuICAgICAgICAgICAgICAgICAgICBjYWxsYmFjayhpLCBqLCB0aGlzLl9tYXBbaV1bal0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgLyoqXG4gICAgICogR2VuZXJhdGVzIGEgc3VpdGFibGUgYW1vdW50IG9mIHJvb21zXG4gICAgICovXG4gICAgX2dlbmVyYXRlUm9vbXMoKSB7XG4gICAgICAgIGxldCB3ID0gdGhpcy5fd2lkdGggLSAyO1xuICAgICAgICBsZXQgaCA9IHRoaXMuX2hlaWdodCAtIDI7XG4gICAgICAgIGxldCByb29tO1xuICAgICAgICBkbyB7XG4gICAgICAgICAgICByb29tID0gdGhpcy5fZ2VuZXJhdGVSb29tKCk7XG4gICAgICAgICAgICBpZiAodGhpcy5fZHVnIC8gKHcgKiBoKSA+IHRoaXMuX29wdGlvbnMucm9vbUR1Z1BlcmNlbnRhZ2UpIHtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH0gLyogYWNoaWV2ZWQgcmVxdWVzdGVkIGFtb3VudCBvZiBmcmVlIHNwYWNlICovXG4gICAgICAgIH0gd2hpbGUgKHJvb20pO1xuICAgICAgICAvKiBlaXRoZXIgZW5vdWdoIHJvb21zLCBvciBub3QgYWJsZSB0byBnZW5lcmF0ZSBtb3JlIG9mIHRoZW0gOikgKi9cbiAgICB9XG4gICAgLyoqXG4gICAgICogVHJ5IHRvIGdlbmVyYXRlIG9uZSByb29tXG4gICAgICovXG4gICAgX2dlbmVyYXRlUm9vbSgpIHtcbiAgICAgICAgbGV0IGNvdW50ID0gMDtcbiAgICAgICAgd2hpbGUgKGNvdW50IDwgdGhpcy5fcm9vbUF0dGVtcHRzKSB7XG4gICAgICAgICAgICBjb3VudCsrO1xuICAgICAgICAgICAgbGV0IHJvb20gPSBSb29tLmNyZWF0ZVJhbmRvbSh0aGlzLl93aWR0aCwgdGhpcy5faGVpZ2h0LCB0aGlzLl9vcHRpb25zKTtcbiAgICAgICAgICAgIGlmICghcm9vbS5pc1ZhbGlkKHRoaXMuX2lzV2FsbENhbGxiYWNrLCB0aGlzLl9jYW5CZUR1Z0NhbGxiYWNrKSkge1xuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcm9vbS5jcmVhdGUodGhpcy5fZGlnQ2FsbGJhY2spO1xuICAgICAgICAgICAgdGhpcy5fcm9vbXMucHVzaChyb29tKTtcbiAgICAgICAgICAgIHJldHVybiByb29tO1xuICAgICAgICB9XG4gICAgICAgIC8qIG5vIHJvb20gd2FzIGdlbmVyYXRlZCBpbiBhIGdpdmVuIG51bWJlciBvZiBhdHRlbXB0cyAqL1xuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gICAgLyoqXG4gICAgICogR2VuZXJhdGVzIGNvbm5lY3RvcnMgYmV3ZWVuIHJvb21zXG4gICAgICogQHJldHVybnMge2Jvb2x9IHN1Y2Nlc3MgV2FzIHRoaXMgYXR0ZW1wdCBzdWNjZXNzZnVsbD9cbiAgICAgKi9cbiAgICBfZ2VuZXJhdGVDb3JyaWRvcnMoKSB7XG4gICAgICAgIGxldCBjbnQgPSAwO1xuICAgICAgICB3aGlsZSAoY250IDwgdGhpcy5fY29ycmlkb3JBdHRlbXB0cykge1xuICAgICAgICAgICAgY250Kys7XG4gICAgICAgICAgICB0aGlzLl9jb3JyaWRvcnMgPSBbXTtcbiAgICAgICAgICAgIC8qIGRpZyByb29tcyBpbnRvIGEgY2xlYXIgbWFwICovXG4gICAgICAgICAgICB0aGlzLl9tYXAgPSB0aGlzLl9maWxsTWFwKDEpO1xuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLl9yb29tcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgIGxldCByb29tID0gdGhpcy5fcm9vbXNbaV07XG4gICAgICAgICAgICAgICAgcm9vbS5jbGVhckRvb3JzKCk7XG4gICAgICAgICAgICAgICAgcm9vbS5jcmVhdGUodGhpcy5fZGlnQ2FsbGJhY2spO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5fdW5jb25uZWN0ZWQgPSBSTkcuc2h1ZmZsZSh0aGlzLl9yb29tcy5zbGljZSgpKTtcbiAgICAgICAgICAgIHRoaXMuX2Nvbm5lY3RlZCA9IFtdO1xuICAgICAgICAgICAgaWYgKHRoaXMuX3VuY29ubmVjdGVkLmxlbmd0aCkge1xuICAgICAgICAgICAgICAgIHRoaXMuX2Nvbm5lY3RlZC5wdXNoKHRoaXMuX3VuY29ubmVjdGVkLnBvcCgpKTtcbiAgICAgICAgICAgIH0gLyogZmlyc3Qgb25lIGlzIGFsd2F5cyBjb25uZWN0ZWQgKi9cbiAgICAgICAgICAgIHdoaWxlICgxKSB7XG4gICAgICAgICAgICAgICAgLyogMS4gcGljayByYW5kb20gY29ubmVjdGVkIHJvb20gKi9cbiAgICAgICAgICAgICAgICBsZXQgY29ubmVjdGVkID0gUk5HLmdldEl0ZW0odGhpcy5fY29ubmVjdGVkKTtcbiAgICAgICAgICAgICAgICBpZiAoIWNvbm5lY3RlZCkge1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgLyogMi4gZmluZCBjbG9zZXN0IHVuY29ubmVjdGVkICovXG4gICAgICAgICAgICAgICAgbGV0IHJvb20xID0gdGhpcy5fY2xvc2VzdFJvb20odGhpcy5fdW5jb25uZWN0ZWQsIGNvbm5lY3RlZCk7XG4gICAgICAgICAgICAgICAgaWYgKCFyb29tMSkge1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgLyogMy4gY29ubmVjdCBpdCB0byBjbG9zZXN0IGNvbm5lY3RlZCAqL1xuICAgICAgICAgICAgICAgIGxldCByb29tMiA9IHRoaXMuX2Nsb3Nlc3RSb29tKHRoaXMuX2Nvbm5lY3RlZCwgcm9vbTEpO1xuICAgICAgICAgICAgICAgIGlmICghcm9vbTIpIHtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGxldCBvayA9IHRoaXMuX2Nvbm5lY3RSb29tcyhyb29tMSwgcm9vbTIpO1xuICAgICAgICAgICAgICAgIGlmICghb2spIHtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfSAvKiBzdG9wIGNvbm5lY3RpbmcsIHJlLXNodWZmbGUgKi9cbiAgICAgICAgICAgICAgICBpZiAoIXRoaXMuX3VuY29ubmVjdGVkLmxlbmd0aCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgICAgICB9IC8qIGRvbmU7IG5vIHJvb21zIHJlbWFpbiAqL1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgO1xuICAgIC8qKlxuICAgICAqIEZvciBhIGdpdmVuIHJvb20sIGZpbmQgdGhlIGNsb3Nlc3Qgb25lIGZyb20gdGhlIGxpc3RcbiAgICAgKi9cbiAgICBfY2xvc2VzdFJvb20ocm9vbXMsIHJvb20pIHtcbiAgICAgICAgbGV0IGRpc3QgPSBJbmZpbml0eTtcbiAgICAgICAgbGV0IGNlbnRlciA9IHJvb20uZ2V0Q2VudGVyKCk7XG4gICAgICAgIGxldCByZXN1bHQgPSBudWxsO1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHJvb21zLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBsZXQgciA9IHJvb21zW2ldO1xuICAgICAgICAgICAgbGV0IGMgPSByLmdldENlbnRlcigpO1xuICAgICAgICAgICAgbGV0IGR4ID0gY1swXSAtIGNlbnRlclswXTtcbiAgICAgICAgICAgIGxldCBkeSA9IGNbMV0gLSBjZW50ZXJbMV07XG4gICAgICAgICAgICBsZXQgZCA9IGR4ICogZHggKyBkeSAqIGR5O1xuICAgICAgICAgICAgaWYgKGQgPCBkaXN0KSB7XG4gICAgICAgICAgICAgICAgZGlzdCA9IGQ7XG4gICAgICAgICAgICAgICAgcmVzdWx0ID0gcjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cbiAgICBfY29ubmVjdFJvb21zKHJvb20xLCByb29tMikge1xuICAgICAgICAvKlxuICAgICAgICAgICAgcm9vbTEuZGVidWcoKTtcbiAgICAgICAgICAgIHJvb20yLmRlYnVnKCk7XG4gICAgICAgICovXG4gICAgICAgIGxldCBjZW50ZXIxID0gcm9vbTEuZ2V0Q2VudGVyKCk7XG4gICAgICAgIGxldCBjZW50ZXIyID0gcm9vbTIuZ2V0Q2VudGVyKCk7XG4gICAgICAgIGxldCBkaWZmWCA9IGNlbnRlcjJbMF0gLSBjZW50ZXIxWzBdO1xuICAgICAgICBsZXQgZGlmZlkgPSBjZW50ZXIyWzFdIC0gY2VudGVyMVsxXTtcbiAgICAgICAgbGV0IHN0YXJ0O1xuICAgICAgICBsZXQgZW5kO1xuICAgICAgICBsZXQgZGlySW5kZXgxLCBkaXJJbmRleDIsIG1pbiwgbWF4LCBpbmRleDtcbiAgICAgICAgaWYgKE1hdGguYWJzKGRpZmZYKSA8IE1hdGguYWJzKGRpZmZZKSkgeyAvKiBmaXJzdCB0cnkgY29ubmVjdGluZyBub3J0aC1zb3V0aCB3YWxscyAqL1xuICAgICAgICAgICAgZGlySW5kZXgxID0gKGRpZmZZID4gMCA/IDIgOiAwKTtcbiAgICAgICAgICAgIGRpckluZGV4MiA9IChkaXJJbmRleDEgKyAyKSAlIDQ7XG4gICAgICAgICAgICBtaW4gPSByb29tMi5nZXRMZWZ0KCk7XG4gICAgICAgICAgICBtYXggPSByb29tMi5nZXRSaWdodCgpO1xuICAgICAgICAgICAgaW5kZXggPSAwO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgeyAvKiBmaXJzdCB0cnkgY29ubmVjdGluZyBlYXN0LXdlc3Qgd2FsbHMgKi9cbiAgICAgICAgICAgIGRpckluZGV4MSA9IChkaWZmWCA+IDAgPyAxIDogMyk7XG4gICAgICAgICAgICBkaXJJbmRleDIgPSAoZGlySW5kZXgxICsgMikgJSA0O1xuICAgICAgICAgICAgbWluID0gcm9vbTIuZ2V0VG9wKCk7XG4gICAgICAgICAgICBtYXggPSByb29tMi5nZXRCb3R0b20oKTtcbiAgICAgICAgICAgIGluZGV4ID0gMTtcbiAgICAgICAgfVxuICAgICAgICBzdGFydCA9IHRoaXMuX3BsYWNlSW5XYWxsKHJvb20xLCBkaXJJbmRleDEpOyAvKiBjb3JyaWRvciB3aWxsIHN0YXJ0IGhlcmUgKi9cbiAgICAgICAgaWYgKCFzdGFydCkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIGlmIChzdGFydFtpbmRleF0gPj0gbWluICYmIHN0YXJ0W2luZGV4XSA8PSBtYXgpIHsgLyogcG9zc2libGUgdG8gY29ubmVjdCB3aXRoIHN0cmFpZ2h0IGxpbmUgKEktbGlrZSkgKi9cbiAgICAgICAgICAgIGVuZCA9IHN0YXJ0LnNsaWNlKCk7XG4gICAgICAgICAgICBsZXQgdmFsdWUgPSAwO1xuICAgICAgICAgICAgc3dpdGNoIChkaXJJbmRleDIpIHtcbiAgICAgICAgICAgICAgICBjYXNlIDA6XG4gICAgICAgICAgICAgICAgICAgIHZhbHVlID0gcm9vbTIuZ2V0VG9wKCkgLSAxO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgICAgICAgICAgIHZhbHVlID0gcm9vbTIuZ2V0UmlnaHQoKSArIDE7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgMjpcbiAgICAgICAgICAgICAgICAgICAgdmFsdWUgPSByb29tMi5nZXRCb3R0b20oKSArIDE7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgMzpcbiAgICAgICAgICAgICAgICAgICAgdmFsdWUgPSByb29tMi5nZXRMZWZ0KCkgLSAxO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVuZFsoaW5kZXggKyAxKSAlIDJdID0gdmFsdWU7XG4gICAgICAgICAgICB0aGlzLl9kaWdMaW5lKFtzdGFydCwgZW5kXSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoc3RhcnRbaW5kZXhdIDwgbWluIC0gMSB8fCBzdGFydFtpbmRleF0gPiBtYXggKyAxKSB7IC8qIG5lZWQgdG8gc3dpdGNoIHRhcmdldCB3YWxsIChMLWxpa2UpICovXG4gICAgICAgICAgICBsZXQgZGlmZiA9IHN0YXJ0W2luZGV4XSAtIGNlbnRlcjJbaW5kZXhdO1xuICAgICAgICAgICAgbGV0IHJvdGF0aW9uID0gMDtcbiAgICAgICAgICAgIHN3aXRjaCAoZGlySW5kZXgyKSB7XG4gICAgICAgICAgICAgICAgY2FzZSAwOlxuICAgICAgICAgICAgICAgIGNhc2UgMTpcbiAgICAgICAgICAgICAgICAgICAgcm90YXRpb24gPSAoZGlmZiA8IDAgPyAzIDogMSk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgMjpcbiAgICAgICAgICAgICAgICBjYXNlIDM6XG4gICAgICAgICAgICAgICAgICAgIHJvdGF0aW9uID0gKGRpZmYgPCAwID8gMSA6IDMpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGRpckluZGV4MiA9IChkaXJJbmRleDIgKyByb3RhdGlvbikgJSA0O1xuICAgICAgICAgICAgZW5kID0gdGhpcy5fcGxhY2VJbldhbGwocm9vbTIsIGRpckluZGV4Mik7XG4gICAgICAgICAgICBpZiAoIWVuZCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGxldCBtaWQgPSBbMCwgMF07XG4gICAgICAgICAgICBtaWRbaW5kZXhdID0gc3RhcnRbaW5kZXhdO1xuICAgICAgICAgICAgbGV0IGluZGV4MiA9IChpbmRleCArIDEpICUgMjtcbiAgICAgICAgICAgIG1pZFtpbmRleDJdID0gZW5kW2luZGV4Ml07XG4gICAgICAgICAgICB0aGlzLl9kaWdMaW5lKFtzdGFydCwgbWlkLCBlbmRdKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHsgLyogdXNlIGN1cnJlbnQgd2FsbCBwYWlyLCBidXQgYWRqdXN0IHRoZSBsaW5lIGluIHRoZSBtaWRkbGUgKFMtbGlrZSkgKi9cbiAgICAgICAgICAgIGxldCBpbmRleDIgPSAoaW5kZXggKyAxKSAlIDI7XG4gICAgICAgICAgICBlbmQgPSB0aGlzLl9wbGFjZUluV2FsbChyb29tMiwgZGlySW5kZXgyKTtcbiAgICAgICAgICAgIGlmICghZW5kKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgbGV0IG1pZCA9IE1hdGgucm91bmQoKGVuZFtpbmRleDJdICsgc3RhcnRbaW5kZXgyXSkgLyAyKTtcbiAgICAgICAgICAgIGxldCBtaWQxID0gWzAsIDBdO1xuICAgICAgICAgICAgbGV0IG1pZDIgPSBbMCwgMF07XG4gICAgICAgICAgICBtaWQxW2luZGV4XSA9IHN0YXJ0W2luZGV4XTtcbiAgICAgICAgICAgIG1pZDFbaW5kZXgyXSA9IG1pZDtcbiAgICAgICAgICAgIG1pZDJbaW5kZXhdID0gZW5kW2luZGV4XTtcbiAgICAgICAgICAgIG1pZDJbaW5kZXgyXSA9IG1pZDtcbiAgICAgICAgICAgIHRoaXMuX2RpZ0xpbmUoW3N0YXJ0LCBtaWQxLCBtaWQyLCBlbmRdKTtcbiAgICAgICAgfVxuICAgICAgICByb29tMS5hZGREb29yKHN0YXJ0WzBdLCBzdGFydFsxXSk7XG4gICAgICAgIHJvb20yLmFkZERvb3IoZW5kWzBdLCBlbmRbMV0pO1xuICAgICAgICBpbmRleCA9IHRoaXMuX3VuY29ubmVjdGVkLmluZGV4T2Yocm9vbTEpO1xuICAgICAgICBpZiAoaW5kZXggIT0gLTEpIHtcbiAgICAgICAgICAgIHRoaXMuX3VuY29ubmVjdGVkLnNwbGljZShpbmRleCwgMSk7XG4gICAgICAgICAgICB0aGlzLl9jb25uZWN0ZWQucHVzaChyb29tMSk7XG4gICAgICAgIH1cbiAgICAgICAgaW5kZXggPSB0aGlzLl91bmNvbm5lY3RlZC5pbmRleE9mKHJvb20yKTtcbiAgICAgICAgaWYgKGluZGV4ICE9IC0xKSB7XG4gICAgICAgICAgICB0aGlzLl91bmNvbm5lY3RlZC5zcGxpY2UoaW5kZXgsIDEpO1xuICAgICAgICAgICAgdGhpcy5fY29ubmVjdGVkLnB1c2gocm9vbTIpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICBfcGxhY2VJbldhbGwocm9vbSwgZGlySW5kZXgpIHtcbiAgICAgICAgbGV0IHN0YXJ0ID0gWzAsIDBdO1xuICAgICAgICBsZXQgZGlyID0gWzAsIDBdO1xuICAgICAgICBsZXQgbGVuZ3RoID0gMDtcbiAgICAgICAgc3dpdGNoIChkaXJJbmRleCkge1xuICAgICAgICAgICAgY2FzZSAwOlxuICAgICAgICAgICAgICAgIGRpciA9IFsxLCAwXTtcbiAgICAgICAgICAgICAgICBzdGFydCA9IFtyb29tLmdldExlZnQoKSwgcm9vbS5nZXRUb3AoKSAtIDFdO1xuICAgICAgICAgICAgICAgIGxlbmd0aCA9IHJvb20uZ2V0UmlnaHQoKSAtIHJvb20uZ2V0TGVmdCgpICsgMTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgMTpcbiAgICAgICAgICAgICAgICBkaXIgPSBbMCwgMV07XG4gICAgICAgICAgICAgICAgc3RhcnQgPSBbcm9vbS5nZXRSaWdodCgpICsgMSwgcm9vbS5nZXRUb3AoKV07XG4gICAgICAgICAgICAgICAgbGVuZ3RoID0gcm9vbS5nZXRCb3R0b20oKSAtIHJvb20uZ2V0VG9wKCkgKyAxO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAyOlxuICAgICAgICAgICAgICAgIGRpciA9IFsxLCAwXTtcbiAgICAgICAgICAgICAgICBzdGFydCA9IFtyb29tLmdldExlZnQoKSwgcm9vbS5nZXRCb3R0b20oKSArIDFdO1xuICAgICAgICAgICAgICAgIGxlbmd0aCA9IHJvb20uZ2V0UmlnaHQoKSAtIHJvb20uZ2V0TGVmdCgpICsgMTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgMzpcbiAgICAgICAgICAgICAgICBkaXIgPSBbMCwgMV07XG4gICAgICAgICAgICAgICAgc3RhcnQgPSBbcm9vbS5nZXRMZWZ0KCkgLSAxLCByb29tLmdldFRvcCgpXTtcbiAgICAgICAgICAgICAgICBsZW5ndGggPSByb29tLmdldEJvdHRvbSgpIC0gcm9vbS5nZXRUb3AoKSArIDE7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgICAgbGV0IGF2YWlsID0gW107XG4gICAgICAgIGxldCBsYXN0QmFkSW5kZXggPSAtMjtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBsZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgbGV0IHggPSBzdGFydFswXSArIGkgKiBkaXJbMF07XG4gICAgICAgICAgICBsZXQgeSA9IHN0YXJ0WzFdICsgaSAqIGRpclsxXTtcbiAgICAgICAgICAgIGF2YWlsLnB1c2gobnVsbCk7XG4gICAgICAgICAgICBsZXQgaXNXYWxsID0gKHRoaXMuX21hcFt4XVt5XSA9PSAxKTtcbiAgICAgICAgICAgIGlmIChpc1dhbGwpIHtcbiAgICAgICAgICAgICAgICBpZiAobGFzdEJhZEluZGV4ICE9IGkgLSAxKSB7XG4gICAgICAgICAgICAgICAgICAgIGF2YWlsW2ldID0gW3gsIHldO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGxhc3RCYWRJbmRleCA9IGk7XG4gICAgICAgICAgICAgICAgaWYgKGkpIHtcbiAgICAgICAgICAgICAgICAgICAgYXZhaWxbaSAtIDFdID0gbnVsbDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZm9yIChsZXQgaSA9IGF2YWlsLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSB7XG4gICAgICAgICAgICBpZiAoIWF2YWlsW2ldKSB7XG4gICAgICAgICAgICAgICAgYXZhaWwuc3BsaWNlKGksIDEpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiAoYXZhaWwubGVuZ3RoID8gUk5HLmdldEl0ZW0oYXZhaWwpIDogbnVsbCk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIERpZyBhIHBvbHlsaW5lLlxuICAgICAqL1xuICAgIF9kaWdMaW5lKHBvaW50cykge1xuICAgICAgICBmb3IgKGxldCBpID0gMTsgaSA8IHBvaW50cy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgbGV0IHN0YXJ0ID0gcG9pbnRzW2kgLSAxXTtcbiAgICAgICAgICAgIGxldCBlbmQgPSBwb2ludHNbaV07XG4gICAgICAgICAgICBsZXQgY29ycmlkb3IgPSBuZXcgQ29ycmlkb3Ioc3RhcnRbMF0sIHN0YXJ0WzFdLCBlbmRbMF0sIGVuZFsxXSk7XG4gICAgICAgICAgICBjb3JyaWRvci5jcmVhdGUodGhpcy5fZGlnQ2FsbGJhY2spO1xuICAgICAgICAgICAgdGhpcy5fY29ycmlkb3JzLnB1c2goY29ycmlkb3IpO1xuICAgICAgICB9XG4gICAgfVxuICAgIF9kaWdDYWxsYmFjayh4LCB5LCB2YWx1ZSkge1xuICAgICAgICB0aGlzLl9tYXBbeF1beV0gPSB2YWx1ZTtcbiAgICAgICAgaWYgKHZhbHVlID09IDApIHtcbiAgICAgICAgICAgIHRoaXMuX2R1ZysrO1xuICAgICAgICB9XG4gICAgfVxuICAgIF9pc1dhbGxDYWxsYmFjayh4LCB5KSB7XG4gICAgICAgIGlmICh4IDwgMCB8fCB5IDwgMCB8fCB4ID49IHRoaXMuX3dpZHRoIHx8IHkgPj0gdGhpcy5faGVpZ2h0KSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuICh0aGlzLl9tYXBbeF1beV0gPT0gMSk7XG4gICAgfVxuICAgIF9jYW5CZUR1Z0NhbGxiYWNrKHgsIHkpIHtcbiAgICAgICAgaWYgKHggPCAxIHx8IHkgPCAxIHx8IHggKyAxID49IHRoaXMuX3dpZHRoIHx8IHkgKyAxID49IHRoaXMuX2hlaWdodCkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiAodGhpcy5fbWFwW3hdW3ldID09IDEpO1xuICAgIH1cbn1cbiIsImltcG9ydCBNYXAgZnJvbSBcIi4vbWFwLmpzXCI7XG5pbXBvcnQgeyBESVJTIH0gZnJvbSBcIi4uL2NvbnN0YW50cy5qc1wiO1xuaW1wb3J0IFJORyBmcm9tIFwiLi4vcm5nLmpzXCI7XG47XG4vKipcbiAqIEBjbGFzcyBDZWxsdWxhciBhdXRvbWF0b24gbWFwIGdlbmVyYXRvclxuICogQGF1Z21lbnRzIFJPVC5NYXBcbiAqIEBwYXJhbSB7aW50fSBbd2lkdGg9Uk9ULkRFRkFVTFRfV0lEVEhdXG4gKiBAcGFyYW0ge2ludH0gW2hlaWdodD1ST1QuREVGQVVMVF9IRUlHSFRdXG4gKiBAcGFyYW0ge29iamVjdH0gW29wdGlvbnNdIE9wdGlvbnNcbiAqIEBwYXJhbSB7aW50W119IFtvcHRpb25zLmJvcm5dIExpc3Qgb2YgbmVpZ2hib3IgY291bnRzIGZvciBhIG5ldyBjZWxsIHRvIGJlIGJvcm4gaW4gZW1wdHkgc3BhY2VcbiAqIEBwYXJhbSB7aW50W119IFtvcHRpb25zLnN1cnZpdmVdIExpc3Qgb2YgbmVpZ2hib3IgY291bnRzIGZvciBhbiBleGlzdGluZyAgY2VsbCB0byBzdXJ2aXZlXG4gKiBAcGFyYW0ge2ludH0gW29wdGlvbnMudG9wb2xvZ3ldIFRvcG9sb2d5IDQgb3IgNiBvciA4XG4gKi9cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIENlbGx1bGFyIGV4dGVuZHMgTWFwIHtcbiAgICBjb25zdHJ1Y3Rvcih3aWR0aCwgaGVpZ2h0LCBvcHRpb25zID0ge30pIHtcbiAgICAgICAgc3VwZXIod2lkdGgsIGhlaWdodCk7XG4gICAgICAgIHRoaXMuX29wdGlvbnMgPSB7XG4gICAgICAgICAgICBib3JuOiBbNSwgNiwgNywgOF0sXG4gICAgICAgICAgICBzdXJ2aXZlOiBbNCwgNSwgNiwgNywgOF0sXG4gICAgICAgICAgICB0b3BvbG9neTogOFxuICAgICAgICB9O1xuICAgICAgICB0aGlzLnNldE9wdGlvbnMob3B0aW9ucyk7XG4gICAgICAgIHRoaXMuX2RpcnMgPSBESVJTW3RoaXMuX29wdGlvbnMudG9wb2xvZ3ldO1xuICAgICAgICB0aGlzLl9tYXAgPSB0aGlzLl9maWxsTWFwKDApO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBGaWxsIHRoZSBtYXAgd2l0aCByYW5kb20gdmFsdWVzXG4gICAgICogQHBhcmFtIHtmbG9hdH0gcHJvYmFiaWxpdHkgUHJvYmFiaWxpdHkgZm9yIGEgY2VsbCB0byBiZWNvbWUgYWxpdmU7IDAgPSBhbGwgZW1wdHksIDEgPSBhbGwgZnVsbFxuICAgICAqL1xuICAgIHJhbmRvbWl6ZShwcm9iYWJpbGl0eSkge1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMuX3dpZHRoOyBpKyspIHtcbiAgICAgICAgICAgIGZvciAobGV0IGogPSAwOyBqIDwgdGhpcy5faGVpZ2h0OyBqKyspIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9tYXBbaV1bal0gPSAoUk5HLmdldFVuaWZvcm0oKSA8IHByb2JhYmlsaXR5ID8gMSA6IDApO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBDaGFuZ2Ugb3B0aW9ucy5cbiAgICAgKiBAc2VlIFJPVC5NYXAuQ2VsbHVsYXJcbiAgICAgKi9cbiAgICBzZXRPcHRpb25zKG9wdGlvbnMpIHsgT2JqZWN0LmFzc2lnbih0aGlzLl9vcHRpb25zLCBvcHRpb25zKTsgfVxuICAgIHNldCh4LCB5LCB2YWx1ZSkgeyB0aGlzLl9tYXBbeF1beV0gPSB2YWx1ZTsgfVxuICAgIGNyZWF0ZShjYWxsYmFjaykge1xuICAgICAgICBsZXQgbmV3TWFwID0gdGhpcy5fZmlsbE1hcCgwKTtcbiAgICAgICAgbGV0IGJvcm4gPSB0aGlzLl9vcHRpb25zLmJvcm47XG4gICAgICAgIGxldCBzdXJ2aXZlID0gdGhpcy5fb3B0aW9ucy5zdXJ2aXZlO1xuICAgICAgICBmb3IgKGxldCBqID0gMDsgaiA8IHRoaXMuX2hlaWdodDsgaisrKSB7XG4gICAgICAgICAgICBsZXQgd2lkdGhTdGVwID0gMTtcbiAgICAgICAgICAgIGxldCB3aWR0aFN0YXJ0ID0gMDtcbiAgICAgICAgICAgIGlmICh0aGlzLl9vcHRpb25zLnRvcG9sb2d5ID09IDYpIHtcbiAgICAgICAgICAgICAgICB3aWR0aFN0ZXAgPSAyO1xuICAgICAgICAgICAgICAgIHdpZHRoU3RhcnQgPSBqICUgMjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGZvciAobGV0IGkgPSB3aWR0aFN0YXJ0OyBpIDwgdGhpcy5fd2lkdGg7IGkgKz0gd2lkdGhTdGVwKSB7XG4gICAgICAgICAgICAgICAgbGV0IGN1ciA9IHRoaXMuX21hcFtpXVtqXTtcbiAgICAgICAgICAgICAgICBsZXQgbmNvdW50ID0gdGhpcy5fZ2V0TmVpZ2hib3JzKGksIGopO1xuICAgICAgICAgICAgICAgIGlmIChjdXIgJiYgc3Vydml2ZS5pbmRleE9mKG5jb3VudCkgIT0gLTEpIHsgLyogc3Vydml2ZSAqL1xuICAgICAgICAgICAgICAgICAgICBuZXdNYXBbaV1bal0gPSAxO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIGlmICghY3VyICYmIGJvcm4uaW5kZXhPZihuY291bnQpICE9IC0xKSB7IC8qIGJvcm4gKi9cbiAgICAgICAgICAgICAgICAgICAgbmV3TWFwW2ldW2pdID0gMTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fbWFwID0gbmV3TWFwO1xuICAgICAgICBjYWxsYmFjayAmJiB0aGlzLl9zZXJ2aWNlQ2FsbGJhY2soY2FsbGJhY2spO1xuICAgIH1cbiAgICBfc2VydmljZUNhbGxiYWNrKGNhbGxiYWNrKSB7XG4gICAgICAgIGZvciAobGV0IGogPSAwOyBqIDwgdGhpcy5faGVpZ2h0OyBqKyspIHtcbiAgICAgICAgICAgIGxldCB3aWR0aFN0ZXAgPSAxO1xuICAgICAgICAgICAgbGV0IHdpZHRoU3RhcnQgPSAwO1xuICAgICAgICAgICAgaWYgKHRoaXMuX29wdGlvbnMudG9wb2xvZ3kgPT0gNikge1xuICAgICAgICAgICAgICAgIHdpZHRoU3RlcCA9IDI7XG4gICAgICAgICAgICAgICAgd2lkdGhTdGFydCA9IGogJSAyO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZm9yIChsZXQgaSA9IHdpZHRoU3RhcnQ7IGkgPCB0aGlzLl93aWR0aDsgaSArPSB3aWR0aFN0ZXApIHtcbiAgICAgICAgICAgICAgICBjYWxsYmFjayhpLCBqLCB0aGlzLl9tYXBbaV1bal0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEdldCBuZWlnaGJvciBjb3VudCBhdCBbaSxqXSBpbiB0aGlzLl9tYXBcbiAgICAgKi9cbiAgICBfZ2V0TmVpZ2hib3JzKGN4LCBjeSkge1xuICAgICAgICBsZXQgcmVzdWx0ID0gMDtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLl9kaXJzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBsZXQgZGlyID0gdGhpcy5fZGlyc1tpXTtcbiAgICAgICAgICAgIGxldCB4ID0gY3ggKyBkaXJbMF07XG4gICAgICAgICAgICBsZXQgeSA9IGN5ICsgZGlyWzFdO1xuICAgICAgICAgICAgaWYgKHggPCAwIHx8IHggPj0gdGhpcy5fd2lkdGggfHwgeSA8IDAgfHwgeSA+PSB0aGlzLl9oZWlnaHQpIHtcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJlc3VsdCArPSAodGhpcy5fbWFwW3hdW3ldID09IDEgPyAxIDogMCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG4gICAgLyoqXG4gICAgICogTWFrZSBzdXJlIGV2ZXJ5IG5vbi13YWxsIHNwYWNlIGlzIGFjY2Vzc2libGUuXG4gICAgICogQHBhcmFtIHtmdW5jdGlvbn0gY2FsbGJhY2sgdG8gY2FsbCB0byBkaXNwbGF5IG1hcCB3aGVuIGRvXG4gICAgICogQHBhcmFtIHtpbnR9IHZhbHVlIHRvIGNvbnNpZGVyIGVtcHR5IHNwYWNlIC0gZGVmYXVsdHMgdG8gMFxuICAgICAqIEBwYXJhbSB7ZnVuY3Rpb259IGNhbGxiYWNrIHRvIGNhbGwgd2hlbiBhIG5ldyBjb25uZWN0aW9uIGlzIG1hZGVcbiAgICAgKi9cbiAgICBjb25uZWN0KGNhbGxiYWNrLCB2YWx1ZSwgY29ubmVjdGlvbkNhbGxiYWNrKSB7XG4gICAgICAgIGlmICghdmFsdWUpXG4gICAgICAgICAgICB2YWx1ZSA9IDA7XG4gICAgICAgIGxldCBhbGxGcmVlU3BhY2UgPSBbXTtcbiAgICAgICAgbGV0IG5vdENvbm5lY3RlZCA9IHt9O1xuICAgICAgICAvLyBmaW5kIGFsbCBmcmVlIHNwYWNlXG4gICAgICAgIGxldCB3aWR0aFN0ZXAgPSAxO1xuICAgICAgICBsZXQgd2lkdGhTdGFydHMgPSBbMCwgMF07XG4gICAgICAgIGlmICh0aGlzLl9vcHRpb25zLnRvcG9sb2d5ID09IDYpIHtcbiAgICAgICAgICAgIHdpZHRoU3RlcCA9IDI7XG4gICAgICAgICAgICB3aWR0aFN0YXJ0cyA9IFswLCAxXTtcbiAgICAgICAgfVxuICAgICAgICBmb3IgKGxldCB5ID0gMDsgeSA8IHRoaXMuX2hlaWdodDsgeSsrKSB7XG4gICAgICAgICAgICBmb3IgKGxldCB4ID0gd2lkdGhTdGFydHNbeSAlIDJdOyB4IDwgdGhpcy5fd2lkdGg7IHggKz0gd2lkdGhTdGVwKSB7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuX2ZyZWVTcGFjZSh4LCB5LCB2YWx1ZSkpIHtcbiAgICAgICAgICAgICAgICAgICAgbGV0IHAgPSBbeCwgeV07XG4gICAgICAgICAgICAgICAgICAgIG5vdENvbm5lY3RlZFt0aGlzLl9wb2ludEtleShwKV0gPSBwO1xuICAgICAgICAgICAgICAgICAgICBhbGxGcmVlU3BhY2UucHVzaChbeCwgeV0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBsZXQgc3RhcnQgPSBhbGxGcmVlU3BhY2VbUk5HLmdldFVuaWZvcm1JbnQoMCwgYWxsRnJlZVNwYWNlLmxlbmd0aCAtIDEpXTtcbiAgICAgICAgbGV0IGtleSA9IHRoaXMuX3BvaW50S2V5KHN0YXJ0KTtcbiAgICAgICAgbGV0IGNvbm5lY3RlZCA9IHt9O1xuICAgICAgICBjb25uZWN0ZWRba2V5XSA9IHN0YXJ0O1xuICAgICAgICBkZWxldGUgbm90Q29ubmVjdGVkW2tleV07XG4gICAgICAgIC8vIGZpbmQgd2hhdCdzIGNvbm5lY3RlZCB0byB0aGUgc3RhcnRpbmcgcG9pbnRcbiAgICAgICAgdGhpcy5fZmluZENvbm5lY3RlZChjb25uZWN0ZWQsIG5vdENvbm5lY3RlZCwgW3N0YXJ0XSwgZmFsc2UsIHZhbHVlKTtcbiAgICAgICAgd2hpbGUgKE9iamVjdC5rZXlzKG5vdENvbm5lY3RlZCkubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgLy8gZmluZCB0d28gcG9pbnRzIGZyb20gbm90Q29ubmVjdGVkIHRvIGNvbm5lY3RlZFxuICAgICAgICAgICAgbGV0IHAgPSB0aGlzLl9nZXRGcm9tVG8oY29ubmVjdGVkLCBub3RDb25uZWN0ZWQpO1xuICAgICAgICAgICAgbGV0IGZyb20gPSBwWzBdOyAvLyBub3RDb25uZWN0ZWRcbiAgICAgICAgICAgIGxldCB0byA9IHBbMV07IC8vIGNvbm5lY3RlZFxuICAgICAgICAgICAgLy8gZmluZCBldmVyeXRoaW5nIGNvbm5lY3RlZCB0byB0aGUgc3RhcnRpbmcgcG9pbnRcbiAgICAgICAgICAgIGxldCBsb2NhbCA9IHt9O1xuICAgICAgICAgICAgbG9jYWxbdGhpcy5fcG9pbnRLZXkoZnJvbSldID0gZnJvbTtcbiAgICAgICAgICAgIHRoaXMuX2ZpbmRDb25uZWN0ZWQobG9jYWwsIG5vdENvbm5lY3RlZCwgW2Zyb21dLCB0cnVlLCB2YWx1ZSk7XG4gICAgICAgICAgICAvLyBjb25uZWN0IHRvIGEgY29ubmVjdGVkIGNlbGxcbiAgICAgICAgICAgIGxldCB0dW5uZWxGbiA9ICh0aGlzLl9vcHRpb25zLnRvcG9sb2d5ID09IDYgPyB0aGlzLl90dW5uZWxUb0Nvbm5lY3RlZDYgOiB0aGlzLl90dW5uZWxUb0Nvbm5lY3RlZCk7XG4gICAgICAgICAgICB0dW5uZWxGbi5jYWxsKHRoaXMsIHRvLCBmcm9tLCBjb25uZWN0ZWQsIG5vdENvbm5lY3RlZCwgdmFsdWUsIGNvbm5lY3Rpb25DYWxsYmFjayk7XG4gICAgICAgICAgICAvLyBub3cgYWxsIG9mIGxvY2FsIGlzIGNvbm5lY3RlZFxuICAgICAgICAgICAgZm9yIChsZXQgayBpbiBsb2NhbCkge1xuICAgICAgICAgICAgICAgIGxldCBwcCA9IGxvY2FsW2tdO1xuICAgICAgICAgICAgICAgIHRoaXMuX21hcFtwcFswXV1bcHBbMV1dID0gdmFsdWU7XG4gICAgICAgICAgICAgICAgY29ubmVjdGVkW2tdID0gcHA7XG4gICAgICAgICAgICAgICAgZGVsZXRlIG5vdENvbm5lY3RlZFtrXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBjYWxsYmFjayAmJiB0aGlzLl9zZXJ2aWNlQ2FsbGJhY2soY2FsbGJhY2spO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBGaW5kIHJhbmRvbSBwb2ludHMgdG8gY29ubmVjdC4gU2VhcmNoIGZvciB0aGUgY2xvc2VzdCBwb2ludCBpbiB0aGUgbGFyZ2VyIHNwYWNlLlxuICAgICAqIFRoaXMgaXMgdG8gbWluaW1pemUgdGhlIGxlbmd0aCBvZiB0aGUgcGFzc2FnZSB3aGlsZSBtYWludGFpbmluZyBnb29kIHBlcmZvcm1hbmNlLlxuICAgICAqL1xuICAgIF9nZXRGcm9tVG8oY29ubmVjdGVkLCBub3RDb25uZWN0ZWQpIHtcbiAgICAgICAgbGV0IGZyb20gPSBbMCwgMF0sIHRvID0gWzAsIDBdLCBkO1xuICAgICAgICBsZXQgY29ubmVjdGVkS2V5cyA9IE9iamVjdC5rZXlzKGNvbm5lY3RlZCk7XG4gICAgICAgIGxldCBub3RDb25uZWN0ZWRLZXlzID0gT2JqZWN0LmtleXMobm90Q29ubmVjdGVkKTtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCA1OyBpKyspIHtcbiAgICAgICAgICAgIGlmIChjb25uZWN0ZWRLZXlzLmxlbmd0aCA8IG5vdENvbm5lY3RlZEtleXMubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgbGV0IGtleXMgPSBjb25uZWN0ZWRLZXlzO1xuICAgICAgICAgICAgICAgIHRvID0gY29ubmVjdGVkW2tleXNbUk5HLmdldFVuaWZvcm1JbnQoMCwga2V5cy5sZW5ndGggLSAxKV1dO1xuICAgICAgICAgICAgICAgIGZyb20gPSB0aGlzLl9nZXRDbG9zZXN0KHRvLCBub3RDb25uZWN0ZWQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgbGV0IGtleXMgPSBub3RDb25uZWN0ZWRLZXlzO1xuICAgICAgICAgICAgICAgIGZyb20gPSBub3RDb25uZWN0ZWRba2V5c1tSTkcuZ2V0VW5pZm9ybUludCgwLCBrZXlzLmxlbmd0aCAtIDEpXV07XG4gICAgICAgICAgICAgICAgdG8gPSB0aGlzLl9nZXRDbG9zZXN0KGZyb20sIGNvbm5lY3RlZCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBkID0gKGZyb21bMF0gLSB0b1swXSkgKiAoZnJvbVswXSAtIHRvWzBdKSArIChmcm9tWzFdIC0gdG9bMV0pICogKGZyb21bMV0gLSB0b1sxXSk7XG4gICAgICAgICAgICBpZiAoZCA8IDY0KSB7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgLy8gY29uc29sZS5sb2coXCI+Pj4gY29ubmVjdGVkPVwiICsgdG8gKyBcIiBub3RDb25uZWN0ZWQ9XCIgKyBmcm9tICsgXCIgZGlzdD1cIiArIGQpO1xuICAgICAgICByZXR1cm4gW2Zyb20sIHRvXTtcbiAgICB9XG4gICAgX2dldENsb3Nlc3QocG9pbnQsIHNwYWNlKSB7XG4gICAgICAgIGxldCBtaW5Qb2ludCA9IG51bGw7XG4gICAgICAgIGxldCBtaW5EaXN0ID0gbnVsbDtcbiAgICAgICAgZm9yIChsZXQgayBpbiBzcGFjZSkge1xuICAgICAgICAgICAgbGV0IHAgPSBzcGFjZVtrXTtcbiAgICAgICAgICAgIGxldCBkID0gKHBbMF0gLSBwb2ludFswXSkgKiAocFswXSAtIHBvaW50WzBdKSArIChwWzFdIC0gcG9pbnRbMV0pICogKHBbMV0gLSBwb2ludFsxXSk7XG4gICAgICAgICAgICBpZiAobWluRGlzdCA9PSBudWxsIHx8IGQgPCBtaW5EaXN0KSB7XG4gICAgICAgICAgICAgICAgbWluRGlzdCA9IGQ7XG4gICAgICAgICAgICAgICAgbWluUG9pbnQgPSBwO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBtaW5Qb2ludDtcbiAgICB9XG4gICAgX2ZpbmRDb25uZWN0ZWQoY29ubmVjdGVkLCBub3RDb25uZWN0ZWQsIHN0YWNrLCBrZWVwTm90Q29ubmVjdGVkLCB2YWx1ZSkge1xuICAgICAgICB3aGlsZSAoc3RhY2subGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgbGV0IHAgPSBzdGFjay5zcGxpY2UoMCwgMSlbMF07XG4gICAgICAgICAgICBsZXQgdGVzdHM7XG4gICAgICAgICAgICBpZiAodGhpcy5fb3B0aW9ucy50b3BvbG9neSA9PSA2KSB7XG4gICAgICAgICAgICAgICAgdGVzdHMgPSBbXG4gICAgICAgICAgICAgICAgICAgIFtwWzBdICsgMiwgcFsxXV0sXG4gICAgICAgICAgICAgICAgICAgIFtwWzBdICsgMSwgcFsxXSAtIDFdLFxuICAgICAgICAgICAgICAgICAgICBbcFswXSAtIDEsIHBbMV0gLSAxXSxcbiAgICAgICAgICAgICAgICAgICAgW3BbMF0gLSAyLCBwWzFdXSxcbiAgICAgICAgICAgICAgICAgICAgW3BbMF0gLSAxLCBwWzFdICsgMV0sXG4gICAgICAgICAgICAgICAgICAgIFtwWzBdICsgMSwgcFsxXSArIDFdLFxuICAgICAgICAgICAgICAgIF07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICB0ZXN0cyA9IFtcbiAgICAgICAgICAgICAgICAgICAgW3BbMF0gKyAxLCBwWzFdXSxcbiAgICAgICAgICAgICAgICAgICAgW3BbMF0gLSAxLCBwWzFdXSxcbiAgICAgICAgICAgICAgICAgICAgW3BbMF0sIHBbMV0gKyAxXSxcbiAgICAgICAgICAgICAgICAgICAgW3BbMF0sIHBbMV0gLSAxXVxuICAgICAgICAgICAgICAgIF07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRlc3RzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgbGV0IGtleSA9IHRoaXMuX3BvaW50S2V5KHRlc3RzW2ldKTtcbiAgICAgICAgICAgICAgICBpZiAoY29ubmVjdGVkW2tleV0gPT0gbnVsbCAmJiB0aGlzLl9mcmVlU3BhY2UodGVzdHNbaV1bMF0sIHRlc3RzW2ldWzFdLCB2YWx1ZSkpIHtcbiAgICAgICAgICAgICAgICAgICAgY29ubmVjdGVkW2tleV0gPSB0ZXN0c1tpXTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFrZWVwTm90Q29ubmVjdGVkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBkZWxldGUgbm90Q29ubmVjdGVkW2tleV07XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgc3RhY2sucHVzaCh0ZXN0c1tpXSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIF90dW5uZWxUb0Nvbm5lY3RlZCh0bywgZnJvbSwgY29ubmVjdGVkLCBub3RDb25uZWN0ZWQsIHZhbHVlLCBjb25uZWN0aW9uQ2FsbGJhY2spIHtcbiAgICAgICAgbGV0IGEsIGI7XG4gICAgICAgIGlmIChmcm9tWzBdIDwgdG9bMF0pIHtcbiAgICAgICAgICAgIGEgPSBmcm9tO1xuICAgICAgICAgICAgYiA9IHRvO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgYSA9IHRvO1xuICAgICAgICAgICAgYiA9IGZyb207XG4gICAgICAgIH1cbiAgICAgICAgZm9yIChsZXQgeHggPSBhWzBdOyB4eCA8PSBiWzBdOyB4eCsrKSB7XG4gICAgICAgICAgICB0aGlzLl9tYXBbeHhdW2FbMV1dID0gdmFsdWU7XG4gICAgICAgICAgICBsZXQgcCA9IFt4eCwgYVsxXV07XG4gICAgICAgICAgICBsZXQgcGtleSA9IHRoaXMuX3BvaW50S2V5KHApO1xuICAgICAgICAgICAgY29ubmVjdGVkW3BrZXldID0gcDtcbiAgICAgICAgICAgIGRlbGV0ZSBub3RDb25uZWN0ZWRbcGtleV07XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGNvbm5lY3Rpb25DYWxsYmFjayAmJiBhWzBdIDwgYlswXSkge1xuICAgICAgICAgICAgY29ubmVjdGlvbkNhbGxiYWNrKGEsIFtiWzBdLCBhWzFdXSk7XG4gICAgICAgIH1cbiAgICAgICAgLy8geCBpcyBub3cgZml4ZWRcbiAgICAgICAgbGV0IHggPSBiWzBdO1xuICAgICAgICBpZiAoZnJvbVsxXSA8IHRvWzFdKSB7XG4gICAgICAgICAgICBhID0gZnJvbTtcbiAgICAgICAgICAgIGIgPSB0bztcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGEgPSB0bztcbiAgICAgICAgICAgIGIgPSBmcm9tO1xuICAgICAgICB9XG4gICAgICAgIGZvciAobGV0IHl5ID0gYVsxXTsgeXkgPCBiWzFdOyB5eSsrKSB7XG4gICAgICAgICAgICB0aGlzLl9tYXBbeF1beXldID0gdmFsdWU7XG4gICAgICAgICAgICBsZXQgcCA9IFt4LCB5eV07XG4gICAgICAgICAgICBsZXQgcGtleSA9IHRoaXMuX3BvaW50S2V5KHApO1xuICAgICAgICAgICAgY29ubmVjdGVkW3BrZXldID0gcDtcbiAgICAgICAgICAgIGRlbGV0ZSBub3RDb25uZWN0ZWRbcGtleV07XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGNvbm5lY3Rpb25DYWxsYmFjayAmJiBhWzFdIDwgYlsxXSkge1xuICAgICAgICAgICAgY29ubmVjdGlvbkNhbGxiYWNrKFtiWzBdLCBhWzFdXSwgW2JbMF0sIGJbMV1dKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBfdHVubmVsVG9Db25uZWN0ZWQ2KHRvLCBmcm9tLCBjb25uZWN0ZWQsIG5vdENvbm5lY3RlZCwgdmFsdWUsIGNvbm5lY3Rpb25DYWxsYmFjaykge1xuICAgICAgICBsZXQgYSwgYjtcbiAgICAgICAgaWYgKGZyb21bMF0gPCB0b1swXSkge1xuICAgICAgICAgICAgYSA9IGZyb207XG4gICAgICAgICAgICBiID0gdG87XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBhID0gdG87XG4gICAgICAgICAgICBiID0gZnJvbTtcbiAgICAgICAgfVxuICAgICAgICAvLyB0dW5uZWwgZGlhZ29uYWxseSB1bnRpbCBob3Jpem9udGFsbHkgbGV2ZWxcbiAgICAgICAgbGV0IHh4ID0gYVswXTtcbiAgICAgICAgbGV0IHl5ID0gYVsxXTtcbiAgICAgICAgd2hpbGUgKCEoeHggPT0gYlswXSAmJiB5eSA9PSBiWzFdKSkge1xuICAgICAgICAgICAgbGV0IHN0ZXBXaWR0aCA9IDI7XG4gICAgICAgICAgICBpZiAoeXkgPCBiWzFdKSB7XG4gICAgICAgICAgICAgICAgeXkrKztcbiAgICAgICAgICAgICAgICBzdGVwV2lkdGggPSAxO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoeXkgPiBiWzFdKSB7XG4gICAgICAgICAgICAgICAgeXktLTtcbiAgICAgICAgICAgICAgICBzdGVwV2lkdGggPSAxO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHh4IDwgYlswXSkge1xuICAgICAgICAgICAgICAgIHh4ICs9IHN0ZXBXaWR0aDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKHh4ID4gYlswXSkge1xuICAgICAgICAgICAgICAgIHh4IC09IHN0ZXBXaWR0aDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGJbMV0gJSAyKSB7XG4gICAgICAgICAgICAgICAgLy8gV29uJ3Qgc3RlcCBvdXRzaWRlIG1hcCBpZiBkZXN0aW5hdGlvbiBvbiBpcyBtYXAncyByaWdodCBlZGdlXG4gICAgICAgICAgICAgICAgeHggLT0gc3RlcFdpZHRoO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgLy8gZGl0dG8gZm9yIGxlZnQgZWRnZVxuICAgICAgICAgICAgICAgIHh4ICs9IHN0ZXBXaWR0aDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMuX21hcFt4eF1beXldID0gdmFsdWU7XG4gICAgICAgICAgICBsZXQgcCA9IFt4eCwgeXldO1xuICAgICAgICAgICAgbGV0IHBrZXkgPSB0aGlzLl9wb2ludEtleShwKTtcbiAgICAgICAgICAgIGNvbm5lY3RlZFtwa2V5XSA9IHA7XG4gICAgICAgICAgICBkZWxldGUgbm90Q29ubmVjdGVkW3BrZXldO1xuICAgICAgICB9XG4gICAgICAgIGlmIChjb25uZWN0aW9uQ2FsbGJhY2spIHtcbiAgICAgICAgICAgIGNvbm5lY3Rpb25DYWxsYmFjayhmcm9tLCB0byk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgX2ZyZWVTcGFjZSh4LCB5LCB2YWx1ZSkge1xuICAgICAgICByZXR1cm4geCA+PSAwICYmIHggPCB0aGlzLl93aWR0aCAmJiB5ID49IDAgJiYgeSA8IHRoaXMuX2hlaWdodCAmJiB0aGlzLl9tYXBbeF1beV0gPT0gdmFsdWU7XG4gICAgfVxuICAgIF9wb2ludEtleShwKSB7IHJldHVybiBwWzBdICsgXCIuXCIgKyBwWzFdOyB9XG59XG4iLCJpbXBvcnQgTWFwIGZyb20gXCIuL21hcC5qc1wiO1xuaW1wb3J0IFJORyBmcm9tIFwiLi4vcm5nLmpzXCI7XG4vKipcbiAqIEBjbGFzcyBSZWN1cnNpdmVseSBkaXZpZGVkIG1hemUsIGh0dHA6Ly9lbi53aWtpcGVkaWEub3JnL3dpa2kvTWF6ZV9nZW5lcmF0aW9uX2FsZ29yaXRobSNSZWN1cnNpdmVfZGl2aXNpb25fbWV0aG9kXG4gKiBAYXVnbWVudHMgUk9ULk1hcFxuICovXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBEaXZpZGVkTWF6ZSBleHRlbmRzIE1hcCB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHN1cGVyKC4uLmFyZ3VtZW50cyk7XG4gICAgICAgIHRoaXMuX3N0YWNrID0gW107XG4gICAgICAgIHRoaXMuX21hcCA9IFtdO1xuICAgIH1cbiAgICBjcmVhdGUoY2FsbGJhY2spIHtcbiAgICAgICAgbGV0IHcgPSB0aGlzLl93aWR0aDtcbiAgICAgICAgbGV0IGggPSB0aGlzLl9oZWlnaHQ7XG4gICAgICAgIHRoaXMuX21hcCA9IFtdO1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHc7IGkrKykge1xuICAgICAgICAgICAgdGhpcy5fbWFwLnB1c2goW10pO1xuICAgICAgICAgICAgZm9yIChsZXQgaiA9IDA7IGogPCBoOyBqKyspIHtcbiAgICAgICAgICAgICAgICBsZXQgYm9yZGVyID0gKGkgPT0gMCB8fCBqID09IDAgfHwgaSArIDEgPT0gdyB8fCBqICsgMSA9PSBoKTtcbiAgICAgICAgICAgICAgICB0aGlzLl9tYXBbaV0ucHVzaChib3JkZXIgPyAxIDogMCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fc3RhY2sgPSBbXG4gICAgICAgICAgICBbMSwgMSwgdyAtIDIsIGggLSAyXVxuICAgICAgICBdO1xuICAgICAgICB0aGlzLl9wcm9jZXNzKCk7XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdzsgaSsrKSB7XG4gICAgICAgICAgICBmb3IgKGxldCBqID0gMDsgaiA8IGg7IGorKykge1xuICAgICAgICAgICAgICAgIGNhbGxiYWNrKGksIGosIHRoaXMuX21hcFtpXVtqXSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fbWFwID0gW107XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICBfcHJvY2VzcygpIHtcbiAgICAgICAgd2hpbGUgKHRoaXMuX3N0YWNrLmxlbmd0aCkge1xuICAgICAgICAgICAgbGV0IHJvb20gPSB0aGlzLl9zdGFjay5zaGlmdCgpOyAvKiBbbGVmdCwgdG9wLCByaWdodCwgYm90dG9tXSAqL1xuICAgICAgICAgICAgdGhpcy5fcGFydGl0aW9uUm9vbShyb29tKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBfcGFydGl0aW9uUm9vbShyb29tKSB7XG4gICAgICAgIGxldCBhdmFpbFggPSBbXTtcbiAgICAgICAgbGV0IGF2YWlsWSA9IFtdO1xuICAgICAgICBmb3IgKGxldCBpID0gcm9vbVswXSArIDE7IGkgPCByb29tWzJdOyBpKyspIHtcbiAgICAgICAgICAgIGxldCB0b3AgPSB0aGlzLl9tYXBbaV1bcm9vbVsxXSAtIDFdO1xuICAgICAgICAgICAgbGV0IGJvdHRvbSA9IHRoaXMuX21hcFtpXVtyb29tWzNdICsgMV07XG4gICAgICAgICAgICBpZiAodG9wICYmIGJvdHRvbSAmJiAhKGkgJSAyKSkge1xuICAgICAgICAgICAgICAgIGF2YWlsWC5wdXNoKGkpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGZvciAobGV0IGogPSByb29tWzFdICsgMTsgaiA8IHJvb21bM107IGorKykge1xuICAgICAgICAgICAgbGV0IGxlZnQgPSB0aGlzLl9tYXBbcm9vbVswXSAtIDFdW2pdO1xuICAgICAgICAgICAgbGV0IHJpZ2h0ID0gdGhpcy5fbWFwW3Jvb21bMl0gKyAxXVtqXTtcbiAgICAgICAgICAgIGlmIChsZWZ0ICYmIHJpZ2h0ICYmICEoaiAlIDIpKSB7XG4gICAgICAgICAgICAgICAgYXZhaWxZLnB1c2goaik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFhdmFpbFgubGVuZ3RoIHx8ICFhdmFpbFkubGVuZ3RoKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgbGV0IHggPSBSTkcuZ2V0SXRlbShhdmFpbFgpO1xuICAgICAgICBsZXQgeSA9IFJORy5nZXRJdGVtKGF2YWlsWSk7XG4gICAgICAgIHRoaXMuX21hcFt4XVt5XSA9IDE7XG4gICAgICAgIGxldCB3YWxscyA9IFtdO1xuICAgICAgICBsZXQgdyA9IFtdO1xuICAgICAgICB3YWxscy5wdXNoKHcpOyAvKiBsZWZ0IHBhcnQgKi9cbiAgICAgICAgZm9yIChsZXQgaSA9IHJvb21bMF07IGkgPCB4OyBpKyspIHtcbiAgICAgICAgICAgIHRoaXMuX21hcFtpXVt5XSA9IDE7XG4gICAgICAgICAgICB3LnB1c2goW2ksIHldKTtcbiAgICAgICAgfVxuICAgICAgICB3ID0gW107XG4gICAgICAgIHdhbGxzLnB1c2godyk7IC8qIHJpZ2h0IHBhcnQgKi9cbiAgICAgICAgZm9yIChsZXQgaSA9IHggKyAxOyBpIDw9IHJvb21bMl07IGkrKykge1xuICAgICAgICAgICAgdGhpcy5fbWFwW2ldW3ldID0gMTtcbiAgICAgICAgICAgIHcucHVzaChbaSwgeV0pO1xuICAgICAgICB9XG4gICAgICAgIHcgPSBbXTtcbiAgICAgICAgd2FsbHMucHVzaCh3KTsgLyogdG9wIHBhcnQgKi9cbiAgICAgICAgZm9yIChsZXQgaiA9IHJvb21bMV07IGogPCB5OyBqKyspIHtcbiAgICAgICAgICAgIHRoaXMuX21hcFt4XVtqXSA9IDE7XG4gICAgICAgICAgICB3LnB1c2goW3gsIGpdKTtcbiAgICAgICAgfVxuICAgICAgICB3ID0gW107XG4gICAgICAgIHdhbGxzLnB1c2godyk7IC8qIGJvdHRvbSBwYXJ0ICovXG4gICAgICAgIGZvciAobGV0IGogPSB5ICsgMTsgaiA8PSByb29tWzNdOyBqKyspIHtcbiAgICAgICAgICAgIHRoaXMuX21hcFt4XVtqXSA9IDE7XG4gICAgICAgICAgICB3LnB1c2goW3gsIGpdKTtcbiAgICAgICAgfVxuICAgICAgICBsZXQgc29saWQgPSBSTkcuZ2V0SXRlbSh3YWxscyk7XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgd2FsbHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGxldCB3ID0gd2FsbHNbaV07XG4gICAgICAgICAgICBpZiAodyA9PSBzb2xpZCkge1xuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgbGV0IGhvbGUgPSBSTkcuZ2V0SXRlbSh3KTtcbiAgICAgICAgICAgIHRoaXMuX21hcFtob2xlWzBdXVtob2xlWzFdXSA9IDA7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fc3RhY2sucHVzaChbcm9vbVswXSwgcm9vbVsxXSwgeCAtIDEsIHkgLSAxXSk7IC8qIGxlZnQgdG9wICovXG4gICAgICAgIHRoaXMuX3N0YWNrLnB1c2goW3ggKyAxLCByb29tWzFdLCByb29tWzJdLCB5IC0gMV0pOyAvKiByaWdodCB0b3AgKi9cbiAgICAgICAgdGhpcy5fc3RhY2sucHVzaChbcm9vbVswXSwgeSArIDEsIHggLSAxLCByb29tWzNdXSk7IC8qIGxlZnQgYm90dG9tICovXG4gICAgICAgIHRoaXMuX3N0YWNrLnB1c2goW3ggKyAxLCB5ICsgMSwgcm9vbVsyXSwgcm9vbVszXV0pOyAvKiByaWdodCBib3R0b20gKi9cbiAgICB9XG59XG4iLCJpbXBvcnQgTWFwIGZyb20gXCIuL21hcC5qc1wiO1xuaW1wb3J0IFJORyBmcm9tIFwiLi4vcm5nLmpzXCI7XG4vKipcbiAqIEljZXkncyBNYXplIGdlbmVyYXRvclxuICogU2VlIGh0dHA6Ly93d3cucm9ndWViYXNpbi5yb2d1ZWxpa2VkZXZlbG9wbWVudC5vcmcvaW5kZXgucGhwP3RpdGxlPVNpbXBsZV9tYXplIGZvciBleHBsYW5hdGlvblxuICovXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBJY2V5TWF6ZSBleHRlbmRzIE1hcCB7XG4gICAgY29uc3RydWN0b3Iod2lkdGgsIGhlaWdodCwgcmVndWxhcml0eSA9IDApIHtcbiAgICAgICAgc3VwZXIod2lkdGgsIGhlaWdodCk7XG4gICAgICAgIHRoaXMuX3JlZ3VsYXJpdHkgPSByZWd1bGFyaXR5O1xuICAgICAgICB0aGlzLl9tYXAgPSBbXTtcbiAgICB9XG4gICAgY3JlYXRlKGNhbGxiYWNrKSB7XG4gICAgICAgIGxldCB3aWR0aCA9IHRoaXMuX3dpZHRoO1xuICAgICAgICBsZXQgaGVpZ2h0ID0gdGhpcy5faGVpZ2h0O1xuICAgICAgICBsZXQgbWFwID0gdGhpcy5fZmlsbE1hcCgxKTtcbiAgICAgICAgd2lkdGggLT0gKHdpZHRoICUgMiA/IDEgOiAyKTtcbiAgICAgICAgaGVpZ2h0IC09IChoZWlnaHQgJSAyID8gMSA6IDIpO1xuICAgICAgICBsZXQgY3ggPSAwO1xuICAgICAgICBsZXQgY3kgPSAwO1xuICAgICAgICBsZXQgbnggPSAwO1xuICAgICAgICBsZXQgbnkgPSAwO1xuICAgICAgICBsZXQgZG9uZSA9IDA7XG4gICAgICAgIGxldCBibG9ja2VkID0gZmFsc2U7XG4gICAgICAgIGxldCBkaXJzID0gW1xuICAgICAgICAgICAgWzAsIDBdLFxuICAgICAgICAgICAgWzAsIDBdLFxuICAgICAgICAgICAgWzAsIDBdLFxuICAgICAgICAgICAgWzAsIDBdXG4gICAgICAgIF07XG4gICAgICAgIGRvIHtcbiAgICAgICAgICAgIGN4ID0gMSArIDIgKiBNYXRoLmZsb29yKFJORy5nZXRVbmlmb3JtKCkgKiAod2lkdGggLSAxKSAvIDIpO1xuICAgICAgICAgICAgY3kgPSAxICsgMiAqIE1hdGguZmxvb3IoUk5HLmdldFVuaWZvcm0oKSAqIChoZWlnaHQgLSAxKSAvIDIpO1xuICAgICAgICAgICAgaWYgKCFkb25lKSB7XG4gICAgICAgICAgICAgICAgbWFwW2N4XVtjeV0gPSAwO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKCFtYXBbY3hdW2N5XSkge1xuICAgICAgICAgICAgICAgIHRoaXMuX3JhbmRvbWl6ZShkaXJzKTtcbiAgICAgICAgICAgICAgICBkbyB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChNYXRoLmZsb29yKFJORy5nZXRVbmlmb3JtKCkgKiAodGhpcy5fcmVndWxhcml0eSArIDEpKSA9PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9yYW5kb21pemUoZGlycyk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgYmxvY2tlZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgNDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBueCA9IGN4ICsgZGlyc1tpXVswXSAqIDI7XG4gICAgICAgICAgICAgICAgICAgICAgICBueSA9IGN5ICsgZGlyc1tpXVsxXSAqIDI7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5faXNGcmVlKG1hcCwgbngsIG55LCB3aWR0aCwgaGVpZ2h0KSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1hcFtueF1bbnldID0gMDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtYXBbY3ggKyBkaXJzW2ldWzBdXVtjeSArIGRpcnNbaV1bMV1dID0gMDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjeCA9IG54O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN5ID0gbnk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYmxvY2tlZCA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRvbmUrKztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0gd2hpbGUgKCFibG9ja2VkKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSB3aGlsZSAoZG9uZSArIDEgPCB3aWR0aCAqIGhlaWdodCAvIDQpO1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMuX3dpZHRoOyBpKyspIHtcbiAgICAgICAgICAgIGZvciAobGV0IGogPSAwOyBqIDwgdGhpcy5faGVpZ2h0OyBqKyspIHtcbiAgICAgICAgICAgICAgICBjYWxsYmFjayhpLCBqLCBtYXBbaV1bal0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHRoaXMuX21hcCA9IFtdO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgX3JhbmRvbWl6ZShkaXJzKSB7XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgNDsgaSsrKSB7XG4gICAgICAgICAgICBkaXJzW2ldWzBdID0gMDtcbiAgICAgICAgICAgIGRpcnNbaV1bMV0gPSAwO1xuICAgICAgICB9XG4gICAgICAgIHN3aXRjaCAoTWF0aC5mbG9vcihSTkcuZ2V0VW5pZm9ybSgpICogNCkpIHtcbiAgICAgICAgICAgIGNhc2UgMDpcbiAgICAgICAgICAgICAgICBkaXJzWzBdWzBdID0gLTE7XG4gICAgICAgICAgICAgICAgZGlyc1sxXVswXSA9IDE7XG4gICAgICAgICAgICAgICAgZGlyc1syXVsxXSA9IC0xO1xuICAgICAgICAgICAgICAgIGRpcnNbM11bMV0gPSAxO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAxOlxuICAgICAgICAgICAgICAgIGRpcnNbM11bMF0gPSAtMTtcbiAgICAgICAgICAgICAgICBkaXJzWzJdWzBdID0gMTtcbiAgICAgICAgICAgICAgICBkaXJzWzFdWzFdID0gLTE7XG4gICAgICAgICAgICAgICAgZGlyc1swXVsxXSA9IDE7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIDI6XG4gICAgICAgICAgICAgICAgZGlyc1syXVswXSA9IC0xO1xuICAgICAgICAgICAgICAgIGRpcnNbM11bMF0gPSAxO1xuICAgICAgICAgICAgICAgIGRpcnNbMF1bMV0gPSAtMTtcbiAgICAgICAgICAgICAgICBkaXJzWzFdWzFdID0gMTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgMzpcbiAgICAgICAgICAgICAgICBkaXJzWzFdWzBdID0gLTE7XG4gICAgICAgICAgICAgICAgZGlyc1swXVswXSA9IDE7XG4gICAgICAgICAgICAgICAgZGlyc1szXVsxXSA9IC0xO1xuICAgICAgICAgICAgICAgIGRpcnNbMl1bMV0gPSAxO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgfVxuICAgIF9pc0ZyZWUobWFwLCB4LCB5LCB3aWR0aCwgaGVpZ2h0KSB7XG4gICAgICAgIGlmICh4IDwgMSB8fCB5IDwgMSB8fCB4ID49IHdpZHRoIHx8IHkgPj0gaGVpZ2h0KSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG1hcFt4XVt5XTtcbiAgICB9XG59XG4iLCJpbXBvcnQgTWFwIGZyb20gXCIuL21hcC5qc1wiO1xuaW1wb3J0IFJORyBmcm9tIFwiLi4vcm5nLmpzXCI7XG5pbXBvcnQgeyBESVJTIH0gZnJvbSBcIi4uL2NvbnN0YW50cy5qc1wiO1xuLyoqXG4gKiBEdW5nZW9uIGdlbmVyYXRvciB3aGljaCB1c2VzIHRoZSBcIm9yZ2luYWxcIiBSb2d1ZSBkdW5nZW9uIGdlbmVyYXRpb24gYWxnb3JpdGhtLiBTZWUgaHR0cDovL2t1b2kuY29tL35rYW1pa2F6ZS9HYW1lRGVzaWduL2FydDA3X3JvZ3VlX2R1bmdlb24ucGhwXG4gKiBAYXV0aG9yIGh5YWt1Z2VpXG4gKi9cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFJvZ3VlIGV4dGVuZHMgTWFwIHtcbiAgICBjb25zdHJ1Y3Rvcih3aWR0aCwgaGVpZ2h0LCBvcHRpb25zKSB7XG4gICAgICAgIHN1cGVyKHdpZHRoLCBoZWlnaHQpO1xuICAgICAgICB0aGlzLm1hcCA9IFtdO1xuICAgICAgICB0aGlzLnJvb21zID0gW107XG4gICAgICAgIHRoaXMuY29ubmVjdGVkQ2VsbHMgPSBbXTtcbiAgICAgICAgb3B0aW9ucyA9IE9iamVjdC5hc3NpZ24oe1xuICAgICAgICAgICAgY2VsbFdpZHRoOiAzLFxuICAgICAgICAgICAgY2VsbEhlaWdodDogMyAvLyAgICAgaWUuIGFzIGFuIGFycmF5IHdpdGggbWluLW1heCB2YWx1ZXMgZm9yIGVhY2ggZGlyZWN0aW9uLi4uLlxuICAgICAgICB9LCBvcHRpb25zKTtcbiAgICAgICAgLypcbiAgICAgICAgU2V0IHRoZSByb29tIHNpemVzIGFjY29yZGluZyB0byB0aGUgb3Zlci1hbGwgd2lkdGggb2YgdGhlIG1hcCxcbiAgICAgICAgYW5kIHRoZSBjZWxsIHNpemVzLlxuICAgICAgICAqL1xuICAgICAgICBpZiAoIW9wdGlvbnMuaGFzT3duUHJvcGVydHkoXCJyb29tV2lkdGhcIikpIHtcbiAgICAgICAgICAgIG9wdGlvbnNbXCJyb29tV2lkdGhcIl0gPSB0aGlzLl9jYWxjdWxhdGVSb29tU2l6ZSh0aGlzLl93aWR0aCwgb3B0aW9uc1tcImNlbGxXaWR0aFwiXSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFvcHRpb25zLmhhc093blByb3BlcnR5KFwicm9vbUhlaWdodFwiKSkge1xuICAgICAgICAgICAgb3B0aW9uc1tcInJvb21IZWlnaHRcIl0gPSB0aGlzLl9jYWxjdWxhdGVSb29tU2l6ZSh0aGlzLl9oZWlnaHQsIG9wdGlvbnNbXCJjZWxsSGVpZ2h0XCJdKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl9vcHRpb25zID0gb3B0aW9ucztcbiAgICB9XG4gICAgY3JlYXRlKGNhbGxiYWNrKSB7XG4gICAgICAgIHRoaXMubWFwID0gdGhpcy5fZmlsbE1hcCgxKTtcbiAgICAgICAgdGhpcy5yb29tcyA9IFtdO1xuICAgICAgICB0aGlzLmNvbm5lY3RlZENlbGxzID0gW107XG4gICAgICAgIHRoaXMuX2luaXRSb29tcygpO1xuICAgICAgICB0aGlzLl9jb25uZWN0Um9vbXMoKTtcbiAgICAgICAgdGhpcy5fY29ubmVjdFVuY29ubmVjdGVkUm9vbXMoKTtcbiAgICAgICAgdGhpcy5fY3JlYXRlUmFuZG9tUm9vbUNvbm5lY3Rpb25zKCk7XG4gICAgICAgIHRoaXMuX2NyZWF0ZVJvb21zKCk7XG4gICAgICAgIHRoaXMuX2NyZWF0ZUNvcnJpZG9ycygpO1xuICAgICAgICBpZiAoY2FsbGJhY2spIHtcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5fd2lkdGg7IGkrKykge1xuICAgICAgICAgICAgICAgIGZvciAobGV0IGogPSAwOyBqIDwgdGhpcy5faGVpZ2h0OyBqKyspIHtcbiAgICAgICAgICAgICAgICAgICAgY2FsbGJhY2soaSwgaiwgdGhpcy5tYXBbaV1bal0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgX2NhbGN1bGF0ZVJvb21TaXplKHNpemUsIGNlbGwpIHtcbiAgICAgICAgbGV0IG1heCA9IE1hdGguZmxvb3IoKHNpemUgLyBjZWxsKSAqIDAuOCk7XG4gICAgICAgIGxldCBtaW4gPSBNYXRoLmZsb29yKChzaXplIC8gY2VsbCkgKiAwLjI1KTtcbiAgICAgICAgaWYgKG1pbiA8IDIpIHtcbiAgICAgICAgICAgIG1pbiA9IDI7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG1heCA8IDIpIHtcbiAgICAgICAgICAgIG1heCA9IDI7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIFttaW4sIG1heF07XG4gICAgfVxuICAgIF9pbml0Um9vbXMoKSB7XG4gICAgICAgIC8vIGNyZWF0ZSByb29tcyBhcnJheS4gVGhpcyBpcyB0aGUgXCJncmlkXCIgbGlzdCBmcm9tIHRoZSBhbGdvLlxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMuX29wdGlvbnMuY2VsbFdpZHRoOyBpKyspIHtcbiAgICAgICAgICAgIHRoaXMucm9vbXMucHVzaChbXSk7XG4gICAgICAgICAgICBmb3IgKGxldCBqID0gMDsgaiA8IHRoaXMuX29wdGlvbnMuY2VsbEhlaWdodDsgaisrKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5yb29tc1tpXS5wdXNoKHsgXCJ4XCI6IDAsIFwieVwiOiAwLCBcIndpZHRoXCI6IDAsIFwiaGVpZ2h0XCI6IDAsIFwiY29ubmVjdGlvbnNcIjogW10sIFwiY2VsbHhcIjogaSwgXCJjZWxseVwiOiBqIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIF9jb25uZWN0Um9vbXMoKSB7XG4gICAgICAgIC8vcGljayByYW5kb20gc3RhcnRpbmcgZ3JpZFxuICAgICAgICBsZXQgY2d4ID0gUk5HLmdldFVuaWZvcm1JbnQoMCwgdGhpcy5fb3B0aW9ucy5jZWxsV2lkdGggLSAxKTtcbiAgICAgICAgbGV0IGNneSA9IFJORy5nZXRVbmlmb3JtSW50KDAsIHRoaXMuX29wdGlvbnMuY2VsbEhlaWdodCAtIDEpO1xuICAgICAgICBsZXQgaWR4O1xuICAgICAgICBsZXQgbmNneDtcbiAgICAgICAgbGV0IG5jZ3k7XG4gICAgICAgIGxldCBmb3VuZCA9IGZhbHNlO1xuICAgICAgICBsZXQgcm9vbTtcbiAgICAgICAgbGV0IG90aGVyUm9vbTtcbiAgICAgICAgbGV0IGRpclRvQ2hlY2s7XG4gICAgICAgIC8vIGZpbmQgIHVuY29ubmVjdGVkIG5laWdoYm91ciBjZWxsc1xuICAgICAgICBkbyB7XG4gICAgICAgICAgICAvL2RpclRvQ2hlY2sgPSBbMCwgMSwgMiwgMywgNCwgNSwgNiwgN107XG4gICAgICAgICAgICBkaXJUb0NoZWNrID0gWzAsIDIsIDQsIDZdO1xuICAgICAgICAgICAgZGlyVG9DaGVjayA9IFJORy5zaHVmZmxlKGRpclRvQ2hlY2spO1xuICAgICAgICAgICAgZG8ge1xuICAgICAgICAgICAgICAgIGZvdW5kID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgaWR4ID0gZGlyVG9DaGVjay5wb3AoKTtcbiAgICAgICAgICAgICAgICBuY2d4ID0gY2d4ICsgRElSU1s4XVtpZHhdWzBdO1xuICAgICAgICAgICAgICAgIG5jZ3kgPSBjZ3kgKyBESVJTWzhdW2lkeF1bMV07XG4gICAgICAgICAgICAgICAgaWYgKG5jZ3ggPCAwIHx8IG5jZ3ggPj0gdGhpcy5fb3B0aW9ucy5jZWxsV2lkdGgpIHtcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChuY2d5IDwgMCB8fCBuY2d5ID49IHRoaXMuX29wdGlvbnMuY2VsbEhlaWdodCkge1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcm9vbSA9IHRoaXMucm9vbXNbY2d4XVtjZ3ldO1xuICAgICAgICAgICAgICAgIGlmIChyb29tW1wiY29ubmVjdGlvbnNcIl0ubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICAgICAgICAvLyBhcyBsb25nIGFzIHRoaXMgcm9vbSBkb2Vzbid0IGFscmVhZHkgY29vbmVjdCB0byBtZSwgd2UgYXJlIG9rIHdpdGggaXQuXG4gICAgICAgICAgICAgICAgICAgIGlmIChyb29tW1wiY29ubmVjdGlvbnNcIl1bMF1bMF0gPT0gbmNneCAmJiByb29tW1wiY29ubmVjdGlvbnNcIl1bMF1bMV0gPT0gbmNneSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgb3RoZXJSb29tID0gdGhpcy5yb29tc1tuY2d4XVtuY2d5XTtcbiAgICAgICAgICAgICAgICBpZiAob3RoZXJSb29tW1wiY29ubmVjdGlvbnNcIl0ubGVuZ3RoID09IDApIHtcbiAgICAgICAgICAgICAgICAgICAgb3RoZXJSb29tW1wiY29ubmVjdGlvbnNcIl0ucHVzaChbY2d4LCBjZ3ldKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5jb25uZWN0ZWRDZWxscy5wdXNoKFtuY2d4LCBuY2d5XSk7XG4gICAgICAgICAgICAgICAgICAgIGNneCA9IG5jZ3g7XG4gICAgICAgICAgICAgICAgICAgIGNneSA9IG5jZ3k7XG4gICAgICAgICAgICAgICAgICAgIGZvdW5kID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IHdoaWxlIChkaXJUb0NoZWNrLmxlbmd0aCA+IDAgJiYgZm91bmQgPT0gZmFsc2UpO1xuICAgICAgICB9IHdoaWxlIChkaXJUb0NoZWNrLmxlbmd0aCA+IDApO1xuICAgIH1cbiAgICBfY29ubmVjdFVuY29ubmVjdGVkUm9vbXMoKSB7XG4gICAgICAgIC8vV2hpbGUgdGhlcmUgYXJlIHVuY29ubmVjdGVkIHJvb21zLCB0cnkgdG8gY29ubmVjdCB0aGVtIHRvIGEgcmFuZG9tIGNvbm5lY3RlZCBuZWlnaGJvclxuICAgICAgICAvLyhpZiBhIHJvb20gaGFzIG5vIGNvbm5lY3RlZCBuZWlnaGJvcnMgeWV0LCBqdXN0IGtlZXAgY3ljbGluZywgeW91J2xsIGZpbGwgb3V0IHRvIGl0IGV2ZW50dWFsbHkpLlxuICAgICAgICBsZXQgY3cgPSB0aGlzLl9vcHRpb25zLmNlbGxXaWR0aDtcbiAgICAgICAgbGV0IGNoID0gdGhpcy5fb3B0aW9ucy5jZWxsSGVpZ2h0O1xuICAgICAgICB0aGlzLmNvbm5lY3RlZENlbGxzID0gUk5HLnNodWZmbGUodGhpcy5jb25uZWN0ZWRDZWxscyk7XG4gICAgICAgIGxldCByb29tO1xuICAgICAgICBsZXQgb3RoZXJSb29tO1xuICAgICAgICBsZXQgdmFsaWRSb29tO1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMuX29wdGlvbnMuY2VsbFdpZHRoOyBpKyspIHtcbiAgICAgICAgICAgIGZvciAobGV0IGogPSAwOyBqIDwgdGhpcy5fb3B0aW9ucy5jZWxsSGVpZ2h0OyBqKyspIHtcbiAgICAgICAgICAgICAgICByb29tID0gdGhpcy5yb29tc1tpXVtqXTtcbiAgICAgICAgICAgICAgICBpZiAocm9vbVtcImNvbm5lY3Rpb25zXCJdLmxlbmd0aCA9PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgIGxldCBkaXJlY3Rpb25zID0gWzAsIDIsIDQsIDZdO1xuICAgICAgICAgICAgICAgICAgICBkaXJlY3Rpb25zID0gUk5HLnNodWZmbGUoZGlyZWN0aW9ucyk7XG4gICAgICAgICAgICAgICAgICAgIHZhbGlkUm9vbSA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICBkbyB7XG4gICAgICAgICAgICAgICAgICAgICAgICBsZXQgZGlySWR4ID0gZGlyZWN0aW9ucy5wb3AoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGxldCBuZXdJID0gaSArIERJUlNbOF1bZGlySWR4XVswXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGxldCBuZXdKID0gaiArIERJUlNbOF1bZGlySWR4XVsxXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChuZXdJIDwgMCB8fCBuZXdJID49IGN3IHx8IG5ld0ogPCAwIHx8IG5ld0ogPj0gY2gpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIG90aGVyUm9vbSA9IHRoaXMucm9vbXNbbmV3SV1bbmV3Sl07XG4gICAgICAgICAgICAgICAgICAgICAgICB2YWxpZFJvb20gPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG90aGVyUm9vbVtcImNvbm5lY3Rpb25zXCJdLmxlbmd0aCA9PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBmb3IgKGxldCBrID0gMDsgayA8IG90aGVyUm9vbVtcImNvbm5lY3Rpb25zXCJdLmxlbmd0aDsgaysrKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG90aGVyUm9vbVtcImNvbm5lY3Rpb25zXCJdW2tdWzBdID09IGkgJiYgb3RoZXJSb29tW1wiY29ubmVjdGlvbnNcIl1ba11bMV0gPT0gaikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWxpZFJvb20gPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHZhbGlkUm9vbSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9IHdoaWxlIChkaXJlY3Rpb25zLmxlbmd0aCk7XG4gICAgICAgICAgICAgICAgICAgIGlmICh2YWxpZFJvb20pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJvb21bXCJjb25uZWN0aW9uc1wiXS5wdXNoKFtvdGhlclJvb21bXCJjZWxseFwiXSwgb3RoZXJSb29tW1wiY2VsbHlcIl1dKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiLS0gVW5hYmxlIHRvIGNvbm5lY3Qgcm9vbS5cIik7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgX2NyZWF0ZVJhbmRvbVJvb21Db25uZWN0aW9ucygpIHtcbiAgICAgICAgLy8gRW1wdHkgZm9yIG5vdy5cbiAgICB9XG4gICAgX2NyZWF0ZVJvb21zKCkge1xuICAgICAgICBsZXQgdyA9IHRoaXMuX3dpZHRoO1xuICAgICAgICBsZXQgaCA9IHRoaXMuX2hlaWdodDtcbiAgICAgICAgbGV0IGN3ID0gdGhpcy5fb3B0aW9ucy5jZWxsV2lkdGg7XG4gICAgICAgIGxldCBjaCA9IHRoaXMuX29wdGlvbnMuY2VsbEhlaWdodDtcbiAgICAgICAgbGV0IGN3cCA9IE1hdGguZmxvb3IodGhpcy5fd2lkdGggLyBjdyk7XG4gICAgICAgIGxldCBjaHAgPSBNYXRoLmZsb29yKHRoaXMuX2hlaWdodCAvIGNoKTtcbiAgICAgICAgbGV0IHJvb213O1xuICAgICAgICBsZXQgcm9vbWg7XG4gICAgICAgIGxldCByb29tV2lkdGggPSB0aGlzLl9vcHRpb25zW1wicm9vbVdpZHRoXCJdO1xuICAgICAgICBsZXQgcm9vbUhlaWdodCA9IHRoaXMuX29wdGlvbnNbXCJyb29tSGVpZ2h0XCJdO1xuICAgICAgICBsZXQgc3g7XG4gICAgICAgIGxldCBzeTtcbiAgICAgICAgbGV0IG90aGVyUm9vbTtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBjdzsgaSsrKSB7XG4gICAgICAgICAgICBmb3IgKGxldCBqID0gMDsgaiA8IGNoOyBqKyspIHtcbiAgICAgICAgICAgICAgICBzeCA9IGN3cCAqIGk7XG4gICAgICAgICAgICAgICAgc3kgPSBjaHAgKiBqO1xuICAgICAgICAgICAgICAgIGlmIChzeCA9PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgIHN4ID0gMTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKHN5ID09IDApIHtcbiAgICAgICAgICAgICAgICAgICAgc3kgPSAxO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByb29tdyA9IFJORy5nZXRVbmlmb3JtSW50KHJvb21XaWR0aFswXSwgcm9vbVdpZHRoWzFdKTtcbiAgICAgICAgICAgICAgICByb29taCA9IFJORy5nZXRVbmlmb3JtSW50KHJvb21IZWlnaHRbMF0sIHJvb21IZWlnaHRbMV0pO1xuICAgICAgICAgICAgICAgIGlmIChqID4gMCkge1xuICAgICAgICAgICAgICAgICAgICBvdGhlclJvb20gPSB0aGlzLnJvb21zW2ldW2ogLSAxXTtcbiAgICAgICAgICAgICAgICAgICAgd2hpbGUgKHN5IC0gKG90aGVyUm9vbVtcInlcIl0gKyBvdGhlclJvb21bXCJoZWlnaHRcIl0pIDwgMykge1xuICAgICAgICAgICAgICAgICAgICAgICAgc3krKztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoaSA+IDApIHtcbiAgICAgICAgICAgICAgICAgICAgb3RoZXJSb29tID0gdGhpcy5yb29tc1tpIC0gMV1bal07XG4gICAgICAgICAgICAgICAgICAgIHdoaWxlIChzeCAtIChvdGhlclJvb21bXCJ4XCJdICsgb3RoZXJSb29tW1wid2lkdGhcIl0pIDwgMykge1xuICAgICAgICAgICAgICAgICAgICAgICAgc3grKztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBsZXQgc3hPZmZzZXQgPSBNYXRoLnJvdW5kKFJORy5nZXRVbmlmb3JtSW50KDAsIGN3cCAtIHJvb213KSAvIDIpO1xuICAgICAgICAgICAgICAgIGxldCBzeU9mZnNldCA9IE1hdGgucm91bmQoUk5HLmdldFVuaWZvcm1JbnQoMCwgY2hwIC0gcm9vbWgpIC8gMik7XG4gICAgICAgICAgICAgICAgd2hpbGUgKHN4ICsgc3hPZmZzZXQgKyByb29tdyA+PSB3KSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChzeE9mZnNldCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgc3hPZmZzZXQtLTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJvb213LS07XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgd2hpbGUgKHN5ICsgc3lPZmZzZXQgKyByb29taCA+PSBoKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChzeU9mZnNldCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgc3lPZmZzZXQtLTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJvb21oLS07XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgc3ggPSBzeCArIHN4T2Zmc2V0O1xuICAgICAgICAgICAgICAgIHN5ID0gc3kgKyBzeU9mZnNldDtcbiAgICAgICAgICAgICAgICB0aGlzLnJvb21zW2ldW2pdW1wieFwiXSA9IHN4O1xuICAgICAgICAgICAgICAgIHRoaXMucm9vbXNbaV1bal1bXCJ5XCJdID0gc3k7XG4gICAgICAgICAgICAgICAgdGhpcy5yb29tc1tpXVtqXVtcIndpZHRoXCJdID0gcm9vbXc7XG4gICAgICAgICAgICAgICAgdGhpcy5yb29tc1tpXVtqXVtcImhlaWdodFwiXSA9IHJvb21oO1xuICAgICAgICAgICAgICAgIGZvciAobGV0IGlpID0gc3g7IGlpIDwgc3ggKyByb29tdzsgaWkrKykge1xuICAgICAgICAgICAgICAgICAgICBmb3IgKGxldCBqaiA9IHN5OyBqaiA8IHN5ICsgcm9vbWg7IGpqKyspIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubWFwW2lpXVtqal0gPSAwO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIF9nZXRXYWxsUG9zaXRpb24oYVJvb20sIGFEaXJlY3Rpb24pIHtcbiAgICAgICAgbGV0IHJ4O1xuICAgICAgICBsZXQgcnk7XG4gICAgICAgIGxldCBkb29yO1xuICAgICAgICBpZiAoYURpcmVjdGlvbiA9PSAxIHx8IGFEaXJlY3Rpb24gPT0gMykge1xuICAgICAgICAgICAgcnggPSBSTkcuZ2V0VW5pZm9ybUludChhUm9vbVtcInhcIl0gKyAxLCBhUm9vbVtcInhcIl0gKyBhUm9vbVtcIndpZHRoXCJdIC0gMik7XG4gICAgICAgICAgICBpZiAoYURpcmVjdGlvbiA9PSAxKSB7XG4gICAgICAgICAgICAgICAgcnkgPSBhUm9vbVtcInlcIl0gLSAyO1xuICAgICAgICAgICAgICAgIGRvb3IgPSByeSArIDE7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICByeSA9IGFSb29tW1wieVwiXSArIGFSb29tW1wiaGVpZ2h0XCJdICsgMTtcbiAgICAgICAgICAgICAgICBkb29yID0gcnkgLSAxO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5tYXBbcnhdW2Rvb3JdID0gMDsgLy8gaSdtIG5vdCBzZXR0aW5nIGEgc3BlY2lmaWMgJ2Rvb3InIHRpbGUgdmFsdWUgcmlnaHQgbm93LCBqdXN0IGVtcHR5IHNwYWNlLlxuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcnkgPSBSTkcuZ2V0VW5pZm9ybUludChhUm9vbVtcInlcIl0gKyAxLCBhUm9vbVtcInlcIl0gKyBhUm9vbVtcImhlaWdodFwiXSAtIDIpO1xuICAgICAgICAgICAgaWYgKGFEaXJlY3Rpb24gPT0gMikge1xuICAgICAgICAgICAgICAgIHJ4ID0gYVJvb21bXCJ4XCJdICsgYVJvb21bXCJ3aWR0aFwiXSArIDE7XG4gICAgICAgICAgICAgICAgZG9vciA9IHJ4IC0gMTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHJ4ID0gYVJvb21bXCJ4XCJdIC0gMjtcbiAgICAgICAgICAgICAgICBkb29yID0gcnggKyAxO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5tYXBbZG9vcl1bcnldID0gMDsgLy8gaSdtIG5vdCBzZXR0aW5nIGEgc3BlY2lmaWMgJ2Rvb3InIHRpbGUgdmFsdWUgcmlnaHQgbm93LCBqdXN0IGVtcHR5IHNwYWNlLlxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBbcngsIHJ5XTtcbiAgICB9XG4gICAgX2RyYXdDb3JyaWRvcihzdGFydFBvc2l0aW9uLCBlbmRQb3NpdGlvbikge1xuICAgICAgICBsZXQgeE9mZnNldCA9IGVuZFBvc2l0aW9uWzBdIC0gc3RhcnRQb3NpdGlvblswXTtcbiAgICAgICAgbGV0IHlPZmZzZXQgPSBlbmRQb3NpdGlvblsxXSAtIHN0YXJ0UG9zaXRpb25bMV07XG4gICAgICAgIGxldCB4cG9zID0gc3RhcnRQb3NpdGlvblswXTtcbiAgICAgICAgbGV0IHlwb3MgPSBzdGFydFBvc2l0aW9uWzFdO1xuICAgICAgICBsZXQgdGVtcERpc3Q7XG4gICAgICAgIGxldCB4RGlyO1xuICAgICAgICBsZXQgeURpcjtcbiAgICAgICAgbGV0IG1vdmU7IC8vIDIgZWxlbWVudCBhcnJheSwgZWxlbWVudCAwIGlzIHRoZSBkaXJlY3Rpb24sIGVsZW1lbnQgMSBpcyB0aGUgdG90YWwgdmFsdWUgdG8gbW92ZS5cbiAgICAgICAgbGV0IG1vdmVzID0gW107IC8vIGEgbGlzdCBvZiAyIGVsZW1lbnQgYXJyYXlzXG4gICAgICAgIGxldCB4QWJzID0gTWF0aC5hYnMoeE9mZnNldCk7XG4gICAgICAgIGxldCB5QWJzID0gTWF0aC5hYnMoeU9mZnNldCk7XG4gICAgICAgIGxldCBwZXJjZW50ID0gUk5HLmdldFVuaWZvcm0oKTsgLy8gdXNlZCB0byBzcGxpdCB0aGUgbW92ZSBhdCBkaWZmZXJlbnQgcGxhY2VzIGFsb25nIHRoZSBsb25nIGF4aXNcbiAgICAgICAgbGV0IGZpcnN0SGFsZiA9IHBlcmNlbnQ7XG4gICAgICAgIGxldCBzZWNvbmRIYWxmID0gMSAtIHBlcmNlbnQ7XG4gICAgICAgIHhEaXIgPSB4T2Zmc2V0ID4gMCA/IDIgOiA2O1xuICAgICAgICB5RGlyID0geU9mZnNldCA+IDAgPyA0IDogMDtcbiAgICAgICAgaWYgKHhBYnMgPCB5QWJzKSB7XG4gICAgICAgICAgICAvLyBtb3ZlIGZpcnN0SGFsZiBvZiB0aGUgeSBvZmZzZXRcbiAgICAgICAgICAgIHRlbXBEaXN0ID0gTWF0aC5jZWlsKHlBYnMgKiBmaXJzdEhhbGYpO1xuICAgICAgICAgICAgbW92ZXMucHVzaChbeURpciwgdGVtcERpc3RdKTtcbiAgICAgICAgICAgIC8vIG1vdmUgYWxsIHRoZSB4IG9mZnNldFxuICAgICAgICAgICAgbW92ZXMucHVzaChbeERpciwgeEFic10pO1xuICAgICAgICAgICAgLy8gbW92ZSBzZW5kSGFsZiBvZiB0aGUgIHkgb2Zmc2V0XG4gICAgICAgICAgICB0ZW1wRGlzdCA9IE1hdGguZmxvb3IoeUFicyAqIHNlY29uZEhhbGYpO1xuICAgICAgICAgICAgbW92ZXMucHVzaChbeURpciwgdGVtcERpc3RdKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIC8vICBtb3ZlIGZpcnN0SGFsZiBvZiB0aGUgeCBvZmZzZXRcbiAgICAgICAgICAgIHRlbXBEaXN0ID0gTWF0aC5jZWlsKHhBYnMgKiBmaXJzdEhhbGYpO1xuICAgICAgICAgICAgbW92ZXMucHVzaChbeERpciwgdGVtcERpc3RdKTtcbiAgICAgICAgICAgIC8vIG1vdmUgYWxsIHRoZSB5IG9mZnNldFxuICAgICAgICAgICAgbW92ZXMucHVzaChbeURpciwgeUFic10pO1xuICAgICAgICAgICAgLy8gbW92ZSBzZWNvbmRIYWxmIG9mIHRoZSB4IG9mZnNldC5cbiAgICAgICAgICAgIHRlbXBEaXN0ID0gTWF0aC5mbG9vcih4QWJzICogc2Vjb25kSGFsZik7XG4gICAgICAgICAgICBtb3Zlcy5wdXNoKFt4RGlyLCB0ZW1wRGlzdF0pO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMubWFwW3hwb3NdW3lwb3NdID0gMDtcbiAgICAgICAgd2hpbGUgKG1vdmVzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIG1vdmUgPSBtb3Zlcy5wb3AoKTtcbiAgICAgICAgICAgIHdoaWxlIChtb3ZlWzFdID4gMCkge1xuICAgICAgICAgICAgICAgIHhwb3MgKz0gRElSU1s4XVttb3ZlWzBdXVswXTtcbiAgICAgICAgICAgICAgICB5cG9zICs9IERJUlNbOF1bbW92ZVswXV1bMV07XG4gICAgICAgICAgICAgICAgdGhpcy5tYXBbeHBvc11beXBvc10gPSAwO1xuICAgICAgICAgICAgICAgIG1vdmVbMV0gPSBtb3ZlWzFdIC0gMTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICBfY3JlYXRlQ29ycmlkb3JzKCkge1xuICAgICAgICAvLyBEcmF3IENvcnJpZG9ycyBiZXR3ZWVuIGNvbm5lY3RlZCByb29tc1xuICAgICAgICBsZXQgY3cgPSB0aGlzLl9vcHRpb25zLmNlbGxXaWR0aDtcbiAgICAgICAgbGV0IGNoID0gdGhpcy5fb3B0aW9ucy5jZWxsSGVpZ2h0O1xuICAgICAgICBsZXQgcm9vbTtcbiAgICAgICAgbGV0IGNvbm5lY3Rpb247XG4gICAgICAgIGxldCBvdGhlclJvb207XG4gICAgICAgIGxldCB3YWxsO1xuICAgICAgICBsZXQgb3RoZXJXYWxsO1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGN3OyBpKyspIHtcbiAgICAgICAgICAgIGZvciAobGV0IGogPSAwOyBqIDwgY2g7IGorKykge1xuICAgICAgICAgICAgICAgIHJvb20gPSB0aGlzLnJvb21zW2ldW2pdO1xuICAgICAgICAgICAgICAgIGZvciAobGV0IGsgPSAwOyBrIDwgcm9vbVtcImNvbm5lY3Rpb25zXCJdLmxlbmd0aDsgaysrKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbm5lY3Rpb24gPSByb29tW1wiY29ubmVjdGlvbnNcIl1ba107XG4gICAgICAgICAgICAgICAgICAgIG90aGVyUm9vbSA9IHRoaXMucm9vbXNbY29ubmVjdGlvblswXV1bY29ubmVjdGlvblsxXV07XG4gICAgICAgICAgICAgICAgICAgIC8vIGZpZ3VyZSBvdXQgd2hhdCB3YWxsIG91ciBjb3JyaWRvciB3aWxsIHN0YXJ0IG9uZS5cbiAgICAgICAgICAgICAgICAgICAgLy8gZmlndXJlIG91dCB3aGF0IHdhbGwgb3VyIGNvcnJpZG9yIHdpbGwgZW5kIG9uLlxuICAgICAgICAgICAgICAgICAgICBpZiAob3RoZXJSb29tW1wiY2VsbHhcIl0gPiByb29tW1wiY2VsbHhcIl0pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHdhbGwgPSAyO1xuICAgICAgICAgICAgICAgICAgICAgICAgb3RoZXJXYWxsID0gNDtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIGlmIChvdGhlclJvb21bXCJjZWxseFwiXSA8IHJvb21bXCJjZWxseFwiXSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgd2FsbCA9IDQ7XG4gICAgICAgICAgICAgICAgICAgICAgICBvdGhlcldhbGwgPSAyO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKG90aGVyUm9vbVtcImNlbGx5XCJdID4gcm9vbVtcImNlbGx5XCJdKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB3YWxsID0gMztcbiAgICAgICAgICAgICAgICAgICAgICAgIG90aGVyV2FsbCA9IDE7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB3YWxsID0gMTtcbiAgICAgICAgICAgICAgICAgICAgICAgIG90aGVyV2FsbCA9IDM7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fZHJhd0NvcnJpZG9yKHRoaXMuX2dldFdhbGxQb3NpdGlvbihyb29tLCB3YWxsKSwgdGhpcy5fZ2V0V2FsbFBvc2l0aW9uKG90aGVyUm9vbSwgb3RoZXJXYWxsKSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxufVxuIiwiLyoqXG4gKiBCYXNlIG5vaXNlIGdlbmVyYXRvclxuICovXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBOb2lzZSB7XG59XG4iLCJpbXBvcnQgTm9pc2UgZnJvbSBcIi4vbm9pc2UuanNcIjtcbmltcG9ydCBSTkcgZnJvbSBcIi4uL3JuZy5qc1wiO1xuaW1wb3J0IHsgbW9kIH0gZnJvbSBcIi4uL3V0aWwuanNcIjtcbmNvbnN0IEYyID0gMC41ICogKE1hdGguc3FydCgzKSAtIDEpO1xuY29uc3QgRzIgPSAoMyAtIE1hdGguc3FydCgzKSkgLyA2O1xuLyoqXG4gKiBBIHNpbXBsZSAyZCBpbXBsZW1lbnRhdGlvbiBvZiBzaW1wbGV4IG5vaXNlIGJ5IE9uZHJlaiBaYXJhXG4gKlxuICogQmFzZWQgb24gYSBzcGVlZC1pbXByb3ZlZCBzaW1wbGV4IG5vaXNlIGFsZ29yaXRobSBmb3IgMkQsIDNEIGFuZCA0RCBpbiBKYXZhLlxuICogV2hpY2ggaXMgYmFzZWQgb24gZXhhbXBsZSBjb2RlIGJ5IFN0ZWZhbiBHdXN0YXZzb24gKHN0ZWd1QGl0bi5saXUuc2UpLlxuICogV2l0aCBPcHRpbWlzYXRpb25zIGJ5IFBldGVyIEVhc3RtYW4gKHBlYXN0bWFuQGRyaXp6bGUuc3RhbmZvcmQuZWR1KS5cbiAqIEJldHRlciByYW5rIG9yZGVyaW5nIG1ldGhvZCBieSBTdGVmYW4gR3VzdGF2c29uIGluIDIwMTIuXG4gKi9cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFNpbXBsZXggZXh0ZW5kcyBOb2lzZSB7XG4gICAgLyoqXG4gICAgICogQHBhcmFtIGdyYWRpZW50cyBSYW5kb20gZ3JhZGllbnRzXG4gICAgICovXG4gICAgY29uc3RydWN0b3IoZ3JhZGllbnRzID0gMjU2KSB7XG4gICAgICAgIHN1cGVyKCk7XG4gICAgICAgIHRoaXMuX2dyYWRpZW50cyA9IFtcbiAgICAgICAgICAgIFswLCAtMV0sXG4gICAgICAgICAgICBbMSwgLTFdLFxuICAgICAgICAgICAgWzEsIDBdLFxuICAgICAgICAgICAgWzEsIDFdLFxuICAgICAgICAgICAgWzAsIDFdLFxuICAgICAgICAgICAgWy0xLCAxXSxcbiAgICAgICAgICAgIFstMSwgMF0sXG4gICAgICAgICAgICBbLTEsIC0xXVxuICAgICAgICBdO1xuICAgICAgICBsZXQgcGVybXV0YXRpb25zID0gW107XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgZ3JhZGllbnRzOyBpKyspIHtcbiAgICAgICAgICAgIHBlcm11dGF0aW9ucy5wdXNoKGkpO1xuICAgICAgICB9XG4gICAgICAgIHBlcm11dGF0aW9ucyA9IFJORy5zaHVmZmxlKHBlcm11dGF0aW9ucyk7XG4gICAgICAgIHRoaXMuX3Blcm1zID0gW107XG4gICAgICAgIHRoaXMuX2luZGV4ZXMgPSBbXTtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCAyICogZ3JhZGllbnRzOyBpKyspIHtcbiAgICAgICAgICAgIHRoaXMuX3Blcm1zLnB1c2gocGVybXV0YXRpb25zW2kgJSBncmFkaWVudHNdKTtcbiAgICAgICAgICAgIHRoaXMuX2luZGV4ZXMucHVzaCh0aGlzLl9wZXJtc1tpXSAlIHRoaXMuX2dyYWRpZW50cy5sZW5ndGgpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGdldCh4aW4sIHlpbikge1xuICAgICAgICBsZXQgcGVybXMgPSB0aGlzLl9wZXJtcztcbiAgICAgICAgbGV0IGluZGV4ZXMgPSB0aGlzLl9pbmRleGVzO1xuICAgICAgICBsZXQgY291bnQgPSBwZXJtcy5sZW5ndGggLyAyO1xuICAgICAgICBsZXQgbjAgPSAwLCBuMSA9IDAsIG4yID0gMCwgZ2k7IC8vIE5vaXNlIGNvbnRyaWJ1dGlvbnMgZnJvbSB0aGUgdGhyZWUgY29ybmVyc1xuICAgICAgICAvLyBTa2V3IHRoZSBpbnB1dCBzcGFjZSB0byBkZXRlcm1pbmUgd2hpY2ggc2ltcGxleCBjZWxsIHdlJ3JlIGluXG4gICAgICAgIGxldCBzID0gKHhpbiArIHlpbikgKiBGMjsgLy8gSGFpcnkgZmFjdG9yIGZvciAyRFxuICAgICAgICBsZXQgaSA9IE1hdGguZmxvb3IoeGluICsgcyk7XG4gICAgICAgIGxldCBqID0gTWF0aC5mbG9vcih5aW4gKyBzKTtcbiAgICAgICAgbGV0IHQgPSAoaSArIGopICogRzI7XG4gICAgICAgIGxldCBYMCA9IGkgLSB0OyAvLyBVbnNrZXcgdGhlIGNlbGwgb3JpZ2luIGJhY2sgdG8gKHgseSkgc3BhY2VcbiAgICAgICAgbGV0IFkwID0gaiAtIHQ7XG4gICAgICAgIGxldCB4MCA9IHhpbiAtIFgwOyAvLyBUaGUgeCx5IGRpc3RhbmNlcyBmcm9tIHRoZSBjZWxsIG9yaWdpblxuICAgICAgICBsZXQgeTAgPSB5aW4gLSBZMDtcbiAgICAgICAgLy8gRm9yIHRoZSAyRCBjYXNlLCB0aGUgc2ltcGxleCBzaGFwZSBpcyBhbiBlcXVpbGF0ZXJhbCB0cmlhbmdsZS5cbiAgICAgICAgLy8gRGV0ZXJtaW5lIHdoaWNoIHNpbXBsZXggd2UgYXJlIGluLlxuICAgICAgICBsZXQgaTEsIGoxOyAvLyBPZmZzZXRzIGZvciBzZWNvbmQgKG1pZGRsZSkgY29ybmVyIG9mIHNpbXBsZXggaW4gKGksaikgY29vcmRzXG4gICAgICAgIGlmICh4MCA+IHkwKSB7XG4gICAgICAgICAgICBpMSA9IDE7XG4gICAgICAgICAgICBqMSA9IDA7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7IC8vIGxvd2VyIHRyaWFuZ2xlLCBYWSBvcmRlcjogKDAsMCktPigxLDApLT4oMSwxKVxuICAgICAgICAgICAgaTEgPSAwO1xuICAgICAgICAgICAgajEgPSAxO1xuICAgICAgICB9IC8vIHVwcGVyIHRyaWFuZ2xlLCBZWCBvcmRlcjogKDAsMCktPigwLDEpLT4oMSwxKVxuICAgICAgICAvLyBBIHN0ZXAgb2YgKDEsMCkgaW4gKGksaikgbWVhbnMgYSBzdGVwIG9mICgxLWMsLWMpIGluICh4LHkpLCBhbmRcbiAgICAgICAgLy8gYSBzdGVwIG9mICgwLDEpIGluIChpLGopIG1lYW5zIGEgc3RlcCBvZiAoLWMsMS1jKSBpbiAoeCx5KSwgd2hlcmVcbiAgICAgICAgLy8gYyA9ICgzLXNxcnQoMykpLzZcbiAgICAgICAgbGV0IHgxID0geDAgLSBpMSArIEcyOyAvLyBPZmZzZXRzIGZvciBtaWRkbGUgY29ybmVyIGluICh4LHkpIHVuc2tld2VkIGNvb3Jkc1xuICAgICAgICBsZXQgeTEgPSB5MCAtIGoxICsgRzI7XG4gICAgICAgIGxldCB4MiA9IHgwIC0gMSArIDIgKiBHMjsgLy8gT2Zmc2V0cyBmb3IgbGFzdCBjb3JuZXIgaW4gKHgseSkgdW5za2V3ZWQgY29vcmRzXG4gICAgICAgIGxldCB5MiA9IHkwIC0gMSArIDIgKiBHMjtcbiAgICAgICAgLy8gV29yayBvdXQgdGhlIGhhc2hlZCBncmFkaWVudCBpbmRpY2VzIG9mIHRoZSB0aHJlZSBzaW1wbGV4IGNvcm5lcnNcbiAgICAgICAgbGV0IGlpID0gbW9kKGksIGNvdW50KTtcbiAgICAgICAgbGV0IGpqID0gbW9kKGosIGNvdW50KTtcbiAgICAgICAgLy8gQ2FsY3VsYXRlIHRoZSBjb250cmlidXRpb24gZnJvbSB0aGUgdGhyZWUgY29ybmVyc1xuICAgICAgICBsZXQgdDAgPSAwLjUgLSB4MCAqIHgwIC0geTAgKiB5MDtcbiAgICAgICAgaWYgKHQwID49IDApIHtcbiAgICAgICAgICAgIHQwICo9IHQwO1xuICAgICAgICAgICAgZ2kgPSBpbmRleGVzW2lpICsgcGVybXNbampdXTtcbiAgICAgICAgICAgIGxldCBncmFkID0gdGhpcy5fZ3JhZGllbnRzW2dpXTtcbiAgICAgICAgICAgIG4wID0gdDAgKiB0MCAqIChncmFkWzBdICogeDAgKyBncmFkWzFdICogeTApO1xuICAgICAgICB9XG4gICAgICAgIGxldCB0MSA9IDAuNSAtIHgxICogeDEgLSB5MSAqIHkxO1xuICAgICAgICBpZiAodDEgPj0gMCkge1xuICAgICAgICAgICAgdDEgKj0gdDE7XG4gICAgICAgICAgICBnaSA9IGluZGV4ZXNbaWkgKyBpMSArIHBlcm1zW2pqICsgajFdXTtcbiAgICAgICAgICAgIGxldCBncmFkID0gdGhpcy5fZ3JhZGllbnRzW2dpXTtcbiAgICAgICAgICAgIG4xID0gdDEgKiB0MSAqIChncmFkWzBdICogeDEgKyBncmFkWzFdICogeTEpO1xuICAgICAgICB9XG4gICAgICAgIGxldCB0MiA9IDAuNSAtIHgyICogeDIgLSB5MiAqIHkyO1xuICAgICAgICBpZiAodDIgPj0gMCkge1xuICAgICAgICAgICAgdDIgKj0gdDI7XG4gICAgICAgICAgICBnaSA9IGluZGV4ZXNbaWkgKyAxICsgcGVybXNbamogKyAxXV07XG4gICAgICAgICAgICBsZXQgZ3JhZCA9IHRoaXMuX2dyYWRpZW50c1tnaV07XG4gICAgICAgICAgICBuMiA9IHQyICogdDIgKiAoZ3JhZFswXSAqIHgyICsgZ3JhZFsxXSAqIHkyKTtcbiAgICAgICAgfVxuICAgICAgICAvLyBBZGQgY29udHJpYnV0aW9ucyBmcm9tIGVhY2ggY29ybmVyIHRvIGdldCB0aGUgZmluYWwgbm9pc2UgdmFsdWUuXG4gICAgICAgIC8vIFRoZSByZXN1bHQgaXMgc2NhbGVkIHRvIHJldHVybiB2YWx1ZXMgaW4gdGhlIGludGVydmFsIFstMSwxXS5cbiAgICAgICAgcmV0dXJuIDcwICogKG4wICsgbjEgKyBuMik7XG4gICAgfVxufVxuIiwiaW1wb3J0IFNpbXBsZXggZnJvbSBcIi4vc2ltcGxleC5qc1wiO1xuZXhwb3J0IGRlZmF1bHQgeyBTaW1wbGV4IH07XG4iLCJpbXBvcnQgeyBESVJTIH0gZnJvbSBcIi4uL2NvbnN0YW50cy5qc1wiO1xuLyoqXG4gKiBAY2xhc3MgQWJzdHJhY3QgcGF0aGZpbmRlclxuICogQHBhcmFtIHtpbnR9IHRvWCBUYXJnZXQgWCBjb29yZFxuICogQHBhcmFtIHtpbnR9IHRvWSBUYXJnZXQgWSBjb29yZFxuICogQHBhcmFtIHtmdW5jdGlvbn0gcGFzc2FibGVDYWxsYmFjayBDYWxsYmFjayB0byBkZXRlcm1pbmUgbWFwIHBhc3NhYmlsaXR5XG4gKiBAcGFyYW0ge29iamVjdH0gW29wdGlvbnNdXG4gKiBAcGFyYW0ge2ludH0gW29wdGlvbnMudG9wb2xvZ3k9OF1cbiAqL1xuZXhwb3J0IGRlZmF1bHQgY2xhc3MgUGF0aCB7XG4gICAgY29uc3RydWN0b3IodG9YLCB0b1ksIHBhc3NhYmxlQ2FsbGJhY2ssIG9wdGlvbnMgPSB7fSkge1xuICAgICAgICB0aGlzLl90b1ggPSB0b1g7XG4gICAgICAgIHRoaXMuX3RvWSA9IHRvWTtcbiAgICAgICAgdGhpcy5fcGFzc2FibGVDYWxsYmFjayA9IHBhc3NhYmxlQ2FsbGJhY2s7XG4gICAgICAgIHRoaXMuX29wdGlvbnMgPSBPYmplY3QuYXNzaWduKHtcbiAgICAgICAgICAgIHRvcG9sb2d5OiA4XG4gICAgICAgIH0sIG9wdGlvbnMpO1xuICAgICAgICB0aGlzLl9kaXJzID0gRElSU1t0aGlzLl9vcHRpb25zLnRvcG9sb2d5XTtcbiAgICAgICAgaWYgKHRoaXMuX29wdGlvbnMudG9wb2xvZ3kgPT0gOCkgeyAvKiByZW9yZGVyIGRpcnMgZm9yIG1vcmUgYWVzdGhldGljIHJlc3VsdCAodmVydGljYWwvaG9yaXpvbnRhbCBmaXJzdCkgKi9cbiAgICAgICAgICAgIHRoaXMuX2RpcnMgPSBbXG4gICAgICAgICAgICAgICAgdGhpcy5fZGlyc1swXSxcbiAgICAgICAgICAgICAgICB0aGlzLl9kaXJzWzJdLFxuICAgICAgICAgICAgICAgIHRoaXMuX2RpcnNbNF0sXG4gICAgICAgICAgICAgICAgdGhpcy5fZGlyc1s2XSxcbiAgICAgICAgICAgICAgICB0aGlzLl9kaXJzWzFdLFxuICAgICAgICAgICAgICAgIHRoaXMuX2RpcnNbM10sXG4gICAgICAgICAgICAgICAgdGhpcy5fZGlyc1s1XSxcbiAgICAgICAgICAgICAgICB0aGlzLl9kaXJzWzddXG4gICAgICAgICAgICBdO1xuICAgICAgICB9XG4gICAgfVxuICAgIF9nZXROZWlnaGJvcnMoY3gsIGN5KSB7XG4gICAgICAgIGxldCByZXN1bHQgPSBbXTtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLl9kaXJzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBsZXQgZGlyID0gdGhpcy5fZGlyc1tpXTtcbiAgICAgICAgICAgIGxldCB4ID0gY3ggKyBkaXJbMF07XG4gICAgICAgICAgICBsZXQgeSA9IGN5ICsgZGlyWzFdO1xuICAgICAgICAgICAgaWYgKCF0aGlzLl9wYXNzYWJsZUNhbGxiYWNrKHgsIHkpKSB7XG4gICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXN1bHQucHVzaChbeCwgeV0pO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxufVxuIiwiaW1wb3J0IERpamtzdHJhIGZyb20gXCIuL2RpamtzdHJhLmpzXCI7XG5pbXBvcnQgQVN0YXIgZnJvbSBcIi4vYXN0YXIuanNcIjtcbmV4cG9ydCBkZWZhdWx0IHsgRGlqa3N0cmEsIEFTdGFyIH07XG4iLCJpbXBvcnQgUGF0aCBmcm9tIFwiLi9wYXRoLmpzXCI7XG4vKipcbiAqIEBjbGFzcyBTaW1wbGlmaWVkIERpamtzdHJhJ3MgYWxnb3JpdGhtOiBhbGwgZWRnZXMgaGF2ZSBhIHZhbHVlIG9mIDFcbiAqIEBhdWdtZW50cyBST1QuUGF0aFxuICogQHNlZSBST1QuUGF0aFxuICovXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBEaWprc3RyYSBleHRlbmRzIFBhdGgge1xuICAgIGNvbnN0cnVjdG9yKHRvWCwgdG9ZLCBwYXNzYWJsZUNhbGxiYWNrLCBvcHRpb25zKSB7XG4gICAgICAgIHN1cGVyKHRvWCwgdG9ZLCBwYXNzYWJsZUNhbGxiYWNrLCBvcHRpb25zKTtcbiAgICAgICAgdGhpcy5fY29tcHV0ZWQgPSB7fTtcbiAgICAgICAgdGhpcy5fdG9kbyA9IFtdO1xuICAgICAgICB0aGlzLl9hZGQodG9YLCB0b1ksIG51bGwpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBDb21wdXRlIGEgcGF0aCBmcm9tIGEgZ2l2ZW4gcG9pbnRcbiAgICAgKiBAc2VlIFJPVC5QYXRoI2NvbXB1dGVcbiAgICAgKi9cbiAgICBjb21wdXRlKGZyb21YLCBmcm9tWSwgY2FsbGJhY2spIHtcbiAgICAgICAgbGV0IGtleSA9IGZyb21YICsgXCIsXCIgKyBmcm9tWTtcbiAgICAgICAgaWYgKCEoa2V5IGluIHRoaXMuX2NvbXB1dGVkKSkge1xuICAgICAgICAgICAgdGhpcy5fY29tcHV0ZShmcm9tWCwgZnJvbVkpO1xuICAgICAgICB9XG4gICAgICAgIGlmICghKGtleSBpbiB0aGlzLl9jb21wdXRlZCkpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBsZXQgaXRlbSA9IHRoaXMuX2NvbXB1dGVkW2tleV07XG4gICAgICAgIHdoaWxlIChpdGVtKSB7XG4gICAgICAgICAgICBjYWxsYmFjayhpdGVtLngsIGl0ZW0ueSk7XG4gICAgICAgICAgICBpdGVtID0gaXRlbS5wcmV2O1xuICAgICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENvbXB1dGUgYSBub24tY2FjaGVkIHZhbHVlXG4gICAgICovXG4gICAgX2NvbXB1dGUoZnJvbVgsIGZyb21ZKSB7XG4gICAgICAgIHdoaWxlICh0aGlzLl90b2RvLmxlbmd0aCkge1xuICAgICAgICAgICAgbGV0IGl0ZW0gPSB0aGlzLl90b2RvLnNoaWZ0KCk7XG4gICAgICAgICAgICBpZiAoaXRlbS54ID09IGZyb21YICYmIGl0ZW0ueSA9PSBmcm9tWSkge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGxldCBuZWlnaGJvcnMgPSB0aGlzLl9nZXROZWlnaGJvcnMoaXRlbS54LCBpdGVtLnkpO1xuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBuZWlnaGJvcnMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICBsZXQgbmVpZ2hib3IgPSBuZWlnaGJvcnNbaV07XG4gICAgICAgICAgICAgICAgbGV0IHggPSBuZWlnaGJvclswXTtcbiAgICAgICAgICAgICAgICBsZXQgeSA9IG5laWdoYm9yWzFdO1xuICAgICAgICAgICAgICAgIGxldCBpZCA9IHggKyBcIixcIiArIHk7XG4gICAgICAgICAgICAgICAgaWYgKGlkIGluIHRoaXMuX2NvbXB1dGVkKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIH0gLyogYWxyZWFkeSBkb25lICovXG4gICAgICAgICAgICAgICAgdGhpcy5fYWRkKHgsIHksIGl0ZW0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIF9hZGQoeCwgeSwgcHJldikge1xuICAgICAgICBsZXQgb2JqID0ge1xuICAgICAgICAgICAgeDogeCxcbiAgICAgICAgICAgIHk6IHksXG4gICAgICAgICAgICBwcmV2OiBwcmV2XG4gICAgICAgIH07XG4gICAgICAgIHRoaXMuX2NvbXB1dGVkW3ggKyBcIixcIiArIHldID0gb2JqO1xuICAgICAgICB0aGlzLl90b2RvLnB1c2gob2JqKTtcbiAgICB9XG59XG4iLCJpbXBvcnQgUGF0aCBmcm9tIFwiLi9wYXRoLmpzXCI7XG4vKipcbiAqIEBjbGFzcyBTaW1wbGlmaWVkIEEqIGFsZ29yaXRobTogYWxsIGVkZ2VzIGhhdmUgYSB2YWx1ZSBvZiAxXG4gKiBAYXVnbWVudHMgUk9ULlBhdGhcbiAqIEBzZWUgUk9ULlBhdGhcbiAqL1xuZXhwb3J0IGRlZmF1bHQgY2xhc3MgQVN0YXIgZXh0ZW5kcyBQYXRoIHtcbiAgICBjb25zdHJ1Y3Rvcih0b1gsIHRvWSwgcGFzc2FibGVDYWxsYmFjaywgb3B0aW9ucyA9IHt9KSB7XG4gICAgICAgIHN1cGVyKHRvWCwgdG9ZLCBwYXNzYWJsZUNhbGxiYWNrLCBvcHRpb25zKTtcbiAgICAgICAgdGhpcy5fdG9kbyA9IFtdO1xuICAgICAgICB0aGlzLl9kb25lID0ge307XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENvbXB1dGUgYSBwYXRoIGZyb20gYSBnaXZlbiBwb2ludFxuICAgICAqIEBzZWUgUk9ULlBhdGgjY29tcHV0ZVxuICAgICAqL1xuICAgIGNvbXB1dGUoZnJvbVgsIGZyb21ZLCBjYWxsYmFjaykge1xuICAgICAgICB0aGlzLl90b2RvID0gW107XG4gICAgICAgIHRoaXMuX2RvbmUgPSB7fTtcbiAgICAgICAgdGhpcy5fZnJvbVggPSBmcm9tWDtcbiAgICAgICAgdGhpcy5fZnJvbVkgPSBmcm9tWTtcbiAgICAgICAgdGhpcy5fYWRkKHRoaXMuX3RvWCwgdGhpcy5fdG9ZLCBudWxsKTtcbiAgICAgICAgd2hpbGUgKHRoaXMuX3RvZG8ubGVuZ3RoKSB7XG4gICAgICAgICAgICBsZXQgaXRlbSA9IHRoaXMuX3RvZG8uc2hpZnQoKTtcbiAgICAgICAgICAgIGxldCBpZCA9IGl0ZW0ueCArIFwiLFwiICsgaXRlbS55O1xuICAgICAgICAgICAgaWYgKGlkIGluIHRoaXMuX2RvbmUpIHtcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMuX2RvbmVbaWRdID0gaXRlbTtcbiAgICAgICAgICAgIGlmIChpdGVtLnggPT0gZnJvbVggJiYgaXRlbS55ID09IGZyb21ZKSB7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBsZXQgbmVpZ2hib3JzID0gdGhpcy5fZ2V0TmVpZ2hib3JzKGl0ZW0ueCwgaXRlbS55KTtcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbmVpZ2hib3JzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgbGV0IG5laWdoYm9yID0gbmVpZ2hib3JzW2ldO1xuICAgICAgICAgICAgICAgIGxldCB4ID0gbmVpZ2hib3JbMF07XG4gICAgICAgICAgICAgICAgbGV0IHkgPSBuZWlnaGJvclsxXTtcbiAgICAgICAgICAgICAgICBsZXQgaWQgPSB4ICsgXCIsXCIgKyB5O1xuICAgICAgICAgICAgICAgIGlmIChpZCBpbiB0aGlzLl9kb25lKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB0aGlzLl9hZGQoeCwgeSwgaXRlbSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgbGV0IGl0ZW0gPSB0aGlzLl9kb25lW2Zyb21YICsgXCIsXCIgKyBmcm9tWV07XG4gICAgICAgIGlmICghaXRlbSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHdoaWxlIChpdGVtKSB7XG4gICAgICAgICAgICBjYWxsYmFjayhpdGVtLngsIGl0ZW0ueSk7XG4gICAgICAgICAgICBpdGVtID0gaXRlbS5wcmV2O1xuICAgICAgICB9XG4gICAgfVxuICAgIF9hZGQoeCwgeSwgcHJldikge1xuICAgICAgICBsZXQgaCA9IHRoaXMuX2Rpc3RhbmNlKHgsIHkpO1xuICAgICAgICBsZXQgb2JqID0ge1xuICAgICAgICAgICAgeDogeCxcbiAgICAgICAgICAgIHk6IHksXG4gICAgICAgICAgICBwcmV2OiBwcmV2LFxuICAgICAgICAgICAgZzogKHByZXYgPyBwcmV2LmcgKyAxIDogMCksXG4gICAgICAgICAgICBoOiBoXG4gICAgICAgIH07XG4gICAgICAgIC8qIGluc2VydCBpbnRvIHByaW9yaXR5IHF1ZXVlICovXG4gICAgICAgIGxldCBmID0gb2JqLmcgKyBvYmouaDtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLl90b2RvLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBsZXQgaXRlbSA9IHRoaXMuX3RvZG9baV07XG4gICAgICAgICAgICBsZXQgaXRlbUYgPSBpdGVtLmcgKyBpdGVtLmg7XG4gICAgICAgICAgICBpZiAoZiA8IGl0ZW1GIHx8IChmID09IGl0ZW1GICYmIGggPCBpdGVtLmgpKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fdG9kby5zcGxpY2UoaSwgMCwgb2JqKTtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fdG9kby5wdXNoKG9iaik7XG4gICAgfVxuICAgIF9kaXN0YW5jZSh4LCB5KSB7XG4gICAgICAgIHN3aXRjaCAodGhpcy5fb3B0aW9ucy50b3BvbG9neSkge1xuICAgICAgICAgICAgY2FzZSA0OlxuICAgICAgICAgICAgICAgIHJldHVybiAoTWF0aC5hYnMoeCAtIHRoaXMuX2Zyb21YKSArIE1hdGguYWJzKHkgLSB0aGlzLl9mcm9tWSkpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSA2OlxuICAgICAgICAgICAgICAgIGxldCBkeCA9IE1hdGguYWJzKHggLSB0aGlzLl9mcm9tWCk7XG4gICAgICAgICAgICAgICAgbGV0IGR5ID0gTWF0aC5hYnMoeSAtIHRoaXMuX2Zyb21ZKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gZHkgKyBNYXRoLm1heCgwLCAoZHggLSBkeSkgLyAyKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgODpcbiAgICAgICAgICAgICAgICByZXR1cm4gTWF0aC5tYXgoTWF0aC5hYnMoeCAtIHRoaXMuX2Zyb21YKSwgTWF0aC5hYnMoeSAtIHRoaXMuX2Zyb21ZKSk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICB9XG59XG4iLCIvKipcbiAqIEBjbGFzcyBBc3luY2hyb25vdXMgbWFpbiBsb29wXG4gKiBAcGFyYW0ge1JPVC5TY2hlZHVsZXJ9IHNjaGVkdWxlclxuICovXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBFbmdpbmUge1xuICAgIGNvbnN0cnVjdG9yKHNjaGVkdWxlcikge1xuICAgICAgICB0aGlzLl9zY2hlZHVsZXIgPSBzY2hlZHVsZXI7XG4gICAgICAgIHRoaXMuX2xvY2sgPSAxO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBTdGFydCB0aGUgbWFpbiBsb29wLiBXaGVuIHRoaXMgY2FsbCByZXR1cm5zLCB0aGUgbG9vcCBpcyBsb2NrZWQuXG4gICAgICovXG4gICAgc3RhcnQoKSB7IHJldHVybiB0aGlzLnVubG9jaygpOyB9XG4gICAgLyoqXG4gICAgICogSW50ZXJydXB0IHRoZSBlbmdpbmUgYnkgYW4gYXN5bmNocm9ub3VzIGFjdGlvblxuICAgICAqL1xuICAgIGxvY2soKSB7XG4gICAgICAgIHRoaXMuX2xvY2srKztcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJlc3VtZSBleGVjdXRpb24gKHBhdXNlZCBieSBhIHByZXZpb3VzIGxvY2spXG4gICAgICovXG4gICAgdW5sb2NrKCkge1xuICAgICAgICBpZiAoIXRoaXMuX2xvY2spIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIkNhbm5vdCB1bmxvY2sgdW5sb2NrZWQgZW5naW5lXCIpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuX2xvY2stLTtcbiAgICAgICAgd2hpbGUgKCF0aGlzLl9sb2NrKSB7XG4gICAgICAgICAgICBsZXQgYWN0b3IgPSB0aGlzLl9zY2hlZHVsZXIubmV4dCgpO1xuICAgICAgICAgICAgaWYgKCFhY3Rvcikge1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmxvY2soKTtcbiAgICAgICAgICAgIH0gLyogbm8gYWN0b3JzICovXG4gICAgICAgICAgICBsZXQgcmVzdWx0ID0gYWN0b3IuYWN0KCk7XG4gICAgICAgICAgICBpZiAocmVzdWx0ICYmIHJlc3VsdC50aGVuKSB7IC8qIGFjdG9yIHJldHVybmVkIGEgXCJ0aGVuYWJsZVwiLCBsb29rcyBsaWtlIGEgUHJvbWlzZSAqL1xuICAgICAgICAgICAgICAgIHRoaXMubG9jaygpO1xuICAgICAgICAgICAgICAgIHJlc3VsdC50aGVuKHRoaXMudW5sb2NrLmJpbmQodGhpcykpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbn1cbiIsImltcG9ydCAqIGFzIENvbG9yIGZyb20gXCIuL2NvbG9yLmpzXCI7XG47XG47XG47XG47XG4vKipcbiAqIExpZ2h0aW5nIGNvbXB1dGF0aW9uLCBiYXNlZCBvbiBhIHRyYWRpdGlvbmFsIEZPViBmb3IgbXVsdGlwbGUgbGlnaHQgc291cmNlcyBhbmQgbXVsdGlwbGUgcGFzc2VzLlxuICovXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBMaWdodGluZyB7XG4gICAgY29uc3RydWN0b3IocmVmbGVjdGl2aXR5Q2FsbGJhY2ssIG9wdGlvbnMgPSB7fSkge1xuICAgICAgICB0aGlzLl9yZWZsZWN0aXZpdHlDYWxsYmFjayA9IHJlZmxlY3Rpdml0eUNhbGxiYWNrO1xuICAgICAgICB0aGlzLl9vcHRpb25zID0ge307XG4gICAgICAgIG9wdGlvbnMgPSBPYmplY3QuYXNzaWduKHtcbiAgICAgICAgICAgIHBhc3NlczogMSxcbiAgICAgICAgICAgIGVtaXNzaW9uVGhyZXNob2xkOiAxMDAsXG4gICAgICAgICAgICByYW5nZTogMTBcbiAgICAgICAgfSwgb3B0aW9ucyk7XG4gICAgICAgIHRoaXMuX2xpZ2h0cyA9IHt9O1xuICAgICAgICB0aGlzLl9yZWZsZWN0aXZpdHlDYWNoZSA9IHt9O1xuICAgICAgICB0aGlzLl9mb3ZDYWNoZSA9IHt9O1xuICAgICAgICB0aGlzLnNldE9wdGlvbnMob3B0aW9ucyk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEFkanVzdCBvcHRpb25zIGF0IHJ1bnRpbWVcbiAgICAgKi9cbiAgICBzZXRPcHRpb25zKG9wdGlvbnMpIHtcbiAgICAgICAgT2JqZWN0LmFzc2lnbih0aGlzLl9vcHRpb25zLCBvcHRpb25zKTtcbiAgICAgICAgaWYgKG9wdGlvbnMgJiYgb3B0aW9ucy5yYW5nZSkge1xuICAgICAgICAgICAgdGhpcy5yZXNldCgpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBTZXQgdGhlIHVzZWQgRmllbGQtT2YtVmlldyBhbGdvXG4gICAgICovXG4gICAgc2V0Rk9WKGZvdikge1xuICAgICAgICB0aGlzLl9mb3YgPSBmb3Y7XG4gICAgICAgIHRoaXMuX2ZvdkNhY2hlID0ge307XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBTZXQgKG9yIHJlbW92ZSkgYSBsaWdodCBzb3VyY2VcbiAgICAgKi9cbiAgICBzZXRMaWdodCh4LCB5LCBjb2xvcikge1xuICAgICAgICBsZXQga2V5ID0geCArIFwiLFwiICsgeTtcbiAgICAgICAgaWYgKGNvbG9yKSB7XG4gICAgICAgICAgICB0aGlzLl9saWdodHNba2V5XSA9ICh0eXBlb2YgKGNvbG9yKSA9PSBcInN0cmluZ1wiID8gQ29sb3IuZnJvbVN0cmluZyhjb2xvcikgOiBjb2xvcik7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBkZWxldGUgdGhpcy5fbGlnaHRzW2tleV07XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJlbW92ZSBhbGwgbGlnaHQgc291cmNlc1xuICAgICAqL1xuICAgIGNsZWFyTGlnaHRzKCkgeyB0aGlzLl9saWdodHMgPSB7fTsgfVxuICAgIC8qKlxuICAgICAqIFJlc2V0IHRoZSBwcmUtY29tcHV0ZWQgdG9wb2xvZ3kgdmFsdWVzLiBDYWxsIHdoZW5ldmVyIHRoZSB1bmRlcmx5aW5nIG1hcCBjaGFuZ2VzIGl0cyBsaWdodC1wYXNzYWJpbGl0eS5cbiAgICAgKi9cbiAgICByZXNldCgpIHtcbiAgICAgICAgdGhpcy5fcmVmbGVjdGl2aXR5Q2FjaGUgPSB7fTtcbiAgICAgICAgdGhpcy5fZm92Q2FjaGUgPSB7fTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENvbXB1dGUgdGhlIGxpZ2h0aW5nXG4gICAgICovXG4gICAgY29tcHV0ZShsaWdodGluZ0NhbGxiYWNrKSB7XG4gICAgICAgIGxldCBkb25lQ2VsbHMgPSB7fTtcbiAgICAgICAgbGV0IGVtaXR0aW5nQ2VsbHMgPSB7fTtcbiAgICAgICAgbGV0IGxpdENlbGxzID0ge307XG4gICAgICAgIGZvciAobGV0IGtleSBpbiB0aGlzLl9saWdodHMpIHsgLyogcHJlcGFyZSBlbWl0dGVycyBmb3IgZmlyc3QgcGFzcyAqL1xuICAgICAgICAgICAgbGV0IGxpZ2h0ID0gdGhpcy5fbGlnaHRzW2tleV07XG4gICAgICAgICAgICBlbWl0dGluZ0NlbGxzW2tleV0gPSBbMCwgMCwgMF07XG4gICAgICAgICAgICBDb2xvci5hZGRfKGVtaXR0aW5nQ2VsbHNba2V5XSwgbGlnaHQpO1xuICAgICAgICB9XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5fb3B0aW9ucy5wYXNzZXM7IGkrKykgeyAvKiBtYWluIGxvb3AgKi9cbiAgICAgICAgICAgIHRoaXMuX2VtaXRMaWdodChlbWl0dGluZ0NlbGxzLCBsaXRDZWxscywgZG9uZUNlbGxzKTtcbiAgICAgICAgICAgIGlmIChpICsgMSA9PSB0aGlzLl9vcHRpb25zLnBhc3Nlcykge1xuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfSAvKiBub3QgZm9yIHRoZSBsYXN0IHBhc3MgKi9cbiAgICAgICAgICAgIGVtaXR0aW5nQ2VsbHMgPSB0aGlzLl9jb21wdXRlRW1pdHRlcnMobGl0Q2VsbHMsIGRvbmVDZWxscyk7XG4gICAgICAgIH1cbiAgICAgICAgZm9yIChsZXQgbGl0S2V5IGluIGxpdENlbGxzKSB7IC8qIGxldCB0aGUgdXNlciBrbm93IHdoYXQgYW5kIGhvdyBpcyBsaXQgKi9cbiAgICAgICAgICAgIGxldCBwYXJ0cyA9IGxpdEtleS5zcGxpdChcIixcIik7XG4gICAgICAgICAgICBsZXQgeCA9IHBhcnNlSW50KHBhcnRzWzBdKTtcbiAgICAgICAgICAgIGxldCB5ID0gcGFyc2VJbnQocGFydHNbMV0pO1xuICAgICAgICAgICAgbGlnaHRpbmdDYWxsYmFjayh4LCB5LCBsaXRDZWxsc1tsaXRLZXldKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgLyoqXG4gICAgICogQ29tcHV0ZSBvbmUgaXRlcmF0aW9uIGZyb20gYWxsIGVtaXR0aW5nIGNlbGxzXG4gICAgICogQHBhcmFtIGVtaXR0aW5nQ2VsbHMgVGhlc2UgZW1pdCBsaWdodFxuICAgICAqIEBwYXJhbSBsaXRDZWxscyBBZGQgcHJvamVjdGVkIGxpZ2h0IHRvIHRoZXNlXG4gICAgICogQHBhcmFtIGRvbmVDZWxscyBUaGVzZSBhbHJlYWR5IGVtaXR0ZWQsIGZvcmJpZCB0aGVtIGZyb20gZnVydGhlciBjYWxjdWxhdGlvbnNcbiAgICAgKi9cbiAgICBfZW1pdExpZ2h0KGVtaXR0aW5nQ2VsbHMsIGxpdENlbGxzLCBkb25lQ2VsbHMpIHtcbiAgICAgICAgZm9yIChsZXQga2V5IGluIGVtaXR0aW5nQ2VsbHMpIHtcbiAgICAgICAgICAgIGxldCBwYXJ0cyA9IGtleS5zcGxpdChcIixcIik7XG4gICAgICAgICAgICBsZXQgeCA9IHBhcnNlSW50KHBhcnRzWzBdKTtcbiAgICAgICAgICAgIGxldCB5ID0gcGFyc2VJbnQocGFydHNbMV0pO1xuICAgICAgICAgICAgdGhpcy5fZW1pdExpZ2h0RnJvbUNlbGwoeCwgeSwgZW1pdHRpbmdDZWxsc1trZXldLCBsaXRDZWxscyk7XG4gICAgICAgICAgICBkb25lQ2VsbHNba2V5XSA9IDE7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFByZXBhcmUgYSBsaXN0IG9mIGVtaXR0ZXJzIGZvciBuZXh0IHBhc3NcbiAgICAgKi9cbiAgICBfY29tcHV0ZUVtaXR0ZXJzKGxpdENlbGxzLCBkb25lQ2VsbHMpIHtcbiAgICAgICAgbGV0IHJlc3VsdCA9IHt9O1xuICAgICAgICBmb3IgKGxldCBrZXkgaW4gbGl0Q2VsbHMpIHtcbiAgICAgICAgICAgIGlmIChrZXkgaW4gZG9uZUNlbGxzKSB7XG4gICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB9IC8qIGFscmVhZHkgZW1pdHRlZCAqL1xuICAgICAgICAgICAgbGV0IGNvbG9yID0gbGl0Q2VsbHNba2V5XTtcbiAgICAgICAgICAgIGxldCByZWZsZWN0aXZpdHk7XG4gICAgICAgICAgICBpZiAoa2V5IGluIHRoaXMuX3JlZmxlY3Rpdml0eUNhY2hlKSB7XG4gICAgICAgICAgICAgICAgcmVmbGVjdGl2aXR5ID0gdGhpcy5fcmVmbGVjdGl2aXR5Q2FjaGVba2V5XTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGxldCBwYXJ0cyA9IGtleS5zcGxpdChcIixcIik7XG4gICAgICAgICAgICAgICAgbGV0IHggPSBwYXJzZUludChwYXJ0c1swXSk7XG4gICAgICAgICAgICAgICAgbGV0IHkgPSBwYXJzZUludChwYXJ0c1sxXSk7XG4gICAgICAgICAgICAgICAgcmVmbGVjdGl2aXR5ID0gdGhpcy5fcmVmbGVjdGl2aXR5Q2FsbGJhY2soeCwgeSk7XG4gICAgICAgICAgICAgICAgdGhpcy5fcmVmbGVjdGl2aXR5Q2FjaGVba2V5XSA9IHJlZmxlY3Rpdml0eTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChyZWZsZWN0aXZpdHkgPT0gMCkge1xuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfSAvKiB3aWxsIG5vdCByZWZsZWN0IGF0IGFsbCAqL1xuICAgICAgICAgICAgLyogY29tcHV0ZSBlbWlzc2lvbiBjb2xvciAqL1xuICAgICAgICAgICAgbGV0IGVtaXNzaW9uID0gWzAsIDAsIDBdO1xuICAgICAgICAgICAgbGV0IGludGVuc2l0eSA9IDA7XG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IDM7IGkrKykge1xuICAgICAgICAgICAgICAgIGxldCBwYXJ0ID0gTWF0aC5yb3VuZChjb2xvcltpXSAqIHJlZmxlY3Rpdml0eSk7XG4gICAgICAgICAgICAgICAgZW1pc3Npb25baV0gPSBwYXJ0O1xuICAgICAgICAgICAgICAgIGludGVuc2l0eSArPSBwYXJ0O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGludGVuc2l0eSA+IHRoaXMuX29wdGlvbnMuZW1pc3Npb25UaHJlc2hvbGQpIHtcbiAgICAgICAgICAgICAgICByZXN1bHRba2V5XSA9IGVtaXNzaW9uO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENvbXB1dGUgb25lIGl0ZXJhdGlvbiBmcm9tIG9uZSBjZWxsXG4gICAgICovXG4gICAgX2VtaXRMaWdodEZyb21DZWxsKHgsIHksIGNvbG9yLCBsaXRDZWxscykge1xuICAgICAgICBsZXQga2V5ID0geCArIFwiLFwiICsgeTtcbiAgICAgICAgbGV0IGZvdjtcbiAgICAgICAgaWYgKGtleSBpbiB0aGlzLl9mb3ZDYWNoZSkge1xuICAgICAgICAgICAgZm92ID0gdGhpcy5fZm92Q2FjaGVba2V5XTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGZvdiA9IHRoaXMuX3VwZGF0ZUZPVih4LCB5KTtcbiAgICAgICAgfVxuICAgICAgICBmb3IgKGxldCBmb3ZLZXkgaW4gZm92KSB7XG4gICAgICAgICAgICBsZXQgZm9ybUZhY3RvciA9IGZvdltmb3ZLZXldO1xuICAgICAgICAgICAgbGV0IHJlc3VsdDtcbiAgICAgICAgICAgIGlmIChmb3ZLZXkgaW4gbGl0Q2VsbHMpIHsgLyogYWxyZWFkeSBsaXQgKi9cbiAgICAgICAgICAgICAgICByZXN1bHQgPSBsaXRDZWxsc1tmb3ZLZXldO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7IC8qIG5ld2x5IGxpdCAqL1xuICAgICAgICAgICAgICAgIHJlc3VsdCA9IFswLCAwLCAwXTtcbiAgICAgICAgICAgICAgICBsaXRDZWxsc1tmb3ZLZXldID0gcmVzdWx0O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCAzOyBpKyspIHtcbiAgICAgICAgICAgICAgICByZXN1bHRbaV0gKz0gTWF0aC5yb3VuZChjb2xvcltpXSAqIGZvcm1GYWN0b3IpO1xuICAgICAgICAgICAgfSAvKiBhZGQgbGlnaHQgY29sb3IgKi9cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgLyoqXG4gICAgICogQ29tcHV0ZSBGT1YgKFwiZm9ybSBmYWN0b3JcIikgZm9yIGEgcG90ZW50aWFsIGxpZ2h0IHNvdXJjZSBhdCBbeCx5XVxuICAgICAqL1xuICAgIF91cGRhdGVGT1YoeCwgeSkge1xuICAgICAgICBsZXQga2V5MSA9IHggKyBcIixcIiArIHk7XG4gICAgICAgIGxldCBjYWNoZSA9IHt9O1xuICAgICAgICB0aGlzLl9mb3ZDYWNoZVtrZXkxXSA9IGNhY2hlO1xuICAgICAgICBsZXQgcmFuZ2UgPSB0aGlzLl9vcHRpb25zLnJhbmdlO1xuICAgICAgICBmdW5jdGlvbiBjYih4LCB5LCByLCB2aXMpIHtcbiAgICAgICAgICAgIGxldCBrZXkyID0geCArIFwiLFwiICsgeTtcbiAgICAgICAgICAgIGxldCBmb3JtRmFjdG9yID0gdmlzICogKDEgLSByIC8gcmFuZ2UpO1xuICAgICAgICAgICAgaWYgKGZvcm1GYWN0b3IgPT0gMCkge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhY2hlW2tleTJdID0gZm9ybUZhY3RvcjtcbiAgICAgICAgfVxuICAgICAgICA7XG4gICAgICAgIHRoaXMuX2Zvdi5jb21wdXRlKHgsIHksIHJhbmdlLCBjYi5iaW5kKHRoaXMpKTtcbiAgICAgICAgcmV0dXJuIGNhY2hlO1xuICAgIH1cbn1cbiIsImV4cG9ydCB7IGRlZmF1bHQgYXMgUk5HIH0gZnJvbSBcIi4vcm5nLmpzXCI7XG5leHBvcnQgeyBkZWZhdWx0IGFzIERpc3BsYXkgfSBmcm9tIFwiLi9kaXNwbGF5L2Rpc3BsYXkuanNcIjtcbmV4cG9ydCB7IGRlZmF1bHQgYXMgU3RyaW5nR2VuZXJhdG9yIH0gZnJvbSBcIi4vc3RyaW5nZ2VuZXJhdG9yLmpzXCI7XG5leHBvcnQgeyBkZWZhdWx0IGFzIEV2ZW50UXVldWUgfSBmcm9tIFwiLi9ldmVudHF1ZXVlLmpzXCI7XG5leHBvcnQgeyBkZWZhdWx0IGFzIFNjaGVkdWxlciB9IGZyb20gXCIuL3NjaGVkdWxlci9pbmRleC5qc1wiO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBGT1YgfSBmcm9tIFwiLi9mb3YvaW5kZXguanNcIjtcbmV4cG9ydCB7IGRlZmF1bHQgYXMgTWFwIH0gZnJvbSBcIi4vbWFwL2luZGV4LmpzXCI7XG5leHBvcnQgeyBkZWZhdWx0IGFzIE5vaXNlIH0gZnJvbSBcIi4vbm9pc2UvaW5kZXguanNcIjtcbmV4cG9ydCB7IGRlZmF1bHQgYXMgUGF0aCB9IGZyb20gXCIuL3BhdGgvaW5kZXguanNcIjtcbmV4cG9ydCB7IGRlZmF1bHQgYXMgRW5naW5lIH0gZnJvbSBcIi4vZW5naW5lLmpzXCI7XG5leHBvcnQgeyBkZWZhdWx0IGFzIExpZ2h0aW5nIH0gZnJvbSBcIi4vbGlnaHRpbmcuanNcIjtcbmV4cG9ydCB7IERFRkFVTFRfV0lEVEgsIERFRkFVTFRfSEVJR0hULCBESVJTLCBLRVlTIH0gZnJvbSBcIi4vY29uc3RhbnRzLmpzXCI7XG5pbXBvcnQgKiBhcyB1dGlsIGZyb20gXCIuL3V0aWwuanNcIjtcbmV4cG9ydCBjb25zdCBVdGlsID0gdXRpbDtcbmltcG9ydCAqIGFzIGNvbG9yIGZyb20gXCIuL2NvbG9yLmpzXCI7XG5leHBvcnQgY29uc3QgQ29sb3IgPSBjb2xvcjtcbmltcG9ydCAqIGFzIHRleHQgZnJvbSBcIi4vdGV4dC5qc1wiO1xuZXhwb3J0IGNvbnN0IFRleHQgPSB0ZXh0O1xuIiwiaW1wb3J0IEJhY2tlbmQgZnJvbSBcIi4vYmFja2VuZC5qc1wiO1xuaW1wb3J0ICogYXMgQ29sb3IgZnJvbSBcIi4uL2NvbG9yLmpzXCI7XG5mdW5jdGlvbiBjbGVhclRvQW5zaShiZykge1xuICAgIHJldHVybiBgXFx4MWJbMDs0ODs1OyR7dGVybWNvbG9yKGJnKX1tXFx4MWJbMkpgO1xufVxuZnVuY3Rpb24gY29sb3JUb0Fuc2koZmcsIGJnKSB7XG4gICAgcmV0dXJuIGBcXHgxYlswOzM4OzU7JHt0ZXJtY29sb3IoZmcpfTs0ODs1OyR7dGVybWNvbG9yKGJnKX1tYDtcbn1cbmZ1bmN0aW9uIHBvc2l0aW9uVG9BbnNpKHgsIHkpIHtcbiAgICByZXR1cm4gYFxceDFiWyR7eSArIDF9OyR7eCArIDF9SGA7XG59XG5mdW5jdGlvbiB0ZXJtY29sb3IoY29sb3IpIHtcbiAgICBjb25zdCBTUkNfQ09MT1JTID0gMjU2LjA7XG4gICAgY29uc3QgRFNUX0NPTE9SUyA9IDYuMDtcbiAgICBjb25zdCBDT0xPUl9SQVRJTyA9IERTVF9DT0xPUlMgLyBTUkNfQ09MT1JTO1xuICAgIGxldCByZ2IgPSBDb2xvci5mcm9tU3RyaW5nKGNvbG9yKTtcbiAgICBsZXQgciA9IE1hdGguZmxvb3IocmdiWzBdICogQ09MT1JfUkFUSU8pO1xuICAgIGxldCBnID0gTWF0aC5mbG9vcihyZ2JbMV0gKiBDT0xPUl9SQVRJTyk7XG4gICAgbGV0IGIgPSBNYXRoLmZsb29yKHJnYlsyXSAqIENPTE9SX1JBVElPKTtcbiAgICByZXR1cm4gciAqIDM2ICsgZyAqIDYgKyBiICogMSArIDE2O1xufVxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgVGVybSBleHRlbmRzIEJhY2tlbmQge1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICBzdXBlcigpO1xuICAgICAgICB0aGlzLl9vZmZzZXQgPSBbMCwgMF07XG4gICAgICAgIHRoaXMuX2N1cnNvciA9IFstMSwgLTFdO1xuICAgICAgICB0aGlzLl9sYXN0Q29sb3IgPSBcIlwiO1xuICAgIH1cbiAgICBzY2hlZHVsZShjYikgeyBzZXRUaW1lb3V0KGNiLCAxMDAwIC8gNjApOyB9XG4gICAgc2V0T3B0aW9ucyhvcHRpb25zKSB7XG4gICAgICAgIHN1cGVyLnNldE9wdGlvbnMob3B0aW9ucyk7XG4gICAgICAgIGxldCBzaXplID0gW29wdGlvbnMud2lkdGgsIG9wdGlvbnMuaGVpZ2h0XTtcbiAgICAgICAgbGV0IGF2YWlsID0gdGhpcy5jb21wdXRlU2l6ZSgpO1xuICAgICAgICB0aGlzLl9vZmZzZXQgPSBhdmFpbC5tYXAoKHZhbCwgaW5kZXgpID0+IE1hdGguZmxvb3IoKHZhbCAtIHNpemVbaW5kZXhdKSAvIDIpKTtcbiAgICB9XG4gICAgY2xlYXIoKSB7XG4gICAgICAgIHByb2Nlc3Muc3Rkb3V0LndyaXRlKGNsZWFyVG9BbnNpKHRoaXMuX29wdGlvbnMuYmcpKTtcbiAgICB9XG4gICAgZHJhdyhkYXRhLCBjbGVhckJlZm9yZSkge1xuICAgICAgICAvLyBkZXRlcm1pbmUgd2hlcmUgdG8gZHJhdyB3aGF0IHdpdGggd2hhdCBjb2xvcnNcbiAgICAgICAgbGV0IFt4LCB5LCBjaCwgZmcsIGJnXSA9IGRhdGE7XG4gICAgICAgIC8vIGRldGVybWluZSBpZiB3ZSBuZWVkIHRvIG1vdmUgdGhlIHRlcm1pbmFsIGN1cnNvclxuICAgICAgICBsZXQgZHggPSB0aGlzLl9vZmZzZXRbMF0gKyB4O1xuICAgICAgICBsZXQgZHkgPSB0aGlzLl9vZmZzZXRbMV0gKyB5O1xuICAgICAgICBsZXQgc2l6ZSA9IHRoaXMuY29tcHV0ZVNpemUoKTtcbiAgICAgICAgaWYgKGR4IDwgMCB8fCBkeCA+PSBzaXplWzBdKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGR5IDwgMCB8fCBkeSA+PSBzaXplWzFdKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGR4ICE9PSB0aGlzLl9jdXJzb3JbMF0gfHwgZHkgIT09IHRoaXMuX2N1cnNvclsxXSkge1xuICAgICAgICAgICAgcHJvY2Vzcy5zdGRvdXQud3JpdGUocG9zaXRpb25Ub0Fuc2koZHgsIGR5KSk7XG4gICAgICAgICAgICB0aGlzLl9jdXJzb3JbMF0gPSBkeDtcbiAgICAgICAgICAgIHRoaXMuX2N1cnNvclsxXSA9IGR5O1xuICAgICAgICB9XG4gICAgICAgIC8vIHRlcm1pbmFscyBhdXRvbWF0aWNhbGx5IGNsZWFyLCBidXQgaWYgd2UncmUgY2xlYXJpbmcgd2hlbiB3ZSdyZVxuICAgICAgICAvLyBub3Qgb3RoZXJ3aXNlIHByb3ZpZGVkIHdpdGggYSBjaGFyYWN0ZXIsIGp1c3QgdXNlIGEgc3BhY2UgaW5zdGVhZFxuICAgICAgICBpZiAoY2xlYXJCZWZvcmUpIHtcbiAgICAgICAgICAgIGlmICghY2gpIHtcbiAgICAgICAgICAgICAgICBjaCA9IFwiIFwiO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIC8vIGlmIHdlJ3JlIG5vdCBjbGVhcmluZyBhbmQgbm90IHByb3ZpZGVkIHdpdGggYSBjaGFyYWN0ZXIsIGRvIG5vdGhpbmdcbiAgICAgICAgaWYgKCFjaCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIC8vIGRldGVybWluZSBpZiB3ZSBuZWVkIHRvIGNoYW5nZSBjb2xvcnNcbiAgICAgICAgbGV0IG5ld0NvbG9yID0gY29sb3JUb0Fuc2koZmcsIGJnKTtcbiAgICAgICAgaWYgKG5ld0NvbG9yICE9PSB0aGlzLl9sYXN0Q29sb3IpIHtcbiAgICAgICAgICAgIHByb2Nlc3Muc3Rkb3V0LndyaXRlKG5ld0NvbG9yKTtcbiAgICAgICAgICAgIHRoaXMuX2xhc3RDb2xvciA9IG5ld0NvbG9yO1xuICAgICAgICB9XG4gICAgICAgIC8vIHdyaXRlIHRoZSBwcm92aWRlZCBzeW1ib2wgdG8gdGhlIGRpc3BsYXlcbiAgICAgICAgbGV0IGNoYXJzID0gW10uY29uY2F0KGNoKTtcbiAgICAgICAgcHJvY2Vzcy5zdGRvdXQud3JpdGUoY2hhcnNbMF0pO1xuICAgICAgICAvLyB1cGRhdGUgb3VyIHBvc2l0aW9uLCBnaXZlbiB0aGF0IHdlIHdyb3RlIGEgY2hhcmFjdGVyXG4gICAgICAgIHRoaXMuX2N1cnNvclswXSsrO1xuICAgICAgICBpZiAodGhpcy5fY3Vyc29yWzBdID49IHNpemVbMF0pIHtcbiAgICAgICAgICAgIHRoaXMuX2N1cnNvclswXSA9IDA7XG4gICAgICAgICAgICB0aGlzLl9jdXJzb3JbMV0rKztcbiAgICAgICAgfVxuICAgIH1cbiAgICBjb21wdXRlRm9udFNpemUoKSB7IHRocm93IG5ldyBFcnJvcihcIlRlcm1pbmFsIGJhY2tlbmQgaGFzIG5vIG5vdGlvbiBvZiBmb250IHNpemVcIik7IH1cbiAgICBldmVudFRvUG9zaXRpb24oeCwgeSkgeyByZXR1cm4gW3gsIHldOyB9XG4gICAgY29tcHV0ZVNpemUoKSB7IHJldHVybiBbcHJvY2Vzcy5zdGRvdXQuY29sdW1ucywgcHJvY2Vzcy5zdGRvdXQucm93c107IH1cbn1cbiIsInZhciBnO1xuXG4vLyBUaGlzIHdvcmtzIGluIG5vbi1zdHJpY3QgbW9kZVxuZyA9IChmdW5jdGlvbigpIHtcblx0cmV0dXJuIHRoaXM7XG59KSgpO1xuXG50cnkge1xuXHQvLyBUaGlzIHdvcmtzIGlmIGV2YWwgaXMgYWxsb3dlZCAoc2VlIENTUClcblx0ZyA9IGcgfHwgbmV3IEZ1bmN0aW9uKFwicmV0dXJuIHRoaXNcIikoKTtcbn0gY2F0Y2ggKGUpIHtcblx0Ly8gVGhpcyB3b3JrcyBpZiB0aGUgd2luZG93IHJlZmVyZW5jZSBpcyBhdmFpbGFibGVcblx0aWYgKHR5cGVvZiB3aW5kb3cgPT09IFwib2JqZWN0XCIpIGcgPSB3aW5kb3c7XG59XG5cbi8vIGcgY2FuIHN0aWxsIGJlIHVuZGVmaW5lZCwgYnV0IG5vdGhpbmcgdG8gZG8gYWJvdXQgaXQuLi5cbi8vIFdlIHJldHVybiB1bmRlZmluZWQsIGluc3RlYWQgb2Ygbm90aGluZyBoZXJlLCBzbyBpdCdzXG4vLyBlYXNpZXIgdG8gaGFuZGxlIHRoaXMgY2FzZS4gaWYoIWdsb2JhbCkgeyAuLi59XG5cbm1vZHVsZS5leHBvcnRzID0gZztcbiIsIlwidXNlIHN0cmljdFwiO1xyXG52YXIgX19pbXBvcnRTdGFyID0gKHRoaXMgJiYgdGhpcy5fX2ltcG9ydFN0YXIpIHx8IGZ1bmN0aW9uIChtb2QpIHtcclxuICAgIGlmIChtb2QgJiYgbW9kLl9fZXNNb2R1bGUpIHJldHVybiBtb2Q7XHJcbiAgICB2YXIgcmVzdWx0ID0ge307XHJcbiAgICBpZiAobW9kICE9IG51bGwpIGZvciAodmFyIGsgaW4gbW9kKSBpZiAoT2JqZWN0Lmhhc093blByb3BlcnR5LmNhbGwobW9kLCBrKSkgcmVzdWx0W2tdID0gbW9kW2tdO1xyXG4gICAgcmVzdWx0W1wiZGVmYXVsdFwiXSA9IG1vZDtcclxuICAgIHJldHVybiByZXN1bHQ7XHJcbn07XHJcbnZhciBfX2ltcG9ydERlZmF1bHQgPSAodGhpcyAmJiB0aGlzLl9faW1wb3J0RGVmYXVsdCkgfHwgZnVuY3Rpb24gKG1vZCkge1xyXG4gICAgcmV0dXJuIChtb2QgJiYgbW9kLl9fZXNNb2R1bGUpID8gbW9kIDogeyBcImRlZmF1bHRcIjogbW9kIH07XHJcbn07XHJcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcclxudmFyIENvbXBsZXhfMSA9IF9faW1wb3J0U3RhcihyZXF1aXJlKFwiLi9Db21wbGV4XCIpKTtcclxudmFyIE9wZXJhdG9yXzEgPSBfX2ltcG9ydERlZmF1bHQocmVxdWlyZShcIi4vT3BlcmF0b3JcIikpO1xyXG52YXIgRGltZW5zaW9uXzEgPSBfX2ltcG9ydERlZmF1bHQocmVxdWlyZShcIi4vRGltZW5zaW9uXCIpKTtcclxudmFyIENvbnN0YW50c18xID0gcmVxdWlyZShcIi4vQ29uc3RhbnRzXCIpO1xyXG52YXIgZGltUG9sID0gRGltZW5zaW9uXzEuZGVmYXVsdC5wb2xhcml6YXRpb24oKTtcclxudmFyIGRpbURpciA9IERpbWVuc2lvbl8xLmRlZmF1bHQuZGlyZWN0aW9uKCk7XHJcbnZhciBpZFBvbCA9IE9wZXJhdG9yXzEuZGVmYXVsdC5pZGVudGl0eShbZGltUG9sXSk7XHJcbnZhciBpZERpciA9IE9wZXJhdG9yXzEuZGVmYXVsdC5pZGVudGl0eShbZGltRGlyXSk7XHJcbnZhciBjb3MgPSBmdW5jdGlvbiAoYWxwaGEpIHsgcmV0dXJuIENvbXBsZXhfMS5DeChNYXRoLmNvcyhhbHBoYSksIDApOyB9O1xyXG52YXIgc2luID0gZnVuY3Rpb24gKGFscGhhKSB7IHJldHVybiBDb21wbGV4XzEuQ3goTWF0aC5zaW4oYWxwaGEpLCAwKTsgfTtcclxudmFyIG1vZCA9IGZ1bmN0aW9uICh4LCBuKSB7IHJldHVybiAoKHggJSBuKSArIG4pICUgbjsgfTtcclxuLy8gbm90IGFzIGZhc3QgYXMgdGhpcyBvbmU6IGh0dHBzOi8vZW4ud2lraXBlZGlhLm9yZy93aWtpL0Zhc3RfaW52ZXJzZV9zcXVhcmVfcm9vdFxyXG5leHBvcnRzLmlzcXJ0MiA9IENvbXBsZXhfMS5DeChNYXRoLlNRUlQxXzIpO1xyXG4vKipcclxuICogQSAyZCBtYXRyaXgsIGEgcm90YXRpb24gZm9yIGNvbXBsZXggbnVtYmVycy5cclxuICogQHBhcmFtIGFscGhhIEFuIGFuZ2xlLCBpbiByYWRpYW5zLCBpLmUuIGZyb20gdGhlIHJhbmdlIFswLCBUYXVdLlxyXG4gKiBAcGFyYW0gZGltZW5zaW9uIEEgZGltZW5zaW9uIG9mIHNpemUgMiwgZS5nLiBzcGluIG9yIHBvbGFyaXphdGlvbi5cclxuICovXHJcbmZ1bmN0aW9uIHJvdGF0aW9uTWF0cml4KGFscGhhLCBkaW1lbnNpb24pIHtcclxuICAgIHZhciBhcnJheSA9IFtbY29zKGFscGhhKSwgc2luKC1hbHBoYSldLCBbc2luKGFscGhhKSwgY29zKGFscGhhKV1dO1xyXG4gICAgcmV0dXJuIE9wZXJhdG9yXzEuZGVmYXVsdC5mcm9tQXJyYXkoYXJyYXksIFtkaW1lbnNpb25dKTtcclxufVxyXG5leHBvcnRzLnJvdGF0aW9uTWF0cml4ID0gcm90YXRpb25NYXRyaXg7XHJcbi8qKlxyXG4gKiAgQSAyZCBtYXRyaXgsIGEgcHJvamVjdGlvbiBmb3IgY29tcGxleCBudW1iZXJzLlxyXG4gKiBAcGFyYW0gYWxwaGEgQW4gYW5nbGUsIGluIHJhZGlhbnMsIGkuZS4gZnJvbSB0aGUgcmFuZ2UgWzAsIFRhdV0uXHJcbiAqIEBwYXJhbSBkaW1lbnNpb24gQSBkaW1lbnNpb24gb2Ygc2l6ZSAyLCBlLmcuIHNwaW4gb3IgcG9sYXJpemF0aW9uLlxyXG4gKi9cclxuZnVuY3Rpb24gcHJvamVjdGlvbk1hdHJpeChhbHBoYSwgZGltZW5zaW9uKSB7XHJcbiAgICB2YXIgYXJyYXkgPSBbXHJcbiAgICAgICAgW2NvcyhhbHBoYSkubXVsKGNvcyhhbHBoYSkpLCBjb3MoYWxwaGEpLm11bChzaW4oYWxwaGEpKV0sXHJcbiAgICAgICAgW2NvcyhhbHBoYSkubXVsKHNpbihhbHBoYSkpLCBzaW4oYWxwaGEpLm11bChzaW4oYWxwaGEpKV0sXHJcbiAgICBdO1xyXG4gICAgcmV0dXJuIE9wZXJhdG9yXzEuZGVmYXVsdC5mcm9tQXJyYXkoYXJyYXksIFtkaW1lbnNpb25dKTtcclxufVxyXG5leHBvcnRzLnByb2plY3Rpb25NYXRyaXggPSBwcm9qZWN0aW9uTWF0cml4O1xyXG4vKipcclxuICogIEEgMmQgbWF0cml4LCBwaGFzZSBzaGlmdCBiZXR3ZWVuIHByb2plY3Rpb25zLiBGb3IgcGhhc2UgcGxhdGUuXHJcbiAqIEBwYXJhbSBhbHBoYSBBbiBhbmdsZSwgaW4gcmFkaWFucywgaS5lLiBmcm9tIHRoZSByYW5nZSBbMCwgVGF1XS5cclxuICogQHBhcmFtIHBoYXNlIFBoYXNlIHNoaWZ0IGZvciBhbmdsZSBhcyBmb3IgdGhlIG1haW4gc3RhdGUsIFswLCAxXS5cclxuICogQHBhcmFtIHBoYXNlT3J0aG9nb25hbCBQaGFzZSBzaGlmdCBmb3IgZm9yIHRoZSBvcnRob2dvbmFsIHN0YXRlLCBbMCwgMV0uXHJcbiAqIEBwYXJhbSBkaW1lbnNpb24gQSBkaW1lbnNpb24gb2Ygc2l6ZSAyLCBlLmcuIHNwaW4gb3IgcG9sYXJpemF0aW9uLlxyXG4gKi9cclxuZnVuY3Rpb24gcGhhc2VTaGlmdEZvclJlYWxFaWdlbnZlY3RvcnMoYWxwaGEsIHBoYXNlLCBwaGFzZU9ydGhvZ29uYWwsIGRpbWVuc2lvbikge1xyXG4gICAgcmV0dXJuIE9wZXJhdG9yXzEuZGVmYXVsdC5hZGQoW1xyXG4gICAgICAgIHByb2plY3Rpb25NYXRyaXgoYWxwaGEsIGRpbWVuc2lvbikubXVsQ29uc3RhbnQoQ29tcGxleF8xLmRlZmF1bHQuZnJvbVBvbGFyKDEsIHBoYXNlICogQ29uc3RhbnRzXzEuVEFVKSksXHJcbiAgICAgICAgcHJvamVjdGlvbk1hdHJpeChhbHBoYSArIDAuMjUgKiBDb25zdGFudHNfMS5UQVUsIGRpbWVuc2lvbikubXVsQ29uc3RhbnQoQ29tcGxleF8xLmRlZmF1bHQuZnJvbVBvbGFyKDEsIHBoYXNlT3J0aG9nb25hbCAqIENvbnN0YW50c18xLlRBVSkpLFxyXG4gICAgXSk7XHJcbn1cclxuZXhwb3J0cy5waGFzZVNoaWZ0Rm9yUmVhbEVpZ2VudmVjdG9ycyA9IHBoYXNlU2hpZnRGb3JSZWFsRWlnZW52ZWN0b3JzO1xyXG4vKipcclxuICogUmVmbGVjdGlvbiBmcm9tIGFuIG9wdGljYWxseSBsaWdodGVyIG1hdGVyaWFsLlxyXG4gKiBOb3RlIHRoYXQgY2hhbmdlIGhvcnJpem9udGFsIGZyYW1lIG9mIHJlZmVyZW5jZS5cclxuICovXHJcbmZ1bmN0aW9uIHJlZmxlY3RQaGFzZUZyb21MaWdodGVyKCkge1xyXG4gICAgdmFyIGFycmF5ID0gW1tDb21wbGV4XzEuQ3goLTEpLCBDb21wbGV4XzEuQ3goMCldLCBbQ29tcGxleF8xLkN4KDApLCBDb21wbGV4XzEuQ3goMSldXTtcclxuICAgIHJldHVybiBPcGVyYXRvcl8xLmRlZmF1bHQuZnJvbUFycmF5KGFycmF5LCBbZGltUG9sXSwgW2RpbVBvbF0pO1xyXG59XHJcbmV4cG9ydHMucmVmbGVjdFBoYXNlRnJvbUxpZ2h0ZXIgPSByZWZsZWN0UGhhc2VGcm9tTGlnaHRlcjtcclxuLyoqXHJcbiAqIFJlZmxlY3Rpb24gZnJvbSBhbiBvcHRpY2FsbHkgZGVuc2VyIG1hdGVyaWFsLlxyXG4gKiBOb3RlIHRoYXQgY2hhbmdlIGhvcnJpem9udGFsIGZyYW1lIG9mIHJlZmVyZW5jZS5cclxuICovXHJcbmZ1bmN0aW9uIHJlZmxlY3RQaGFzZUZyb21EZW5zZXIoKSB7XHJcbiAgICB2YXIgYXJyYXkgPSBbW0NvbXBsZXhfMS5DeCgtMSksIENvbXBsZXhfMS5DeCgwKV0sIFtDb21wbGV4XzEuQ3goMCksIENvbXBsZXhfMS5DeCgxKV1dO1xyXG4gICAgcmV0dXJuIE9wZXJhdG9yXzEuZGVmYXVsdC5mcm9tQXJyYXkoYXJyYXksIFtkaW1Qb2xdLCBbZGltUG9sXSk7XHJcbn1cclxuZXhwb3J0cy5yZWZsZWN0UGhhc2VGcm9tRGVuc2VyID0gcmVmbGVjdFBoYXNlRnJvbURlbnNlcjtcclxuLyoqXHJcbiAqIEFuIG9tbmlkaXJlY3Rpb25hbCBvcGVyYXRvciBtdWx0aXBseWluZyBieSBhIGNvbXBsZXggbnVtYmVyLlxyXG4gKiBAcGFyYW0gciBBYnNvbHV0ZSB2YWx1ZSBvZiBhbXBsaXRpZGUgbXVsdGlwaWVyLiBFLmcuIE1hdGguU1FSVDFfMiBmb3JcclxuICogQHBhcmFtIHJvdCBQaGFzZSBtdWx0aXBsaWVyLCBpbiBUQVUgKGZyb20gcmFuZ2U6IFswLDFdKS5cclxuICovXHJcbmZ1bmN0aW9uIGFtcGxpdHVkZUludGVuc2l0eShyLCByb3QpIHtcclxuICAgIHJldHVybiBPcGVyYXRvcl8xLmRlZmF1bHQub3V0ZXIoW2lkRGlyLCBpZFBvbF0pLm11bENvbnN0YW50KENvbXBsZXhfMS5kZWZhdWx0LmZyb21Qb2xhcihyLCBDb25zdGFudHNfMS5UQVUgKiByb3QpKTtcclxufVxyXG5leHBvcnRzLmFtcGxpdHVkZUludGVuc2l0eSA9IGFtcGxpdHVkZUludGVuc2l0eTtcclxuLyoqXHJcbiAqIEEgcmVmbGVjdGlvbiBmcm9tIGEgcGxhbmUgdGhhdCBoYXMgdHdvIHJlZmxldGl2ZSBzaWRlcy5cclxuICogUm90YXRpb25zOiAtIC8gfCBcXFxyXG4gKiBAcGFyYW0gYW5nbGUgSW4gZGVncmVlcywgb25seSB2YWx1ZXMgWzAsIDQ1LCA5MCwgMTM1XS4gRnJvbSAtPiwgY291bnRlcmNsb2Nrd2lzZS5cclxuICogQHJldHVybnMgT3BlcmF0b3Igd2l0aCBkaW1lbnNpb25zIFtEaW1lbnNpb24ucG9sYXJpemF0aW9uKCldXHJcbiAqL1xyXG5mdW5jdGlvbiByZWZsZWN0RnJvbVBsYW5lRGlyZWN0aW9uKGFuZ2xlKSB7XHJcbiAgICB2YXIgc3BhcnNlQ29vcmRzO1xyXG4gICAgc3dpdGNoIChtb2QoYW5nbGUsIDE4MCkpIHtcclxuICAgICAgICBjYXNlIDA6IC8vIC1cclxuICAgICAgICAgICAgc3BhcnNlQ29vcmRzID0gW1xyXG4gICAgICAgICAgICAgICAgW1widlwiLCBcIl5cIiwgQ29tcGxleF8xLkN4KDEpXSxcclxuICAgICAgICAgICAgICAgIFtcIl5cIiwgXCJ2XCIsIENvbXBsZXhfMS5DeCgxKV0sXHJcbiAgICAgICAgICAgIF07XHJcbiAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIGNhc2UgNDU6IC8vIC9cclxuICAgICAgICAgICAgc3BhcnNlQ29vcmRzID0gW1xyXG4gICAgICAgICAgICAgICAgW1wiXlwiLCBcIj5cIiwgQ29tcGxleF8xLkN4KDEpXSxcclxuICAgICAgICAgICAgICAgIFtcIj5cIiwgXCJeXCIsIENvbXBsZXhfMS5DeCgxKV0sXHJcbiAgICAgICAgICAgICAgICBbXCJ2XCIsIFwiPFwiLCBDb21wbGV4XzEuQ3goMSldLFxyXG4gICAgICAgICAgICAgICAgW1wiPFwiLCBcInZcIiwgQ29tcGxleF8xLkN4KDEpXSxcclxuICAgICAgICAgICAgXTtcclxuICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgY2FzZSA5MDogLy8gfFxyXG4gICAgICAgICAgICBzcGFyc2VDb29yZHMgPSBbXHJcbiAgICAgICAgICAgICAgICBbXCI8XCIsIFwiPlwiLCBDb21wbGV4XzEuQ3goMSldLFxyXG4gICAgICAgICAgICAgICAgW1wiPlwiLCBcIjxcIiwgQ29tcGxleF8xLkN4KDEpXSxcclxuICAgICAgICAgICAgXTtcclxuICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgY2FzZSAxMzU6IC8vIFxcXHJcbiAgICAgICAgICAgIHNwYXJzZUNvb3JkcyA9IFtcclxuICAgICAgICAgICAgICAgIFtcInZcIiwgXCI+XCIsIENvbXBsZXhfMS5DeCgxKV0sXHJcbiAgICAgICAgICAgICAgICBbXCI+XCIsIFwidlwiLCBDb21wbGV4XzEuQ3goMSldLFxyXG4gICAgICAgICAgICAgICAgW1wiXlwiLCBcIjxcIiwgQ29tcGxleF8xLkN4KDEpXSxcclxuICAgICAgICAgICAgICAgIFtcIjxcIiwgXCJeXCIsIENvbXBsZXhfMS5DeCgxKV0sXHJcbiAgICAgICAgICAgIF07XHJcbiAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIGRlZmF1bHQ6XHJcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIkFuZ2xlIFwiICsgYW5nbGUgKyBcIiAlIDE4MCBpc24ndCBpbiB0aGUgc2V0IFswLCA0NSwgOTAsIDEzNV1cIik7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gT3BlcmF0b3JfMS5kZWZhdWx0LmZyb21TcGFyc2VDb29yZE5hbWVzKHNwYXJzZUNvb3JkcywgW2RpbURpcl0pO1xyXG59XHJcbmV4cG9ydHMucmVmbGVjdEZyb21QbGFuZURpcmVjdGlvbiA9IHJlZmxlY3RGcm9tUGxhbmVEaXJlY3Rpb247XHJcbmZ1bmN0aW9uIGJlYW1zcGxpdHRlclRyYW5zbWl0dGlvbkRpcmVjdGlvbnMoYW5nbGUpIHtcclxuICAgIHN3aXRjaCAobW9kKGFuZ2xlLCAxODApKSB7XHJcbiAgICAgICAgY2FzZSAwOiAvLyAtXHJcbiAgICAgICAgICAgIHJldHVybiBPcGVyYXRvcl8xLmRlZmF1bHQuZnJvbVNwYXJzZUNvb3JkTmFtZXMoW1tcIl5cIiwgXCJeXCIsIENvbXBsZXhfMS5DeCgxKV0sIFtcInZcIiwgXCJ2XCIsIENvbXBsZXhfMS5DeCgxKV1dLCBbZGltRGlyXSk7XHJcbiAgICAgICAgY2FzZSA0NTogLy8gL1xyXG4gICAgICAgIGNhc2UgMTM1OiAvLyBcXFxyXG4gICAgICAgICAgICByZXR1cm4gaWREaXI7XHJcbiAgICAgICAgY2FzZSA5MDogLy8gfFxyXG4gICAgICAgICAgICByZXR1cm4gT3BlcmF0b3JfMS5kZWZhdWx0LmZyb21TcGFyc2VDb29yZE5hbWVzKFtbXCI+XCIsIFwiPlwiLCBDb21wbGV4XzEuQ3goMSldLCBbXCI8XCIsIFwiPFwiLCBDb21wbGV4XzEuQ3goMSldXSwgW2RpbURpcl0pO1xyXG4gICAgICAgIGRlZmF1bHQ6XHJcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIkFuZ2xlIFwiICsgYW5nbGUgKyBcIiAlIDE4MCBpc24ndCBpbiB0aGUgc2V0IFswLCA0NSwgOTAsIDEzNV0uXCIpO1xyXG4gICAgfVxyXG59XHJcbmV4cG9ydHMuYmVhbXNwbGl0dGVyVHJhbnNtaXR0aW9uRGlyZWN0aW9ucyA9IGJlYW1zcGxpdHRlclRyYW5zbWl0dGlvbkRpcmVjdGlvbnM7XHJcbi8qKlxyXG4gKiBBbiBhdXhpbGlhcnkgb3BlcmF0aW9uIGZvciBjb25zdHJ1Y3Rpbmcgb3RoZXIgZGlyZWN0aW9uYWwgb3BlcmF0b3JzLlxyXG4gKiBAcGFyYW0gYW5nbGUgQW5nbGUgaW4gZGVncmVlcyBbMCwgOTAsIDE4MCwgMjcwXSB1cCB0byAzNjAuIC0tPiBhbmQgQ0NXLlxyXG4gKiBAcmV0dXJucyBPcGVyYXRvciB3aXRoIGRpbWVuc2lvbnMgW0RpbWVuc2lvbi5kaXJlY3Rpb24oKV0uXHJcbiAqL1xyXG5mdW5jdGlvbiBkaW9kZUZvckRpcmVjdGlvbnMoYW5nbGUpIHtcclxuICAgIHN3aXRjaCAobW9kKGFuZ2xlLCAzNjApKSB7XHJcbiAgICAgICAgY2FzZSAwOiAvLyAtPlxyXG4gICAgICAgICAgICByZXR1cm4gT3BlcmF0b3JfMS5kZWZhdWx0LmZyb21TcGFyc2VDb29yZE5hbWVzKFtbXCI+XCIsIFwiPlwiLCBDb21wbGV4XzEuQ3goMSldXSwgW2RpbURpcl0pO1xyXG4gICAgICAgIGNhc2UgOTA6IC8vIF5cclxuICAgICAgICAgICAgcmV0dXJuIE9wZXJhdG9yXzEuZGVmYXVsdC5mcm9tU3BhcnNlQ29vcmROYW1lcyhbW1wiXlwiLCBcIl5cIiwgQ29tcGxleF8xLkN4KDEpXV0sIFtkaW1EaXJdKTtcclxuICAgICAgICBjYXNlIDE4MDogLy8gPC1cclxuICAgICAgICAgICAgcmV0dXJuIE9wZXJhdG9yXzEuZGVmYXVsdC5mcm9tU3BhcnNlQ29vcmROYW1lcyhbW1wiPFwiLCBcIjxcIiwgQ29tcGxleF8xLkN4KDEpXV0sIFtkaW1EaXJdKTtcclxuICAgICAgICBjYXNlIDI3MDogLy8gdlxyXG4gICAgICAgICAgICByZXR1cm4gT3BlcmF0b3JfMS5kZWZhdWx0LmZyb21TcGFyc2VDb29yZE5hbWVzKFtbXCJ2XCIsIFwidlwiLCBDb21wbGV4XzEuQ3goMSldXSwgW2RpbURpcl0pO1xyXG4gICAgICAgIGRlZmF1bHQ6XHJcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIkFuZ2xlIFwiICsgYW5nbGUgKyBcIiAlIDM2MCBpc24ndCBpbiB0aGUgc2V0IFswLCA5MCwgMTgwLCAyNzBdLlwiKTtcclxuICAgIH1cclxufVxyXG5leHBvcnRzLmRpb2RlRm9yRGlyZWN0aW9ucyA9IGRpb2RlRm9yRGlyZWN0aW9ucztcclxuLy8gVE9ETzpcclxuLy8gQWRkIGluIGVsZW1lbnRzIFwicHJvamVjdGlvbiBvblwiXHJcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPU9wcy5qcy5tYXAiLCIvKiBlc2xpbnQtZGlzYWJsZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tZXhwbGljaXQtYW55ICovXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIElucHV0VXRpbGl0eSB7XHJcbiAgcHJpdmF0ZSBzdGF0aWMgcHJvY2Vzc0lucHV0Q2FsbGJhY2s6IChldmVudDogS2V5Ym9hcmRFdmVudCkgPT4gYW55O1xyXG4gIHByaXZhdGUgc3RhdGljIHJlc29sdmU6ICh2YWx1ZT86IGFueSkgPT4gdm9pZDtcclxuXHJcbiAgc3RhdGljIHdhaXRGb3JJbnB1dChcclxuICAgIGhhbmRsZUlucHV0OiAoZXZlbnQ6IEtleWJvYXJkRXZlbnQpID0+IGJvb2xlYW5cclxuICApOiBQcm9taXNlPGFueT4ge1xyXG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9leHBsaWNpdC1mdW5jdGlvbi1yZXR1cm4tdHlwZVxyXG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKHJlc29sdmUgPT4ge1xyXG4gICAgICBpZiAoSW5wdXRVdGlsaXR5LnByb2Nlc3NJbnB1dENhbGxiYWNrICE9PSB1bmRlZmluZWQpIHtcclxuICAgICAgICBJbnB1dFV0aWxpdHkuc3RvcFByb2Nlc3NpbmcoKTtcclxuICAgICAgfVxyXG5cclxuICAgICAgSW5wdXRVdGlsaXR5LnJlc29sdmUgPSByZXNvbHZlO1xyXG4gICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L2V4cGxpY2l0LWZ1bmN0aW9uLXJldHVybi10eXBlXHJcbiAgICAgIElucHV0VXRpbGl0eS5wcm9jZXNzSW5wdXRDYWxsYmFjayA9IChldmVudDogS2V5Ym9hcmRFdmVudCkgPT5cclxuICAgICAgICBJbnB1dFV0aWxpdHkucHJvY2Vzc0lucHV0KGV2ZW50LCBoYW5kbGVJbnB1dCk7XHJcbiAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwia2V5ZG93blwiLCBJbnB1dFV0aWxpdHkucHJvY2Vzc0lucHV0Q2FsbGJhY2spO1xyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxuICBwcml2YXRlIHN0YXRpYyBwcm9jZXNzSW5wdXQoXHJcbiAgICBldmVudDogS2V5Ym9hcmRFdmVudCxcclxuICAgIGhhbmRsZUlucHV0OiAoZXZlbnQ6IEtleWJvYXJkRXZlbnQpID0+IGJvb2xlYW5cclxuICApOiB2b2lkIHtcclxuICAgIGlmIChoYW5kbGVJbnB1dChldmVudCkpIHtcclxuICAgICAgSW5wdXRVdGlsaXR5LnN0b3BQcm9jZXNzaW5nKCk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBwcml2YXRlIHN0YXRpYyBzdG9wUHJvY2Vzc2luZygpOiB2b2lkIHtcclxuICAgIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKFwia2V5ZG93blwiLCBJbnB1dFV0aWxpdHkucHJvY2Vzc0lucHV0Q2FsbGJhY2spO1xyXG4gICAgLy8gSW5wdXRVdGlsaXR5LnByb2Nlc3NJbnB1dENhbGxiYWNrID0gdW5kZWZpbmVkXHJcbiAgICBJbnB1dFV0aWxpdHkucHJvY2Vzc0lucHV0Q2FsbGJhY2sgPSAoKTogdm9pZCA9PiB7XHJcbiAgICAgIHJldHVybiB1bmRlZmluZWQ7XHJcbiAgICB9O1xyXG4gICAgSW5wdXRVdGlsaXR5LnJlc29sdmUoKTtcclxuICB9XHJcbn1cclxuIiwiLy8gaW1wb3J0IGpzb24gZnJvbSBcIi4uL2xldmVscy9kZXYvaW50ZXJmZXJvbWV0ZXIuanNvblwiO1xyXG4vLyBpbXBvcnQganNvbiBmcm9tIFwiLi4vbGV2ZWxzL2Rldi9iZWFtc3BsaXR0ZXIuanNvblwiO1xyXG5pbXBvcnQganNvbiBmcm9tIFwiLi4vbGV2ZWxzL2NsYXNzaWMvbGV2ZWwyMC5qc29uXCI7XHJcbmltcG9ydCBMZXZlbCBmcm9tIFwiLi9MZXZlbFwiO1xyXG5pbXBvcnQgR2FtZSBmcm9tIFwiLi9HYW1lXCI7XHJcblxyXG5kb2N1bWVudC5ib2R5Lm9ubG9hZCA9ICgpOiB2b2lkID0+IHtcclxuICBuZXcgR2FtZShMZXZlbC5pbXBvcnRMZXZlbChqc29uKSwgNjQpO1xyXG59O1xyXG4iLCIvLyBUT0RPOiB3b3JrIG9uIHRoZSB0b29sYm94XHJcbmltcG9ydCB7IFBob3RvbnMgfSBmcm9tIFwicXVhbnR1bS10ZW5zb3JzXCI7XHJcbmltcG9ydCBHcmlkLCB7IEdyaWRJbnRlcmZhY2UgfSBmcm9tIFwiLi9HcmlkXCI7XHJcbmltcG9ydCBIaW50LCB7IEhpbnRJbnRlcmZhY2UgfSBmcm9tIFwiLi9IaW50XCI7XHJcbmltcG9ydCBHb2FsLCB7IEdvYWxJbnRlcmZhY2UgfSBmcm9tIFwiLi9Hb2FsXCI7XHJcbi8vIGltcG9ydCBJbnZlbnRvcnkgZnJvbSBcIi4vSW52ZW50b3J5XCI7XHJcblxyXG4vKiogQSBsZXZlbCBpbnRlcmZhY2UgY29tcG9zZWQgb2YgcHJpbWl0aXZlcyBmb3IgZGlzcGxheSAqL1xyXG5leHBvcnQgaW50ZXJmYWNlIExldmVsSW50ZXJmYWNlIHtcclxuICBpZDogbnVtYmVyO1xyXG4gIG5hbWU6IHN0cmluZztcclxuICBncm91cDogc3RyaW5nO1xyXG4gIGRlc2NyaXB0aW9uOiBzdHJpbmc7XHJcbiAgZ3JpZDogR3JpZEludGVyZmFjZTtcclxuICBnb2FsczogR29hbEludGVyZmFjZVtdO1xyXG4gIGhpbnRzOiBIaW50SW50ZXJmYWNlW107XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBMZXZlbCBjbGFzcyBkZXNjcmliZXMgdGhlIGxldmVsIGRhdGEgYW5kIGxvZ2ljXHJcbiAqIExldmVscyBhcmUgbG9hZGVkIGFzIGEgSlNPTiBmaWxlIG9mIGEgc29sdXRpb25cclxuICogVW5mcm96ZW4gZWxlbWVudHMgYXJlIHRoZW4gcHJvY2Vzc2VkIGludG8gdGhlIHBsYXllcnMgaW52ZW50b3J5XHJcbiAqL1xyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBMZXZlbCB7XHJcbiAgaWQ6IG51bWJlcjtcclxuICBuYW1lOiBzdHJpbmc7XHJcbiAgZ3JvdXA6IHN0cmluZztcclxuICBkZXNjcmlwdGlvbjogc3RyaW5nO1xyXG4gIGdyaWQ6IEdyaWQ7XHJcbiAgZ29hbHM6IEdvYWxbXTtcclxuICBoaW50czogSGludFtdO1xyXG4gIC8vIHRvb2xib3g6IEludmVudG9yeTtcclxuICBjb21wbGV0ZWQ6IGJvb2xlYW47XHJcbiAgc3RhdGU6IFBob3RvbnM7XHJcblxyXG4gIGNvbnN0cnVjdG9yKFxyXG4gICAgaWQ6IG51bWJlcixcclxuICAgIG5hbWU6IHN0cmluZyxcclxuICAgIGdyb3VwOiBzdHJpbmcsXHJcbiAgICBkZXNjcmlwdGlvbjogc3RyaW5nLFxyXG4gICAgZ3JpZDogR3JpZCA9IG5ldyBHcmlkKDgsIDgpLFxyXG4gICAgZ29hbHM6IEdvYWxbXSxcclxuICAgIGhpbnRzOiBIaW50W10sXHJcbiAgICBjb21wbGV0ZWQ6IGJvb2xlYW5cclxuICApIHtcclxuICAgIC8vIEJhc2ljIGluZm9zXHJcbiAgICB0aGlzLmlkID0gaWQ7XHJcbiAgICB0aGlzLmdyb3VwID0gZ3JvdXA7XHJcbiAgICB0aGlzLm5hbWUgPSBuYW1lO1xyXG4gICAgdGhpcy5kZXNjcmlwdGlvbiA9IGRlc2NyaXB0aW9uO1xyXG4gICAgLy8gQmFzaWMgZ3JpZCBkZWZpbml0aW9uXHJcbiAgICB0aGlzLmdyaWQgPSBncmlkO1xyXG4gICAgdGhpcy5nb2FscyA9IGdvYWxzO1xyXG4gICAgdGhpcy5oaW50cyA9IGhpbnRzO1xyXG4gICAgdGhpcy5jb21wbGV0ZWQgPSBjb21wbGV0ZWQ7XHJcbiAgICAvLyBJbml0aWF0ZSBxdWFudHVtIHN0YXRlXHJcbiAgICB0aGlzLnN0YXRlID0gbmV3IFBob3RvbnMoZ3JpZC5jb2xzLCBncmlkLnJvd3MpO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogU3RyaW5nIG91dHB1dCBvZiBhIGxldmVsXHJcbiAgICogQHJldHVybnMgYSBzdHJpbmcgZGVzY3JpYmluZyB0aGUgbGV2ZWxcclxuICAgKi9cclxuICB0b1N0cmluZygpOiBzdHJpbmcge1xyXG4gICAgcmV0dXJuIGBcXFxyXG5MRVZFTDogJHt0aGlzLm5hbWV9IFske3RoaXMuZ3JpZC5jb2xzfXgke3RoaXMuZ3JpZC5yb3dzfV1cXG5cXFxyXG5ERVNDOiAke3RoaXMuZGVzY3JpcHRpb259XFxuXFxcclxuR1JPVVA6ICR7dGhpcy5ncm91cH1cXG5cXFxyXG4ke3RoaXMuZ3JpZC50b1N0cmluZygpfVxcblxcXHJcbkdPQUxTOiAke3RoaXMuZ29hbHMubWFwKGkgPT4gaS50b1N0cmluZygpKX1cXG5cXFxyXG5HT0FMUzogJHt0aGlzLmNvbXBsZXRlZCA/IFwiQ09NUExFVEVcIiA6IFwiSU4gUFJPR1JFU1NcIn1cXG5cXFxyXG5ISU5UUzogJHt0aGlzLmhpbnRzLm1hcChpID0+IGkudG9TdHJpbmcoKSl9XFxuXHJcbmA7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBFeHBvcnQgYSBqc29uIGxldmVsXHJcbiAgICogQHJldHVybnMgYSBsZXZlbCBpbnRlcmZhY2Ugb2YgdGhlIGN1cnJlbnQgbGV2ZWxcclxuICAgKi9cclxuICBleHBvcnRMZXZlbCgpOiBMZXZlbEludGVyZmFjZSB7XHJcbiAgICByZXR1cm4ge1xyXG4gICAgICBpZDogdGhpcy5pZCxcclxuICAgICAgbmFtZTogdGhpcy5uYW1lLFxyXG4gICAgICBncm91cDogdGhpcy5ncm91cCxcclxuICAgICAgZGVzY3JpcHRpb246IHRoaXMuZGVzY3JpcHRpb24sXHJcbiAgICAgIGdyaWQ6IHRoaXMuZ3JpZC5leHBvcnRHcmlkKCksXHJcbiAgICAgIGhpbnRzOiB0aGlzLmhpbnRzLmZsYXRNYXAoaGludCA9PiBoaW50LmV4cG9ydEhpbnQoKSksXHJcbiAgICAgIGdvYWxzOiB0aGlzLmdvYWxzLmZsYXRNYXAoZ29hbCA9PiBnb2FsLmV4cG9ydEdvYWwoKSlcclxuICAgIH07XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBJbXBvcnQgYSBqc29uIGxldmVsXHJcbiAgICogQHBhcmFtIG9iaiBhIGxldmVsIGludGVyZmFjZSB3aXRoIHByaW1pdGl2ZXNcclxuICAgKiBAcmV0dXJucyBhIExldmVsIGluc3RhbmNlXHJcbiAgICovXHJcbiAgc3RhdGljIGltcG9ydExldmVsKG9iajogTGV2ZWxJbnRlcmZhY2UpOiBMZXZlbCB7XHJcbiAgICBjb25zdCBncmlkID0gbmV3IEdyaWQob2JqLmdyaWQucm93cywgb2JqLmdyaWQuY29scyk7XHJcbiAgICBncmlkLmltcG9ydEdyaWQob2JqLmdyaWQuY2VsbHMpO1xyXG4gICAgY29uc3QgZ29hbHMgPSBHb2FsLmltcG9ydEdvYWwob2JqLmdvYWxzKTtcclxuICAgIGNvbnN0IGhpbnRzID0gSGludC5pbXBvcnRIaW50KG9iai5oaW50cyk7XHJcbiAgICByZXR1cm4gbmV3IExldmVsKFxyXG4gICAgICBvYmouaWQsXHJcbiAgICAgIG9iai5uYW1lLFxyXG4gICAgICBvYmouZ3JvdXAsXHJcbiAgICAgIG9iai5kZXNjcmlwdGlvbixcclxuICAgICAgZ3JpZCxcclxuICAgICAgZ29hbHMsXHJcbiAgICAgIGhpbnRzLFxyXG4gICAgICBmYWxzZVxyXG4gICAgKTtcclxuICB9XHJcbn1cclxuIiwibW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihtb2R1bGUpIHtcblx0aWYgKCFtb2R1bGUud2VicGFja1BvbHlmaWxsKSB7XG5cdFx0bW9kdWxlLmRlcHJlY2F0ZSA9IGZ1bmN0aW9uKCkge307XG5cdFx0bW9kdWxlLnBhdGhzID0gW107XG5cdFx0Ly8gbW9kdWxlLnBhcmVudCA9IHVuZGVmaW5lZCBieSBkZWZhdWx0XG5cdFx0aWYgKCFtb2R1bGUuY2hpbGRyZW4pIG1vZHVsZS5jaGlsZHJlbiA9IFtdO1xuXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShtb2R1bGUsIFwibG9hZGVkXCIsIHtcblx0XHRcdGVudW1lcmFibGU6IHRydWUsXG5cdFx0XHRnZXQ6IGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRyZXR1cm4gbW9kdWxlLmw7XG5cdFx0XHR9XG5cdFx0fSk7XG5cdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KG1vZHVsZSwgXCJpZFwiLCB7XG5cdFx0XHRlbnVtZXJhYmxlOiB0cnVlLFxuXHRcdFx0Z2V0OiBmdW5jdGlvbigpIHtcblx0XHRcdFx0cmV0dXJuIG1vZHVsZS5pO1xuXHRcdFx0fVxuXHRcdH0pO1xuXHRcdG1vZHVsZS53ZWJwYWNrUG9seWZpbGwgPSAxO1xuXHR9XG5cdHJldHVybiBtb2R1bGU7XG59O1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XHJcbi8vIGNyZWF0ZSBzdGF0ZVxyXG4vLyBsb29wIG9mXHJcbi8vIC0gbWFrZSBpdCBwYXNzIHRocm91Z2ggVVxyXG4vLyAtIHByb3BhZ2F0ZVxyXG4vLyAtIG5vdGUgZGV0ZWN0aW9uIHByb2JhYmlsaXRpZXNcclxudmFyIF9fc3ByZWFkQXJyYXlzID0gKHRoaXMgJiYgdGhpcy5fX3NwcmVhZEFycmF5cykgfHwgZnVuY3Rpb24gKCkge1xyXG4gICAgZm9yICh2YXIgcyA9IDAsIGkgPSAwLCBpbCA9IGFyZ3VtZW50cy5sZW5ndGg7IGkgPCBpbDsgaSsrKSBzICs9IGFyZ3VtZW50c1tpXS5sZW5ndGg7XHJcbiAgICBmb3IgKHZhciByID0gQXJyYXkocyksIGsgPSAwLCBpID0gMDsgaSA8IGlsOyBpKyspXHJcbiAgICAgICAgZm9yICh2YXIgYSA9IGFyZ3VtZW50c1tpXSwgaiA9IDAsIGpsID0gYS5sZW5ndGg7IGogPCBqbDsgaisrLCBrKyspXHJcbiAgICAgICAgICAgIHJba10gPSBhW2pdO1xyXG4gICAgcmV0dXJuIHI7XHJcbn07XHJcbnZhciBfX2ltcG9ydERlZmF1bHQgPSAodGhpcyAmJiB0aGlzLl9faW1wb3J0RGVmYXVsdCkgfHwgZnVuY3Rpb24gKG1vZCkge1xyXG4gICAgcmV0dXJuIChtb2QgJiYgbW9kLl9fZXNNb2R1bGUpID8gbW9kIDogeyBcImRlZmF1bHRcIjogbW9kIH07XHJcbn07XHJcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcclxudmFyIGxvZGFzaF8xID0gX19pbXBvcnREZWZhdWx0KHJlcXVpcmUoXCJsb2Rhc2hcIikpO1xyXG52YXIgVmVjdG9yXzEgPSBfX2ltcG9ydERlZmF1bHQocmVxdWlyZShcIi4vVmVjdG9yXCIpKTtcclxudmFyIE9wZXJhdG9yXzEgPSBfX2ltcG9ydERlZmF1bHQocmVxdWlyZShcIi4vT3BlcmF0b3JcIikpO1xyXG52YXIgRGltZW5zaW9uXzEgPSBfX2ltcG9ydERlZmF1bHQocmVxdWlyZShcIi4vRGltZW5zaW9uXCIpKTtcclxudmFyIENvbXBsZXhfMSA9IHJlcXVpcmUoXCIuL0NvbXBsZXhcIik7XHJcbnZhciBQaG90b25zID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xyXG4gICAgZnVuY3Rpb24gUGhvdG9ucyhzaXplWCwgc2l6ZVkpIHtcclxuICAgICAgICB0aGlzLnNpemVYID0gc2l6ZVg7XHJcbiAgICAgICAgdGhpcy5zaXplWSA9IHNpemVZO1xyXG4gICAgICAgIHRoaXMudmVjdG9yID0gbmV3IFZlY3Rvcl8xLmRlZmF1bHQoW10sIFtdKTtcclxuICAgICAgICB0aGlzLm5QaG90b25zID0gMDtcclxuICAgICAgICB0aGlzLmRpbVggPSBEaW1lbnNpb25fMS5kZWZhdWx0LnBvc2l0aW9uKHNpemVYLCBcInhcIik7XHJcbiAgICAgICAgdGhpcy5kaW1ZID0gRGltZW5zaW9uXzEuZGVmYXVsdC5wb3NpdGlvbihzaXplWSwgXCJ5XCIpO1xyXG4gICAgfVxyXG4gICAgUGhvdG9ucy5wcm90b3R5cGUuY3JlYXRlUGhvdG9uID0gZnVuY3Rpb24gKHBvc1gsIHBvc1ksIGRpciwgcG9sKSB7XHJcbiAgICAgICAgdmFyIGRpbWVuc2lvbnMgPSBbdGhpcy5kaW1YLCB0aGlzLmRpbVksIERpbWVuc2lvbl8xLmRlZmF1bHQuZGlyZWN0aW9uKCksIERpbWVuc2lvbl8xLmRlZmF1bHQucG9sYXJpemF0aW9uKCldO1xyXG4gICAgICAgIHZhciBzdGF0ZSA9IFtwb3NYLnRvU3RyaW5nKCksIHBvc1kudG9TdHJpbmcoKSwgZGlyLCBwb2xdO1xyXG4gICAgICAgIHJldHVybiBWZWN0b3JfMS5kZWZhdWx0LmluZGljYXRvcihkaW1lbnNpb25zLCBzdGF0ZSk7XHJcbiAgICB9O1xyXG4gICAgUGhvdG9ucy5wcm90b3R5cGUuYWRkUGhvdG9uSW5kaWNhdG9yID0gZnVuY3Rpb24gKHBvc1gsIHBvc1ksIGRpciwgcG9sKSB7XHJcbiAgICAgICAgLy8gZm9yIG5vdywgbGV0J3MgYXNzdW1lIHRoZXNlIGFyZTpcclxuICAgICAgICAvLyAtIHBlcnBlbmRpY3VsYXIgKG90aGVyd2lzZSB3b3VsZCBuZWVkIGNyZWF0aW9uLW9wZXJhdG9yLWxpa2Ugd2VpZ2h0Z2luZylcclxuICAgICAgICAvLyAtIGp1c3QgdHdvIChvdGhlcndpc2Ugd291bGQgbmVlZCBkaW1lbnNpb24gcGVybXV0YXRpb24gT1Igb3V0ZXIgd2l0aCBwb3NpdGlvcyBpbnNpZGUpXHJcbiAgICAgICAgdmFyIG5ld1Bob3RvbiA9IHRoaXMuY3JlYXRlUGhvdG9uKHBvc1gsIHBvc1ksIGRpciwgcG9sKTtcclxuICAgICAgICB2YXIgb2xkUGhvdG9ucyA9IHRoaXMudmVjdG9yO1xyXG4gICAgICAgIHRoaXMublBob3RvbnMgKz0gMTtcclxuICAgICAgICBpZiAodGhpcy5uUGhvdG9ucyA9PT0gMSkge1xyXG4gICAgICAgICAgICB0aGlzLnZlY3RvciA9IG5ld1Bob3RvbjtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSBpZiAodGhpcy5uUGhvdG9ucyA9PT0gMikge1xyXG4gICAgICAgICAgICBpZiAoIW5ld1Bob3Rvbi5kb3QodGhpcy52ZWN0b3IpLmlzWmVybykge1xyXG4gICAgICAgICAgICAgICAgdGhyb3cgXCJBZGRpbmcgcGhvdG9ucyBub3QgeWV0IGltcGxlbWVudGVkIGZvciBub24tb3J0b2dvbmFsIHN0YXRlcy4gT2xkIHBob3RvbjpcXG5cIiArIHRoaXMudmVjdG9yICsgXCJcXG5hbmQgbmV3IHBob3RvbjpcXG5cIiArIG5ld1Bob3RvbjtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB0aGlzLnZlY3RvciA9IFZlY3Rvcl8xLmRlZmF1bHQuYWRkKFtvbGRQaG90b25zLm91dGVyKG5ld1Bob3RvbiksIG5ld1Bob3Rvbi5vdXRlcihvbGRQaG90b25zKV0pLm11bENvbnN0YW50KENvbXBsZXhfMS5DeChNYXRoLlNRUlQxXzIpKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIHRocm93IFwiQWRkaW5nIDMgb3IgbW9yZSBwYXJ0aWNsZXMgbm90IHlldCBpbXBsZW1lbnRlZFwiO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcbiAgICBQaG90b25zLnByb3RvdHlwZS5jcmVhdGVQaG90b25Qcm9wYWdhdG9yID0gZnVuY3Rpb24gKHlEaXJNZWFuc0Rvd24pIHtcclxuICAgICAgICBpZiAoeURpck1lYW5zRG93biA9PT0gdm9pZCAwKSB7IHlEaXJNZWFuc0Rvd24gPSB0cnVlOyB9XHJcbiAgICAgICAgdmFyIGRpciA9IERpbWVuc2lvbl8xLmRlZmF1bHQuZGlyZWN0aW9uKCk7XHJcbiAgICAgICAgdmFyIGRpbVggPSB0aGlzLmRpbVg7XHJcbiAgICAgICAgdmFyIGRpbVkgPSB0aGlzLmRpbVk7XHJcbiAgICAgICAgdmFyIHMgPSB5RGlyTWVhbnNEb3duID8gMSA6IC0xO1xyXG4gICAgICAgIHJldHVybiBPcGVyYXRvcl8xLmRlZmF1bHQuYWRkKFtcclxuICAgICAgICAgICAgT3BlcmF0b3JfMS5kZWZhdWx0Lm91dGVyKFtPcGVyYXRvcl8xLmRlZmF1bHQuc2hpZnQoZGltWCwgKzEpLCBPcGVyYXRvcl8xLmRlZmF1bHQuaWRlbnRpdHkoW2RpbVldKSwgT3BlcmF0b3JfMS5kZWZhdWx0LmluZGljYXRvcihbZGlyXSwgW1wiPlwiXSldKSxcclxuICAgICAgICAgICAgT3BlcmF0b3JfMS5kZWZhdWx0Lm91dGVyKFtPcGVyYXRvcl8xLmRlZmF1bHQuc2hpZnQoZGltWCwgLTEpLCBPcGVyYXRvcl8xLmRlZmF1bHQuaWRlbnRpdHkoW2RpbVldKSwgT3BlcmF0b3JfMS5kZWZhdWx0LmluZGljYXRvcihbZGlyXSwgW1wiPFwiXSldKSxcclxuICAgICAgICAgICAgT3BlcmF0b3JfMS5kZWZhdWx0Lm91dGVyKFtPcGVyYXRvcl8xLmRlZmF1bHQuaWRlbnRpdHkoW2RpbVhdKSwgT3BlcmF0b3JfMS5kZWZhdWx0LnNoaWZ0KGRpbVksICtzKSwgT3BlcmF0b3JfMS5kZWZhdWx0LmluZGljYXRvcihbZGlyXSwgW1widlwiXSldKSxcclxuICAgICAgICAgICAgT3BlcmF0b3JfMS5kZWZhdWx0Lm91dGVyKFtPcGVyYXRvcl8xLmRlZmF1bHQuaWRlbnRpdHkoW2RpbVhdKSwgT3BlcmF0b3JfMS5kZWZhdWx0LnNoaWZ0KGRpbVksIC1zKSwgT3BlcmF0b3JfMS5kZWZhdWx0LmluZGljYXRvcihbZGlyXSwgW1wiXlwiXSldKSxcclxuICAgICAgICBdKTtcclxuICAgIH07XHJcbiAgICAvLyBVR0xZIEFTIEZDSyBCVVQsIEhBRCBTT01FIEVSUk9SU1xyXG4gICAgUGhvdG9ucy5wcm90b3R5cGUucHJvcGFnYXRlUGhvdG9ucyA9IGZ1bmN0aW9uICh5RGlyTWVhbnNEb3duKSB7XHJcbiAgICAgICAgaWYgKHlEaXJNZWFuc0Rvd24gPT09IHZvaWQgMCkgeyB5RGlyTWVhbnNEb3duID0gdHJ1ZTsgfVxyXG4gICAgICAgIGlmICh0aGlzLm5QaG90b25zICE9PSAxKSB7XHJcbiAgICAgICAgICAgIC8vLyBTRUUgQ09NTUVOVCBBQk9WRVxyXG4gICAgICAgICAgICB0aHJvdyBcIlJpZ2h0IG5vdyBpbXBsZW1lbnRlZCBvbmx5IGZvciAxIHBob3Rvbi4gSGVyZSB3ZSBoYXZlIFwiICsgdGhpcy5uUGhvdG9ucyArIFwiIHBob3RvbnMuXCI7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHZhciBwaG90b25Qcm9wYWdhdG9yID0gdGhpcy5jcmVhdGVQaG90b25Qcm9wYWdhdG9yKHlEaXJNZWFuc0Rvd24pO1xyXG4gICAgICAgIC8vIF8ucmFuZ2UodGhpcy5uUGhvdG9ucykuZm9yRWFjaChfaSA9PiB7XHJcbiAgICAgICAgLy90aGlzLnZlY3RvciA9IHBob3RvblByb3BhZ2F0b3IubXVsVmVjUGFydGlhbChbNCAqIGksIDQgKiBpICsgMSwgNCAqIGkgKyAyXSwgdGhpcy52ZWN0b3IpXHJcbiAgICAgICAgdGhpcy52ZWN0b3IgPSBwaG90b25Qcm9wYWdhdG9yLm91dGVyKE9wZXJhdG9yXzEuZGVmYXVsdC5pZGVudGl0eShbRGltZW5zaW9uXzEuZGVmYXVsdC5wb2xhcml6YXRpb24oKV0pKS5tdWxWZWModGhpcy52ZWN0b3IpO1xyXG4gICAgICAgIC8vfSlcclxuICAgIH07XHJcbiAgICBQaG90b25zLnByb3RvdHlwZS5jcmVhdGVMb2NhbGl6ZWRPcGVyYXRvciA9IGZ1bmN0aW9uIChvcCwgcG9zWCwgcG9zWSkge1xyXG4gICAgICAgIHJldHVybiBPcGVyYXRvcl8xLmRlZmF1bHQub3V0ZXIoW09wZXJhdG9yXzEuZGVmYXVsdC5pbmRpY2F0b3IoW3RoaXMuZGltWCwgdGhpcy5kaW1ZXSwgW1wiXCIgKyBwb3NYLCBcIlwiICsgcG9zWV0pLCBvcF0pO1xyXG4gICAgfTtcclxuICAgIFBob3RvbnMucHJvdG90eXBlLmNyZWF0ZVNpbmdsZVBob3RvbkludGVyYWN0aW9uID0gZnVuY3Rpb24gKG9wc1dpdGhQb3MpIHtcclxuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xyXG4gICAgICAgIC8vIHNvbWUgc3BhY2UgZm9yIGltcHJvdmVtZW50IHdpdGggYXZvaWRpbmcgaWRlbnRpdHkgKGRpcmVjdCBzdW0gc3RydWN0dXJlKVxyXG4gICAgICAgIHZhciBsb2NhbGl6ZWRPcHNTaGlmdGVkID0gb3BzV2l0aFBvcy5tYXAoZnVuY3Rpb24gKHgpIHtcclxuICAgICAgICAgICAgdmFyIHBvc1ggPSB4WzBdLCBwb3NZID0geFsxXSwgb3AgPSB4WzJdO1xyXG4gICAgICAgICAgICB2YXIgc2hpZnRlZE9wID0gb3Auc3ViKE9wZXJhdG9yXzEuZGVmYXVsdC5pZGVudGl0eShbRGltZW5zaW9uXzEuZGVmYXVsdC5kaXJlY3Rpb24oKSwgRGltZW5zaW9uXzEuZGVmYXVsdC5wb2xhcml6YXRpb24oKV0pKTtcclxuICAgICAgICAgICAgcmV0dXJuIF90aGlzLmNyZWF0ZUxvY2FsaXplZE9wZXJhdG9yKHNoaWZ0ZWRPcCwgcG9zWCwgcG9zWSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgcmV0dXJuIE9wZXJhdG9yXzEuZGVmYXVsdC5hZGQoX19zcHJlYWRBcnJheXMoW1xyXG4gICAgICAgICAgICBPcGVyYXRvcl8xLmRlZmF1bHQuaWRlbnRpdHkoW3RoaXMuZGltWCwgdGhpcy5kaW1ZLCBEaW1lbnNpb25fMS5kZWZhdWx0LmRpcmVjdGlvbigpLCBEaW1lbnNpb25fMS5kZWZhdWx0LnBvbGFyaXphdGlvbigpXSlcclxuICAgICAgICBdLCBsb2NhbGl6ZWRPcHNTaGlmdGVkKSk7XHJcbiAgICB9O1xyXG4gICAgUGhvdG9ucy5wcm90b3R5cGUuYWN0T25TaW5nbGVQaG90b25zID0gZnVuY3Rpb24gKG9wc1dpdGhQb3MpIHtcclxuICAgICAgICBpZiAodGhpcy5uUGhvdG9ucyAhPT0gMSkge1xyXG4gICAgICAgICAgICAvLy8gU0VFIENPTU1FTlQgQUJPVkVcclxuICAgICAgICAgICAgdGhyb3cgXCJSaWdodCBub3cgaW1wbGVtZW50ZWQgb25seSBmb3IgMSBwaG90b24uIEhlcmUgd2UgaGF2ZSBcIiArIHRoaXMublBob3RvbnMgKyBcIiBwaG90b25zLlwiO1xyXG4gICAgICAgIH1cclxuICAgICAgICB2YXIgc2luZ2xlUGhvdG9uSW50ZXJhY3Rpb24gPSB0aGlzLmNyZWF0ZVNpbmdsZVBob3RvbkludGVyYWN0aW9uKG9wc1dpdGhQb3MpO1xyXG4gICAgICAgIHRoaXMudmVjdG9yID0gc2luZ2xlUGhvdG9uSW50ZXJhY3Rpb24ubXVsVmVjKHRoaXMudmVjdG9yKTtcclxuICAgICAgICAvLyBfLnJhbmdlKHRoaXMublBob3RvbnMpLmZvckVhY2goaSA9PiB7XHJcbiAgICAgICAgLy8gICB0aGlzLnZlY3RvciA9IHNpbmdsZVBob3RvbkludGVyYWN0aW9uLm11bFZlY1BhcnRpYWwoWzQgKiBpLCA0ICogaSArIDEsIDQgKiBpICsgMiwgNCAqIGkgKyAzXSwgdGhpcy52ZWN0b3IpXHJcbiAgICAgICAgLy8gfSlcclxuICAgIH07XHJcbiAgICAvKipcclxuICAgICAqIFJpZ2h0IG5vdyBraW5kIG9kIGRpcnR5LCBidXQgc2hvdWxkIHdvcmtcclxuICAgICAqIEFuZ2xlcyAwLTM2MCwgc3RhcnRpbmcgZnJvbSAtLT4gYW5kIG1vdmluZyBjb3VudGVyY2xvY2t3aXNlXHJcbiAgICAgKiB8cHNpPiA9IChhcmUgKyBpIGFpbSkgfEg+ICsgKGJyZSArIGkgYmltKSB8Vj5cclxuICAgICAqL1xyXG4gICAgUGhvdG9ucy5wcm90b3R5cGUuYWdncmVnYXRlUG9sYXJpemF0aW9uID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIGlmICh0aGlzLm5QaG90b25zICE9PSAxKSB7XHJcbiAgICAgICAgICAgIHRocm93IFwiUmlnaHQgbm93IGltcGxlbWVudGVkIG9ubHkgZm9yIDEgcGhvdG9uLiBIZXJlIHdlIGhhdmUgXCIgKyB0aGlzLm5QaG90b25zICsgXCIgcGhvdG9ucy5cIjtcclxuICAgICAgICB9XHJcbiAgICAgICAgdmFyIGFnZ3JlZ2F0ZWQgPSBsb2Rhc2hfMS5kZWZhdWx0LmNoYWluKHRoaXMudmVjdG9yLmNlbGxzKVxyXG4gICAgICAgICAgICAuZ3JvdXBCeShmdW5jdGlvbiAoZW50cnkpIHsgcmV0dXJuIGxvZGFzaF8xLmRlZmF1bHQuYXQoZW50cnkuY29vcmQsIFswLCAxLCAyXSk7IH0pXHJcbiAgICAgICAgICAgIC52YWx1ZXMoKVxyXG4gICAgICAgICAgICAubWFwKGZ1bmN0aW9uIChlbnRyaWVzKSB7XHJcbiAgICAgICAgICAgIHZhciBmaXJzdCA9IGVudHJpZXNbMF07XHJcbiAgICAgICAgICAgIHZhciBfYSA9IGZpcnN0LmNvb3JkLCB4ID0gX2FbMF0sIHkgPSBfYVsxXSwgZGlyID0gX2FbMl0sIF9wb2wgPSBfYVszXTtcclxuICAgICAgICAgICAgdmFyIGFtcGxpdHVkZXMgPSBbQ29tcGxleF8xLkN4KDApLCBDb21wbGV4XzEuQ3goMCldO1xyXG4gICAgICAgICAgICBlbnRyaWVzLmZvckVhY2goZnVuY3Rpb24gKGVudHJ5KSB7XHJcbiAgICAgICAgICAgICAgICBhbXBsaXR1ZGVzW2VudHJ5LmNvb3JkWzNdXSA9IGVudHJ5LnZhbHVlO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgICAgIHg6IHgsXHJcbiAgICAgICAgICAgICAgICB5OiB5LFxyXG4gICAgICAgICAgICAgICAgZGlyZWN0aW9uOiA5MCAqIGRpcixcclxuICAgICAgICAgICAgICAgIGFyZTogYW1wbGl0dWRlc1swXS5yZSxcclxuICAgICAgICAgICAgICAgIGFpbTogYW1wbGl0dWRlc1swXS5pbSxcclxuICAgICAgICAgICAgICAgIGJyZTogYW1wbGl0dWRlc1sxXS5yZSxcclxuICAgICAgICAgICAgICAgIGJpbTogYW1wbGl0dWRlc1sxXS5pbSxcclxuICAgICAgICAgICAgfTtcclxuICAgICAgICB9KVxyXG4gICAgICAgICAgICAudmFsdWUoKTtcclxuICAgICAgICByZXR1cm4gYWdncmVnYXRlZDtcclxuICAgIH07XHJcbiAgICBQaG90b25zLnByb3RvdHlwZS50b3RhbEludGVuc2l0eVBlclRpbGUgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgaWYgKHRoaXMublBob3RvbnMgIT09IDEpIHtcclxuICAgICAgICAgICAgdGhyb3cgXCJSaWdodCBub3cgaW1wbGVtZW50ZWQgb25seSBmb3IgMSBwaG90b24uIEhlcmUgd2UgaGF2ZSBcIiArIHRoaXMublBob3RvbnMgKyBcIiBwaG90b25zLlwiO1xyXG4gICAgICAgIH1cclxuICAgICAgICB2YXIgYWdncmVnYXRlZCA9IGxvZGFzaF8xLmRlZmF1bHQuY2hhaW4odGhpcy52ZWN0b3IuY2VsbHMpXHJcbiAgICAgICAgICAgIC5ncm91cEJ5KGZ1bmN0aW9uIChlbnRyeSkgeyByZXR1cm4gbG9kYXNoXzEuZGVmYXVsdC5hdChlbnRyeS5jb29yZCwgWzAsIDFdKTsgfSlcclxuICAgICAgICAgICAgLnZhbHVlcygpXHJcbiAgICAgICAgICAgIC5tYXAoZnVuY3Rpb24gKGVudHJpZXMpIHtcclxuICAgICAgICAgICAgdmFyIGZpcnN0ID0gZW50cmllc1swXTtcclxuICAgICAgICAgICAgdmFyIF9hID0gZmlyc3QuY29vcmQsIHggPSBfYVswXSwgeSA9IF9hWzFdLCBfZGlyID0gX2FbMl0sIF9wb2wgPSBfYVszXTtcclxuICAgICAgICAgICAgdmFyIHByb2JhYmlsaXR5ID0gZW50cmllcy5tYXAoZnVuY3Rpb24gKGVudHJ5KSB7IHJldHVybiBlbnRyeS52YWx1ZS5hYnMyKCk7IH0pLnJlZHVjZShmdW5jdGlvbiAoYSwgYikgeyByZXR1cm4gYSArIGI7IH0pO1xyXG4gICAgICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICAgICAgeDogeCxcclxuICAgICAgICAgICAgICAgIHk6IHksXHJcbiAgICAgICAgICAgICAgICBwcm9iYWJpbGl0eTogcHJvYmFiaWxpdHksXHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgfSlcclxuICAgICAgICAgICAgLnZhbHVlKCk7XHJcbiAgICAgICAgcmV0dXJuIGFnZ3JlZ2F0ZWQ7XHJcbiAgICB9O1xyXG4gICAgcmV0dXJuIFBob3RvbnM7XHJcbn0oKSk7XHJcbmV4cG9ydHMuZGVmYXVsdCA9IFBob3RvbnM7XHJcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPVBob3RvbnMuanMubWFwIiwiXCJ1c2Ugc3RyaWN0XCI7XHJcbnZhciBfX2ltcG9ydERlZmF1bHQgPSAodGhpcyAmJiB0aGlzLl9faW1wb3J0RGVmYXVsdCkgfHwgZnVuY3Rpb24gKG1vZCkge1xyXG4gICAgcmV0dXJuIChtb2QgJiYgbW9kLl9fZXNNb2R1bGUpID8gbW9kIDogeyBcImRlZmF1bHRcIjogbW9kIH07XHJcbn07XHJcbnZhciBfX2ltcG9ydFN0YXIgPSAodGhpcyAmJiB0aGlzLl9faW1wb3J0U3RhcikgfHwgZnVuY3Rpb24gKG1vZCkge1xyXG4gICAgaWYgKG1vZCAmJiBtb2QuX19lc01vZHVsZSkgcmV0dXJuIG1vZDtcclxuICAgIHZhciByZXN1bHQgPSB7fTtcclxuICAgIGlmIChtb2QgIT0gbnVsbCkgZm9yICh2YXIgayBpbiBtb2QpIGlmIChPYmplY3QuaGFzT3duUHJvcGVydHkuY2FsbChtb2QsIGspKSByZXN1bHRba10gPSBtb2Rba107XHJcbiAgICByZXN1bHRbXCJkZWZhdWx0XCJdID0gbW9kO1xyXG4gICAgcmV0dXJuIHJlc3VsdDtcclxufTtcclxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xyXG52YXIgbG9kYXNoXzEgPSBfX2ltcG9ydERlZmF1bHQocmVxdWlyZShcImxvZGFzaFwiKSk7XHJcbnZhciBDb21wbGV4XzEgPSByZXF1aXJlKFwiLi9Db21wbGV4XCIpO1xyXG52YXIgRGltZW5zaW9uXzEgPSBfX2ltcG9ydERlZmF1bHQocmVxdWlyZShcIi4vRGltZW5zaW9uXCIpKTtcclxudmFyIE9wZXJhdG9yXzEgPSBfX2ltcG9ydERlZmF1bHQocmVxdWlyZShcIi4vT3BlcmF0b3JcIikpO1xyXG52YXIgQ29uc3RhbnRzXzEgPSByZXF1aXJlKFwiLi9Db25zdGFudHNcIik7XHJcbnZhciBvcHMgPSBfX2ltcG9ydFN0YXIocmVxdWlyZShcIi4vT3BzXCIpKTtcclxudmFyIGRpbVBvbCA9IERpbWVuc2lvbl8xLmRlZmF1bHQucG9sYXJpemF0aW9uKCk7XHJcbnZhciBkaW1EaXIgPSBEaW1lbnNpb25fMS5kZWZhdWx0LmRpcmVjdGlvbigpO1xyXG52YXIgaWRQb2wgPSBPcGVyYXRvcl8xLmRlZmF1bHQuaWRlbnRpdHkoW2RpbVBvbF0pO1xyXG52YXIgaWREaXIgPSBPcGVyYXRvcl8xLmRlZmF1bHQuaWRlbnRpdHkoW2RpbURpcl0pO1xyXG52YXIgcHJvakggPSBPcGVyYXRvcl8xLmRlZmF1bHQuaW5kaWNhdG9yKFtkaW1Qb2xdLCBcIkhcIik7XHJcbnZhciBwcm9qViA9IE9wZXJhdG9yXzEuZGVmYXVsdC5pbmRpY2F0b3IoW2RpbVBvbF0sIFwiVlwiKTtcclxudmFyIG1vZCA9IGZ1bmN0aW9uICh4LCBuKSB7IHJldHVybiAoKHggJSBuKSArIG4pICUgbjsgfTtcclxuLyoqXHJcbiAqIFN1Z2FyIHNvbHV0aW9uIChmb3IgcG9sYXJpemF0aW9uIHJvdGF0aW9uKVxyXG4gKiBAcGFyYW0gcm90IFJvdGF0aW9uIGFuZ2xlIChpbiBUQVUpIGZvciBwb2xhcml6YXRpb24uIEJ5IGRlZmF1bHQgMS84ICg0NWRlZykuXHJcbiAqIEZvciBtb3JlIHN1Z2FyIGN1YmVzLCAyLzggYW5kIDMvOCBtYWtlIHNlbnNlLlxyXG4gKi9cclxuZnVuY3Rpb24gc3VnYXJTb2x1dGlvbihwb2xhcml6YXRpb25Sb3RhdGlvbikge1xyXG4gICAgaWYgKHBvbGFyaXphdGlvblJvdGF0aW9uID09PSB2b2lkIDApIHsgcG9sYXJpemF0aW9uUm90YXRpb24gPSAwLjEyNTsgfVxyXG4gICAgcmV0dXJuIE9wZXJhdG9yXzEuZGVmYXVsdC5vdXRlcihbaWREaXIsIG9wcy5yb3RhdGlvbk1hdHJpeChwb2xhcml6YXRpb25Sb3RhdGlvbiAqIENvbnN0YW50c18xLlRBVSwgZGltUG9sKV0pO1xyXG59XHJcbmV4cG9ydHMuc3VnYXJTb2x1dGlvbiA9IHN1Z2FyU29sdXRpb247XHJcbi8qKlxyXG4gKiBBbiBhdHRlbnVhdG9yLCBvcjogbmV1dHJhbCBkZW5zaXR5IGZpbHRlclxyXG4gKiBAcGFyYW0gciBBbXBsaXR1ZGUgYXR0ZW51YXRpb24gZmFjdG9yLiBJbnRlbnNpdHkgaXMgY2hhbmdlZCBieSByXjIuXHJcbiAqIEJ5IGRlZmF1bHQgaXQgYWJzb3JicyA1MCUgcGhvdG9ucy5cclxuICovXHJcbmZ1bmN0aW9uIGF0dGVudWF0b3Iocikge1xyXG4gICAgaWYgKHIgPT09IHZvaWQgMCkgeyByID0gTWF0aC5TUVJUMV8yOyB9XHJcbiAgICByZXR1cm4gb3BzLmFtcGxpdHVkZUludGVuc2l0eShyLCAwKTtcclxufVxyXG5leHBvcnRzLmF0dGVudWF0b3IgPSBhdHRlbnVhdG9yO1xyXG4vKipcclxuICogQSB2YWN1dW0gamFyIC0gYWR2YW5jZXMgcGhhc2UgYnkgbGFtYmRhLzQuXHJcbiAqL1xyXG5mdW5jdGlvbiB2YWN1dW1KYXIoKSB7XHJcbiAgICByZXR1cm4gb3BzLmFtcGxpdHVkZUludGVuc2l0eSgxLCAtMC4yNSk7XHJcbn1cclxuZXhwb3J0cy52YWN1dW1KYXIgPSB2YWN1dW1KYXI7XHJcbi8qKlxyXG4gKiBBIGdsYXNzIHNsYWIgLSBkZWxheXMgcGhhc2UgYnkgbGFtYmRhLzQuXHJcbiAqL1xyXG5mdW5jdGlvbiBnbGFzc1NsYWIoKSB7XHJcbiAgICByZXR1cm4gb3BzLmFtcGxpdHVkZUludGVuc2l0eSgxLCArMC4yNSk7XHJcbn1cclxuZXhwb3J0cy5nbGFzc1NsYWIgPSBnbGFzc1NsYWI7XHJcbi8qKlxyXG4gKiBBIGJvdGgtc2lkZWQgbWlycm9yLCBmcm9tIG1ldGFsIG9yIGFueSBvdGhlciBvcHRpY2FsbHkgZGVuc2VyIG1lZGl1bS5cclxuICogMDogLSwgNDU6IC8sIDkwOiB8LCAxMzU6IFxcXHJcbiAqIEBhbmdsZSBBbmdsZSBpbiBkZWdyZWVzLCBmcm9tIC0+IENDVy4gTmVlZHMgdG8gYmUgbXVsdGlwbGUgb2YgNDVkZWcuXHJcbiAqIEByZXR1cm5zIE9wZXJhdG9yIHdpdGggZGltZW5zaW9ucyBbZGltRGlyLCBkaW1Qb2xdLlxyXG4gKi9cclxuZnVuY3Rpb24gbWlycm9yKGFuZ2xlKSB7XHJcbiAgICByZXR1cm4gT3BlcmF0b3JfMS5kZWZhdWx0Lm91dGVyKFtcclxuICAgICAgICBvcHMucmVmbGVjdEZyb21QbGFuZURpcmVjdGlvbihhbmdsZSksXHJcbiAgICAgICAgb3BzLnJlZmxlY3RQaGFzZUZyb21EZW5zZXIoKSxcclxuICAgIF0pO1xyXG59XHJcbmV4cG9ydHMubWlycm9yID0gbWlycm9yO1xyXG4vKipcclxuICogQSBzeW1tZXRyaWMgbm9uLXBvbGFyaXppbmcgYmVhbSBzcGxpdHRlci5cclxuICogVGhpbms6IGEgdmVyeSB0aGluIHNsYWIgb2YgZ2xhc3MuXHJcbiAqIDA6IC0sIDQ1OiAvLCA5MDogfCwgMTM1OiBcXFxyXG4gKiBAYW5nbGUgQW5nbGUgaW4gZGVncmVlcywgZnJvbSAtPiBDQ1cuIE5lZWRzIHRvIGJlIG11bHRpcGxlIG9mIDQ1ZGVnLlxyXG4gKiBAcmV0dXJucyBPcGVyYXRvciB3aXRoIGRpbWVuc2lvbnMgW2RpbURpciwgZGltUG9sXS5cclxuICogQHRvZG8gQ0hFQ0sgcmVmbGVjdGlvbiBwaGFzZS5cclxuICovXHJcbmZ1bmN0aW9uIGJlYW1TcGxpdHRlcihhbmdsZSkge1xyXG4gICAgcmV0dXJuIE9wZXJhdG9yXzEuZGVmYXVsdC5vdXRlcihbb3BzLnJlZmxlY3RGcm9tUGxhbmVEaXJlY3Rpb24oYW5nbGUpLCBvcHMucmVmbGVjdFBoYXNlRnJvbURlbnNlcigpXSlcclxuICAgICAgICAubXVsQ29uc3RhbnQoQ29tcGxleF8xLkN4KDAsIDEpKSAvLyBUT0RPOiBjaGVjayBwaGFzZSBoZXJlXHJcbiAgICAgICAgLmFkZChvcHMuYmVhbXNwbGl0dGVyVHJhbnNtaXR0aW9uRGlyZWN0aW9ucyhhbmdsZSkub3V0ZXIoaWRQb2wpKVxyXG4gICAgICAgIC5tdWxDb25zdGFudChvcHMuaXNxcnQyKTtcclxufVxyXG5leHBvcnRzLmJlYW1TcGxpdHRlciA9IGJlYW1TcGxpdHRlcjtcclxuLyoqXHJcbiAqIEEgY29ybmVyIGN1YmUsIGZyb20gaW4gYWxsIDQgZGlyZWN0aW9ucy5cclxuICogaHR0cHM6Ly9lbi53aWtpcGVkaWEub3JnL3dpa2kvQ29ybmVyX3JlZmxlY3RvclxyXG4gKi9cclxuZnVuY3Rpb24gY29ybmVyQ3ViZSgpIHtcclxuICAgIHJldHVybiBPcGVyYXRvcl8xLmRlZmF1bHQub3V0ZXIoW1xyXG4gICAgICAgIE9wZXJhdG9yXzEuZGVmYXVsdC5mcm9tU3BhcnNlQ29vcmROYW1lcyhbW1wiPFwiLCBcIj5cIiwgQ29tcGxleF8xLkN4KDEpXSwgW1widlwiLCBcIl5cIiwgQ29tcGxleF8xLkN4KDEpXSwgW1wiPlwiLCBcIjxcIiwgQ29tcGxleF8xLkN4KDEpXSwgW1wiXlwiLCBcInZcIiwgQ29tcGxleF8xLkN4KDEpXV0sIFtkaW1EaXJdKSxcclxuICAgICAgICBpZFBvbCxcclxuICAgIF0pO1xyXG59XHJcbmV4cG9ydHMuY29ybmVyQ3ViZSA9IGNvcm5lckN1YmU7XHJcbi8qKlxyXG4gKiBBIHBvbGFyaXppbmcgYmVhbSBzcGxpdHRlci5cclxuICogVGhpbms6IGEgdmVyeSB0aGluIHNsYWIgb2YgZ2xhc3MuXHJcbiAqIDQ1OiBbL10sIDEzNTogW1xcXVxyXG4gKiBAYW5nbGUgQW5nbGUgaW4gZGVncmVlcywgZnJvbSAtPiBDQ1cuIE5lZWRzIHRvIGJlIDQ1IG9yIDEzNWRlZywgdXAgdG8gMTgwZGVnLlxyXG4gKiBAcmV0dXJucyBPcGVyYXRvciB3aXRoIGRpbWVuc2lvbnMgW2RpbURpciwgZGltUG9sXS5cclxuICovXHJcbmZ1bmN0aW9uIHBvbGFyaXppbmdCZWFtc3BsaXR0ZXIoYW5nbGUpIHtcclxuICAgIGlmICghbG9kYXNoXzEuZGVmYXVsdC5pbmNsdWRlcyhbNDUsIDEzNV0sIG1vZChhbmdsZSwgMTgwKSkpIHtcclxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJwb2xhcml6aW5nQmVhbXNwbGl0dGVyOiBhbmdsZSBcIiArIGFuZ2xlICsgXCIgbW9kIDE4MCBub3QgaW4gWzQ1LCAxMzVdLlwiKTtcclxuICAgIH1cclxuICAgIHJldHVybiBPcGVyYXRvcl8xLmRlZmF1bHQuYWRkKFtcclxuICAgICAgICBpZERpci5vdXRlcihwcm9qSCksXHJcbiAgICAgICAgb3BzLnJlZmxlY3RGcm9tUGxhbmVEaXJlY3Rpb24oYW5nbGUpLm91dGVyKHByb2pWKSxcclxuICAgIF0pO1xyXG59XHJcbmV4cG9ydHMucG9sYXJpemluZ0JlYW1zcGxpdHRlciA9IHBvbGFyaXppbmdCZWFtc3BsaXR0ZXI7XHJcbi8qKlxyXG4gKiBGYXJhZGF5IHJvdGF0b3IgKGZvciBwb2xhcml6YXRpb24gcm90YXRpb24pXHJcbiAqIGh0dHBzOi8vZW4ud2lraXBlZGlhLm9yZy93aWtpL0ZhcmFkYXlfcm90YXRvclxyXG4gKiBAYW5nbGUgQW5nbGUgaW4gZGVncmVlcywgZnJvbSAtPiBDQ1cuIE5lZWRzIHRvIGJlIG11bHRpcGxlIG9mIDkwLlxyXG4gKiAwOiAtPiwgNDU6IF4sIDkwOiA8LSwgMTM1OiB2XHJcbiAqIEBwYXJhbSByb3QgUm90YXRpb24gYW5nbGUgKGluIFRBVSkgZm9yIHBvbGFyaXphdGlvbi4gQnkgZGVmYXVsdCAxLzggKDQ1ZGVnKS5cclxuICogRm9yIG1vcmUgY3VycmVudCwgMi84IGFuZCAzLzggbWFrZSBzZW5zZS5cclxuICovXHJcbmZ1bmN0aW9uIGZhcmFkYXlSb3RhdG9yKGFuZ2xlLCBwb2xhcml6YXRpb25Sb3RhdGlvbikge1xyXG4gICAgaWYgKHBvbGFyaXphdGlvblJvdGF0aW9uID09PSB2b2lkIDApIHsgcG9sYXJpemF0aW9uUm90YXRpb24gPSAwLjEyNTsgfVxyXG4gICAgcmV0dXJuIE9wZXJhdG9yXzEuZGVmYXVsdC5hZGQoW1xyXG4gICAgICAgIE9wZXJhdG9yXzEuZGVmYXVsdC5vdXRlcihbXHJcbiAgICAgICAgICAgIG9wcy5kaW9kZUZvckRpcmVjdGlvbnMoYW5nbGUpLFxyXG4gICAgICAgICAgICBvcHMucm90YXRpb25NYXRyaXgocG9sYXJpemF0aW9uUm90YXRpb24gKiBDb25zdGFudHNfMS5UQVUsIGRpbVBvbCksXHJcbiAgICAgICAgXSksXHJcbiAgICAgICAgT3BlcmF0b3JfMS5kZWZhdWx0Lm91dGVyKFtcclxuICAgICAgICAgICAgb3BzLmRpb2RlRm9yRGlyZWN0aW9ucyhhbmdsZSArIDE4MCksXHJcbiAgICAgICAgICAgIG9wcy5yb3RhdGlvbk1hdHJpeCgtcG9sYXJpemF0aW9uUm90YXRpb24gKiBDb25zdGFudHNfMS5UQVUsIGRpbVBvbCksXHJcbiAgICAgICAgXSksXHJcbiAgICBdKTtcclxufVxyXG5leHBvcnRzLmZhcmFkYXlSb3RhdG9yID0gZmFyYWRheVJvdGF0b3I7XHJcbi8qKlxyXG4gKiBBIGxpbmVhciBwb2xhcml6ZXIuXHJcbiAqIEBwYXJhbSBhbmdsZSBJbiBwbGFuZSByb3RhdGlvbiwgaW4gZGVncmVlcyBbMCwgOTAsIDE4MCwgMjcwXSwgaS5lICB8IC0gfCAtLlxyXG4gKiBAcGFyYW0gcG9sYXJpemF0aW9uT3JpZW50YXRpb24gQSBudW1iZXIsIGluIHRhdSwgaS5lLiBbMCwgMV0uIDAgdHJhbnNtaXRzIGhvdGl6b250YWwgcG9sYXJpemF0aW9uLCAwLjI1IC0gdmVydGljYWwuXHJcbiAqIEB0b2RvIENoZWNrIGFuZ2xlIGNvbnZlbnRpb25zLlxyXG4gKi9cclxuZnVuY3Rpb24gcG9sYXJpemVyKGFuZ2xlLCBwb2xhcml6YXRpb25PcmllbnRhdGlvbikge1xyXG4gICAgcmV0dXJuIE9wZXJhdG9yXzEuZGVmYXVsdC5hZGQoW1xyXG4gICAgICAgIE9wZXJhdG9yXzEuZGVmYXVsdC5vdXRlcihbXHJcbiAgICAgICAgICAgIG9wcy5kaW9kZUZvckRpcmVjdGlvbnMoYW5nbGUpLFxyXG4gICAgICAgICAgICBvcHMucHJvamVjdGlvbk1hdHJpeChwb2xhcml6YXRpb25PcmllbnRhdGlvbiAqIENvbnN0YW50c18xLlRBVSwgZGltUG9sKSxcclxuICAgICAgICBdKSxcclxuICAgICAgICBPcGVyYXRvcl8xLmRlZmF1bHQub3V0ZXIoW1xyXG4gICAgICAgICAgICBvcHMuZGlvZGVGb3JEaXJlY3Rpb25zKGFuZ2xlICsgMTgwKSxcclxuICAgICAgICAgICAgb3BzLnByb2plY3Rpb25NYXRyaXgoLXBvbGFyaXphdGlvbk9yaWVudGF0aW9uICogQ29uc3RhbnRzXzEuVEFVLCBkaW1Qb2wpLFxyXG4gICAgICAgIF0pLFxyXG4gICAgXSk7XHJcbn1cclxuZXhwb3J0cy5wb2xhcml6ZXIgPSBwb2xhcml6ZXI7XHJcbi8qKlxyXG4gKiBBcyBmcm9tIFF1YW50dW0gR2FtZSAxLCBmb3IgY29tcGF0aWJpbGl0eS5cclxuICogRG9uJ3QgdXNlIGluIG90aGVyLlxyXG4gKiBAcGFyYW0gYW5nbGUgSW4gZGVnLiBDYW4gYmUgYW55LCBidXQgd2UgdXNlIFswLCA0NSwgOTAsIC4uLl0uXHJcbiAqIEB0b2RvIENoZWNrIGNvbnZlbnRpb24sIGV0Y1xyXG4gKi9cclxuZnVuY3Rpb24gcG9sYXJpemVyV0UoYW5nbGUpIHtcclxuICAgIHJldHVybiBwb2xhcml6ZXIoMCwgYW5nbGUgLyAzNjApO1xyXG59XHJcbmV4cG9ydHMucG9sYXJpemVyV0UgPSBwb2xhcml6ZXJXRTtcclxuLyoqXHJcbiAqIEFzIGZyb20gUXVhbnR1bSBHYW1lIDEsIGZvciBjb21wYXRpYmlsaXR5LlxyXG4gKiBEb24ndCB1c2UgaW4gb3RoZXIuXHJcbiAqIEBwYXJhbSBhbmdsZSBJbiBkZWcuIENhbiBiZSBhbnksIGJ1dCB3ZSB1c2UgWzAsIDQ1LCA5MCwgLi4uXS5cclxuICogQHRvZG8gQ2hlY2sgY29udmVudGlvbiwgZXRjXHJcbiAqL1xyXG5mdW5jdGlvbiBQb2xhcml6ZXJOUyhhbmdsZSkge1xyXG4gICAgcmV0dXJuIHBvbGFyaXplcig5MCwgYW5nbGUgLyAzNjApO1xyXG59XHJcbmV4cG9ydHMuUG9sYXJpemVyTlMgPSBQb2xhcml6ZXJOUztcclxuLyoqXHJcbiAqIEEgcGhhc2UgcGxhdGUgZm9yIGxpbmVhciBwb2xhcml6YXRpb24uXHJcbiAqIEBwYXJhbSBhbmdsZSBJbiBwbGFuZSByb3RhdGlvbiwgaW4gZGVncmVlcyBbMCwgOTAsIDE4MCwgMjcwXSwgaS5lICB8IC0gfCAtLlxyXG4gKiBAcGFyYW0gcG9sYXJpemF0aW9uT3JpZW50YXRpb24gQSBudW1iZXIsIGluIHRhdSwgaS5lLiBbMCwgMV0uIDAgdHJhbnNtaXRzIGhvdGl6b250YWwgcG9sYXJpemF0aW9uLCAwLjI1IC0gdmVydGljYWwuXHJcbiAqIEBwYXJhbSBwaGFzZSBQaGFzZSBzaGlmdC4gMS80IChkZWZhdWx0KSBmb3IgcXVhdGVyLXdhdmUtcGxhdGUsIDEvMiBmb3IgaGFsZi13YXZlLXBsYXRlLlxyXG4gKiBAdG9kbyBDb252ZW50aW9uOiBtb2RpZnkgdGhpcyBwb2xhcml6YXRpb24sIG9ydG9ub2dhbCwgb3Igc29tZSBvdGhlciB3YXk/XHJcbiAqL1xyXG5mdW5jdGlvbiBwaGFzZVBsYXRlKGFuZ2xlLCBwb2xhcml6YXRpb25PcmllbnRhdGlvbiwgcGhhc2UpIHtcclxuICAgIGlmIChwaGFzZSA9PT0gdm9pZCAwKSB7IHBoYXNlID0gMSAvIDQ7IH1cclxuICAgIHJldHVybiBPcGVyYXRvcl8xLmRlZmF1bHQuYWRkKFtcclxuICAgICAgICBPcGVyYXRvcl8xLmRlZmF1bHQub3V0ZXIoW1xyXG4gICAgICAgICAgICBvcHMuZGlvZGVGb3JEaXJlY3Rpb25zKGFuZ2xlKSxcclxuICAgICAgICAgICAgb3BzLnBoYXNlU2hpZnRGb3JSZWFsRWlnZW52ZWN0b3JzKHBvbGFyaXphdGlvbk9yaWVudGF0aW9uICogQ29uc3RhbnRzXzEuVEFVLCAwLCBwaGFzZSwgZGltUG9sKSxcclxuICAgICAgICBdKSxcclxuICAgICAgICBPcGVyYXRvcl8xLmRlZmF1bHQub3V0ZXIoW1xyXG4gICAgICAgICAgICBvcHMuZGlvZGVGb3JEaXJlY3Rpb25zKGFuZ2xlICsgMTgwKSxcclxuICAgICAgICAgICAgb3BzLnBoYXNlU2hpZnRGb3JSZWFsRWlnZW52ZWN0b3JzKC1wb2xhcml6YXRpb25PcmllbnRhdGlvbiAqIENvbnN0YW50c18xLlRBVSwgMCwgcGhhc2UsIGRpbVBvbCksXHJcbiAgICAgICAgXSksXHJcbiAgICBdKTtcclxufVxyXG5leHBvcnRzLnBoYXNlUGxhdGUgPSBwaGFzZVBsYXRlO1xyXG4vKipcclxuICogQXMgZnJvbSBRdWFudHVtIEdhbWUgMSwgZm9yIGNvbXBhdGliaWxpdHkuXHJcbiAqIERvbid0IHVzZSBpbiBvdGhlci5cclxuICogQHBhcmFtIGFuZ2xlIEluIGRlZy4gQ2FuIGJlIGFueSwgYnV0IHdlIHVzZSBbMCwgNDUsIDkwLCAuLi5dLlxyXG4gKiBAdG9kbyBDaGVjayBjb252ZW50aW9uLCBldGNcclxuICovXHJcbmZ1bmN0aW9uIHF1YXJ0ZXJXYXZlUGxhdGVXRShhbmdsZSkge1xyXG4gICAgcmV0dXJuIHBoYXNlUGxhdGUoMCwgYW5nbGUgLyAzNjApO1xyXG59XHJcbmV4cG9ydHMucXVhcnRlcldhdmVQbGF0ZVdFID0gcXVhcnRlcldhdmVQbGF0ZVdFO1xyXG4vKipcclxuICogQXMgZnJvbSBRdWFudHVtIEdhbWUgMSwgZm9yIGNvbXBhdGliaWxpdHkuXHJcbiAqIEBwYXJhbSBhbmdsZSBJbiBkZWcuIENhbiBiZSBhbnksIGJ1dCB3ZSB1c2UgWzAsIDQ1LCA5MCwgLi4uXS5cclxuICogQHRvZG8gQ2hlY2sgY29udmVudGlvbiwgZXRjXHJcbiAqL1xyXG5mdW5jdGlvbiBxdWFydGVyV2F2ZVBsYXRlTlMoYW5nbGUpIHtcclxuICAgIHJldHVybiBwaGFzZVBsYXRlKDkwLCBhbmdsZSAvIDM2MCk7XHJcbn1cclxuZXhwb3J0cy5xdWFydGVyV2F2ZVBsYXRlTlMgPSBxdWFydGVyV2F2ZVBsYXRlTlM7XHJcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPUVsZW1lbnRzLmpzLm1hcCIsIi8vIEdSSUQgQ0xBU1NcclxuLy8gRklYTUU6IEZpZ3VyZSBhIHdheSB0byBoYXZlIHVpZCBhbmQgY29vcmQgYWNjZXNzIHRvIGNlbGxzXHJcbi8vIEZJWE1FOiBGaWd1cmUgb3V0IGJsYW5rIGNlbGxzIGluIGNvbnN0cnVjdG9yXHJcbi8vIEZJWE1FOiBNb3ZlIGZ1bmN0aW9ucyB0byBhIENsdXN0ZXIgQ2VsbFtdIGZ1bmN0aW9uYWxpdHlcclxuaW1wb3J0IHsgT3BlcmF0b3IgfSBmcm9tIFwicXVhbnR1bS10ZW5zb3JzXCI7XHJcbmltcG9ydCBDb29yZCBmcm9tIFwiLi9Db29yZFwiO1xyXG5pbXBvcnQgRWxlbWVudCBmcm9tIFwiLi9FbGVtZW50XCI7XHJcbmltcG9ydCBDZWxsLCB7IENlbGxJbnRlcmZhY2UgfSBmcm9tIFwiLi9DZWxsXCI7XHJcbmltcG9ydCB7IEdyaWRJbnRlcmZhY2UgfSBmcm9tIFwiLi9HcmlkXCI7XHJcbmltcG9ydCBDbHVzdGVyIGZyb20gXCIuL0NsdXN0ZXJcIjtcclxuaW1wb3J0IFBhcnRpY2xlLCB7IFBhcnRpY2xlSW50ZXJmYWNlIH0gZnJvbSBcIi4vUGFydGljbGVcIjtcclxuXHJcbi8qKlxyXG4gKiBHcmlkIGludGVyZmFjZSBjb21wb3NlZCBvZiBwcmltaXRpdmUgSlMgdHlwZXNcclxuICovXHJcbmV4cG9ydCBpbnRlcmZhY2UgR3JpZEludGVyZmFjZSB7XHJcbiAgY29sczogbnVtYmVyO1xyXG4gIHJvd3M6IG51bWJlcjtcclxuICBjZWxsczogQ2VsbEludGVyZmFjZVtdO1xyXG59XHJcblxyXG4vKipcclxuICogR3JpZCBjbGFzcyBpbmNsdWRlcyB0aGUgZ3JpZCBpbnN0YW5jZSB0aGF0IGhvbGRzIHRoZSBjZWxsc1xyXG4gKi9cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgR3JpZCB7XHJcbiAgcHVibGljIGNvbHM6IG51bWJlcjtcclxuICBwdWJsaWMgcm93czogbnVtYmVyO1xyXG4gIHB1YmxpYyBtYXRyaXg6IENlbGxbXVtdO1xyXG4gIHB1YmxpYyBjbHVzdGVyczogQ2x1c3RlcltdO1xyXG4gIHB1YmxpYyBwYXRoczogUGFydGljbGVbXTtcclxuXHJcbiAgY29uc3RydWN0b3Iocm93czogbnVtYmVyLCBjb2xzOiBudW1iZXIsIG1hdHJpeD86IENlbGxbXVtdKSB7XHJcbiAgICB0aGlzLnJvd3MgPSByb3dzO1xyXG4gICAgdGhpcy5jb2xzID0gY29scztcclxuICAgIHRoaXMuY2x1c3RlcnMgPSBbXTtcclxuXHJcbiAgICAvLyBJZiBtYXRyaXggc3BlY2lmaWVkIGV4dHJhY3QgY2VsbHNcclxuICAgIGlmIChtYXRyaXgpIHtcclxuICAgICAgdGhpcy5tYXRyaXggPSBtYXRyaXg7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICAvLyBFbHNlIGNyZWF0ZSBibGFuayBjZWxsc1xyXG4gICAgICB0aGlzLm1hdHJpeCA9IG5ldyBBcnJheSh0aGlzLnJvd3MpXHJcbiAgICAgICAgLmZpbGwoMClcclxuICAgICAgICAubWFwKCgpID0+IG5ldyBBcnJheSh0aGlzLmNvbHMpLmZpbGwoMCkpO1xyXG4gICAgICBmb3IgKGxldCB5ID0gMDsgeSA8IHJvd3M7IHkrKykge1xyXG4gICAgICAgIGZvciAobGV0IHggPSAwOyB4IDwgY29sczsgeCsrKSB7XHJcbiAgICAgICAgICBjb25zdCBjb29yZCA9IENvb3JkLmltcG9ydENvb3JkKHsgeTogeSwgeDogeCB9KTtcclxuICAgICAgICAgIHRoaXMuc2V0KG5ldyBDZWxsKGNvb3JkLCBFbGVtZW50LmZyb21OYW1lKFwidm9pZFwiKSkpO1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHRoaXMucGF0aHMgPSB0aGlzLmNvbXB1dGVQYXRocygpO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogR2V0IGNlbnRlciBjb29yZGluYXRlIG9mIGdyaWRcclxuICAgKiBAcmV0dXJucyBjZW50ZXIgY29vcmRpbmF0ZVxyXG4gICAqL1xyXG4gIGdldCBjZW50ZXIoKTogQ29vcmQge1xyXG4gICAgcmV0dXJuIENvb3JkLmltcG9ydENvb3JkKHtcclxuICAgICAgeTogTWF0aC5mbG9vcih0aGlzLmNvbHMgLyAyKSxcclxuICAgICAgeDogTWF0aC5mbG9vcih0aGlzLnJvd3MgLyAyKVxyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBSZXRyaWV2ZSB0aGUgbGlzdCBvZiBxdWFudHVtIG9wZXJhdG9ycyBmcm9tIHRoZSBlbGVtZW50c1xyXG4gICAqIEByZXR1cm5zIGxpc3Qgb2Ygb3BlcmF0b3JzXHJcbiAgICovXHJcbiAgZ2V0IG9wZXJhdG9yTGlzdCgpOiBbbnVtYmVyLCBudW1iZXIsIE9wZXJhdG9yXVtdIHtcclxuICAgIHJldHVybiB0aGlzLnVudm9pZC5tYXAoY2VsbCA9PiB7XHJcbiAgICAgIHJldHVybiBbXHJcbiAgICAgICAgY2VsbC5jb29yZC54LFxyXG4gICAgICAgIGNlbGwuY29vcmQueSxcclxuICAgICAgICBjZWxsLmVsZW1lbnQudHJhbnNpdGlvbihjZWxsLnJvdGF0aW9uKVxyXG4gICAgICBdO1xyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBGaWx0ZXJzIGNlbGxzIGJ5IG5hbWUgKG5lZWRzIHJlZmFjdG9yaW5nKVxyXG4gICAqIEBwYXJhbSBuYW1lIE5hbWUgb2YgdGhlIGVsZW1lbnQgdG8gbG9vayBmb3JcclxuICAgKiBAcmV0dXJucyBsaXN0IG9mIGNlbGxzIG9mIGEgc3BlY2lmaWMgdHlwZVxyXG4gICAqL1xyXG4gIHB1YmxpYyBmaWx0ZXJlZEJ5KG5hbWU6IHN0cmluZyk6IENlbGxbXSB7XHJcbiAgICByZXR1cm4gdGhpcy5jZWxscy5maWx0ZXIoY2VsbCA9PiB7XHJcbiAgICAgIHJldHVybiBjZWxsLmVsZW1lbnQubmFtZSA9PT0gbmFtZTtcclxuICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogRmlsdGVyIGNlbGxzIHRoYXQgYXJlIG5vdCBvZiBhIHNwZWNpZmljIHR5cGVcclxuICAgKiBAcGFyYW0gbmFtZSBOYW1lIG9mIHRoZSBlbGVtZW50IHRvIGF2b2lkXHJcbiAgICovXHJcbiAgcHVibGljIGZpbHRlcmVkQnlOb3QobmFtZTogc3RyaW5nKTogQ2VsbFtdIHtcclxuICAgIHJldHVybiB0aGlzLmNlbGxzLmZpbHRlcihjZWxsID0+IHtcclxuICAgICAgcmV0dXJuIGNlbGwuZWxlbWVudC5uYW1lICE9PSBuYW1lO1xyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBJcyBhIGNvb3JkaW5hdGUgaW5zaWRlIHRoZSBncmlkXHJcbiAgICogQHBhcmFtIGNvb3JkIENvb3JkaWFudGUgdG8gdGVzdFxyXG4gICAqIEByZXR1cm5zIGJvb2xlYW4gaWYgaW5jbHVkZWRcclxuICAgKi9cclxuICBwdWJsaWMgaW5jbHVkZXMoY29vcmQ6IENvb3JkKTogYm9vbGVhbiB7XHJcbiAgICByZXR1cm4gKFxyXG4gICAgICBjb29yZC55ID49IDAgJiZcclxuICAgICAgY29vcmQueSA8IHRoaXMucm93cyAmJlxyXG4gICAgICAoY29vcmQueCA+PSAwICYmIGNvb3JkLnggPCB0aGlzLmNvbHMpXHJcbiAgICApO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogU2V0IGEgY2VsbCBhdCBhIHNwZWNpZmljIGNvb3JkaW5hdGVcclxuICAgKiBAcGFyYW0gY2VsbCBDZWxsIHRvIHNldCBhdCBhIGdyaWQgY29vcmRpbmF0ZVxyXG4gICAqIEByZXR1cm5zIGJvb2xlYW4gaWYgb3BlcmF0aW9uIGlzIHN1Y2Nlc3NmdWxsXHJcbiAgICovXHJcbiAgcHVibGljIHNldChjZWxsOiBDZWxsKTogYm9vbGVhbiB7XHJcbiAgICBpZiAodGhpcy5pbmNsdWRlcyhjZWxsLmNvb3JkKSkge1xyXG4gICAgICB0aGlzLm1hdHJpeFtjZWxsLmNvb3JkLnldW2NlbGwuY29vcmQueF0gPSBjZWxsO1xyXG4gICAgICByZXR1cm4gdHJ1ZTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIC8vIHRocm93IG5ldyBSYW5nZUVycm9yKGBDb29yZGluYXRlIG91dCBvZiBib3VuZHMuIENlbGw6IFske2NlbGwuY29vcmQueH0sICR7Y2VsbC5jb29yZC55fV1gKVxyXG4gICAgICAvLyBjb25zb2xlLmVycm9yKGBDb29yZGluYXRlIG91dCBvZiBib3VuZHMuICR7Y2VsbC5jb29yZC50b1N0cmluZygpfWApXHJcbiAgICAgIHJldHVybiBmYWxzZTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIFJldHJpZXZlIHRoZSBjZWxsIGF0IGEgc3BlY2lmaWVkIGNvb3JkaW5hdGVcclxuICAgKiBAcGFyYW0gY29vcmQgQ29vcmRpbmF0ZSB0byBnZXRcclxuICAgKiBAcmV0dXJucyBDZWxsXHJcbiAgICovXHJcbiAgcHVibGljIGdldChjb29yZDogQ29vcmQpOiBDZWxsIHtcclxuICAgIHJldHVybiB0aGlzLm1hdHJpeFtjb29yZC55XVtjb29yZC54XTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIE1vdmUgYSBjZWxsIHRvIGFub3RoZXIgY29vcmRcclxuICAgKiBAcGFyYW0gc3JjIHNvdXJjZSBjb29yZGluYXRlXHJcbiAgICogQHBhcmFtIGRzdCBkZXN0aW5hdGlvbiBjb29yZGluYXRlXHJcbiAgICogQHJldHVybnMgYm9vbGVhbiBpZiBzdWNjZXNzXHJcbiAgICovXHJcbiAgcHVibGljIG1vdmUoc3JjOiBDb29yZCwgZHN0OiBDb29yZCk6IGJvb2xlYW4ge1xyXG4gICAgY29uc3QgY2VsbFNyYyA9IHRoaXMuZ2V0KHNyYyk7XHJcbiAgICBjb25zdCBjZWxsRHN0ID0gdGhpcy5nZXQoZHN0KTtcclxuICAgIGlmICghY2VsbFNyYy5mcm96ZW4gJiYgIWNlbGxEc3QuZnJvemVuKSB7XHJcbiAgICAgIHRoaXMuc2V0KG5ldyBDZWxsKHNyYywgY2VsbERzdC5lbGVtZW50LCBjZWxsRHN0LnJvdGF0aW9uKSk7XHJcbiAgICAgIHRoaXMuc2V0KG5ldyBDZWxsKGRzdCwgY2VsbFNyYy5lbGVtZW50LCBjZWxsU3JjLnJvdGF0aW9uKSk7XHJcbiAgICAgIGNvbnNvbGUubG9nKFxyXG4gICAgICAgIGBNb3ZlZCAke2NlbGxTcmMuZWxlbWVudH0gZnJvbSAke3NyYy50b1N0cmluZygpfSB0byAke2RzdC50b1N0cmluZygpfWBcclxuICAgICAgKTtcclxuICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICBjb25zb2xlLmVycm9yKFxyXG4gICAgICAgIGBDb3VsZG4ndCBtb3ZlICR7Y2VsbFNyYy5lbGVtZW50fSBiZWNhdXNlIG9mIGZyb3plbiAke2RzdC50b1N0cmluZygpfWBcclxuICAgICAgKTtcclxuICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogTW92ZSBhbGwgZWxlbWVudHMgdG8gYSBjb21tb24gZGlyZWN0aW9uXHJcbiAgICogQHBhcmFtIGRpcmVjdGlvbiBkaXJlY3Rpb24gc3RyaW5nXHJcbiAgICovXHJcbiAgcHVibGljIG1vdmVBbGwoZGlyZWN0aW9uOiBzdHJpbmcpOiB2b2lkIHtcclxuICAgIHRoaXMuY2VsbHMubWFwKGNlbGwgPT4ge1xyXG4gICAgICBzd2l0Y2ggKGRpcmVjdGlvbikge1xyXG4gICAgICAgIGNhc2UgXCJ0b3BcIjpcclxuICAgICAgICAgIGNlbGwuY29vcmQgPSBjZWxsLmNvb3JkLnRvcDtcclxuICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIGNhc2UgXCJib3R0b21cIjpcclxuICAgICAgICAgIGNlbGwuY29vcmQgPSBjZWxsLmNvb3JkLmJvdHRvbTtcclxuICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIGNhc2UgXCJsZWZ0XCI6XHJcbiAgICAgICAgICBjZWxsLmNvb3JkID0gY2VsbC5jb29yZC5sZWZ0O1xyXG4gICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgY2FzZSBcInJpZ2h0XCI6XHJcbiAgICAgICAgICBjZWxsLmNvb3JkID0gY2VsbC5jb29yZC5yaWdodDtcclxuICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIGRlZmF1bHQ6XHJcbiAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJXcm9uZyBkaXJlY3Rpb24gZ2l2ZW46IFt0b3AsIGJvdHRvbSwgbGVmdCwgcmlnaHRdXCIpO1xyXG4gICAgICB9XHJcbiAgICAgIHRoaXMuc2V0KGNlbGwpO1xyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBGaXJlIGFsbCB0aGUgbGFzZXJzXHJcbiAgICogQHJldHVybnMgdGhlIHBhcnRpY2xlcyBmaXJlZFxyXG4gICAqL1xyXG4gIHB1YmxpYyBmaXJlTGFzZXJzKCk6IFBhcnRpY2xlW10ge1xyXG4gICAgcmV0dXJuIHRoaXMuYWN0aXZlTGFzZXJzLm1hcChsYXNlciA9PiB7XHJcbiAgICAgIHJldHVybiBsYXNlci5maXJlKCk7XHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIENvbXB1dGUgdGhlIGNsYXNzaWNhbCBpbnRlbnNpdHkgdXNpbmcgbGFzZXIgcGF0aHMgb2YgYSBjb29yZGluYXRlXHJcbiAgICogRklYTUU6IE1vdmUgdG8gbGV2ZWwgb3IgdG8gZ3JpZFxyXG4gICAqIEBwYXJhbSBjb29yZCBDb29yZGluYXRlXHJcbiAgICovXHJcbiAgY29vcmRJbnRlbnNpdHlTdW0oY29vcmQ6IENvb3JkKTogbnVtYmVyIHtcclxuICAgIGxldCBzdW0gPSAwO1xyXG4gICAgdGhpcy5wYXRoc1xyXG4gICAgICAuZmlsdGVyKHBhcnRpY2xlSW50ZXJmYWNlID0+IHtcclxuICAgICAgICByZXR1cm4gY29vcmQuZXF1YWwocGFydGljbGVJbnRlcmZhY2UuY29vcmQpO1xyXG4gICAgICB9KVxyXG4gICAgICAubWFwKHBhcnRpY2xlID0+IHtcclxuICAgICAgICBzdW0gKz0gcGFydGljbGUuaW50ZW5zaXR5O1xyXG4gICAgICB9KTtcclxuICAgIHJldHVybiBzdW07XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBDb21wdXRlIHRoZSBsYXNlciBwYXRoIG9mIGEgcGFydGljbGVcclxuICAgKiBAcGFyYW0gcGFydGljbGUgUGFydGljbGUgd2hpY2ggbmVlZHMgaXRzIGxhc2VyIHBhdGggY29tcHV0ZWRcclxuICAgKiBAcGFyYW0gbWF4RnJhbWVzIE1heCBudW1iZXIgb2YgZnJhbWVzIHRvIGNvbXB1dGVcclxuICAgKiBAcmV0dXJucyBsaXN0IG9mIFwicGF0aCBwYXJ0aWNsZXNcIlxyXG4gICAqL1xyXG4gIGxhc2VyUGF0aChwYXJ0aWNsZTogUGFydGljbGUsIG1heEZyYW1lcyA9IDUwKTogUGFydGljbGVbXSB7XHJcbiAgICAvLyBNYWtlIGEgZGVwcCBjbG9uZSBvZiB0aGUgcGFydGljbGVcclxuICAgIGxldCBhbGl2ZTogUGFydGljbGVbXSA9IFtwYXJ0aWNsZV07XHJcbiAgICBjb25zdCBkZWFkOiBQYXJ0aWNsZVtdID0gW107XHJcblxyXG4gICAgLy8gU2ltdWxhdGUgcGF0aCB3aXRoIGEgc3BlY2lmaWMgbnVtYmVyIG9mIGZyYW1lc1xyXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBtYXhGcmFtZXM7IGkrKykge1xyXG4gICAgICAvLyBQcm9jZXNzIGVhY2ggbGl2aW5nIHBhcnRpY2xlXHJcbiAgICAgIGFsaXZlLmZvckVhY2gocGFydGljbGUgPT4ge1xyXG4gICAgICAgIHBhcnRpY2xlLm5leHQoKTtcclxuXHJcbiAgICAgICAgLy8gWmVybyB0aGUgaW50ZW5zaXR5IG9mIGVzY2FwaW5nIHBhcnRpY2xlc1xyXG4gICAgICAgIGlmICghdGhpcy5pbmNsdWRlcyhwYXJ0aWNsZS5jb29yZCkpIHtcclxuICAgICAgICAgIHBhcnRpY2xlLmludGVuc2l0eSA9IDA7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyBBYnNvcnB0aW9uXHJcbiAgICAgICAgdGhpcy5hYnNvcmJlcnMuZm9yRWFjaCgoYWJzb3JiZXI6IENlbGwpID0+IHtcclxuICAgICAgICAgIGlmIChwYXJ0aWNsZS5vbihhYnNvcmJlcikpIHtcclxuICAgICAgICAgICAgcGFydGljbGUuaW50ZW5zaXR5IC09XHJcbiAgICAgICAgICAgICAgcGFydGljbGUuaW50ZW5zaXR5ICogYWJzb3JiZXIuZWxlbWVudC5hYnNvcnB0aW9uO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICAvLyBSZWZsZWN0aW9uXHJcbiAgICAgICAgdGhpcy5taXJyb3JzLmZvckVhY2goKG1pcnJvcjogQ2VsbCkgPT4ge1xyXG4gICAgICAgICAgaWYgKHBhcnRpY2xlLm9uKG1pcnJvcikpIHtcclxuICAgICAgICAgICAgcGFydGljbGUuZGlyZWN0aW9uID1cclxuICAgICAgICAgICAgICAoMiAqIG1pcnJvci5yb3RhdGlvbiAtIHBhcnRpY2xlLmRpcmVjdGlvbiArIDM2MCkgJSAzNjA7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgdGhpcy5wb2xhcnNwbGl0dGVycy5mb3JFYWNoKChwb2xhcjogQ2VsbCkgPT4ge1xyXG4gICAgICAgICAgaWYgKHBhcnRpY2xlLm9uKHBvbGFyKSkge1xyXG4gICAgICAgICAgICBpZiAocG9sYXIucm90YXRpb24gPT09IDApIHtcclxuICAgICAgICAgICAgICBjb25zdCBkaXJlY3Rpb24gPVxyXG4gICAgICAgICAgICAgICAgKDIgKiAocG9sYXIucm90YXRpb24gLSA0NSkgLSBwYXJ0aWNsZS5kaXJlY3Rpb24gKyAzNjApICUgMzYwO1xyXG4gICAgICAgICAgICAgIGFsaXZlLnB1c2goXHJcbiAgICAgICAgICAgICAgICBuZXcgUGFydGljbGUocGFydGljbGUuY29vcmQsIGRpcmVjdGlvbiwgcGFydGljbGUuaW50ZW5zaXR5KVxyXG4gICAgICAgICAgICAgICk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKHBvbGFyLnJvdGF0aW9uID09PSAxODApIHtcclxuICAgICAgICAgICAgICBjb25zdCBkaXJlY3Rpb24gPVxyXG4gICAgICAgICAgICAgICAgKDIgKiAocG9sYXIucm90YXRpb24gKyA0NSkgLSBwYXJ0aWNsZS5kaXJlY3Rpb24gKyAzNjApICUgMzYwO1xyXG4gICAgICAgICAgICAgIGFsaXZlLnB1c2goXHJcbiAgICAgICAgICAgICAgICBuZXcgUGFydGljbGUocGFydGljbGUuY29vcmQsIGRpcmVjdGlvbiwgcGFydGljbGUuaW50ZW5zaXR5KVxyXG4gICAgICAgICAgICAgICk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgICAgICB0aGlzLmJlYW1zcGxpdHRlcnMuZm9yRWFjaCgoYmVhbXNwbGl0dGVyOiBDZWxsKSA9PiB7XHJcbiAgICAgICAgICBpZiAocGFydGljbGUub24oYmVhbXNwbGl0dGVyKSkge1xyXG4gICAgICAgICAgICAvLyBEaW0gdGhlIGN1cnJlbnQgcGFydGljbGUgaW50ZW5zaXR5XHJcbiAgICAgICAgICAgIHBhcnRpY2xlLmludGVuc2l0eSAvPSAyO1xyXG4gICAgICAgICAgICAvLyBSZWZsZWN0aW5nIHBhcnRpY2xlIChjcmVhdGUgbmV3IHJlZmxlY3RlZCBmYWRlZCBwYXJ0aWNsZSlcclxuICAgICAgICAgICAgY29uc3QgZGlyZWN0aW9uID1cclxuICAgICAgICAgICAgICAoMiAqIGJlYW1zcGxpdHRlci5yb3RhdGlvbiAtIHBhcnRpY2xlLmRpcmVjdGlvbiArIDM2MCkgJSAzNjA7XHJcbiAgICAgICAgICAgIGFsaXZlLnB1c2goXHJcbiAgICAgICAgICAgICAgbmV3IFBhcnRpY2xlKHBhcnRpY2xlLmNvb3JkLCBkaXJlY3Rpb24sIHBhcnRpY2xlLmludGVuc2l0eSlcclxuICAgICAgICAgICAgKTtcclxuICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgLy8gUGhhc2Ugc2hpZnRlcnNcclxuICAgICAgICB0aGlzLnBoYXNlc2hpZnRlcnMuZm9yRWFjaCgocGhhc2VzaGlmdGVyOiBDZWxsKSA9PiB7XHJcbiAgICAgICAgICBpZiAocGFydGljbGUub24ocGhhc2VzaGlmdGVyKSkge1xyXG4gICAgICAgICAgICBwYXJ0aWNsZS5waGFzZSA9IChwYXJ0aWNsZS5waGFzZSArIHBoYXNlc2hpZnRlci5lbGVtZW50LnBoYXNlKSAlIDE7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICAgIH0pO1xyXG5cclxuICAgICAgLy8gRmlsdGVyIHRoZSBsaXZpbmcgZnJvbSB0aGUgZGVhZFxyXG4gICAgICBhbGl2ZS5mb3JFYWNoKHBhcnRpY2xlID0+IHtcclxuICAgICAgICBpZiAoIXBhcnRpY2xlLmFsaXZlKSB7XHJcbiAgICAgICAgICBkZWFkLnB1c2gocGFydGljbGUpO1xyXG4gICAgICAgIH1cclxuICAgICAgfSk7XHJcbiAgICAgIGFsaXZlID0gYWxpdmUuZmlsdGVyKHBhcnRpY2xlID0+IHtcclxuICAgICAgICByZXR1cm4gcGFydGljbGUuYWxpdmU7XHJcbiAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIEZsYXR0ZW4gYW5kIGRlZHVwZSBsaXN0IG9mIHBhcnRpY2xlc1xyXG4gICAgY29uc3QgcGF0aFBhcnRpY2xlczogUGFydGljbGVbXVtdID0gW107XHJcbiAgICBhbGl2ZSA9IGRlYWQuY29uY2F0KGFsaXZlKTtcclxuICAgIGFsaXZlLmZvckVhY2gocGFydGljbGUgPT4ge1xyXG4gICAgICAvLyBwYXJ0aWNsZS5wYXRoXHJcbiAgICAgIHBhdGhQYXJ0aWNsZXMucHVzaChwYXJ0aWNsZS5wYXRoUGFydGljbGUpO1xyXG4gICAgfSk7XHJcbiAgICByZXR1cm4gWy4uLm5ldyBTZXQocGF0aFBhcnRpY2xlcy5mbGF0KCkpXTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEdpdmVzIHRoZSBjbGFzc2ljYWwgbGFzZXIgcGF0aCBvZiBhIHNwZWNpZmljIHBhcnRpY2xlXHJcbiAgICogQHJldHVybnMgYSBsaXN0IG9mIGNvb3JkaW5hdGVzXHJcbiAgICogKi9cclxuICBjb21wdXRlUGF0aHMoKTogUGFydGljbGVbXSB7XHJcbiAgICBjb25zdCBsYXNlckNvb3JkczogUGFydGljbGVbXSA9IFtdO1xyXG4gICAgY29uc3QgcGFydGljbGVzOiBQYXJ0aWNsZVtdID0gW107XHJcbiAgICB0aGlzLmFjdGl2ZUxhc2Vycy5tYXAobGFzZXIgPT4ge1xyXG4gICAgICBwYXJ0aWNsZXMucHVzaChsYXNlci5maXJlKCkpO1xyXG4gICAgfSk7XHJcbiAgICBwYXJ0aWNsZXMuZm9yRWFjaChwYXJ0aWNsZSA9PiB7XHJcbiAgICAgIHRoaXMubGFzZXJQYXRoKHBhcnRpY2xlLCA0MCkuZm9yRWFjaCgocGFydGljbGU6IFBhcnRpY2xlKSA9PiB7XHJcbiAgICAgICAgaWYgKHBhcnRpY2xlLmNvb3JkLmlzSW5jbHVkZWRJbih0aGlzLmNvb3JkcykpIHtcclxuICAgICAgICAgIGxhc2VyQ29vcmRzLnB1c2gocGFydGljbGUpO1xyXG4gICAgICAgIH1cclxuICAgICAgfSk7XHJcbiAgICB9KTtcclxuICAgIHJldHVybiBsYXNlckNvb3JkcztcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIFNldCB0aGUgY2VsbHMgYXMgZW5lcmdpemVkIGlmIG9uIHRoaXMgbGFzZXIgcGF0aC5cclxuICAgKiBAcGFyYW0gcGF0aHMgbGFzZXIgcGF0aCB0byBlbmVyZ2l6ZVxyXG4gICAqL1xyXG4gIGVuZXJnaXplQ2VsbHMocGF0aHM6IFBhcnRpY2xlSW50ZXJmYWNlW10pOiB2b2lkIHtcclxuICAgIGNvbnN0IHBhdGhDb29yZHM6IENvb3JkW10gPSBwYXRocy5tYXAocGF0aFBhcnRpY2xlID0+IHBhdGhQYXJ0aWNsZS5jb29yZCk7XHJcbiAgICB0aGlzLmNlbGxzLmZvckVhY2goY2VsbCA9PiB7XHJcbiAgICAgIGlmIChjZWxsLmNvb3JkLmlzSW5jbHVkZWRJbihwYXRoQ29vcmRzKSAmJiBjZWxsLmVsZW1lbnQubmFtZSAhPT0gXCJ2b2lkXCIpIHtcclxuICAgICAgICBjZWxsLmVuZXJnaXplZCA9IHRydWU7XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgY2VsbC5lbmVyZ2l6ZWQgPSBmYWxzZTtcclxuICAgICAgfVxyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBTZXQgdGhlIGFkamFjZW50IGNlbGxzIGFzIGFjdGl2ZSBpZiB0aGV5IGFyZSBuZWFyIGFuIGVuZXJnaXplZCBkZXRlY3RvclxyXG4gICAqL1xyXG4gIGFjdGl2YXRlQ2VsbHMoKTogdm9pZCB7XHJcbiAgICB0aGlzLnVudm9pZC5mb3JFYWNoKGNlbGwgPT4ge1xyXG4gICAgICBpZiAoY2VsbC5lbGVtZW50Lm5hbWUgIT09IFwibGFzZXJcIikge1xyXG4gICAgICAgIGNlbGwuYWN0aXZlID0gZmFsc2U7XHJcbiAgICAgIH1cclxuICAgICAgY29uc3QgZW5lcmdpemVkQWRqYWNlbnQgPSB0aGlzLmFkamFjZW50Q2VsbHMoY2VsbC5jb29yZCkuZmlsdGVyKFxyXG4gICAgICAgIGFkamFjZW50ID0+IHtcclxuICAgICAgICAgIHJldHVybiBhZGphY2VudC5lbmVyZ2l6ZWQgJiYgYWRqYWNlbnQuZWxlbWVudC5uYW1lID09PSBcImRldGVjdG9yXCI7XHJcbiAgICAgICAgfVxyXG4gICAgICApO1xyXG4gICAgICBpZiAoZW5lcmdpemVkQWRqYWNlbnQubGVuZ3RoID4gMCkge1xyXG4gICAgICAgIGNvbnNvbGUubG9nKFxyXG4gICAgICAgICAgYENlbGwgJHtjZWxsLnRvU3RyaW5nKCl9IGhhcyAxKyBhY3RpdmUgZGV0ZWN0b3JzIGFzIGFkamFjZW50IGNlbGwuYFxyXG4gICAgICAgICk7XHJcbiAgICAgICAgY2VsbC5hY3RpdmUgPSB0cnVlO1xyXG4gICAgICB9XHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIFJldHVybiBhZGphY2VudCBjZWxscyB0byBhIGNvb3JkaW5hdGVcclxuICAgKiBAcGFyYW0gY29vcmQgQ29vcmRpbmF0ZVxyXG4gICAqIEByZXR1cm5zIGEgbGlzdCBvZiBhZGphY2VudCBjZWxsc1xyXG4gICAqL1xyXG4gIGFkamFjZW50Q2VsbHMoY29vcmQ6IENvb3JkKTogQ2VsbFtdIHtcclxuICAgIGNvbnN0IGFkamFjZW50czogQ2VsbFtdID0gW107XHJcbiAgICBjb29yZC5hZGphY2VudC5mb3JFYWNoKGFkamFjZW50ID0+IHtcclxuICAgICAgaWYgKHRoaXMuaW5jbHVkZXMoYWRqYWNlbnQpKSB7XHJcbiAgICAgICAgYWRqYWNlbnRzLnB1c2godGhpcy5nZXQoYWRqYWNlbnQpKTtcclxuICAgICAgfVxyXG4gICAgfSk7XHJcbiAgICByZXR1cm4gYWRqYWNlbnRzO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogT3V0cHV0IGFuIEFTQ0lJIGdyaWRcclxuICAgKiBAcmV0dXJucyBhbiBhc2NpaSBncmlkXHJcbiAgICovXHJcbiAgcHVibGljIGdldCBhc2NpaSgpOiBzdHJpbmcge1xyXG4gICAgbGV0IHJlc3VsdCA9IFwiXCI7XHJcbiAgICBmb3IgKGxldCB5ID0gMDsgeSA8IHRoaXMucm93czsgeSsrKSB7XHJcbiAgICAgIGZvciAobGV0IHggPSAwOyB4IDwgdGhpcy5jb2xzOyB4KyspIHtcclxuICAgICAgICBjb25zdCBjb29yZCA9IENvb3JkLmltcG9ydENvb3JkKHsgeTogeSwgeDogeCB9KTtcclxuICAgICAgICByZXN1bHQgKz0gdGhpcy5nZXQoY29vcmQpLmFzY2lpO1xyXG4gICAgICB9XHJcbiAgICAgIHJlc3VsdCArPSBcIlxcblwiO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIHJlc3VsdDtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIFRyaW0gdGhlIHZvaWQgYXJvdW5kIHRoZSBjZWxscyBhbmQgcmV0dXJuIHRoZSBzbWFsbGVzdCBsZXZlbCBjb250YWluZXJcclxuICAgKiBAcmV0dXJucyBhIGxpc3Qgb2YgY2VsbHMgd2l0aCB0cmltbWVkIGNvb3JkaW5hdGVzXHJcbiAgICovXHJcbiAgcHVibGljIGNvbXByZXNzKCk6IENlbGxbXSB7XHJcbiAgICBjb25zdCBjZWxscyA9IHRoaXMudW52b2lkO1xyXG4gICAgY29uc3QgbWluWCA9IE1hdGgubWluKC4uLmNlbGxzLm1hcChjZWxsID0+IGNlbGwuY29vcmQueCkpO1xyXG4gICAgY29uc3QgbWluWSA9IE1hdGgubWluKC4uLmNlbGxzLm1hcChjZWxsID0+IGNlbGwuY29vcmQueSkpO1xyXG4gICAgY29uc3QgbWF4WCA9IE1hdGgubWF4KC4uLmNlbGxzLm1hcChjZWxsID0+IGNlbGwuY29vcmQueCkpO1xyXG4gICAgY29uc3QgbWF4WSA9IE1hdGgubWF4KC4uLmNlbGxzLm1hcChjZWxsID0+IGNlbGwuY29vcmQueSkpO1xyXG4gICAgY29uc3Qgc2l6ZVggPSBtYXhYIC0gbWluWDtcclxuICAgIGNvbnN0IHNpemVZID0gbWF4WSAtIG1pblk7XHJcbiAgICBjb25zb2xlLmxvZyhgVGhlIG1vc3QgY29tcHJlc3NlZCB2ZXJzaW9uIGlzOiBYOiR7c2l6ZVh9IFk6ICR7c2l6ZVl9YCk7XHJcblxyXG4gICAgY2VsbHMuZm9yRWFjaChjZWxsID0+IHtcclxuICAgICAgY2VsbC5jb29yZC54IC09IG1pblg7XHJcbiAgICAgIGNlbGwuY29vcmQueSAtPSBtaW5ZO1xyXG4gICAgfSk7XHJcbiAgICByZXR1cm4gY2VsbHM7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBTZXRzIHRoZSBncmlkIHdpdGggdGhlIGFwcHJvcHJpYXRlIGNlbGxzXHJcbiAgICogQHBhcmFtIGpzb25DZWxscyBBIGxpc3Qgb2YgY2VsbCBpbnRlcmZhY2VcclxuICAgKi9cclxuICBwdWJsaWMgaW1wb3J0R3JpZChqc29uQ2VsbHM6IENlbGxJbnRlcmZhY2VbXSk6IHZvaWQge1xyXG4gICAganNvbkNlbGxzLmZvckVhY2goanNvbkNlbGwgPT4ge1xyXG4gICAgICBjb25zdCBjZWxsID0gQ2VsbC5pbXBvcnRDZWxsKGpzb25DZWxsKTtcclxuICAgICAgdGhpcy5zZXQoY2VsbCk7XHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEV4cG9ydHMgdGhlIGdyaWQgdG8gYW4gaW50ZXJmYWNlIG9mIHByaW1pdGl2ZXNcclxuICAgKiBAcmV0dXJucyBhIGdyaWQgaW50ZXJmYWNlXHJcbiAgICovXHJcbiAgcHVibGljIGV4cG9ydEdyaWQoKTogR3JpZEludGVyZmFjZSB7XHJcbiAgICBjb25zdCBjZWxsczogQ2VsbEludGVyZmFjZVtdID0gW107XHJcbiAgICB0aGlzLnVudm9pZC5mb3JFYWNoKGNlbGwgPT4ge1xyXG4gICAgICBjZWxscy5wdXNoKGNlbGwuZXhwb3J0Q2VsbCgpKTtcclxuICAgIH0pO1xyXG4gICAgcmV0dXJuIHtcclxuICAgICAgY29sczogdGhpcy5jb2xzLFxyXG4gICAgICByb3dzOiB0aGlzLnJvd3MsXHJcbiAgICAgIGNlbGxzOiBjZWxsc1xyXG4gICAgfTtcclxuICB9XHJcblxyXG4gIC8qKiBMaXN0IG9mIGhlbHBlcnMgKi9cclxuICBnZXQgY2VsbHMoKTogQ2VsbFtdIHtcclxuICAgIHJldHVybiB0aGlzLm1hdHJpeC5yZWR1Y2UoKGFjYywgdmFsKSA9PiBhY2MuY29uY2F0KHZhbCksIFtdKTtcclxuICB9XHJcbiAgZ2V0IGNvb3JkcygpOiBDb29yZFtdIHtcclxuICAgIHJldHVybiB0aGlzLmNlbGxzLmZsYXRNYXAoY2VsbCA9PiBjZWxsLmNvb3JkKTtcclxuICB9XHJcbiAgZ2V0IHZvaWQoKTogQ2VsbFtdIHtcclxuICAgIHJldHVybiB0aGlzLmZpbHRlcmVkQnkoXCJ2b2lkXCIpO1xyXG4gIH1cclxuICBnZXQgdW52b2lkKCk6IENlbGxbXSB7XHJcbiAgICByZXR1cm4gdGhpcy5maWx0ZXJlZEJ5Tm90KFwidm9pZFwiKTtcclxuICB9XHJcbiAgZ2V0IGFjdGl2ZUNlbGxzKCk6IENlbGxbXSB7XHJcbiAgICByZXR1cm4gdGhpcy5jZWxscy5maWx0ZXIoY2VsbCA9PiBjZWxsLmFjdGl2ZSk7XHJcbiAgfVxyXG5cclxuICAvLyBFbWl0dGVyc1xyXG4gIGdldCBsYXNlcnMoKTogQ2VsbFtdIHtcclxuICAgIHJldHVybiB0aGlzLmZpbHRlcmVkQnkoXCJsYXNlclwiKTtcclxuICB9XHJcbiAgZ2V0IGFjdGl2ZUxhc2VycygpOiBDZWxsW10ge1xyXG4gICAgcmV0dXJuIHRoaXMuZmlsdGVyZWRCeShcImxhc2VyXCIpLmZpbHRlcihsYXNlciA9PiBsYXNlci5hY3RpdmUgPT09IHRydWUpO1xyXG4gIH1cclxuICAvLyBSZWZsZWN0b3JzXHJcbiAgZ2V0IG1pcnJvcnMoKTogQ2VsbFtdIHtcclxuICAgIHJldHVybiB0aGlzLmZpbHRlcmVkQnkoXCJtaXJyb3JcIik7XHJcbiAgfVxyXG4gIGdldCBiZWFtc3BsaXR0ZXJzKCk6IENlbGxbXSB7XHJcbiAgICByZXR1cm4gdGhpcy5maWx0ZXJlZEJ5KFwiYmVhbXNwbGl0dGVyXCIpO1xyXG4gIH1cclxuICBnZXQgY29hdGVkc3BsaXR0ZXJzKCk6IENlbGxbXSB7XHJcbiAgICByZXR1cm4gdGhpcy5maWx0ZXJlZEJ5KFwiY29hdGVkc3BsaXR0ZXJcIik7XHJcbiAgfVxyXG4gIGdldCBwb2xhcnNwbGl0dGVycygpOiBDZWxsW10ge1xyXG4gICAgcmV0dXJuIHRoaXMuZmlsdGVyZWRCeShcInBvbGFyc3BsaXR0ZXJcIik7XHJcbiAgfVxyXG4gIGdldCByZWZsZWN0b3JzKCk6IENlbGxbXSB7XHJcbiAgICByZXR1cm4gdGhpcy5taXJyb3JzLmNvbmNhdChcclxuICAgICAgdGhpcy5iZWFtc3BsaXR0ZXJzLFxyXG4gICAgICB0aGlzLmNvYXRlZHNwbGl0dGVycyxcclxuICAgICAgdGhpcy5wb2xhcnNwbGl0dGVyc1xyXG4gICAgKTtcclxuICB9XHJcbiAgLy8gQWJzb3JiZXJzXHJcbiAgZ2V0IGRldGVjdG9ycygpOiBDZWxsW10ge1xyXG4gICAgcmV0dXJuIHRoaXMuZmlsdGVyZWRCeShcImRldGVjdG9yXCIpO1xyXG4gIH1cclxuICBnZXQgZW5lcmdpemVkRGV0ZWN0b3JzKCk6IENlbGxbXSB7XHJcbiAgICByZXR1cm4gdGhpcy5kZXRlY3RvcnMuZmlsdGVyKGRldGVjdG9yID0+IGRldGVjdG9yLmVuZXJnaXplZCk7XHJcbiAgfVxyXG4gIGdldCB1bmVuZXJnaXplZERldGVjdG9ycygpOiBDZWxsW10ge1xyXG4gICAgcmV0dXJuIHRoaXMuZGV0ZWN0b3JzLmZpbHRlcihkZXRlY3RvciA9PiAhZGV0ZWN0b3IuZW5lcmdpemVkKTtcclxuICB9XHJcbiAgZ2V0IG1pbmVzKCk6IENlbGxbXSB7XHJcbiAgICByZXR1cm4gdGhpcy5maWx0ZXJlZEJ5KFwibWluZVwiKTtcclxuICB9XHJcbiAgZ2V0IHJvY2tzKCk6IENlbGxbXSB7XHJcbiAgICByZXR1cm4gdGhpcy5maWx0ZXJlZEJ5KFwicm9ja1wiKTtcclxuICB9XHJcbiAgZ2V0IG9tbmlkZXRlY3RvcnMoKTogQ2VsbFtdIHtcclxuICAgIHJldHVybiB0aGlzLmZpbHRlcmVkQnkoXCJvbW5pZGV0ZWN0b3JcIik7XHJcbiAgfVxyXG4gIGdldCBmaWx0ZXJzKCk6IENlbGxbXSB7XHJcbiAgICByZXR1cm4gdGhpcy5maWx0ZXJlZEJ5KFwiZmlsdGVyXCIpO1xyXG4gIH1cclxuICBnZXQgd2FsbHMoKTogQ2VsbFtdIHtcclxuICAgIHJldHVybiB0aGlzLmZpbHRlcmVkQnkoXCJ3YWxsXCIpO1xyXG4gIH1cclxuICBnZXQgY2xvc2VkR2F0ZXMoKTogQ2VsbFtdIHtcclxuICAgIHJldHVybiB0aGlzLmZpbHRlcmVkQnkoXCJnYXRlXCIpLmZpbHRlcihnYXRlID0+ICFnYXRlLmFjdGl2ZSk7XHJcbiAgfVxyXG4gIGdldCBvcGVuZWRHYXRlcygpOiBDZWxsW10ge1xyXG4gICAgcmV0dXJuIHRoaXMuZmlsdGVyZWRCeShcImdhdGVcIikuZmlsdGVyKGdhdGUgPT4gZ2F0ZS5hY3RpdmUpO1xyXG4gIH1cclxuICBnZXQgYWJzb3JiZXJzKCk6IENlbGxbXSB7XHJcbiAgICByZXR1cm4gdGhpcy5kZXRlY3RvcnMuY29uY2F0KFxyXG4gICAgICB0aGlzLm1pbmVzLFxyXG4gICAgICB0aGlzLnJvY2tzLFxyXG4gICAgICB0aGlzLm9tbmlkZXRlY3RvcnMsXHJcbiAgICAgIHRoaXMuZmlsdGVycyxcclxuICAgICAgdGhpcy53YWxscyxcclxuICAgICAgdGhpcy5jbG9zZWRHYXRlc1xyXG4gICAgKTtcclxuICB9XHJcbiAgLy8gUG9sYXJpemVyc1xyXG4gIGdldCBhYnNvcmJQb2xhcml6ZXJzKCk6IENlbGxbXSB7XHJcbiAgICByZXR1cm4gdGhpcy5maWx0ZXJlZEJ5KFwiYWJzb3JiLXBvbGFyaXplclwiKTtcclxuICB9XHJcbiAgZ2V0IHdhdmVwbGF0ZXMoKTogQ2VsbFtdIHtcclxuICAgIHJldHVybiB0aGlzLmZpbHRlcmVkQnkoXCJ3YXZlcGxhdGVcIik7XHJcbiAgfVxyXG4gIGdldCBzdWdhcnMoKTogQ2VsbFtdIHtcclxuICAgIHJldHVybiB0aGlzLmZpbHRlcmVkQnkoXCJzdWdhclwiKTtcclxuICB9XHJcbiAgZ2V0IGZhcmFkYXlzKCk6IENlbGxbXSB7XHJcbiAgICByZXR1cm4gdGhpcy5maWx0ZXJlZEJ5KFwiZmFyYWRheVwiKTtcclxuICB9XHJcbiAgZ2V0IHBvbGFyaXplcnMoKTogQ2VsbFtdIHtcclxuICAgIHJldHVybiB0aGlzLmFic29yYlBvbGFyaXplcnMuY29uY2F0KFxyXG4gICAgICB0aGlzLndhdmVwbGF0ZXMsXHJcbiAgICAgIHRoaXMuc3VnYXJzLFxyXG4gICAgICB0aGlzLmZhcmFkYXlzXHJcbiAgICApO1xyXG4gIH1cclxuICAvLyBQaGFzZXJzXHJcbiAgZ2V0IHBoYXNlaW5jcygpOiBDZWxsW10ge1xyXG4gICAgcmV0dXJuIHRoaXMuZmlsdGVyZWRCeShcInBoYXNlaW5jXCIpO1xyXG4gIH1cclxuICBnZXQgcGhhc2VkZWNzKCk6IENlbGxbXSB7XHJcbiAgICByZXR1cm4gdGhpcy5maWx0ZXJlZEJ5KFwicGhhc2VkZWNcIik7XHJcbiAgfVxyXG4gIGdldCBwaGFzZXNoaWZ0ZXJzKCk6IENlbGxbXSB7XHJcbiAgICByZXR1cm4gdGhpcy5waGFzZWRlY3MuY29uY2F0KHRoaXMucGhhc2VpbmNzKTtcclxuICB9XHJcbn1cclxuIiwiLy8gQ0VMTCBDTEFTU1xyXG4vLyBCYXNpYyBjbGFzcyBmb3IgdGhlIGdyaWQgY2VsbHNcclxuaW1wb3J0IENvb3JkLCB7IENvb3JkSW50ZXJmYWNlIH0gZnJvbSBcIi4vQ29vcmRcIjtcclxuaW1wb3J0IEVsZW1lbnQgZnJvbSBcIi4vRWxlbWVudFwiO1xyXG5pbXBvcnQgUGFydGljbGUgZnJvbSBcIi4vUGFydGljbGVcIjtcclxuaW1wb3J0IHsgYW5nbGVUb1N5bWJvbCB9IGZyb20gXCIuL0hlbHBlcnNcIjtcclxuLy8gaW1wb3J0IHsgT3BlcmF0b3IgfSBmcm9tIFwicXVhbnR1bS10ZW5zb3JzXCI7XHJcblxyXG5leHBvcnQgaW50ZXJmYWNlIENlbGxJbnRlcmZhY2Uge1xyXG4gIGNvb3JkOiBDb29yZEludGVyZmFjZTtcclxuICBlbGVtZW50OiBzdHJpbmc7XHJcbiAgcm90YXRpb246IG51bWJlcjtcclxuICBmcm96ZW46IGJvb2xlYW47XHJcbiAgYWN0aXZlPzogYm9vbGVhbjtcclxuICBlbmVyZ2l6ZWQ/OiBib29sZWFuO1xyXG59XHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBDZWxsIHtcclxuICBjb29yZDogQ29vcmQ7XHJcbiAgZWxlbWVudDogRWxlbWVudDtcclxuICByb3RhdGlvbjogbnVtYmVyO1xyXG4gIGZyb3plbjogYm9vbGVhbjtcclxuICBhY3RpdmU6IGJvb2xlYW47XHJcbiAgZW5lcmdpemVkOiBib29sZWFuO1xyXG5cclxuICBjb25zdHJ1Y3RvcihcclxuICAgIGNvb3JkOiBDb29yZCxcclxuICAgIGVsZW1lbnQ6IEVsZW1lbnQsXHJcbiAgICByb3RhdGlvbiA9IDAsXHJcbiAgICBmcm96ZW4gPSBmYWxzZSxcclxuICAgIGFjdGl2ZSA9IGZhbHNlLFxyXG4gICAgZW5lcmdpemVkID0gZmFsc2VcclxuICApIHtcclxuICAgIHRoaXMuY29vcmQgPSBjb29yZDtcclxuICAgIHRoaXMuZWxlbWVudCA9IGVsZW1lbnQ7XHJcbiAgICB0aGlzLnJvdGF0aW9uID0gcm90YXRpb247XHJcbiAgICB0aGlzLmZyb3plbiA9IGZyb3plbjtcclxuICAgIHRoaXMuYWN0aXZlID0gYWN0aXZlO1xyXG4gICAgdGhpcy5lbmVyZ2l6ZWQgPSBlbmVyZ2l6ZWQ7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBHZXQgQVNDSUkgY2hhcmFjdGVyIGxpbmtlZCB0byBjZWxsJ3MgZWxlbWVudCBhbmQgY2VsbCByb3RhdGlvblxyXG4gICAqL1xyXG4gIGdldCBhc2NpaSgpOiBzdHJpbmcge1xyXG4gICAgcmV0dXJuIHRoaXMuZWxlbWVudC5hc2NpaVt0aGlzLnJvdGF0aW9uIC8gdGhpcy5lbGVtZW50LnJvdGF0aW9uQW5nbGVdO1xyXG4gIH1cclxuICAvKipcclxuICAgKiBDb21wdXRlIHRoZSByb3RhdGlvbiBhbmdsZSBpbiBkZWdyZWVzXHJcbiAgICovXHJcbiAgZ2V0IHJvdGF0aW9uQXNjaWkoKTogc3RyaW5nIHtcclxuICAgIHJldHVybiBhbmdsZVRvU3ltYm9sKHRoaXMuZWxlbWVudC5yb3RhdGlvbkFuZ2xlKTtcclxuICB9XHJcbiAgZ2V0IGZvcmVncm91bmRDb2xvcigpOiBzdHJpbmcge1xyXG4gICAgcmV0dXJuIHRoaXMuZWxlbWVudC5nbHlwaC5mb3JlZ3JvdW5kQ29sb3I7XHJcbiAgfVxyXG4gIGdldCBiYWNrZ3JvdW5kQ29sb3IoKTogc3RyaW5nIHtcclxuICAgIHJldHVybiB0aGlzLmVsZW1lbnQuZ2x5cGguYmFja2dyb3VuZENvbG9yO1xyXG4gIH1cclxuXHJcbiAgLy8gUm90YXRpb24gcGx1cyBwYXJhbWV0ZXJzXHJcbiAgLy8gICBnZXQgdHJhbnNpdGlvbigpOiBPcGVyYXRvciB7XHJcbiAgLy8gXHRyZXR1cm4gdGhpcy5lbGVtZW50LnRyYW5zaXRpb24odGhpcy5yb3RhdGlvbik7XHJcbiAgLy8gICB9XHJcblxyXG4gIC8vIFJvdGF0ZSBjZWxsIC0gQ29ycmVjdGluZyB0aGUgamF2YXNjcmlwdCBtb2R1bG8gYnVnIGZvciBuZWdhdGl2ZSB2YWx1ZXM6IGh0dHBzOi8vd2ViLmFyY2hpdmUub3JnL3dlYi8yMDA5MDcxNzAzNTE0MGlmXy9qYXZhc2NyaXB0LmFib3V0LmNvbS9vZC9wcm9ibGVtc29sdmluZy9hL21vZHVsb2J1Zy5odG1cclxuICByb3RhdGUoYW5nbGU6IG51bWJlciA9IHRoaXMuZWxlbWVudC5yb3RhdGlvbkFuZ2xlKTogdm9pZCB7XHJcbiAgICBpZiAoIXRoaXMuZnJvemVuKSB7XHJcbiAgICAgIGlmIChNYXRoLmFicyhhbmdsZSkgJSB0aGlzLmVsZW1lbnQucm90YXRpb25BbmdsZSAhPT0gMCkge1xyXG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcclxuICAgICAgICAgIFwiRXJyb3IgaW4gdGhlIHN1cHBsaWVkIGFuZ2xlIGNvbXBhcmVkIHRvIHRoZSBlbGVtZW50IHJvdGF0aW9uIGFuZ2xlLlwiXHJcbiAgICAgICAgKTtcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICB0aGlzLnJvdGF0aW9uID0gKCgodGhpcy5yb3RhdGlvbiArIGFuZ2xlKSAlIDM2MCkgKyAzNjApICUgMzYwO1xyXG4gICAgICB9XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICBjb25zb2xlLmxvZyhcIlRoaXMgY2VsbCBpcyBmcm96ZW4sIHlvdSBjYW4ndCByb3RhdGUgaXQuXCIpO1xyXG4gICAgfVxyXG4gIH1cclxuICB0b2dnbGVGcmVlemUoKTogdm9pZCB7XHJcbiAgICB0aGlzLmZyb3plbiA9ICF0aGlzLmZyb3plbjtcclxuICB9XHJcbiAgdG9nZ2xlQWN0aXZlKCk6IHZvaWQge1xyXG4gICAgdGhpcy5hY3RpdmUgPSAhdGhpcy5hY3RpdmU7XHJcbiAgfVxyXG4gIHRvZ2dsZUVuZXJnaXplZCgpOiB2b2lkIHtcclxuICAgIHRoaXMuZW5lcmdpemVkID0gIXRoaXMuZW5lcmdpemVkO1xyXG4gIH1cclxuXHJcbiAgLy8gRmlyZSB0aGUgbGFzZXIgYW5kIGdldCBhIHBhcnRpY2xlXHJcbiAgZmlyZSgpOiBQYXJ0aWNsZSB7XHJcbiAgICBpZiAodGhpcy5hY3RpdmUpIHtcclxuICAgICAgcmV0dXJuIG5ldyBQYXJ0aWNsZSh0aGlzLmNvb3JkLCB0aGlzLnJvdGF0aW9uLCAxLCAwKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHRocm93IEVycm9yKFwiTGFzZXIgaXMgaW5hY3RpdmUuLi5cIik7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICAvLyBPdmVycmlkZSB0b1N0cmluZygpIG1ldGhvZFxyXG4gIHRvU3RyaW5nKCk6IHN0cmluZyB7XHJcbiAgICByZXR1cm4gYENlbGwgQCAke3RoaXMuY29vcmQudG9TdHJpbmcoKX0gaXMgJHtcclxuICAgICAgdGhpcy5mcm96ZW4gPyBcImZyb3plblwiIDogXCJ1bmZyb3plblwiXHJcbiAgICB9ICR7dGhpcy5hY3RpdmUgPyBcImFjdGl2ZVwiIDogXCJpbmFjdGl2ZVwifSBhbmQgJHtcclxuICAgICAgdGhpcy5lbmVyZ2l6ZWQgPyBcInBvd2VyZWRcIiA6IFwidW5wb3dlcmVkXCJcclxuICAgIH0gJHt0aGlzLmVsZW1lbnQudG9TdHJpbmcoKX0gcm90YXRlZCAke3RoaXMucm90YXRpb259wrBgO1xyXG4gIH1cclxuXHJcbiAgLy8gRXhwb3J0IHRvIEpTT04gZm9ybWF0XHJcbiAgZXhwb3J0Q2VsbCgpOiBDZWxsSW50ZXJmYWNlIHtcclxuICAgIHJldHVybiB7XHJcbiAgICAgIGNvb3JkOiB0aGlzLmNvb3JkLmV4cG9ydENvb3JkKCksXHJcbiAgICAgIGVsZW1lbnQ6IHRoaXMuZWxlbWVudC5uYW1lLFxyXG4gICAgICByb3RhdGlvbjogdGhpcy5yb3RhdGlvbixcclxuICAgICAgZnJvemVuOiB0aGlzLmZyb3plbixcclxuICAgICAgYWN0aXZlOiB0aGlzLmFjdGl2ZSxcclxuICAgICAgZW5lcmdpemVkOiB0aGlzLmVuZXJnaXplZFxyXG4gICAgfTtcclxuICB9XHJcblxyXG4gIC8vIEltcG9ydCBmcm9tIE9iamVjdFxyXG4gIHN0YXRpYyBpbXBvcnRDZWxsKG9iajogQ2VsbEludGVyZmFjZSk6IENlbGwge1xyXG4gICAgY29uc3QgY29vcmQgPSBDb29yZC5pbXBvcnRDb29yZChvYmouY29vcmQpO1xyXG4gICAgY29uc3QgZWxlbWVudCA9IEVsZW1lbnQuZnJvbU5hbWUob2JqLmVsZW1lbnQpO1xyXG4gICAgcmV0dXJuIG5ldyBDZWxsKFxyXG4gICAgICBjb29yZCxcclxuICAgICAgZWxlbWVudCxcclxuICAgICAgb2JqLnJvdGF0aW9uLFxyXG4gICAgICBvYmouZnJvemVuLFxyXG4gICAgICBvYmouYWN0aXZlLFxyXG4gICAgICBvYmouZW5lcmdpemVkXHJcbiAgICApO1xyXG4gIH1cclxufVxyXG4iLCIvLyBzaGltIGZvciB1c2luZyBwcm9jZXNzIGluIGJyb3dzZXJcbnZhciBwcm9jZXNzID0gbW9kdWxlLmV4cG9ydHMgPSB7fTtcblxuLy8gY2FjaGVkIGZyb20gd2hhdGV2ZXIgZ2xvYmFsIGlzIHByZXNlbnQgc28gdGhhdCB0ZXN0IHJ1bm5lcnMgdGhhdCBzdHViIGl0XG4vLyBkb24ndCBicmVhayB0aGluZ3MuICBCdXQgd2UgbmVlZCB0byB3cmFwIGl0IGluIGEgdHJ5IGNhdGNoIGluIGNhc2UgaXQgaXNcbi8vIHdyYXBwZWQgaW4gc3RyaWN0IG1vZGUgY29kZSB3aGljaCBkb2Vzbid0IGRlZmluZSBhbnkgZ2xvYmFscy4gIEl0J3MgaW5zaWRlIGFcbi8vIGZ1bmN0aW9uIGJlY2F1c2UgdHJ5L2NhdGNoZXMgZGVvcHRpbWl6ZSBpbiBjZXJ0YWluIGVuZ2luZXMuXG5cbnZhciBjYWNoZWRTZXRUaW1lb3V0O1xudmFyIGNhY2hlZENsZWFyVGltZW91dDtcblxuZnVuY3Rpb24gZGVmYXVsdFNldFRpbW91dCgpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ3NldFRpbWVvdXQgaGFzIG5vdCBiZWVuIGRlZmluZWQnKTtcbn1cbmZ1bmN0aW9uIGRlZmF1bHRDbGVhclRpbWVvdXQgKCkge1xuICAgIHRocm93IG5ldyBFcnJvcignY2xlYXJUaW1lb3V0IGhhcyBub3QgYmVlbiBkZWZpbmVkJyk7XG59XG4oZnVuY3Rpb24gKCkge1xuICAgIHRyeSB7XG4gICAgICAgIGlmICh0eXBlb2Ygc2V0VGltZW91dCA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgY2FjaGVkU2V0VGltZW91dCA9IHNldFRpbWVvdXQ7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBjYWNoZWRTZXRUaW1lb3V0ID0gZGVmYXVsdFNldFRpbW91dDtcbiAgICAgICAgfVxuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgY2FjaGVkU2V0VGltZW91dCA9IGRlZmF1bHRTZXRUaW1vdXQ7XG4gICAgfVxuICAgIHRyeSB7XG4gICAgICAgIGlmICh0eXBlb2YgY2xlYXJUaW1lb3V0ID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICBjYWNoZWRDbGVhclRpbWVvdXQgPSBjbGVhclRpbWVvdXQ7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBjYWNoZWRDbGVhclRpbWVvdXQgPSBkZWZhdWx0Q2xlYXJUaW1lb3V0O1xuICAgICAgICB9XG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgICBjYWNoZWRDbGVhclRpbWVvdXQgPSBkZWZhdWx0Q2xlYXJUaW1lb3V0O1xuICAgIH1cbn0gKCkpXG5mdW5jdGlvbiBydW5UaW1lb3V0KGZ1bikge1xuICAgIGlmIChjYWNoZWRTZXRUaW1lb3V0ID09PSBzZXRUaW1lb3V0KSB7XG4gICAgICAgIC8vbm9ybWFsIGVudmlyb21lbnRzIGluIHNhbmUgc2l0dWF0aW9uc1xuICAgICAgICByZXR1cm4gc2V0VGltZW91dChmdW4sIDApO1xuICAgIH1cbiAgICAvLyBpZiBzZXRUaW1lb3V0IHdhc24ndCBhdmFpbGFibGUgYnV0IHdhcyBsYXR0ZXIgZGVmaW5lZFxuICAgIGlmICgoY2FjaGVkU2V0VGltZW91dCA9PT0gZGVmYXVsdFNldFRpbW91dCB8fCAhY2FjaGVkU2V0VGltZW91dCkgJiYgc2V0VGltZW91dCkge1xuICAgICAgICBjYWNoZWRTZXRUaW1lb3V0ID0gc2V0VGltZW91dDtcbiAgICAgICAgcmV0dXJuIHNldFRpbWVvdXQoZnVuLCAwKTtcbiAgICB9XG4gICAgdHJ5IHtcbiAgICAgICAgLy8gd2hlbiB3aGVuIHNvbWVib2R5IGhhcyBzY3Jld2VkIHdpdGggc2V0VGltZW91dCBidXQgbm8gSS5FLiBtYWRkbmVzc1xuICAgICAgICByZXR1cm4gY2FjaGVkU2V0VGltZW91dChmdW4sIDApO1xuICAgIH0gY2F0Y2goZSl7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICAvLyBXaGVuIHdlIGFyZSBpbiBJLkUuIGJ1dCB0aGUgc2NyaXB0IGhhcyBiZWVuIGV2YWxlZCBzbyBJLkUuIGRvZXNuJ3QgdHJ1c3QgdGhlIGdsb2JhbCBvYmplY3Qgd2hlbiBjYWxsZWQgbm9ybWFsbHlcbiAgICAgICAgICAgIHJldHVybiBjYWNoZWRTZXRUaW1lb3V0LmNhbGwobnVsbCwgZnVuLCAwKTtcbiAgICAgICAgfSBjYXRjaChlKXtcbiAgICAgICAgICAgIC8vIHNhbWUgYXMgYWJvdmUgYnV0IHdoZW4gaXQncyBhIHZlcnNpb24gb2YgSS5FLiB0aGF0IG11c3QgaGF2ZSB0aGUgZ2xvYmFsIG9iamVjdCBmb3IgJ3RoaXMnLCBob3BmdWxseSBvdXIgY29udGV4dCBjb3JyZWN0IG90aGVyd2lzZSBpdCB3aWxsIHRocm93IGEgZ2xvYmFsIGVycm9yXG4gICAgICAgICAgICByZXR1cm4gY2FjaGVkU2V0VGltZW91dC5jYWxsKHRoaXMsIGZ1biwgMCk7XG4gICAgICAgIH1cbiAgICB9XG5cblxufVxuZnVuY3Rpb24gcnVuQ2xlYXJUaW1lb3V0KG1hcmtlcikge1xuICAgIGlmIChjYWNoZWRDbGVhclRpbWVvdXQgPT09IGNsZWFyVGltZW91dCkge1xuICAgICAgICAvL25vcm1hbCBlbnZpcm9tZW50cyBpbiBzYW5lIHNpdHVhdGlvbnNcbiAgICAgICAgcmV0dXJuIGNsZWFyVGltZW91dChtYXJrZXIpO1xuICAgIH1cbiAgICAvLyBpZiBjbGVhclRpbWVvdXQgd2Fzbid0IGF2YWlsYWJsZSBidXQgd2FzIGxhdHRlciBkZWZpbmVkXG4gICAgaWYgKChjYWNoZWRDbGVhclRpbWVvdXQgPT09IGRlZmF1bHRDbGVhclRpbWVvdXQgfHwgIWNhY2hlZENsZWFyVGltZW91dCkgJiYgY2xlYXJUaW1lb3V0KSB7XG4gICAgICAgIGNhY2hlZENsZWFyVGltZW91dCA9IGNsZWFyVGltZW91dDtcbiAgICAgICAgcmV0dXJuIGNsZWFyVGltZW91dChtYXJrZXIpO1xuICAgIH1cbiAgICB0cnkge1xuICAgICAgICAvLyB3aGVuIHdoZW4gc29tZWJvZHkgaGFzIHNjcmV3ZWQgd2l0aCBzZXRUaW1lb3V0IGJ1dCBubyBJLkUuIG1hZGRuZXNzXG4gICAgICAgIHJldHVybiBjYWNoZWRDbGVhclRpbWVvdXQobWFya2VyKTtcbiAgICB9IGNhdGNoIChlKXtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIC8vIFdoZW4gd2UgYXJlIGluIEkuRS4gYnV0IHRoZSBzY3JpcHQgaGFzIGJlZW4gZXZhbGVkIHNvIEkuRS4gZG9lc24ndCAgdHJ1c3QgdGhlIGdsb2JhbCBvYmplY3Qgd2hlbiBjYWxsZWQgbm9ybWFsbHlcbiAgICAgICAgICAgIHJldHVybiBjYWNoZWRDbGVhclRpbWVvdXQuY2FsbChudWxsLCBtYXJrZXIpO1xuICAgICAgICB9IGNhdGNoIChlKXtcbiAgICAgICAgICAgIC8vIHNhbWUgYXMgYWJvdmUgYnV0IHdoZW4gaXQncyBhIHZlcnNpb24gb2YgSS5FLiB0aGF0IG11c3QgaGF2ZSB0aGUgZ2xvYmFsIG9iamVjdCBmb3IgJ3RoaXMnLCBob3BmdWxseSBvdXIgY29udGV4dCBjb3JyZWN0IG90aGVyd2lzZSBpdCB3aWxsIHRocm93IGEgZ2xvYmFsIGVycm9yLlxuICAgICAgICAgICAgLy8gU29tZSB2ZXJzaW9ucyBvZiBJLkUuIGhhdmUgZGlmZmVyZW50IHJ1bGVzIGZvciBjbGVhclRpbWVvdXQgdnMgc2V0VGltZW91dFxuICAgICAgICAgICAgcmV0dXJuIGNhY2hlZENsZWFyVGltZW91dC5jYWxsKHRoaXMsIG1hcmtlcik7XG4gICAgICAgIH1cbiAgICB9XG5cblxuXG59XG52YXIgcXVldWUgPSBbXTtcbnZhciBkcmFpbmluZyA9IGZhbHNlO1xudmFyIGN1cnJlbnRRdWV1ZTtcbnZhciBxdWV1ZUluZGV4ID0gLTE7XG5cbmZ1bmN0aW9uIGNsZWFuVXBOZXh0VGljaygpIHtcbiAgICBpZiAoIWRyYWluaW5nIHx8ICFjdXJyZW50UXVldWUpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBkcmFpbmluZyA9IGZhbHNlO1xuICAgIGlmIChjdXJyZW50UXVldWUubGVuZ3RoKSB7XG4gICAgICAgIHF1ZXVlID0gY3VycmVudFF1ZXVlLmNvbmNhdChxdWV1ZSk7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgcXVldWVJbmRleCA9IC0xO1xuICAgIH1cbiAgICBpZiAocXVldWUubGVuZ3RoKSB7XG4gICAgICAgIGRyYWluUXVldWUoKTtcbiAgICB9XG59XG5cbmZ1bmN0aW9uIGRyYWluUXVldWUoKSB7XG4gICAgaWYgKGRyYWluaW5nKSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG4gICAgdmFyIHRpbWVvdXQgPSBydW5UaW1lb3V0KGNsZWFuVXBOZXh0VGljayk7XG4gICAgZHJhaW5pbmcgPSB0cnVlO1xuXG4gICAgdmFyIGxlbiA9IHF1ZXVlLmxlbmd0aDtcbiAgICB3aGlsZShsZW4pIHtcbiAgICAgICAgY3VycmVudFF1ZXVlID0gcXVldWU7XG4gICAgICAgIHF1ZXVlID0gW107XG4gICAgICAgIHdoaWxlICgrK3F1ZXVlSW5kZXggPCBsZW4pIHtcbiAgICAgICAgICAgIGlmIChjdXJyZW50UXVldWUpIHtcbiAgICAgICAgICAgICAgICBjdXJyZW50UXVldWVbcXVldWVJbmRleF0ucnVuKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcXVldWVJbmRleCA9IC0xO1xuICAgICAgICBsZW4gPSBxdWV1ZS5sZW5ndGg7XG4gICAgfVxuICAgIGN1cnJlbnRRdWV1ZSA9IG51bGw7XG4gICAgZHJhaW5pbmcgPSBmYWxzZTtcbiAgICBydW5DbGVhclRpbWVvdXQodGltZW91dCk7XG59XG5cbnByb2Nlc3MubmV4dFRpY2sgPSBmdW5jdGlvbiAoZnVuKSB7XG4gICAgdmFyIGFyZ3MgPSBuZXcgQXJyYXkoYXJndW1lbnRzLmxlbmd0aCAtIDEpO1xuICAgIGlmIChhcmd1bWVudHMubGVuZ3RoID4gMSkge1xuICAgICAgICBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgYXJnc1tpIC0gMV0gPSBhcmd1bWVudHNbaV07XG4gICAgICAgIH1cbiAgICB9XG4gICAgcXVldWUucHVzaChuZXcgSXRlbShmdW4sIGFyZ3MpKTtcbiAgICBpZiAocXVldWUubGVuZ3RoID09PSAxICYmICFkcmFpbmluZykge1xuICAgICAgICBydW5UaW1lb3V0KGRyYWluUXVldWUpO1xuICAgIH1cbn07XG5cbi8vIHY4IGxpa2VzIHByZWRpY3RpYmxlIG9iamVjdHNcbmZ1bmN0aW9uIEl0ZW0oZnVuLCBhcnJheSkge1xuICAgIHRoaXMuZnVuID0gZnVuO1xuICAgIHRoaXMuYXJyYXkgPSBhcnJheTtcbn1cbkl0ZW0ucHJvdG90eXBlLnJ1biA9IGZ1bmN0aW9uICgpIHtcbiAgICB0aGlzLmZ1bi5hcHBseShudWxsLCB0aGlzLmFycmF5KTtcbn07XG5wcm9jZXNzLnRpdGxlID0gJ2Jyb3dzZXInO1xucHJvY2Vzcy5icm93c2VyID0gdHJ1ZTtcbnByb2Nlc3MuZW52ID0ge307XG5wcm9jZXNzLmFyZ3YgPSBbXTtcbnByb2Nlc3MudmVyc2lvbiA9ICcnOyAvLyBlbXB0eSBzdHJpbmcgdG8gYXZvaWQgcmVnZXhwIGlzc3Vlc1xucHJvY2Vzcy52ZXJzaW9ucyA9IHt9O1xuXG5mdW5jdGlvbiBub29wKCkge31cblxucHJvY2Vzcy5vbiA9IG5vb3A7XG5wcm9jZXNzLmFkZExpc3RlbmVyID0gbm9vcDtcbnByb2Nlc3Mub25jZSA9IG5vb3A7XG5wcm9jZXNzLm9mZiA9IG5vb3A7XG5wcm9jZXNzLnJlbW92ZUxpc3RlbmVyID0gbm9vcDtcbnByb2Nlc3MucmVtb3ZlQWxsTGlzdGVuZXJzID0gbm9vcDtcbnByb2Nlc3MuZW1pdCA9IG5vb3A7XG5wcm9jZXNzLnByZXBlbmRMaXN0ZW5lciA9IG5vb3A7XG5wcm9jZXNzLnByZXBlbmRPbmNlTGlzdGVuZXIgPSBub29wO1xuXG5wcm9jZXNzLmxpc3RlbmVycyA9IGZ1bmN0aW9uIChuYW1lKSB7IHJldHVybiBbXSB9XG5cbnByb2Nlc3MuYmluZGluZyA9IGZ1bmN0aW9uIChuYW1lKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdwcm9jZXNzLmJpbmRpbmcgaXMgbm90IHN1cHBvcnRlZCcpO1xufTtcblxucHJvY2Vzcy5jd2QgPSBmdW5jdGlvbiAoKSB7IHJldHVybiAnLycgfTtcbnByb2Nlc3MuY2hkaXIgPSBmdW5jdGlvbiAoZGlyKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdwcm9jZXNzLmNoZGlyIGlzIG5vdCBzdXBwb3J0ZWQnKTtcbn07XG5wcm9jZXNzLnVtYXNrID0gZnVuY3Rpb24oKSB7IHJldHVybiAwOyB9O1xuIiwiLy8gSElOVCBDTEFTU1xyXG4vLyBTdHJ1Y3R1cmUgZXh0cmFjdGVkIGZvciB2MTogaHR0cHM6Ly9naXRodWIuY29tL3N0YXJlZC9xdWFudHVtLWdhbWUvYmxvYi9tYXN0ZXIvZGF0YS9sZXZlbHNfZ2FtZS5qc29uXHJcbi8vIFRPRE86IExpbmsgaGludCBhY3RpdmF0aW9uIHdpdGggZ29hbHNcclxuXHJcbmltcG9ydCBDb29yZCBmcm9tIFwiLi9Db29yZFwiO1xyXG5cclxuZXhwb3J0IGludGVyZmFjZSBIaW50SW50ZXJmYWNlIHtcclxuICBjb29yZDogeyB4OiBudW1iZXI7IHk6IG51bWJlciB9O1xyXG4gIHRleHQ6IHN0cmluZztcclxufVxyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgSGludCB7XHJcbiAgY29vcmQ6IENvb3JkO1xyXG4gIHdpZHRoOiBudW1iZXI7XHJcbiAgdGV4dDogc3RyaW5nO1xyXG4gIGRpcmVjdGlvbjogc3RyaW5nO1xyXG4gIGFjdGl2ZTogYm9vbGVhbjtcclxuXHJcbiAgY29uc3RydWN0b3IoXHJcbiAgICBjb29yZDogQ29vcmQsXHJcbiAgICB0ZXh0OiBzdHJpbmcsXHJcbiAgICB3aWR0aCA9IDUsXHJcbiAgICBkaXJlY3Rpb24gPSBcImxlZnRcIixcclxuICAgIGFjdGl2ZSA9IHRydWVcclxuICApIHtcclxuICAgIHRoaXMuY29vcmQgPSBjb29yZDtcclxuICAgIHRoaXMud2lkdGggPSB3aWR0aDtcclxuICAgIHRoaXMudGV4dCA9IHRleHQ7XHJcbiAgICB0aGlzLmRpcmVjdGlvbiA9IGRpcmVjdGlvbjtcclxuICAgIHRoaXMuYWN0aXZlID0gYWN0aXZlO1xyXG4gIH1cclxuXHJcbiAgLy8gb3ZlcnJpZGUgdG9TdHJpbmcoKSBtZXRob2RcclxuICB0b1N0cmluZygpOiBzdHJpbmcge1xyXG4gICAgcmV0dXJuIGB7I0hJTlQgJHt0aGlzLnRleHR9IEAgJHt0aGlzLmNvb3JkLnRvU3RyaW5nKCl9fWA7XHJcbiAgfVxyXG5cclxuICAvLyBleHBvcnQgaGludCBpbnRlcmZhY2VcclxuICBleHBvcnRIaW50KCk6IEhpbnRJbnRlcmZhY2Uge1xyXG4gICAgcmV0dXJuIHtcclxuICAgICAgY29vcmQ6IHRoaXMuY29vcmQuZXhwb3J0Q29vcmQoKSxcclxuICAgICAgdGV4dDogdGhpcy50ZXh0XHJcbiAgICB9O1xyXG4gIH1cclxuXHJcbiAgLy8gSW1wb3J0IGhpbnQgb2JqZWN0XHJcbiAgc3RhdGljIGltcG9ydEhpbnQoanNvbkhpbnRzOiBIaW50SW50ZXJmYWNlW10pOiBIaW50W10ge1xyXG4gICAgcmV0dXJuIGpzb25IaW50cy5tYXAoaGludCA9PiB7XHJcbiAgICAgIGNvbnN0IGNvb3JkID0gQ29vcmQuaW1wb3J0Q29vcmQoaGludC5jb29yZCk7XHJcbiAgICAgIHJldHVybiBuZXcgSGludChjb29yZCwgaGludC50ZXh0KTtcclxuICAgIH0pO1xyXG4gIH1cclxufVxyXG4iLCIvLyBHT0FMIENMQVNTXHJcbi8vIEVhY2ggZGV0ZWN0b3Igc2hvdWxkIGhhdmUgYSByZWxhdGVkIHRocmVzaG9sZCBsZXZlbCBpbiBvcmRlciB0byBhY2hpZXZlIHRoZSBsZXZlbC5cclxuLy8gR29hbCBzaG91bGQgZXh0ZW5kIENlbGwgb3Igc2hvdWxkIGV4dGVuZCBDb29yZFxyXG5pbXBvcnQgQ29vcmQsIHsgQ29vcmRJbnRlcmZhY2UgfSBmcm9tIFwiLi9Db29yZFwiO1xyXG5cclxuLyoqXHJcbiAqIEdvYWwgaW50ZXJmYWNlIHdpdGggcHJpbWl0aXZlIGpzIHR5cGVzXHJcbiAqL1xyXG5leHBvcnQgaW50ZXJmYWNlIEdvYWxJbnRlcmZhY2Uge1xyXG4gIGNvb3JkOiBDb29yZEludGVyZmFjZTtcclxuICB0aHJlc2hvbGQ6IG51bWJlcjtcclxuICB2YWx1ZTogbnVtYmVyO1xyXG59XHJcblxyXG4vKiogVGhlIGdvYWxzIHRvIGJlIGFjaGlldmVkIGJ5IHRoZSBwbGF5ZXIgKi9cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgR29hbCBleHRlbmRzIENvb3JkIHtcclxuICBjb29yZDogQ29vcmQ7XHJcbiAgdGhyZXNob2xkOiBudW1iZXI7XHJcbiAgdmFsdWU6IG51bWJlcjtcclxuXHJcbiAgY29uc3RydWN0b3IoY29vcmQ6IENvb3JkLCB0aHJlc2hvbGQ6IG51bWJlciwgdmFsdWUgPSAwKSB7XHJcbiAgICBzdXBlcihjb29yZC55LCBjb29yZC54KTtcclxuICAgIHRoaXMuY29vcmQgPSBjb29yZDtcclxuICAgIHRoaXMudGhyZXNob2xkID0gdGhyZXNob2xkO1xyXG4gICAgdGhpcy52YWx1ZSA9IHZhbHVlO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogSXMgYSBnb2FsIGNvbXBsZXRlZFxyXG4gICAqIEByZXR1cm5zIGJvb2xlYW4gaWYgdGhlIGdvYWwgaXMgY29tcGxldGVkXHJcbiAgICovXHJcbiAgZ2V0IGNvbXBsZXRlZCgpOiBib29sZWFuIHtcclxuICAgIHJldHVybiB0aGlzLnZhbHVlID49IHRoaXMudGhyZXNob2xkO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogUmV0dXJucyBhIHBlcmNlbnRhZ2Ugb2YgdGhlIGN1cnJlbnQgdmFsdWUgY29tcGFyZWQgdG8gdGhlIGV4cGVjdGVkIHZhbHVlLlxyXG4gICAqIEByZXR1cm5zIG51bWJlciBmcm9tIDAgdG8gMSBkZXNjcmliaW5nIHBlcmNlbnRhZ2VcclxuICAgKi9cclxuICBnZXQgcGVyY2VudGFnZSgpOiBudW1iZXIge1xyXG4gICAgcmV0dXJuICh0aGlzLnZhbHVlIC8gdGhpcy50aHJlc2hvbGQpICogMTAwO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogT3ZlcnJpZGUgdG9TdHJpbmcoKSBtZXRob2QgdG8gZGlzcGxheSB0aGUgZ29hbFxyXG4gICAqIEByZXR1cm5zIHN0cmluZ1xyXG4gICAqL1xyXG4gIHRvU3RyaW5nKCk6IHN0cmluZyB7XHJcbiAgICByZXR1cm4gYHsjR29hbCAke1xyXG4gICAgICB0aGlzLmNvbXBsZXRlZCA/IFwiY29tcGxldGVkIFwiIDogXCIgXCJcclxuICAgIH1AICR7dGhpcy5jb29yZC50b1N0cmluZygpfSBpcyAke3RoaXMudmFsdWV9IC8gJHt0aGlzLnRocmVzaG9sZH19ICgke1xyXG4gICAgICB0aGlzLnBlcmNlbnRhZ2VcclxuICAgIH0lKWA7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBFeHBvcnQgZ29hbCB0byBwcmltaXRpdmVzXHJcbiAgICogQHJldHVybnMgYSBnb2FsIGludGVyZmFjZVxyXG4gICAqL1xyXG4gIGV4cG9ydEdvYWwoKTogR29hbEludGVyZmFjZSB7XHJcbiAgICByZXR1cm4ge1xyXG4gICAgICBjb29yZDogdGhpcy5jb29yZC5leHBvcnRDb29yZCgpLFxyXG4gICAgICB0aHJlc2hvbGQ6IHRoaXMudGhyZXNob2xkLFxyXG4gICAgICB2YWx1ZTogdGhpcy52YWx1ZVxyXG4gICAgfTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEltcG9ydCBnb2FscyBmcm9tIGxpc3Qgb2YgaW50ZXJmYWNlc1xyXG4gICAqIEBwYXJhbSBnb2FsT2JqcyBMaXN0IG9mIGludGVyZmFjZXNcclxuICAgKiBAcmV0dXJucyBsaXN0IG9mIEdvYWwgaW5zdGFuY2VzXHJcbiAgICovXHJcbiAgc3RhdGljIGltcG9ydEdvYWwoZ29hbE9ianM6IEdvYWxJbnRlcmZhY2VbXSk6IEdvYWxbXSB7XHJcbiAgICByZXR1cm4gZ29hbE9ianMubWFwKGdvYWwgPT4ge1xyXG4gICAgICBjb25zdCBjb29yZCA9IGdvYWwuY29vcmQ7XHJcbiAgICAgIHJldHVybiBuZXcgR29hbChDb29yZC5pbXBvcnRDb29yZChjb29yZCksIGdvYWwudGhyZXNob2xkKTtcclxuICAgIH0pO1xyXG4gIH1cclxufVxyXG5cclxuLy8gRm9ybWF0IGFjdGl2ZSBwYXJ0aWNsZSBsaXN0XHJcbi8vIHN0YXRpYyBtYW55VG9TdHJpbmcoZ29hbHM6IEdvYWxbXSk6IHN0cmluZyB7XHJcbi8vICAgbGV0IHJlc3VsdCA9IGAke2dvYWxzLmxlbmd0aH0gYWN0aXZlIGdvYWxzLi4uXFxuYDtcclxuLy8gICBnb2Fscy5tYXAoZ29hbCA9PiB7XHJcbi8vICAgICByZXN1bHQgKz0gYC0gJHtnb2FsLnRvU3RyaW5nKCl9XFxuYDtcclxuLy8gICB9KTtcclxuLy8gICByZXR1cm4gcmVzdWx0O1xyXG4vLyB9XHJcbiIsImltcG9ydCB7IERpc3BsYXksIFNjaGVkdWxlciwgS0VZUyB9IGZyb20gXCJyb3QtanMvbGliL2luZGV4XCI7XHJcbmltcG9ydCBTaW1wbGUgZnJvbSBcInJvdC1qcy9saWIvc2NoZWR1bGVyL3NpbXBsZVwiO1xyXG5pbXBvcnQgeyBkaXNwbGF5VGV4dCB9IGZyb20gXCIuL0hlbHBlcnNcIjtcclxuXHJcbmltcG9ydCBDb29yZCBmcm9tIFwiLi9Db29yZFwiO1xyXG5pbXBvcnQgR2x5cGggZnJvbSBcIi4vR2x5cGhcIjtcclxuaW1wb3J0IENlbGwgZnJvbSBcIi4vQ2VsbFwiO1xyXG5pbXBvcnQgR3JpZCBmcm9tIFwiLi9HcmlkXCI7XHJcbmltcG9ydCBMZXZlbCBmcm9tIFwiLi9MZXZlbFwiO1xyXG5pbXBvcnQgR2FtZVN0YXRlIGZyb20gXCIuL0dhbWVTdGF0ZVwiO1xyXG5pbXBvcnQgSW5wdXRVdGlsaXR5IGZyb20gXCIuL0lucHV0VXRpbGl0eVwiO1xyXG5pbXBvcnQgUGxheWVyIGZyb20gXCIuL1BsYXllclwiO1xyXG5pbXBvcnQgRnJhbWUgZnJvbSBcIi4vRnJhbWVcIjtcclxuaW1wb3J0IHsgQWN0b3IgfSBmcm9tIFwiLi9BY3RvclwiO1xyXG5pbXBvcnQgUGFydGljbGUgZnJvbSBcIi4vUGFydGljbGVcIjtcclxuXHJcbi8qKlxyXG4gKiBHYW1lIGNsYXNzIHJlbGF0ZXMgdG8gZGlzcGxheWluZyB0aGUgUk9ULmpzIFdlYkdMIGdyaWRcclxuICogT3RoZXIgbG9naWMgc2hvdWxkIGdvIHRvIGxvd2VyIGxldmVsXHJcbiAqL1xyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBHYW1lIHtcclxuICAvLyBHYW1lIGxvZ2ljXHJcbiAgcHVibGljIGxldmVsOiBMZXZlbDtcclxuICBwdWJsaWMgZnJhbWVzOiBGcmFtZVtdO1xyXG4gIHByaXZhdGUgZnJhbWVOdW1iZXI6IG51bWJlcjtcclxuICBwcml2YXRlIGdhbWVTdGF0ZTogR2FtZVN0YXRlO1xyXG4gIC8vIEdhbWUgZGlzcGxheVxyXG4gIHByaXZhdGUgZGlzcGxheTogRGlzcGxheTtcclxuICBwcml2YXRlIHNjaGVkdWxlcjogU2ltcGxlO1xyXG4gIHByaXZhdGUgcGxheWVyOiBQbGF5ZXI7XHJcbiAgcHJpdmF0ZSB0aWxlc2l6ZSA9IDMyO1xyXG5cclxuICBjb25zdHJ1Y3RvcihsZXZlbDogTGV2ZWwsIHRpbGVzaXplID0gMzIpIHtcclxuICAgIC8vIEdhbWUgbWVjaGFuaWNzXHJcbiAgICB0aGlzLmxldmVsID0gbGV2ZWw7XHJcbiAgICB0aGlzLmdhbWVTdGF0ZSA9IG5ldyBHYW1lU3RhdGUoKTtcclxuXHJcbiAgICAvLyBGSVhNRTogRmluZCBhIGJldHRlciB3YXkgdG8gbGF1bmNoIGZyYW1lIDAgd2hlbiBzaW11bGF0aW9uIHN0YXJ0c1xyXG4gICAgdGhpcy5mcmFtZXMgPSBbXTtcclxuICAgIHRoaXMuZnJhbWVzLnB1c2gobmV3IEZyYW1lKGxldmVsKSk7XHJcbiAgICB0aGlzLmZyYW1lTnVtYmVyID0gMDtcclxuXHJcbiAgICAvLyBHYW1lIGRpc3BsYXlcclxuICAgIHRoaXMudGlsZXNpemUgPSB0aWxlc2l6ZTtcclxuICAgIGNvbnN0IHRpbGVTZXQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiaW1nXCIpO1xyXG4gICAgdGlsZVNldC5zcmMgPSBgLi90aWxlcy90aWxlbWFwXyR7dGhpcy50aWxlc2l6ZX0ucG5nYDtcclxuICAgIGNvbnN0IHRpbGVNYXAgPSBHbHlwaC5wcm9jZXNzVGlsZU1hcCh0aGlzLnRpbGVzaXplKTtcclxuICAgIHRoaXMuZGlzcGxheSA9IG5ldyBEaXNwbGF5KHtcclxuICAgICAgLy8gbGF5b3V0OiBcInRpbGVcIixcclxuICAgICAgbGF5b3V0OiBcInRpbGUtZ2xcIixcclxuICAgICAgYmc6IFwidHJhbnNwYXJlbnRcIixcclxuICAgICAgd2lkdGg6IGxldmVsLmdyaWQuY29scyxcclxuICAgICAgaGVpZ2h0OiBsZXZlbC5ncmlkLnJvd3MsXHJcbiAgICAgIGZvbnRTaXplOiAyMCxcclxuICAgICAgdGlsZVdpZHRoOiB0aGlzLnRpbGVzaXplLFxyXG4gICAgICB0aWxlSGVpZ2h0OiB0aGlzLnRpbGVzaXplLFxyXG4gICAgICB0aWxlU2V0LFxyXG4gICAgICB0aWxlTWFwXHJcbiAgICAgIC8vIHRpbGVDb2xvcml6ZTogdHJ1ZVxyXG4gICAgfSk7XHJcbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLW5vbi1udWxsLWFzc2VydGlvblxyXG4gICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJncmlkXCIpIS5hcHBlbmRDaGlsZCh0aGlzLmRpc3BsYXkuZ2V0Q29udGFpbmVyKCkhKTtcclxuXHJcbiAgICAvLyBFbnRlciBtYWluIGxvb3BcclxuICAgIHRoaXMuaW5pdGlhbGl6ZUdhbWUoKTtcclxuICAgIHRoaXMubWFpbkxvb3AoKTtcclxuICB9XHJcblxyXG4gIC8vIEdldHRlcnMgYW5kIHNldHRlcnNcclxuICBnZXQgcGxheWVyQ2VsbCgpOiBDZWxsIHtcclxuICAgIHJldHVybiB0aGlzLnBsYXllci5jZWxsO1xyXG4gIH1cclxuICBnZXQgcGxheWVyQ29vcmQoKTogQ29vcmQge1xyXG4gICAgcmV0dXJuIHRoaXMucGxheWVyLmNvb3JkO1xyXG4gIH1cclxuICBnZXQgZ3JpZCgpOiBHcmlkIHtcclxuICAgIHJldHVybiB0aGlzLmxldmVsLmdyaWQ7XHJcbiAgfVxyXG4gIGdldCBsYXN0RnJhbWUoKTogRnJhbWUge1xyXG4gICAgcmV0dXJuIHRoaXMuZnJhbWVzW3RoaXMuZnJhbWVzLmxlbmd0aCAtIDFdO1xyXG4gIH1cclxuICBnZXQgZmlyc3RGcmFtZSgpOiBGcmFtZSB7XHJcbiAgICByZXR1cm4gdGhpcy5mcmFtZXNbMF07XHJcbiAgfVxyXG4gIGdldCBjdXJyZW50RnJhbWUoKTogRnJhbWUge1xyXG4gICAgcmV0dXJuIHRoaXMuZnJhbWVzW3RoaXMuZnJhbWVOdW1iZXJdO1xyXG4gIH1cclxuICBnZXQgbWF4RnJhbWVOdW1iZXIoKTogbnVtYmVyIHtcclxuICAgIHJldHVybiB0aGlzLmZyYW1lcy5sZW5ndGg7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBJbml0aWFsaXplIHRoZSBnYW1lXHJcbiAgICovXHJcbiAgcHJpdmF0ZSBpbml0aWFsaXplR2FtZSgpOiB2b2lkIHtcclxuICAgIHRoaXMuZGlzcGxheS5jbGVhcigpO1xyXG4gICAgaWYgKCF0aGlzLmdhbWVTdGF0ZS5pc0dhbWVPdmVyKCkgfHwgdGhpcy5nYW1lU3RhdGUuZG9SZXN0YXJ0R2FtZSgpKSB7XHJcbiAgICAgIGNvbnNvbGUubG9nKFwiU3RhcnRpbmcgZ2FtZS4uLlwiKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIGFsZXJ0KFwiVmljdG9yeSFcIik7XHJcbiAgICB9XHJcbiAgICB0aGlzLmdhbWVTdGF0ZS5yZXNldCgpO1xyXG4gICAgdGhpcy5wbGF5ZXIgPSBuZXcgUGxheWVyKHRoaXMubGV2ZWwsIHRoaXMuZ3JpZC5jZW50ZXIpO1xyXG4gICAgdGhpcy5zY2hlZHVsZXIgPSBuZXcgU2NoZWR1bGVyLlNpbXBsZSgpO1xyXG4gICAgdGhpcy5zY2hlZHVsZXIuYWRkKHRoaXMucGxheWVyLCB0cnVlKTtcclxuXHJcbiAgICBkaXNwbGF5VGV4dChcInRpdGxlXCIsIHRoaXMubGV2ZWwuaWQgKyBcIiAtIFwiICsgdGhpcy5sZXZlbC5uYW1lKTtcclxuICAgIGRpc3BsYXlUZXh0KFwiZGVzY3JpcHRpb25cIiwgdGhpcy5sZXZlbC5kZXNjcmlwdGlvbik7XHJcbiAgICB0aGlzLmRyYXdHYW1lKCk7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBNYWluIGxvb3Agb2YgdGhlIGdhbWVcclxuICAgKi9cclxuICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLWV4cGxpY2l0LWFueVxyXG4gIHByaXZhdGUgYXN5bmMgbWFpbkxvb3AoKTogUHJvbWlzZTxhbnk+IHtcclxuICAgIGxldCBhY3RvcjogQWN0b3I7XHJcbiAgICB3aGlsZSAodHJ1ZSkge1xyXG4gICAgICBhY3RvciA9IHRoaXMuc2NoZWR1bGVyLm5leHQoKTtcclxuICAgICAgaWYgKCFhY3Rvcikge1xyXG4gICAgICAgIGJyZWFrO1xyXG4gICAgICB9XHJcbiAgICAgIGF3YWl0IGFjdG9yLmFjdCgpO1xyXG4gICAgICBhd2FpdCBJbnB1dFV0aWxpdHkud2FpdEZvcklucHV0KHRoaXMuaGFuZGxlSW5wdXQuYmluZCh0aGlzKSk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBEcmF3IGdhbWUgcmVkcmF3cyB0aGUgd2hvbGUgZ2FtZSBlbGVtZW50c1xyXG4gICAqL1xyXG4gIHByaXZhdGUgZHJhd0dhbWUoKTogdm9pZCB7XHJcbiAgICB0aGlzLmRpc3BsYXkuY2xlYXIoKTtcclxuICAgIHRoaXMuZ3JpZC5wYXRocyA9IHRoaXMuZ3JpZC5jb21wdXRlUGF0aHMoKTtcclxuICAgIHRoaXMuZGlzcGxheURlYnVnKCk7XHJcbiAgICB0aGlzLmRyYXdGcmFtZSgpO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogRGlzcGxheSBkZWJ1ZyBwcm92aWRlcyBpbmZvcm1hdGlvbnMgaW4gaHRtbCBhYm91dCB0aGUgc2ltdWxhdGlvblxyXG4gICAqL1xyXG4gIHByaXZhdGUgZGlzcGxheURlYnVnKCk6IHZvaWQge1xyXG4gICAgZGlzcGxheVRleHQoXCJjZWxsXCIsIHRoaXMucGxheWVyLmNlbGwudG9TdHJpbmcoKSk7XHJcbiAgICBkaXNwbGF5VGV4dChcclxuICAgICAgXCJwbGF5ZXJcIixcclxuICAgICAgYFR1cm5zOiAke3RoaXMuZnJhbWVOdW1iZXJ9LyR7XHJcbiAgICAgICAgdGhpcy5tYXhGcmFtZU51bWJlclxyXG4gICAgICB9IHwgcGxheWVyOiAke3RoaXMucGxheWVyQ29vcmQudG9TdHJpbmcoKX1gXHJcbiAgICApO1xyXG4gICAgZGlzcGxheVRleHQoXHJcbiAgICAgIFwibGFzZXJcIixcclxuICAgICAgYEFjdGl2ZSBwYXJ0aWNsZXM6ICR7UGFydGljbGUubWFueVRvU3RyaW5nKHRoaXMuY3VycmVudEZyYW1lLnBhcnRpY2xlcyl9YFxyXG4gICAgKTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIERyYXcgYSBzcGVjaWZpYyBmcmFtZSBvZiB0aGUgc2ltdWxhdGlvbiBpbmNsdWRpbmcgdGhlIHBhcnRpY2xlc1xyXG4gICAqIFRPRE86IEFjY2VzcyB0byBncmlkIHBhcnRpY2xlcyBhdCByZW5kZXIgdGltZVxyXG4gICAqIEBwYXJhbSBmcmFtZSBGcmFtZSBvYmplY3QgdG8gcmVuZGVyXHJcbiAgICovXHJcbiAgcHJpdmF0ZSBkcmF3RnJhbWUoZnJhbWUgPSB0aGlzLmN1cnJlbnRGcmFtZSk6IHZvaWQge1xyXG4gICAgY29uc29sZS5sb2coYC0tLSBEaXNwbGF5aW5nIGZyYW1lICR7dGhpcy5mcmFtZU51bWJlcn0gLS0tYCk7XHJcbiAgICAvLyBjb25zb2xlLmxvZyh0aGlzLmN1cnJlbnRGcmFtZS50b1N0cmluZygpKTtcclxuICAgIGRpc3BsYXlUZXh0KFxyXG4gICAgICBcImxhc2VyXCIsXHJcbiAgICAgIGBBY3RpdmUgcGFydGljbGVzOiAke1BhcnRpY2xlLm1hbnlUb1N0cmluZyhmcmFtZS5wYXJ0aWNsZXMpfWBcclxuICAgICk7XHJcbiAgICB0aGlzLmRyYXdHcmlkKCk7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBEcmF3IHRoZSBtYWluIGdyaWRcclxuICAgKi9cclxuICBwdWJsaWMgZHJhd0dyaWQoKTogdm9pZCB7XHJcbiAgICB0aGlzLmRpc3BsYXkuY2xlYXIoKTtcclxuICAgIGNvbnNvbGUubG9nKGBSZW5kZXJpbmcgV2ViR0wgZ2FtZSBncmlkLi4uYCk7XHJcbiAgICBmb3IgKGxldCB5ID0gMDsgeSA8IHRoaXMuZ3JpZC5yb3dzOyB5KyspIHtcclxuICAgICAgZm9yIChsZXQgeCA9IDA7IHggPCB0aGlzLmdyaWQuY29sczsgeCsrKSB7XHJcbiAgICAgICAgY29uc3QgY29vcmQgPSBDb29yZC5pbXBvcnRDb29yZCh7IHk6IHksIHg6IHggfSk7XHJcbiAgICAgICAgdGhpcy5kcmF3Q29vcmQoY29vcmQpO1xyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBEcmF3IGEgc3BlY2lmaWMgY29vcmRpbmF0ZVxyXG4gICAqIEBwYXJhbSBjb29yZCBjb29yZCB0byBkcmF3XHJcbiAgICovXHJcbiAgZHJhd0Nvb3JkKGNvb3JkOiBDb29yZCk6IHZvaWQge1xyXG4gICAgLy8gR2F0aGVyIGNoYXJhY3RlciBsaXN0XHJcbiAgICBjb25zdCBjZWxsID0gdGhpcy5ncmlkLmdldChjb29yZCk7XHJcbiAgICBjb25zdCBjaGFyTGlzdDogc3RyaW5nW10gPSBbY2VsbC5hc2NpaV07XHJcbiAgICBjb25zdCBmZ0xpc3Q6IHN0cmluZ1tdID0gW1wid2hpdGVcIl07XHJcbiAgICBjb25zdCBiZ0xpc3Q6IHN0cmluZ1tdID0gW1wicHVycGxlXCJdO1xyXG5cclxuICAgIC8vIEFkZCBwbGF5ZXJcclxuICAgIGlmICh0aGlzLnBsYXllci5jb29yZC5lcXVhbChjb29yZCkpIHtcclxuICAgICAgY2hhckxpc3QucHVzaChcIkBcIik7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gIENvbG9yIHZhcmlhYmxlc1xyXG4gICAgaWYgKGNlbGwuZnJvemVuKSB7XHJcbiAgICAgIGJnTGlzdC5wdXNoKFwidHVycXVvaXNlXCIpO1xyXG4gICAgfVxyXG4gICAgaWYgKGNlbGwuZW5lcmdpemVkKSB7XHJcbiAgICAgIGJnTGlzdC5wdXNoKFwicmVkXCIpO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIENsYXNzaWNhbCBwYXRoIGludGVuc2l0eVxyXG4gICAgY29uc3Qgc3VtID0gdGhpcy5ncmlkLmNvb3JkSW50ZW5zaXR5U3VtKGNvb3JkKTtcclxuICAgIGlmIChzdW0gPiAwKSB7XHJcbiAgICAgIGJnTGlzdC5wdXNoKGByZ2JhKDI1NSwgMCwgMCwgJHtzdW0gLyAzfSlgKTtcclxuICAgIH1cclxuXHJcbiAgICAvLyBEaXNwbGF5IHF1YW50dW0gcGhvdG9uXHJcbiAgICB0aGlzLmN1cnJlbnRGcmFtZS5xdWFudHVtLmZvckVhY2gocGFydGljbGUgPT4ge1xyXG4gICAgICAvLyBjb25zb2xlLmxvZyhcIk9QQUNJVFk6XCIgKyBwYXJ0aWNsZS5vcGFjaXR5KTtcclxuICAgICAgaWYgKFxyXG4gICAgICAgIHBhcnRpY2xlICYmXHJcbiAgICAgICAgcGFydGljbGUuY29vcmQuZXF1YWwoY29vcmQpICYmXHJcbiAgICAgICAgcGFydGljbGUuaXNWZXJ0aWNhbCAmJlxyXG4gICAgICAgIHBhcnRpY2xlLm9wYWNpdHkgPiAwLjFcclxuICAgICAgKSB7XHJcbiAgICAgICAgY2hhckxpc3QucHVzaChcIlBcIik7XHJcbiAgICAgIH1cclxuICAgICAgaWYgKFxyXG4gICAgICAgIHBhcnRpY2xlICYmXHJcbiAgICAgICAgcGFydGljbGUuY29vcmQuZXF1YWwoY29vcmQpICYmXHJcbiAgICAgICAgIXBhcnRpY2xlLmlzVmVydGljYWwgJiZcclxuICAgICAgICBwYXJ0aWNsZS5vcGFjaXR5ID4gMC4xXHJcbiAgICAgICkge1xyXG4gICAgICAgIGNoYXJMaXN0LnB1c2goXCJkXCIpO1xyXG4gICAgICB9XHJcbiAgICB9KTtcclxuICAgIHRoaXMuZGlzcGxheS5kcmF3KFxyXG4gICAgICBjb29yZC54LFxyXG4gICAgICBjb29yZC55LFxyXG4gICAgICBjaGFyTGlzdCxcclxuICAgICAgZmdMaXN0W2ZnTGlzdC5sZW5ndGggLSAxXSxcclxuICAgICAgYmdMaXN0W2JnTGlzdC5sZW5ndGggLSAxXVxyXG4gICAgKTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEhhbmRsZXMga2V5IGV2ZW50IHJlbGF0ZWQgdG8gc2ltdWxhdGlvblxyXG4gICAqIFRoZSBvdGhlciBrZXkgZXZlbnRzIGFyZSBzZW50IHRvIFBsYXllclxyXG4gICAqIEBwYXJhbSBldmVudCBrZXkgZXZlbnRcclxuICAgKi9cclxuICBwcml2YXRlIGhhbmRsZUlucHV0KGV2ZW50OiBLZXlib2FyZEV2ZW50KTogdm9pZCB7XHJcbiAgICAvLyBGaWx0ZXIga2V5IGV2ZW50c1xyXG4gICAgY29uc3QgY29kZSA9IGV2ZW50LmtleUNvZGU7XHJcbiAgICBpZiAoY29kZSA9PT0gS0VZUy5WS19TVUJUUkFDVCB8fCBjb2RlID09PSBLRVlTLlZLX0FERCkge1xyXG4gICAgICBzd2l0Y2ggKGNvZGUpIHtcclxuICAgICAgICBjYXNlIEtFWVMuVktfU1VCVFJBQ1Q6XHJcbiAgICAgICAgICB0aGlzLmZyYW1lTnVtYmVyIC09IDE7XHJcbiAgICAgICAgICBicmVhaztcclxuICAgICAgICBjYXNlIEtFWVMuVktfQUREOlxyXG4gICAgICAgICAgdGhpcy5mcmFtZU51bWJlciArPSAxO1xyXG4gICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgZGVmYXVsdDpcclxuICAgICAgICAgIGJyZWFrO1xyXG4gICAgICB9XHJcbiAgICAgIC8vIERvbid0IGdvIG91dCBvZiBib3VuZHNcclxuICAgICAgaWYgKHRoaXMuZnJhbWVOdW1iZXIgPD0gMCkge1xyXG4gICAgICAgIHRoaXMuZnJhbWVOdW1iZXIgPSAwO1xyXG4gICAgICB9XHJcbiAgICAgIGlmICh0aGlzLmZyYW1lTnVtYmVyID49IHRoaXMuZnJhbWVzLmxlbmd0aCAtIDEpIHtcclxuICAgICAgICB0aGlzLmZyYW1lTnVtYmVyID0gdGhpcy5mcmFtZXMubGVuZ3RoIC0gMTtcclxuICAgICAgICBjb25zdCBuZXh0RnJhbWUgPSB0aGlzLmxhc3RGcmFtZS5uZXh0KCk7XHJcbiAgICAgICAgdGhpcy5mcmFtZXMucHVzaChuZXh0RnJhbWUpO1xyXG4gICAgICB9XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICB0aGlzLnBsYXllci5oYW5kbGVJbnB1dChldmVudCk7XHJcbiAgICB9XHJcbiAgICB0aGlzLmRyYXdHYW1lKCk7XHJcbiAgfVxyXG59XHJcbiIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIEdhbWVTdGF0ZSB7XHJcblx0YWNoaWV2ZWRHb2FsczogYm9vbGVhbjtcclxuXHRub1BhcnRpY2xlczogYm9vbGVhbjtcclxuXHRub3RFbm91Z2hJbnRlbnNpdHk6IGJvb2xlYW47XHJcblxyXG5cdGNvbnN0cnVjdG9yKCkge1xyXG5cdFx0dGhpcy5yZXNldCgpO1xyXG5cdH1cclxuXHJcblx0cmVzZXQoKTogdm9pZCB7XHJcblx0XHR0aGlzLmFjaGlldmVkR29hbHMgPSBmYWxzZTtcclxuXHRcdHRoaXMubm9QYXJ0aWNsZXMgPSBmYWxzZTtcclxuXHRcdHRoaXMubm90RW5vdWdoSW50ZW5zaXR5ID0gZmFsc2U7XHJcblx0fVxyXG5cclxuXHRkb1N0YXJ0TmV4dFJvdW5kKCk6IGJvb2xlYW4ge1xyXG5cdFx0cmV0dXJuICF0aGlzLm5vUGFydGljbGVzO1xyXG5cdH1cclxuXHJcblx0ZG9SZXN0YXJ0R2FtZSgpOiBib29sZWFuIHtcclxuXHRcdHJldHVybiB0aGlzLm5vUGFydGljbGVzIHx8IHRoaXMubm90RW5vdWdoSW50ZW5zaXR5O1xyXG5cdH1cclxuXHJcblx0aXNHYW1lT3ZlcigpOiBib29sZWFuIHtcclxuXHRcdHJldHVybiB0aGlzLmFjaGlldmVkR29hbHMgfHwgdGhpcy5ub1BhcnRpY2xlcyB8fCB0aGlzLm5vdEVub3VnaEludGVuc2l0eTtcclxuXHR9XHJcbn1cclxuIiwiaW1wb3J0IHsgS0VZUyB9IGZyb20gXCJyb3QtanNcIjtcclxuaW1wb3J0IEdseXBoIGZyb20gXCIuL0dseXBoXCI7XHJcbmltcG9ydCB7IEFjdG9yLCBBY3RvclR5cGUgfSBmcm9tIFwiLi9BY3RvclwiO1xyXG5pbXBvcnQgSW5wdXRVdGlsaXR5IGZyb20gXCIuL0lucHV0VXRpbGl0eVwiO1xyXG5pbXBvcnQgQ29vcmQgZnJvbSBcIi4vQ29vcmRcIjtcclxuaW1wb3J0IENlbGwgZnJvbSBcIi4vQ2VsbFwiO1xyXG5pbXBvcnQgTGV2ZWwgZnJvbSBcIi4vTGV2ZWxcIjtcclxuaW1wb3J0IEVsZW1lbnQgZnJvbSBcIi4vRWxlbWVudFwiO1xyXG5pbXBvcnQgRmlsZVNhdmVyID0gcmVxdWlyZShcImZpbGUtc2F2ZXJcIik7XHJcbmltcG9ydCB7IGpzb25Hcm91cHMgfSBmcm9tIFwiLi4vZGF0YS9lbGVtZW50c1wiO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgUGxheWVyIGltcGxlbWVudHMgQWN0b3Ige1xyXG4gIGdseXBoOiBHbHlwaDtcclxuICB0eXBlOiBBY3RvclR5cGU7XHJcbiAgcHJpdmF0ZSBsZXZlbDogTGV2ZWw7XHJcbiAgcHVibGljIGNvb3JkOiBDb29yZDtcclxuXHJcbiAgY29uc3RydWN0b3IobGV2ZWw6IExldmVsLCBjb29yZDogQ29vcmQpIHtcclxuICAgIHRoaXMuZ2x5cGggPSBuZXcgR2x5cGgoXCJAXCIsIFswLCAwXSk7XHJcbiAgICB0aGlzLnR5cGUgPSBBY3RvclR5cGUuUGxheWVyO1xyXG4gICAgdGhpcy5sZXZlbCA9IGxldmVsO1xyXG4gICAgdGhpcy5jb29yZCA9IGNvb3JkO1xyXG4gIH1cclxuXHJcbiAgLy8gR2V0dGVycyBhbmQgc2V0dGVyc1xyXG4gIGdldCBjZWxsKCk6IENlbGwge1xyXG4gICAgcmV0dXJuIHRoaXMubGV2ZWwuZ3JpZC5nZXQodGhpcy5jb29yZCk7XHJcbiAgfVxyXG4gIC8vIEdldHRlcnMgYW5kIHNldHRlcnNcclxuICBnZXQgZWxlbWVudCgpOiBFbGVtZW50IHtcclxuICAgIHJldHVybiB0aGlzLmNlbGwuZWxlbWVudDtcclxuICB9XHJcblxyXG4gIC8vIHRzbGludDpkaXNhYmxlLW5leHQtbGluZTogbm8tYW55XHJcbiAgYWN0KCk6IFByb21pc2U8c3RyaW5nPiB7XHJcbiAgICByZXR1cm4gSW5wdXRVdGlsaXR5LndhaXRGb3JJbnB1dCh0aGlzLmhhbmRsZUlucHV0LmJpbmQodGhpcykpO1xyXG4gIH1cclxuXHJcbiAgLy8gQ3ljbGUgdGhyb3VnaCBncm91cHMgb2YgZWxlbWVudHNcclxuICBjeWNsZU5leHQoZ3JvdXA6IHN0cmluZyk6IHZvaWQge1xyXG4gICAgY29uc3QgbGlzdDogc3RyaW5nW10gPSBqc29uR3JvdXBzW2dyb3VwXTtcclxuICAgIGlmICh0aGlzLmNlbGwuZnJvemVuKSB7XHJcbiAgICAgIHJldHVybjtcclxuICAgIH1cclxuICAgIC8vIEN5Y2xlIHRocm91Z2ggZWxlbWVudHMgb2YgdGhlIHNhbWUgZ3JvdXBcclxuICAgIGlmIChncm91cCA9PT0gdGhpcy5lbGVtZW50Lmdyb3VwKSB7XHJcbiAgICAgIGNvbnN0IGVsZW1JbmRleCA9IChsaXN0LmluZGV4T2YodGhpcy5lbGVtZW50Lm5hbWUpICsgMSkgJSBsaXN0Lmxlbmd0aDtcclxuICAgICAgdGhpcy5jZWxsLmVsZW1lbnQgPSBFbGVtZW50LmZyb21OYW1lKGxpc3RbZWxlbUluZGV4XSk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICB0aGlzLmNlbGwucm90YXRpb24gPSAwO1xyXG4gICAgICB0aGlzLmNlbGwuZWxlbWVudCA9IEVsZW1lbnQuZnJvbU5hbWUobGlzdFswXSk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICAvLyBPZmZzZXQgb2YgbW92ZW1lbnRcclxuICBoYW5kbGVJbnB1dChldmVudDogS2V5Ym9hcmRFdmVudCk6IGJvb2xlYW4ge1xyXG4gICAgbGV0IHZhbGlkSW5wdXQgPSBmYWxzZTtcclxuICAgIGxldCBuZXdDb29yZDogQ29vcmQgPSB0aGlzLmNvb3JkO1xyXG4gICAgc3dpdGNoIChldmVudC5rZXlDb2RlKSB7XHJcbiAgICAgIC8vIE1vdmVtZW50XHJcbiAgICAgIGNhc2UgS0VZUy5WS19aOlxyXG4gICAgICBjYXNlIEtFWVMuVktfVVA6XHJcbiAgICAgICAgbmV3Q29vcmQgPSB0aGlzLmNvb3JkLnRvcDtcclxuICAgICAgICBicmVhaztcclxuICAgICAgY2FzZSBLRVlTLlZLX0Q6XHJcbiAgICAgIGNhc2UgS0VZUy5WS19SSUdIVDpcclxuICAgICAgICBuZXdDb29yZCA9IHRoaXMuY29vcmQucmlnaHQ7XHJcbiAgICAgICAgYnJlYWs7XHJcbiAgICAgIGNhc2UgS0VZUy5WS19TOlxyXG4gICAgICBjYXNlIEtFWVMuVktfRE9XTjpcclxuICAgICAgICBuZXdDb29yZCA9IHRoaXMuY29vcmQuYm90dG9tO1xyXG4gICAgICAgIGJyZWFrO1xyXG4gICAgICBjYXNlIEtFWVMuVktfUTpcclxuICAgICAgY2FzZSBLRVlTLlZLX0xFRlQ6XHJcbiAgICAgICAgbmV3Q29vcmQgPSB0aGlzLmNvb3JkLmxlZnQ7XHJcbiAgICAgICAgYnJlYWs7XHJcblxyXG4gICAgICAvLyBSb3RhdGlvbnMsIGZyZWV6aW5nLCBhY3RpdmF0aW9uXHJcbiAgICAgIGNhc2UgS0VZUy5WS19BOlxyXG4gICAgICAgIHRoaXMuY2VsbC5yb3RhdGUoLXRoaXMuY2VsbC5lbGVtZW50LnJvdGF0aW9uQW5nbGUpO1xyXG4gICAgICAgIGJyZWFrO1xyXG4gICAgICBjYXNlIEtFWVMuVktfRTpcclxuICAgICAgY2FzZSBLRVlTLlZLX1I6XHJcbiAgICAgICAgdGhpcy5jZWxsLnJvdGF0ZSh0aGlzLmNlbGwuZWxlbWVudC5yb3RhdGlvbkFuZ2xlKTtcclxuICAgICAgICBicmVhaztcclxuICAgICAgY2FzZSBLRVlTLlZLX0Y6XHJcbiAgICAgICAgdGhpcy5jZWxsLnRvZ2dsZUZyZWV6ZSgpO1xyXG4gICAgICAgIGJyZWFrO1xyXG4gICAgICBjYXNlIEtFWVMuVktfQ09OVFJPTDpcclxuICAgICAgICB0aGlzLmNlbGwudG9nZ2xlQWN0aXZlKCk7XHJcbiAgICAgICAgYnJlYWs7XHJcblxyXG4gICAgICAvLyBTYXZlIEpTT04gZmlsZSB3aXRoIGxldmVsXHJcbiAgICAgIGNhc2UgS0VZUy5WS19GMTpcclxuICAgICAgICBjb25zdCBqc29uID0gdGhpcy5sZXZlbC5leHBvcnRMZXZlbCgpO1xyXG4gICAgICAgIGNvbnN0IGJsb2IgPSBuZXcgQmxvYihbSlNPTi5zdHJpbmdpZnkoanNvbildLCB7XHJcbiAgICAgICAgICB0eXBlOiBcInRleHQvcGxhaW47Y2hhcnNldD11dGYtOFwiXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgRmlsZVNhdmVyLnNhdmVBcyhibG9iLCBcImxldmVsLmpzb25cIik7XHJcbiAgICAgICAgYnJlYWs7XHJcblxyXG4gICAgICAvLyBNb3ZlIGFsbCBib2FyZCBlbGVtZW50c1xyXG4gICAgICBjYXNlIEtFWVMuVktfTlVNUEFEODpcclxuICAgICAgICB0aGlzLmxldmVsLmdyaWQubW92ZUFsbChcInRvcFwiKTtcclxuICAgICAgICBicmVhaztcclxuICAgICAgY2FzZSBLRVlTLlZLX05VTVBBRDI6XHJcbiAgICAgICAgdGhpcy5sZXZlbC5ncmlkLm1vdmVBbGwoXCJib3R0b21cIik7XHJcbiAgICAgICAgYnJlYWs7XHJcbiAgICAgIGNhc2UgS0VZUy5WS19OVU1QQUQ0OlxyXG4gICAgICAgIHRoaXMubGV2ZWwuZ3JpZC5tb3ZlQWxsKFwibGVmdFwiKTtcclxuICAgICAgICBicmVhaztcclxuICAgICAgY2FzZSBLRVlTLlZLX05VTVBBRDY6XHJcbiAgICAgICAgdGhpcy5sZXZlbC5ncmlkLm1vdmVBbGwoXCJyaWdodFwiKTtcclxuICAgICAgICBicmVhaztcclxuXHJcbiAgICAgIC8vIEVsZW1lbnRzXHJcbiAgICAgIC8vIEN5Y2xlIHRocm91Z2ggZWxlbWVudHMgaW4gZ3JvdXBcclxuICAgICAgY2FzZSBLRVlTLlZLX1FVT1RFOlxyXG4gICAgICBjYXNlIEtFWVMuVktfMDpcclxuICAgICAgICB0aGlzLmN5Y2xlTmV4dChcIkJhc2ljXCIpO1xyXG4gICAgICAgIGJyZWFrO1xyXG4gICAgICBjYXNlIEtFWVMuVktfMTpcclxuICAgICAgICB0aGlzLmN5Y2xlTmV4dChcIkVtaXR0ZXJcIik7XHJcbiAgICAgICAgYnJlYWs7XHJcbiAgICAgIGNhc2UgS0VZUy5WS18yOlxyXG4gICAgICAgIHRoaXMuY3ljbGVOZXh0KFwiRGlyZWN0aW9uXCIpO1xyXG4gICAgICAgIGJyZWFrO1xyXG4gICAgICBjYXNlIEtFWVMuVktfMzpcclxuICAgICAgICB0aGlzLmN5Y2xlTmV4dChcIkFic29ycHRpb25cIik7XHJcbiAgICAgICAgYnJlYWs7XHJcbiAgICAgIGNhc2UgS0VZUy5WS180OlxyXG4gICAgICAgIHRoaXMuY3ljbGVOZXh0KFwiUG9sYXJpemF0aW9uXCIpO1xyXG4gICAgICAgIGJyZWFrO1xyXG4gICAgICBjYXNlIEtFWVMuVktfNTpcclxuICAgICAgICB0aGlzLmN5Y2xlTmV4dChcIlBoYXNlXCIpO1xyXG4gICAgICAgIGJyZWFrO1xyXG4gICAgICBjYXNlIEtFWVMuVktfREVMRVRFOlxyXG4gICAgICAgIHRoaXMuY2VsbC5lbGVtZW50ID0gRWxlbWVudC5mcm9tTmFtZShcInZvaWRcIik7XHJcbiAgICAgICAgdGhpcy5jZWxsLmZyb3plbiA9IGZhbHNlO1xyXG4gICAgICAgIHRoaXMuY2VsbC5hY3RpdmUgPSBmYWxzZTtcclxuICAgICAgICBicmVhaztcclxuICAgICAgZGVmYXVsdDpcclxuICAgICAgICBicmVhaztcclxuICAgIH1cclxuICAgIC8vIENoZWNrIHRoYXQgcGxheWVyIGlzIGluIGdhbWUgZ3JpZCBib3JkZXJzXHJcbiAgICBpZiAodGhpcy5sZXZlbC5ncmlkLmluY2x1ZGVzKG5ld0Nvb3JkKSkge1xyXG4gICAgICB0aGlzLmNvb3JkID0gbmV3Q29vcmQ7XHJcbiAgICAgIHZhbGlkSW5wdXQgPSB0cnVlO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIHZhbGlkSW5wdXQ7XHJcbiAgfVxyXG5cclxuICB0b1N0cmluZygpOiBzdHJpbmcge1xyXG4gICAgcmV0dXJuIGBQbGF5ZXIgJHt0aGlzLmNvb3JkLnRvU3RyaW5nKCl9YDtcclxuICB9XHJcbn1cclxuIiwiKGZ1bmN0aW9uKGEsYil7aWYoXCJmdW5jdGlvblwiPT10eXBlb2YgZGVmaW5lJiZkZWZpbmUuYW1kKWRlZmluZShbXSxiKTtlbHNlIGlmKFwidW5kZWZpbmVkXCIhPXR5cGVvZiBleHBvcnRzKWIoKTtlbHNle2IoKSxhLkZpbGVTYXZlcj17ZXhwb3J0czp7fX0uZXhwb3J0c319KSh0aGlzLGZ1bmN0aW9uKCl7XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gYihhLGIpe3JldHVyblwidW5kZWZpbmVkXCI9PXR5cGVvZiBiP2I9e2F1dG9Cb206ITF9Olwib2JqZWN0XCIhPXR5cGVvZiBiJiYoY29uc29sZS53YXJuKFwiRGVwcmVjYXRlZDogRXhwZWN0ZWQgdGhpcmQgYXJndW1lbnQgdG8gYmUgYSBvYmplY3RcIiksYj17YXV0b0JvbTohYn0pLGIuYXV0b0JvbSYmL15cXHMqKD86dGV4dFxcL1xcUyp8YXBwbGljYXRpb25cXC94bWx8XFxTKlxcL1xcUypcXCt4bWwpXFxzKjsuKmNoYXJzZXRcXHMqPVxccyp1dGYtOC9pLnRlc3QoYS50eXBlKT9uZXcgQmxvYihbXCJcXHVGRUZGXCIsYV0se3R5cGU6YS50eXBlfSk6YX1mdW5jdGlvbiBjKGIsYyxkKXt2YXIgZT1uZXcgWE1MSHR0cFJlcXVlc3Q7ZS5vcGVuKFwiR0VUXCIsYiksZS5yZXNwb25zZVR5cGU9XCJibG9iXCIsZS5vbmxvYWQ9ZnVuY3Rpb24oKXthKGUucmVzcG9uc2UsYyxkKX0sZS5vbmVycm9yPWZ1bmN0aW9uKCl7Y29uc29sZS5lcnJvcihcImNvdWxkIG5vdCBkb3dubG9hZCBmaWxlXCIpfSxlLnNlbmQoKX1mdW5jdGlvbiBkKGEpe3ZhciBiPW5ldyBYTUxIdHRwUmVxdWVzdDtiLm9wZW4oXCJIRUFEXCIsYSwhMSk7dHJ5e2Iuc2VuZCgpfWNhdGNoKGEpe31yZXR1cm4gMjAwPD1iLnN0YXR1cyYmMjk5Pj1iLnN0YXR1c31mdW5jdGlvbiBlKGEpe3RyeXthLmRpc3BhdGNoRXZlbnQobmV3IE1vdXNlRXZlbnQoXCJjbGlja1wiKSl9Y2F0Y2goYyl7dmFyIGI9ZG9jdW1lbnQuY3JlYXRlRXZlbnQoXCJNb3VzZUV2ZW50c1wiKTtiLmluaXRNb3VzZUV2ZW50KFwiY2xpY2tcIiwhMCwhMCx3aW5kb3csMCwwLDAsODAsMjAsITEsITEsITEsITEsMCxudWxsKSxhLmRpc3BhdGNoRXZlbnQoYil9fXZhciBmPVwib2JqZWN0XCI9PXR5cGVvZiB3aW5kb3cmJndpbmRvdy53aW5kb3c9PT13aW5kb3c/d2luZG93Olwib2JqZWN0XCI9PXR5cGVvZiBzZWxmJiZzZWxmLnNlbGY9PT1zZWxmP3NlbGY6XCJvYmplY3RcIj09dHlwZW9mIGdsb2JhbCYmZ2xvYmFsLmdsb2JhbD09PWdsb2JhbD9nbG9iYWw6dm9pZCAwLGE9Zi5zYXZlQXN8fChcIm9iamVjdFwiIT10eXBlb2Ygd2luZG93fHx3aW5kb3chPT1mP2Z1bmN0aW9uKCl7fTpcImRvd25sb2FkXCJpbiBIVE1MQW5jaG9yRWxlbWVudC5wcm90b3R5cGU/ZnVuY3Rpb24oYixnLGgpe3ZhciBpPWYuVVJMfHxmLndlYmtpdFVSTCxqPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJhXCIpO2c9Z3x8Yi5uYW1lfHxcImRvd25sb2FkXCIsai5kb3dubG9hZD1nLGoucmVsPVwibm9vcGVuZXJcIixcInN0cmluZ1wiPT10eXBlb2YgYj8oai5ocmVmPWIsai5vcmlnaW49PT1sb2NhdGlvbi5vcmlnaW4/ZShqKTpkKGouaHJlZik/YyhiLGcsaCk6ZShqLGoudGFyZ2V0PVwiX2JsYW5rXCIpKTooai5ocmVmPWkuY3JlYXRlT2JqZWN0VVJMKGIpLHNldFRpbWVvdXQoZnVuY3Rpb24oKXtpLnJldm9rZU9iamVjdFVSTChqLmhyZWYpfSw0RTQpLHNldFRpbWVvdXQoZnVuY3Rpb24oKXtlKGopfSwwKSl9OlwibXNTYXZlT3JPcGVuQmxvYlwiaW4gbmF2aWdhdG9yP2Z1bmN0aW9uKGYsZyxoKXtpZihnPWd8fGYubmFtZXx8XCJkb3dubG9hZFwiLFwic3RyaW5nXCIhPXR5cGVvZiBmKW5hdmlnYXRvci5tc1NhdmVPck9wZW5CbG9iKGIoZixoKSxnKTtlbHNlIGlmKGQoZikpYyhmLGcsaCk7ZWxzZXt2YXIgaT1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiYVwiKTtpLmhyZWY9ZixpLnRhcmdldD1cIl9ibGFua1wiLHNldFRpbWVvdXQoZnVuY3Rpb24oKXtlKGkpfSl9fTpmdW5jdGlvbihhLGIsZCxlKXtpZihlPWV8fG9wZW4oXCJcIixcIl9ibGFua1wiKSxlJiYoZS5kb2N1bWVudC50aXRsZT1lLmRvY3VtZW50LmJvZHkuaW5uZXJUZXh0PVwiZG93bmxvYWRpbmcuLi5cIiksXCJzdHJpbmdcIj09dHlwZW9mIGEpcmV0dXJuIGMoYSxiLGQpO3ZhciBnPVwiYXBwbGljYXRpb24vb2N0ZXQtc3RyZWFtXCI9PT1hLnR5cGUsaD0vY29uc3RydWN0b3IvaS50ZXN0KGYuSFRNTEVsZW1lbnQpfHxmLnNhZmFyaSxpPS9DcmlPU1xcL1tcXGRdKy8udGVzdChuYXZpZ2F0b3IudXNlckFnZW50KTtpZigoaXx8ZyYmaCkmJlwib2JqZWN0XCI9PXR5cGVvZiBGaWxlUmVhZGVyKXt2YXIgaj1uZXcgRmlsZVJlYWRlcjtqLm9ubG9hZGVuZD1mdW5jdGlvbigpe3ZhciBhPWoucmVzdWx0O2E9aT9hOmEucmVwbGFjZSgvXmRhdGE6W147XSo7LyxcImRhdGE6YXR0YWNobWVudC9maWxlO1wiKSxlP2UubG9jYXRpb24uaHJlZj1hOmxvY2F0aW9uPWEsZT1udWxsfSxqLnJlYWRBc0RhdGFVUkwoYSl9ZWxzZXt2YXIgaz1mLlVSTHx8Zi53ZWJraXRVUkwsbD1rLmNyZWF0ZU9iamVjdFVSTChhKTtlP2UubG9jYXRpb249bDpsb2NhdGlvbi5ocmVmPWwsZT1udWxsLHNldFRpbWVvdXQoZnVuY3Rpb24oKXtrLnJldm9rZU9iamVjdFVSTChsKX0sNEU0KX19KTtmLnNhdmVBcz1hLnNhdmVBcz1hLFwidW5kZWZpbmVkXCIhPXR5cGVvZiBtb2R1bGUmJihtb2R1bGUuZXhwb3J0cz1hKX0pO1xuXG4vLyMgc291cmNlTWFwcGluZ1VSTD1GaWxlU2F2ZXIubWluLmpzLm1hcCIsIi8vIFRJTUUgRlJBTUUgQ0xBU1NcclxuLy8gQWxsb3cgdGltZS10cmF2ZWwgZGVidWdnaW5nIHdpdGggc3RlcCBieSBzdGVwIGluYy9kZWMgb2YgdGltZVxyXG4vLyBHZW5lcmF0ZSBhIG5ldyBmcmFtZSBmb3IgZXZlcnkgbW92ZSBvZiB0aGUgcGFydGljbGVcclxuLy8gUGFydGljbGVzIGFyZSBbY29vcmQsIGRpcmVjdGlvbl1cclxuXHJcbi8vIEV4aXQgY29uZGl0aW9uc1xyXG4vLyAtIEFsbCBnb2FscyBkb25lXHJcbi8vIC0gTm90IGVub3VnaCBpbnRlbnNpdHlcclxuLy8gLSBObyBtb3JlIHBhcnRpY2xlc1xyXG5pbXBvcnQgQ2VsbCBmcm9tIFwiLi9DZWxsXCI7XHJcbmltcG9ydCBHb2FsIGZyb20gXCIuL0dvYWxcIjtcclxuaW1wb3J0IEhpbnQgZnJvbSBcIi4vSGludFwiO1xyXG5pbXBvcnQgR3JpZCBmcm9tIFwiLi9HcmlkXCI7XHJcbmltcG9ydCBMZXZlbCwgeyBMZXZlbEludGVyZmFjZSB9IGZyb20gXCIuL0xldmVsXCI7XHJcbmltcG9ydCBQYXJ0aWNsZSwgeyBQYXJ0aWNsZUludGVyZmFjZSB9IGZyb20gXCIuL1BhcnRpY2xlXCI7XHJcbmltcG9ydCB7IGRpc3BsYXlUZXh0IH0gZnJvbSBcIi4vSGVscGVyc1wiO1xyXG4vLyBRdWFudHVtXHJcbmltcG9ydCAqIGFzIHF0IGZyb20gXCJxdWFudHVtLXRlbnNvcnNcIjtcclxuaW1wb3J0IENvb3JkIGZyb20gXCIuL0Nvb3JkXCI7XHJcblxyXG5leHBvcnQgaW50ZXJmYWNlIEZyYW1lSW50ZXJmYWNlIHtcclxuICBsZXZlbDogTGV2ZWxJbnRlcmZhY2U7XHJcbiAgc3RlcDogbnVtYmVyO1xyXG4gIHBhcnRpY2xlczogUGFydGljbGVJbnRlcmZhY2VbXTtcclxuICBxdWFudHVtOiBQYXJ0aWNsZUludGVyZmFjZVtdO1xyXG4gIGVuZDogYm9vbGVhbjtcclxufVxyXG5cclxuZXhwb3J0IGludGVyZmFjZSBRcGFydGljbGUge1xyXG4gIHg6IG51bWJlcjtcclxuICB5OiBudW1iZXI7XHJcbiAgZGlyZWN0aW9uOiBudW1iZXI7XHJcbiAgYXJlOiBudW1iZXI7XHJcbiAgYWltOiBudW1iZXI7XHJcbiAgYnJlOiBudW1iZXI7XHJcbiAgYmltOiBudW1iZXI7XHJcbn1cclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEZyYW1lIHtcclxuICBsZXZlbDogTGV2ZWw7XHJcbiAgc3RlcDogbnVtYmVyO1xyXG4gIHBhcnRpY2xlczogUGFydGljbGVbXTtcclxuICBxdWFudHVtOiBQYXJ0aWNsZVtdO1xyXG4gIGVuZDogYm9vbGVhbjtcclxuXHJcbiAgY29uc3RydWN0b3IoXHJcbiAgICBsZXZlbDogTGV2ZWwsXHJcbiAgICBzdGVwID0gMCxcclxuICAgIHBhcnRpY2xlczogUGFydGljbGVbXSA9IFtdLFxyXG4gICAgcXVhbnR1bTogUGFydGljbGVbXSA9IFtdLFxyXG4gICAgZW5kID0gZmFsc2VcclxuICApIHtcclxuICAgIHRoaXMubGV2ZWwgPSBsZXZlbDtcclxuICAgIHRoaXMuc3RlcCA9IHN0ZXA7XHJcbiAgICB0aGlzLnBhcnRpY2xlcyA9IHBhcnRpY2xlcztcclxuICAgIHRoaXMucXVhbnR1bSA9IHF1YW50dW07XHJcbiAgICB0aGlzLmVuZCA9IGVuZDtcclxuXHJcbiAgICAvLyBJbml0aWF0ZSBzaW11bGF0aW9uIHdpdGggZnJhbWUgIzAgYW5kIGV4dHJhY3QgZW1pdHRlcnNcclxuICAgIGlmIChzdGVwID09PSAwKSB7XHJcbiAgICAgIHRoaXMuYWN0aXZlTGFzZXJzLmZvckVhY2gobGFzZXIgPT4ge1xyXG4gICAgICAgIGlmIChsYXNlci5hY3RpdmUpIHtcclxuICAgICAgICAgIC8vIENsYXNzaWNhbCBjb2RlXHJcbiAgICAgICAgICB0aGlzLnBhcnRpY2xlcy5wdXNoKGxhc2VyLmZpcmUoKSk7XHJcblxyXG4gICAgICAgICAgLy8gUXVhbnR1bSBjb2RlXHJcbiAgICAgICAgICAvLyBGSVhNRTogU2hvdWxkIGJlIG1hZGUgd2hlbiB1c2VyIHN0YXJ0cyBzaW11bGF0aW9uIHdpdGggdXBkYXRlZCByb3RhdGlvbnNcclxuICAgICAgICAgIGxldmVsLnN0YXRlLmFkZFBob3RvbkluZGljYXRvcihcclxuICAgICAgICAgICAgbGFzZXIuY29vcmQueCxcclxuICAgICAgICAgICAgbGFzZXIuY29vcmQueSxcclxuICAgICAgICAgICAgbGFzZXIuYXNjaWksXHJcbiAgICAgICAgICAgIFwiVlwiXHJcbiAgICAgICAgICApO1xyXG4gICAgICAgICAgZGlzcGxheVRleHQoXCJxdWFudHVtXCIsIGxldmVsLnN0YXRlLnZlY3Rvci50b1N0cmluZygpKTtcclxuICAgICAgICB9XHJcbiAgICAgIH0pO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgLy8gQ29udmVuaWVudCBnZXR0ZXJzXHJcbiAgZ2V0IGdyaWQoKTogR3JpZCB7XHJcbiAgICByZXR1cm4gdGhpcy5sZXZlbC5ncmlkO1xyXG4gIH1cclxuICBnZXQgY2VsbHMoKTogQ2VsbFtdIHtcclxuICAgIHJldHVybiB0aGlzLmdyaWQuY2VsbHM7XHJcbiAgfVxyXG4gIGdldCBsYXNlcnMoKTogQ2VsbFtdIHtcclxuICAgIHJldHVybiB0aGlzLmdyaWQubGFzZXJzO1xyXG4gIH1cclxuICBnZXQgYWN0aXZlTGFzZXJzKCk6IENlbGxbXSB7XHJcbiAgICByZXR1cm4gdGhpcy5ncmlkLmFjdGl2ZUxhc2VycztcclxuICB9XHJcbiAgZ2V0IGdvYWxzKCk6IEdvYWxbXSB7XHJcbiAgICByZXR1cm4gdGhpcy5sZXZlbC5nb2FscztcclxuICB9XHJcbiAgZ2V0IGhpbnRzKCk6IEhpbnRbXSB7XHJcbiAgICByZXR1cm4gdGhpcy5sZXZlbC5oaW50cztcclxuICB9XHJcbiAgZ2V0IGNvbXBsZXRlZEdvYWxzKCk6IEdvYWxbXSB7XHJcbiAgICByZXR1cm4gdGhpcy5sZXZlbC5nb2Fscy5maWx0ZXIoZ29hbCA9PiB7XHJcbiAgICAgIHJldHVybiBnb2FsLmNvbXBsZXRlZDtcclxuICAgIH0pO1xyXG4gIH1cclxuICBnZXQgdmljdG9yeSgpOiBib29sZWFuIHtcclxuICAgIHJldHVybiB0aGlzLmNvbXBsZXRlZEdvYWxzLmxlbmd0aCA9PT0gdGhpcy5nb2Fscy5sZW5ndGg7XHJcbiAgfVxyXG5cclxuICAvLyBDb21wdXRlIHF1YW50dW0gZnJhbWVcclxuICBuZXh0UXVhbnR1bSgpOiBQYXJ0aWNsZVtdIHtcclxuICAgIC8vIE1vdmVcclxuICAgIHRoaXMubGV2ZWwuc3RhdGUucHJvcGFnYXRlUGhvdG9ucygpO1xyXG4gICAgZGlzcGxheVRleHQoXCJxdWFudHVtXCIsIHRoaXMubGV2ZWwuc3RhdGUudmVjdG9yLnRvU3RyaW5nKCkpO1xyXG4gICAgLy8gQWN0XHJcbiAgICBjb25zdCBvcGVyYXRpb25zOiBbbnVtYmVyLCBudW1iZXIsIHF0Lk9wZXJhdG9yXVtdID0gdGhpcy5ncmlkLm9wZXJhdG9yTGlzdDtcclxuICAgIC8vIERlYnVnXHJcbiAgICB0aGlzLmxldmVsLnN0YXRlLmFjdE9uU2luZ2xlUGhvdG9ucyhvcGVyYXRpb25zKTtcclxuICAgIGNvbnNvbGUubG9nKHRoaXMubGV2ZWwuc3RhdGUudmVjdG9yLnRvU3RyaW5nKCkpO1xyXG5cclxuICAgIHJldHVybiB0aGlzLmxldmVsLnN0YXRlXHJcbiAgICAgIC5hZ2dyZWdhdGVQb2xhcml6YXRpb24oKVxyXG4gICAgICAubWFwKChxUGFydGljbGU6IFFwYXJ0aWNsZSkgPT4ge1xyXG4gICAgICAgIGNvbnN0IHggPSBxUGFydGljbGUueDtcclxuICAgICAgICBjb25zdCB5ID0gcVBhcnRpY2xlLnk7XHJcbiAgICAgICAgY29uc3QgZGlyZWN0aW9uID0gcVBhcnRpY2xlLmRpcmVjdGlvbjtcclxuICAgICAgICBjb25zdCBhID0gcXQuQ3gocVBhcnRpY2xlLmFyZSwgcVBhcnRpY2xlLmFpbSk7XHJcbiAgICAgICAgY29uc3QgYiA9IHF0LkN4KHFQYXJ0aWNsZS5icmUsIHFQYXJ0aWNsZS5iaW0pO1xyXG4gICAgICAgIGNvbnN0IGNvb3JkID0gbmV3IENvb3JkKHksIHgpO1xyXG4gICAgICAgIHJldHVybiBuZXcgUGFydGljbGUoY29vcmQsIGRpcmVjdGlvbiwgMCwgMCwgYSwgYik7XHJcbiAgICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgLy8gQ29tcHV0ZSB0aGUgbmV4dCBmcmFtZSBieSBjb21wdXRpbmcgdGhlIG5leHQgcG9zaXRpb25zIG9mIGRpZmZlcmVudCBwYXJ0aWNsZXNcclxuICBuZXh0KCk6IEZyYW1lIHtcclxuICAgIHRoaXMucXVhbnR1bSA9IHRoaXMubmV4dFF1YW50dW0oKTtcclxuXHJcbiAgICAvLyBBYnNvcmJlcnNcclxuICAgIGNvbnN0IGRldGVjdG9ycyA9IHRoaXMuZ3JpZC5kZXRlY3RvcnM7XHJcbiAgICBjb25zdCByb2NrcyA9IHRoaXMuZ3JpZC5yb2NrcztcclxuICAgIGNvbnN0IG1pbmVzID0gdGhpcy5ncmlkLm1pbmVzO1xyXG4gICAgY29uc3QgZmlsdGVycyA9IHRoaXMuZ3JpZC5hYnNvcmJlcnM7XHJcbiAgICBjb25zdCBhYnNvcmJlcnM6IENlbGxbXSA9IGRldGVjdG9ycy5jb25jYXQocm9ja3MsIG1pbmVzLCBmaWx0ZXJzKTtcclxuICAgIC8vIFJlZmxlY3RvcnNcclxuICAgIGNvbnN0IG1pcnJvcnMgPSB0aGlzLmdyaWQubWlycm9ycztcclxuICAgIGNvbnN0IGJlYW1zcGxpdHRlcnMgPSB0aGlzLmdyaWQuYmVhbXNwbGl0dGVycztcclxuICAgIC8vIFBoYXNlIHNoaWZ0ZXJzXHJcbiAgICBjb25zdCBwaGFzZWluY3MgPSB0aGlzLmdyaWQucGhhc2VpbmNzO1xyXG4gICAgY29uc3QgcGhhc2VkZWNzID0gdGhpcy5ncmlkLnBoYXNlZGVjcztcclxuICAgIGNvbnN0IHBoYXNlc2hpZnRlcnM6IENlbGxbXSA9IHBoYXNlaW5jcy5jb25jYXQocGhhc2VkZWNzKTtcclxuXHJcbiAgICAvLyBMb29wIHRocm91Z2ggcGFydGljbGVzXHJcbiAgICB0aGlzLnBhcnRpY2xlcy5mb3JFYWNoKHBhcnRpY2xlID0+IHtcclxuICAgICAgcGFydGljbGUubmV4dCgpO1xyXG4gICAgICBpZiAoIXRoaXMuZ3JpZC5pbmNsdWRlcyhwYXJ0aWNsZS5jb29yZCkpIHtcclxuICAgICAgICBwYXJ0aWNsZS5pbnRlbnNpdHkgPSAwO1xyXG4gICAgICB9XHJcblxyXG4gICAgICAvLyBBYnNvcnB0aW9uXHJcbiAgICAgIGFic29yYmVycy5mb3JFYWNoKChhYnNvcmJlcjogQ2VsbCkgPT4ge1xyXG4gICAgICAgIGlmIChwYXJ0aWNsZS5vbihhYnNvcmJlcikpIHtcclxuICAgICAgICAgIHBhcnRpY2xlLmludGVuc2l0eSAqPSBhYnNvcmJlci5lbGVtZW50LmFic29ycHRpb247XHJcbiAgICAgICAgfVxyXG4gICAgICB9KTtcclxuXHJcbiAgICAgIC8vIFJlZmxlY3Rpb25cclxuICAgICAgbWlycm9ycy5mb3JFYWNoKChtaXJyb3I6IENlbGwpID0+IHtcclxuICAgICAgICBpZiAocGFydGljbGUub24obWlycm9yKSkge1xyXG4gICAgICAgICAgcGFydGljbGUuZGlyZWN0aW9uID1cclxuICAgICAgICAgICAgKDIgKiBtaXJyb3Iucm90YXRpb24gLSBwYXJ0aWNsZS5kaXJlY3Rpb24gKyAzNjApICUgMzYwO1xyXG4gICAgICAgIH1cclxuICAgICAgfSk7XHJcbiAgICAgIGJlYW1zcGxpdHRlcnMuZm9yRWFjaCgoYmVhbXNwbGl0dGVyOiBDZWxsKSA9PiB7XHJcbiAgICAgICAgaWYgKHBhcnRpY2xlLm9uKGJlYW1zcGxpdHRlcikpIHtcclxuICAgICAgICAgIC8vIERpbSB0aGUgY3VycmVudCBwYXJ0aWNsZSBpbnRlbnNpdHlcclxuICAgICAgICAgIHBhcnRpY2xlLmludGVuc2l0eSAvPSAyO1xyXG4gICAgICAgICAgLy8gUmVmbGVjdGluZyBwYXJ0aWNsZSAoY3JlYXRlIG5ldyByZWZsZWN0ZWQgZmFkZWQgcGFydGljbGUpXHJcbiAgICAgICAgICBjb25zdCBkaXJlY3Rpb24gPVxyXG4gICAgICAgICAgICAoMiAqIGJlYW1zcGxpdHRlci5yb3RhdGlvbiAtIHBhcnRpY2xlLmRpcmVjdGlvbiArIDM2MCkgJSAzNjA7XHJcbiAgICAgICAgICB0aGlzLnBhcnRpY2xlcy5wdXNoKFxyXG4gICAgICAgICAgICBuZXcgUGFydGljbGUocGFydGljbGUuY29vcmQsIGRpcmVjdGlvbiwgcGFydGljbGUuaW50ZW5zaXR5KVxyXG4gICAgICAgICAgKTtcclxuICAgICAgICB9XHJcbiAgICAgIH0pO1xyXG5cclxuICAgICAgLy8gUGhhc2Ugc2hpZnRlcnNcclxuICAgICAgcGhhc2VzaGlmdGVycy5mb3JFYWNoKChwaGFzZXNoaWZ0ZXI6IENlbGwpID0+IHtcclxuICAgICAgICBpZiAocGFydGljbGUub24ocGhhc2VzaGlmdGVyKSkge1xyXG4gICAgICAgICAgcGFydGljbGUucGhhc2UgPSAocGFydGljbGUucGhhc2UgKyBwaGFzZXNoaWZ0ZXIuZWxlbWVudC5waGFzZSkgJSAxO1xyXG4gICAgICAgIH1cclxuICAgICAgfSk7XHJcblxyXG4gICAgICAvLyBDb2xsaXNpb24gZ29hbHNcclxuICAgICAgLy8gRklYTUU6IE1ha2UgYSBzaG9ydGhhbmQgZm9yIGdvYWxzXHJcbiAgICAgIHRoaXMuZ29hbHMuZm9yRWFjaChnb2FsID0+IHtcclxuICAgICAgICBpZiAoZ29hbC5jb29yZC5lcXVhbChwYXJ0aWNsZS5jb29yZCkpIHtcclxuICAgICAgICAgIGdvYWwudmFsdWUgKz0gcGFydGljbGUuaW50ZW5zaXR5ICogMTAwO1xyXG4gICAgICAgICAgcGFydGljbGUuaW50ZW5zaXR5ID0gMDtcclxuICAgICAgICB9XHJcbiAgICAgIH0pO1xyXG4gICAgfSk7XHJcblxyXG4gICAgLy8gRXJhc2UgbnVsbCBpbnRlbnNpdHkgcGFydGljbGVzXHJcbiAgICB0aGlzLnBhcnRpY2xlcyA9IHRoaXMucGFydGljbGVzLmZpbHRlcihwYXJ0aWNsZSA9PiB7XHJcbiAgICAgIHJldHVybiBwYXJ0aWNsZS5pbnRlbnNpdHkgPiAwO1xyXG4gICAgfSk7XHJcblxyXG4gICAgLy8gVmljdG9yeSBjb25kaXRpb25zXHJcbiAgICBpZiAodGhpcy52aWN0b3J5KSB7XHJcbiAgICAgIHRoaXMubGV2ZWwuY29tcGxldGVkID0gdHJ1ZTtcclxuICAgICAgdGhpcy5lbmQgPSB0cnVlO1xyXG4gICAgfVxyXG4gICAgLy8gRGVmZWF0IGNvbmRpdGlvbnNcclxuICAgIGlmICh0aGlzLnBhcnRpY2xlcy5sZW5ndGggPT09IDApIHtcclxuICAgICAgdGhpcy5sZXZlbC5jb21wbGV0ZWQgPSBmYWxzZTtcclxuICAgICAgdGhpcy5lbmQgPSB0cnVlO1xyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiBuZXcgRnJhbWUoXHJcbiAgICAgIHRoaXMubGV2ZWwsXHJcbiAgICAgIHRoaXMuc3RlcCArIDEsXHJcbiAgICAgIHRoaXMucGFydGljbGVzLFxyXG4gICAgICB0aGlzLnF1YW50dW0sXHJcbiAgICAgIHRoaXMuZW5kXHJcbiAgICApO1xyXG4gIH1cclxuXHJcbiAgLy8gT3ZlcnJpZGVuIG1ldGhvZFxyXG4gIHRvU3RyaW5nKCk6IHN0cmluZyB7XHJcbiAgICBsZXQgcmVzdWx0ID0gYFxcbi0tLSAke3RoaXMudmljdG9yeSA/IFwiVklDVE9SWVwiIDogXCJJTiBQUk9HUkVTU1wifSAtLS0gU3RlcCAjJHtcclxuICAgICAgdGhpcy5zdGVwXHJcbiAgICB9IHdpdGggJHt0aGlzLnBhcnRpY2xlcy5sZW5ndGh9IGFjdGl2ZSBwYXJ0aWNsZXMuXFxuYDtcclxuICAgIHJlc3VsdCArPSBcIlxcbkNsYXNzaWNhbDogXCI7XHJcbiAgICByZXN1bHQgKz0gUGFydGljbGUubWFueVRvU3RyaW5nKHRoaXMucGFydGljbGVzKTtcclxuICAgIHJlc3VsdCArPSBcIlxcblF1YW50dW06IFwiO1xyXG4gICAgcmVzdWx0ICs9IFBhcnRpY2xlLm1hbnlUb1N0cmluZyh0aGlzLnF1YW50dW0pO1xyXG4gICAgcmVzdWx0ICs9IFwiXFxuXCI7XHJcbiAgICByZXN1bHQgKz0gYCR7dGhpcy5sZXZlbC5nb2Fscy5sZW5ndGh9IGFjdGl2ZSBnb2Fscy4uLlxcbmA7XHJcbiAgICB0aGlzLmxldmVsLmdvYWxzLm1hcChnb2FsID0+IHtcclxuICAgICAgcmVzdWx0ICs9IGAtICR7Z29hbC50b1N0cmluZygpfVxcbmA7XHJcbiAgICB9KTtcclxuICAgIHJldHVybiByZXN1bHQ7XHJcbiAgfVxyXG5cclxuICAvLyBFeHBvcnQgZnJhbWUgaW50ZXJmYWNlXHJcbiAgZXhwb3J0RnJhbWUoKTogRnJhbWVJbnRlcmZhY2Uge1xyXG4gICAgcmV0dXJuIHtcclxuICAgICAgbGV2ZWw6IHRoaXMubGV2ZWwuZXhwb3J0TGV2ZWwoKSxcclxuICAgICAgZW5kOiB0aGlzLmVuZCxcclxuICAgICAgc3RlcDogdGhpcy5zdGVwLFxyXG4gICAgICBwYXJ0aWNsZXM6IHRoaXMucGFydGljbGVzLm1hcChwYXJ0aWNsZSA9PiBwYXJ0aWNsZS5leHBvcnRQYXJ0aWNsZSgpKSxcclxuICAgICAgcXVhbnR1bTogdGhpcy5wYXJ0aWNsZXMubWFwKHBhcnRpY2xlID0+IHBhcnRpY2xlLmV4cG9ydFBhcnRpY2xlKCkpXHJcbiAgICB9O1xyXG4gIH1cclxufVxyXG4iXSwic291cmNlUm9vdCI6IiJ9